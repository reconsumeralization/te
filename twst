var Templates=(function(){var b={};var a=function(c){switch(c.trim()){case"profilePopupMarkup":return'          <div class="dropdown-content">            <a rel="tab" href="/me/dashboard"><i class="material-icons">dashboard</i>'+M.DASHBOARD_TITLE+'</a>            <a rel="tab" href="/me/settings"><i class="material-icons">account_circle</i>'+M.ACCOUNT_SETTINGS+'</a>            <a rel="tab" href="/me/settings/billing"><i class="material-icons">credit_card</i>'+M.MANAGE_BILLING+'</a>            <a href="/Logout"><i class="material-icons">lock</i>'+M.LOGOUT+"</a>          </div>";case"websitePageMarkup":return'<div class="working-area overflow-auto flex-1"><div id="website" class="theme clearfix"></div></div>';case"funnelActionLaneMarkup":return'        <div class="builder-action-lane flex-centered flex-row">          <div class="viewport-buttons '+themeContrastColor+'-viewport-buttons flex-1">            <ul class="t-left">              <li>                <a class="button-tooltip" data-size="desktop" data-tooltip="desktopView" rel="action" data-action="changeViewport">                  <img src="'+resources+"/images/small-icons/desktop-white.png?v="+resourcesVersion+'">                </a>              </li>              <li>                <a class="button-tooltip" data-size="tablet" data-tooltip="tabletView" rel="action" data-action="changeViewport">                  <img src="'+resources+"/images/small-icons/tablet-white.png?v="+resourcesVersion+'">                </a>              </li>              <li>                <a class="button-tooltip" data-size="mobile" data-tooltip="phoneView" rel="action" data-action="changeViewport">                  <img src="'+resources+"/images/small-icons/phone-white.png?v="+resourcesVersion+'">                </a>              </li>            </ul>          </div>          <div class="action-steps-wrapper flex align-center flex-none">            <a rel="action" data-action="actionBarPrevStep" class="funnel-step-back rounded-effect"></a>            <div class="action-step-funnel" data-role="current-step"></div>            <a rel="action" data-action="actionBarNextStep" class="funnel-step-next rounded-effect"></a>          </div>          <div class="action-domain-wrapper flex align-center flex-1 justify-flex-end">            <div class="action-domain flex align-center">              <a target="_blank" class="action-url"></a>              <a rel="action" data-action="actionBarUrlAction" class="connect-domain rounded-effect button-tooltip" data-tooltip="domainSettings"></a>            </div>          </div>        </div>';case"websiteActionLaneMarkup":return'      <div class="builder-action-lane website-action-lane flex-centered space-between flex-row flex-none">        <div class="flex align-center flex-1">          <a rel="action" data-action="actionBarAddPage" class="quick-add-btn rounded-effect button-tooltip" data-tooltip="addNew"></a>          <div class="viewport-buttons '+themeContrastColor+'-viewport-buttons flex-1">            <ul class="t-left">              <li>                <a class="button-tooltip" data-size="desktop" data-tooltip="desktopView" rel="action" data-action="changeViewport">                  <img src="'+resources+"/images/small-icons/desktop-white.png?v="+resourcesVersion+'">                </a>              </li>              <li>                <a class="button-tooltip" data-size="tablet" data-tooltip="tabletView" rel="action" data-action="changeViewport">                  <img src="'+resources+"/images/small-icons/tablet-white.png?v="+resourcesVersion+'">                </a>              </li>              <li>                <a class="button-tooltip" data-size="mobile" data-tooltip="phoneView" rel="action" data-action="changeViewport">                  <img src="'+resources+"/images/small-icons/phone-white.png?v="+resourcesVersion+'">                </a>              </li>            </ul>          </div>        </div>        <div class="action-domain-wrapper flex align-center flex-none">          <div class="action-domain flex align-center">            <a target="_blank" class="action-url"></a>            <a rel="action" data-action="actionBarUrlAction" class="connect-domain green rounded-effect button-tooltip" data-tooltip="domainSettings"></a>          </div>        </div>        <div class="flex-1">&nbsp;</div>      </div>';case"feedbackStructure":return'<div>       <a class="close-btn close-popup"></a>       <img src="'+resources+"/images/logo-dark.png?v="+resourcesVersion+'">      <h1>'+M.LEAVE_FEEDBACK+"</h1>      <span>"+M.LEAVE_FEEDBACK_TEXT+'</span>      <select name="feedback">        <option value="'+M.GENERAL_IMPRESSIONS+'">'+M.GENERAL_IMPRESSIONS+'</option>         <option value="'+M.DESIGN_AND_INTERFACE+'">'+M.DESIGN_AND_INTERFACE+'</option>         <option value="'+M.BUGS+'">'+M.BUGS+'</option>         <option value="'+M.OTHER+'">'+M.OTHER+'</option>       </select>      <textarea placeholder="'+M.FEEDBACK+'" class="focus"></textarea>      <a title="" class="sendFeedback">'+M.SEND+"</a>    </div>";case"videoStructure":return'<a class="close-btn close-popup"></a>%videosource%';case"autohideMessageMarkup":return'<div class="success-message"><div class="success-message-icon"></div>%message%</div>';case"cornerMessage":return'<div class="corner-message corner-message-%type%">%message%</div>';case"popupStructure":return'<div class="cpanel-popup %customClass%" style="width: %width%;">       <div class="cpanel-popup-title">       %closebtn%         <div class="popup-icon %popupIcon%"></div>         <span class="ptSans">%title%</span>       </div>       <div class="cpanel-popup-content" style="width: 100%;"> 		    <div class="cpanel-popup-content-inner">%content%</div> 		  </div> 		  <div class="cpanel-popup-nav"> 			  <div class="button-wrapper"></div> 		  </div>     </div>';case"inlinePopupStructure":return'<div class="%customClass%" style="width: 100%; height: 100%;">       <div class="cpanel-popup-title">         %closebtn%         <div class="popup-icon %popupIcon%"></div>         <span class="ptSans">%title%</span>       </div>       <div class="inline-popup-content" style="width: 100%;"></div> 		  <div class="cpanel-popup-nav"> 			  <div class="button-wrapper"></div> 		  </div>     </div>';case"popupOverlay":return'<div class="cpanel-popup-overlay"></div>';case"buttonMarkup":return'<div title="%caption%" class="%class% transition-bg %float%" %id%>%caption%</div>';case"promptFurInputTemplate":return'<div class="popup-centered-wrapper">         <span class="help-text">%message%</span>         <input type="text" name="val" class="focus transition-border" value="%value%" autocomplete="new-password">       </div>';case"errorDialogMarkup":return'<span class="popup-error"><i class="fa fa-exclamation-triangle"></i>%message%</span>';case"promptDialogMarkup":return'<span class="prompt-dialog-message">%message%</span>';case"tooltipOptionsMarkup":return'<div class="simple-tooltip"><ul></ul></div>';case"loadingBarContent":return'<div class="loadingBarContainer"><div class="loadingBarOverlay"></div><div class="loadingBarContent"></div></div>';case"addPageDialogMarkup":return'<div class="modal-nav layout-buttons-wrapper">                   <ul>                     <li><a class="slow-transition-all">'+M.PAGE_INFO+'</a></li>                     <li><a class="slow-transition-all">'+M.SEO_INFO+'</a></li>                   </ul>                 </div>                 <div class="cpanel-popup-slider">                  <div class="cpanel-popup-slide">                    <div class="popup-newpage-wrapper">                      <div class="popup-input-wrapper" >                        <h5>'+M.PAGE_NAME+'</h5>                        <div class="input-wrapper">                          <input type="text" name="pageName" class="focus transition-border">                        </div>                      </div>                      <div class="popup-input-wrapper" >                        <div class="info">                          <h5>'+M.PAGE_URL+'</h5>                        </div>                        <div class="input-wrapper">                          <div class="page-url-text">website.com/</div>                          <input type="text" name="pageUrl" class="page-url-field transition-border">                          <input type="text" name="stupid-chrome-autofills-the-last-field" style="display: none;">                        </div>                      </div>                      <div class="popup-input-wrapper input-wrapper2">                        <div class="info cpanel-tooltip" data-tooltip="pageTemplateInfo">                          <h5>'+M.PAGE_TEMPLATE+'</h5>                        </div>                        <select class="template-select" name="dpSelect"></select>                      </div>                      <div class="popup-input-wrapper input-wrapper2 f-right" id="addPageGroupWrapper">                        <div class="info">                          <h5>'+M.ADD_TO_GROUP+'</h5>                        </div>                        <select class="page-select" name="grSelect"></select>                      </div>                      <div class="popup-input-wrapper">                        <div class="info cpanel-tooltip" data-tooltip="pageAccessInfo" data-timeout="3000">                          <h5>'+M.PAGE_ACCESS+'</h5>                        </div>                        <select name="pageAccess">                          <option value="public">'+M.PUBLIC+'</option>                          <option value="password">'+M.PASSWORD_PROTECTED+'</option>                          <option value="members">'+M.MEMBERS_ONLY+'</option>                        </select>                        <div class="popup-input-wrapper pagePassword none-soft col20 f-left">                          <div class="info">                            <h5>'+M.PASSWORD_TEXT+'</h5>                          </div>                          <div class="input-wrapper">                            <input type="password" autocomplete="new-password" name="pagePassword" class="transition-border">                          </div>                        </div>                        <div class="pageMembers none-soft col20 f-left" style="margin-bottom: 15px">                          <a class="middle-button gray">'+M.CHOOSE_MEMBER_GROUPS+'</a>                        </div>                      </div>                      <div class="popup-input-wrapper">                        <div class="checkbox-wrapper">                          <input id="useSecondaryHeader" class="css-checkbox modify" type="checkbox" name="useSecondaryHeader" />                          <label for="useSecondaryHeader" class="css-label button-tooltip" data-tooltip="alternativeHeaderTooltip" data-timeout="3000">'+M.USE_ALTERNATIVE_HEADER+'</label>                        </div>                      </div>                    </div>                  </div>                  <div class="cpanel-popup-slide">                     <div class="popup-newpage-wrapper">                       <div class="popup-input-wrapper">                         <div class="flex col20 align-center justify-center need-help-text-wrapper" data-key="seo"><a class="need-help-text mt-0" rel="action" data-action="showHelperVideo" data-target="CPanel">'+M.NEED_HELP+" <span>"+M.PLAY_VIDEO+' <i class="material-icons"> play_circle_filled </i></span></a></div>                         <div class="popup-input-wrapper">                           <h5>'+M.META_TITLE+'</h5>                           <input type="text" name="pageTitle" class="transition-border">                         </div>                         <div class="popup-input-wrapper">                           <h5>'+M.META_DESCRIPTION+'</h5>                           <textarea style="height:86px; width: 405px;" placeholder="'+M.META_DESCRIPTION+'" name="description"></textarea>                         </div>                       </div>                       <div class="popup-input-wrapper">                        <div class="checkbox-wrapper">                          <input id="isPublic" class="css-checkbox modify" type="checkbox" name="isPublic" checked="checked" />                          <label for="isPublic" class="css-label button-tooltip" data-tooltip="makePagePublic" data-timeout="3000">'+M.ADD_SITEMAP+"</label>                        </div>                      </div>                    </div>                  </div>                </div>";case"gridPlaceholderMarkup":return'<div class="grid-placeholder"></div>';case"editPageDialogMarkup":return'<div class="modal-nav layout-buttons-wrapper">                   <ul>                     <li><a class="slow-transition-bg">'+M.PAGE_INFO+'</a></li>                     <li><a class="slow-transition-bg">'+M.SEO_INFO+'</a></li>                   </ul>                 </div>                 <div class="cpanel-popup-slider">                   <div class="cpanel-popup-slide">                     <div class="popup-newpage-wrapper">                       <div class="popup-input-wrapper">                         <h5>'+M.PAGE_NAME+'</h5>                         <input type="text" name="pageName" class="focus transition-border">                       </div>                       <div class="popup-input-wrapper">                         <h5>'+M.PAGE_URL+'</h5>                         <div class="page-url-text">website.com/</div>                         <input type="text" name="pageUrl" class="page-url-field transition-border">                       </div>                       <div class="popup-input-wrapper input-wrapper page-group-wrapper none">                         <div class="info">                           <h5>'+M.ADD_TO_GROUP+'</h5>                         </div>                         <select class="page-select" name="grSelect"></select>                       </div>                       <div class="popup-input-wrapper">                         <div class="info cpanel-tooltip" data-tooltip="pageAccessInfo" data-timeout="3000">                           <h5>'+M.PAGE_ACCESS+'</h5>                         </div>                         <select name="pageAccess">                           <option value="public">'+M.PUBLIC+'</option>                           <option value="password">'+M.PASSWORD_PROTECTED+'</option>                           <option value="members">'+M.MEMBERS_ONLY+'</option>                         </select>                         <div class="popup-input-wrapper pagePassword none-soft col20 f-left">                           <h5>'+M.PASSWORD_TEXT+'</h5>                           <input type="password" autocomplete="new-password" name="pagePassword" class="transition-border">                         </div>                         <div class="pageMembers none-soft col20 f-left" style="margin-bottom: 15px">                           <a class="middle-button gray">'+M.CHOOSE_MEMBER_GROUPS+'</a>                         </div>                       </div>                       <div class="popup-input-wrapper">                         <div class="checkbox-wrapper">                           <input id="useSecondaryHeader" class="css-checkbox modify" type="checkbox" name="useSecondaryHeader" />                           <label for="useSecondaryHeader" class="css-label button-tooltip" data-tooltip="alternativeHeaderTooltip" data-timeout="3000">'+M.USE_ALTERNATIVE_HEADER+'</label>                         </div>                       </div>                     </div>                   </div>                   <div class="cpanel-popup-slide">                     <div class="popup-newpage-wrapper">                       <div class="popup-input-wrapper">                         <div class="flex col20 align-center justify-center need-help-text-wrapper mt-0" data-key="seo"><a class="need-help-text" rel="action" data-action="showHelperVideo" data-target="CPanel">'+M.NEED_HELP+" <span>"+M.PLAY_VIDEO+' <i class="material-icons"> play_circle_filled </i></span></a></div>                         <div class="popup-input-wrapper mt-15">                           <h5>'+M.META_TITLE+'</h5>                           <input type="text" name="pageTitle" class="transition-border">                         </div>                         <div class="popup-input-wrapper">                           <h5>'+M.META_DESCRIPTION+'</h5>                           <textarea style="height:86px; width: 405px;" placeholder="'+M.META_DESCRIPTION+'" name="description"></textarea>                         </div>                       </div>                       <div class="input-wrapper">                         <div class="checkbox-wrapper">                           <input id="isPublic" class="css-checkbox modify" type="checkbox" name="isPublic" />                           <label for="isPublic" class="css-label button-tooltip" data-tooltip="makePagePublic" data-timeout="3000">'+M.ADD_SITEMAP+'</label>                         </div>                       </div>                       <div class="input-wrapper flex flex-row mt-15 none" id="shareImageWrapper">                         <a class="add-image transition-all flex-none small-add-image mr-25" id="shareImageBtn">                           <span class="add-button"></span>                         </a>                         <div class="info info2 flex-1 ta-left">                           <h5 style="margin-top: 25px;">'+M.SOCIAL_SHARE_IMAGE+'</h5>                           <span class="mt-15">'+M.SOCIAL_SHARE_IMAGE_DESC+"</span>                         </div>                       </div>                     </div>                   </div>                 </div>";case"addGroupDialogMarkup":return'<div class="popup-newpage-wrapper">           <span class="help-text">'+M.ENTER_GROUP_NAME+'</span>           <input type="text" name="groupName" class="focus transition-border" placeholder="'+M.GROUP_NAME+'" id="groupName">         </div>';case"groupWidgetNav":return'<div class="widgetNav widgetGroupNav widget-settings widget-settings3">          <div class="widgetNavInner">             <a class="spacerBtn iconBtn button-tooltip" data-tooltip="margin" data-top="true"></a>             <a class="deleteBtn iconBtn button-tooltip" data-tooltip="deletee" data-top="true"></a>           </div>         </div>';case"deleteNavButton":return'<a class="deleteBtn iconBtn button-tooltip" data-tooltip="deletee" data-top="true"></a>';case"fullWidthContainerNav":return'<div class="container-nav container-nav2">                  <a class="editBtn container-settings-btn"><span class="columns-number"><span class="material-icons" style="font-size: 14px;line-height: 21px;"> settings </span></span>'+M.BLOCK+'</a>                  <div class="settings-options">                    <a class="widgetResizeButton button-tooltip" data-tooltip="collapse" data-top="true"></a>                     <a class="containerCopyBtn widget-button-default widget-copy-btn button-tooltip" data-tooltip="widgetCopy" data-top="true">'+M.COPY+'</a>                     <a class="deleteBtn iconBtn button-tooltip" data-tooltip="deletee" data-top="true"></a>                   </div>                </div>                <div class="block-right-controls">                   <a class="visibility button-tooltip" data-tooltip="hideBlock" data-bottom="true" data-role="hideBlock"><span class="material-icons"> visibility_off </span></a>                   <a class="visibility button-tooltip" data-tooltip="showBlock" data-bottom="true" data-role="showBlock"><span class="material-icons"> visibility_on </span></a>                   <a class="timer button-tooltip" data-tooltip="delayElement" data-bottom="true" data-role="delayElement"><span class="material-icons" style="font-size: 22px;"> timer </span></a>                   <a class="arrow-up button-tooltip" data-tooltip="moveBlockDown" data-bottom="true" data-role="moveBlockDown"><span class="material-icons"> arrow_right_alt </span></a>                   <a class="arrow-down button-tooltip" data-tooltip="moveBlockUp" data-bottom="true" data-role="moveBlockUp"><span class="material-icons"> arrow_right_alt </span></a>                 </div>                 <div class="mobile-controls">                   <div class="mobile-view-buttons">                     <a data-action="toggle-mobile" data-tooltip="togglePhoneVisibility" class="system-bg-color phone-view-icon button-tooltip" data-top="true" data-timeout="5000" ><i class="fa fa-mobile"></i></a>                     <a data-action="toggle-tablet" data-tooltip="toggleTabletVisibility" class="system-bg-color tablet-view-icon button-tooltip" data-top="true" data-timeout="5000" ><i class="fa fa-tablet"></i></a>                     <a class="system-bg-color disabled desktop-view-icon button-tooltip" data-tooltip="disabledForDesktop" data-top="true"><i class="fa fa-desktop" data-timeout="5000" ></i></a>                   </div>                   <div class="checkbox-wrapper f-right stretch-mobile-cbx button-tooltip" data-tooltip="stretchedContainerInfo" data-top="true" data-timeout="5000" >                     <input id="stretchedContainerForMobile%uid%" class="css-checkbox modify" type="checkbox" name="stretchedContainerForMobile%uid%" %stretched-mobile% />                     <label for="stretchedContainerForMobile%uid%" class="css-label">'+M.STRETCHED_CONTAINER+'</label>                   </div>                   <div class="checkbox-wrapper f-right stretch-tablet-cbx button-tooltip" data-tooltip="stretchedContainerInfo" data-top="true" data-timeout="5000" >                     <input id="stretchedContainerForTablet%uid%" class="css-checkbox modify" type="checkbox" name="stretchedContainerForTablet%uid%" %stretched-tablet% />                     <label for="stretchedContainerForTablet%uid%" class="css-label">'+M.STRETCHED_CONTAINER+'</label>                   </div>                   <div class="checkbox-wrapper f-right col-reverse-cbx button-tooltip" data-tooltip="columnReverse" data-top="true" data-timeout="5000" >                     <input id="columnReverse%uid%" class="css-checkbox modify" type="checkbox" name="columnReverse%uid%" %column-reverse%/>                     <label for="columnReverse%uid%" class="css-label">'+M.COLUMN_REVERSE+'</label>                   </div>                 </div>                 <div class="hidden-area-badge system-bg-color">'+M.HIDDEN_AREA+'</div>                 <div class="mobile-only-badge system-bg-color">'+M.MOBILE_ONLY+'</div>                <div class="widget-settings bottom-nav">                   <a class="button-tooltip system-bg-color">'+M.ADD_WIDGET_BLOCK_TITLE+"</a>                 </div>";case"fullWidthBlockRowNav":return'<div class="widget-settings columns-nav flex-none" data-position="%position%">                   <div>                     <div class="row-controls-wrapper flex align-center">                       <a class="row-columns flex align-center button-tooltip" data-bottom="true" data-tooltip="changeColumns">                         <span class="columns-number"></span>                         <span class="columns-text"></span>                       </a>                       <a class="row-add-inner button-tooltip" data-tooltip="addBlockRow" data-bottom="true" data-role="addBlockRow"><span class="material-icons"> add </span></a>                       <a class="row-delete button-tooltip" data-tooltip="deleteBlockRow" data-bottom="true" data-role="deleteBlockRow"><span class="material-icons"> delete_outline </span></a>                       <a class="arrow-up button-tooltip" data-tooltip="moveBlockRowDown" data-bottom="true" data-role="moveBlockRowDown"><span class="material-icons"> arrow_right_alt </span></a>                      <a class="arrow-down button-tooltip" data-tooltip="moveBlockRowUp" data-bottom="true" data-role="moveBlockRowUp"><span class="material-icons"> arrow_right_alt </span></a>                    </div>                     <a class="row-add flex none align-center justify-center"><span class="material-icons">add</span></a>                   </div>                 </div>';case"pickPageTabEmail":return'<div class="pickPageDialogContent tab-email">                <div class="popup-input-wrapper">                   <div class="info">                     <h5>'+M.CAPTION+'</h5>                   </div>                   <input type="text" class="emailCaption" />                </div>                 <div class="popup-input-wrapper">                   <div class="info">                     <h5>'+M.EMAIL+'</h5>                  </div>                   <input type="text" class="emailField" />                </div>               </div> ';case"pickPageTabPhone":return'<div class="pickPageDialogContent tab-phone">                <div class="popup-input-wrapper">                   <div class="info">                     <h5>'+M.CAPTION+'</h5>                   </div>                   <input type="text" class="phoneCaption" />                </div>                 <div class="popup-input-wrapper">                   <div class="info">                     <h5>'+M.PHONE_NUMBER+'</h5>                   </div>                   <input type="text" class="phoneField" />                </div>               </div>';case"pickPageTabFile":return'<div class="pickPageDialogContent tab-file">                <div class="popup-input-wrapper">                   <div class="info">                     <h5>'+M.CAPTION+'</h5>                   </div>                   <input type="text" class="pickFileCaption" />                </div>                 <div class="popup-input-wrapper">                   <div class="info">                     <h5>'+M.FILE+'</h5>                   </div>                   <input class="select-like" readonly="readonly" name="fileSelect">                 </div>                 <div class="info">                   <h5>'+M.OPEN_IN+'</h5>                 </div>                 <select class="template-select openIn">                  <option value="_self">'+M.SAME_TAB+'</option>                   <option value="_blank">'+M.NEW_TAB+'</option>                 </select>                 <div class="checkbox-wrapper checkbox-wrapper2 none">                   <input id="nofollow-cbx" class="css-checkbox" type="checkbox">                   <label for="nofollow-cbx" class="css-label modify">'+M.MAKE_NOFOLLOW+"</label>                 </div>               </div>";case"pickPageTabPopup":return'<div class="pickPageDialogContent tab-popup">                <div class="popup-input-wrapper">                   <div class="info">                     <h5>'+M.POPUP+"</h5>                   </div>                   <select></select>                 </div>               </div>";case"pickPageTabPage":return'<div class="pickPageDialogContent tab-pages">                <div class="popup-input-wrapper">                   <div class="info">                     <h5>'+M.PAGE_GROUP+'</h5>                   </div>                   <select class="focus pick-page-group-select"></select>                 </div>                 <div class="popup-input-wrapper">                   <div class="info">                     <h5>'+M.PAGE+'</h5>                   </div>                   <select class="pick-page-page-select"></select>                 </div>                 <div class="info">                   <h5>'+M.OPEN_IN+'</h5>                 </div>                 <select class="template-select openIn">                  <option value="_self">'+M.SAME_TAB+'</option>                   <option value="_blank">'+M.NEW_TAB+'</option>                 </select>                 <div class="checkbox-wrapper checkbox-wrapper2 none">                   <input id="nofollow-cbx" class="css-checkbox" type="checkbox">                   <label for="nofollow-cbx" class="css-label modify">'+M.MAKE_NOFOLLOW+"</label>                 </div>               </div>";case"pickPageTabAnchorPoint":return'<div class="pickPageDialogContent tab-pages">                <div class="popup-input-wrapper">                   <div class="info">                     <h5>'+M.PAGE_GROUP+'</h5>                   </div>                   <select class="focus pick-page-group-select"></select>                 </div>                 <div class="popup-input-wrapper">                   <div class="info">                     <h5>'+M.PAGE+'</h5>                   </div>                   <select class="pick-page-page-select"></select>                 </div>                 <div class="popup-input-wrapper anchor-wrapper">                   <div class="info">                     <h5>'+M.ANCHOR_POINT+'</h5>                   </div>                   <select class="pick-page-anchor-select"></select>                 </div>                 <div class="info">                   <h5>'+M.OPEN_IN+'</h5>                 </div>                 <select class="template-select openIn">                  <option value="_self">'+M.SAME_TAB+'</option>                   <option value="_blank">'+M.NEW_TAB+'</option>                 </select>                 <div class="checkbox-wrapper checkbox-wrapper2 none">                   <input id="nofollow-cbx" class="css-checkbox" type="checkbox">                   <label for="nofollow-cbx" class="css-label modify">'+M.MAKE_NOFOLLOW+"</label>                 </div>               </div>";case"pickPageTabExternal":return'<div class="pickPageDialogContent tab-external">                <div class="popup-input-wrapper">                   <div class="info">                     <h5>'+M.CAPTION+'</h5>                   </div>                   <input type="text" class="pickPageCaption" />                </div>                 <div class="popup-input-wrapper" style="margin-bottom:10px;">                   <div class="info">                     <h5>'+M.URL+'</h5>                   </div>                   <input type="text" class="pickPageUrl" />                 </div>                 <div class="info">                   <h5>'+M.OPEN_IN+'</h5>                 </div>                 <select class="template-select openIn">                  <option value="_self">'+M.SAME_TAB+'</option>                   <option value="_blank">'+M.NEW_TAB+'</option>                 </select>                 <div class="checkbox-wrapper checkbox-wrapper2 none">                   <input id="nofollow-cbx" class="css-checkbox" type="checkbox">                   <label for="nofollow-cbx" class="css-label modify">'+M.MAKE_NOFOLLOW+"</label>                 </div>               </div>";case"pickPageTabFunnels":return'<div class="pickPageDialogContent tab-funnels">                <div class="popup-input-wrapper">                   <div class="info">                     <h5>'+M.FUNNEL+'</h5>                   </div>                   <select class="pick-funnel-group-select"></select>                 </div>                 <div class="popup-input-wrapper">                   <div class="info">                     <h5>'+M.FUNNEL_STEP+'</h5>                   </div>                   <select class="pick-funnel-page-select"></select>                 </div>                 <div class="info">                   <h5>'+M.OPEN_IN+'</h5>                 </div>                 <select class="template-select openIn">                  <option value="_self">'+M.SAME_TAB+'</option>                   <option value="_blank">'+M.NEW_TAB+'</option>                 </select>                 <div class="checkbox-wrapper checkbox-wrapper2 none">                   <input id="nofollow-cbx" class="css-checkbox" type="checkbox">                   <label for="nofollow-cbx" class="css-label modify">'+M.MAKE_NOFOLLOW+"</label>                 </div>               </div>";case"pickPageTabActiveFunnel":return'<div class="pickPageDialogContent tab-funnel">                <div class="popup-input-wrapper">                   <div class="info">                     <h5>'+M.FUNNEL_STEP+'</h5>                   </div>                   <select></select>                 </div>                 <div class="checkbox-wrapper checkbox-wrapper2 none">                   <input id="nofollow-cbx" class="css-checkbox" type="checkbox">                   <label for="nofollow-cbx" class="css-label modify">'+M.MAKE_NOFOLLOW+"</label>                 </div>               </div>";case"pickPageTabStore":return'<div class="pickPageDialogContent tab-store">                  <div class="popup-input-wrapper category-wrapper">                     <div class="info">                       <h5>'+M.STORE_CATEGORY+'</h5>                     </div>                     <select class="pick-page-store-category-select"></select>                   </div>                   <div class="popup-input-wrapper">                     <div class="info">                       <h5>'+M.PRODUCT+'</h5>                     </div>                     <select class="pick-page-page-select"></select>                   </div>                   <div class="info">                     <h5>'+M.ACTION+'</h5>                   </div>                   <select class="template-select openInStore">                    <option value="_self">'+M.OPEN_IN+" "+M.SAME_TAB+'</option>                     <option value="_blank">'+M.OPEN_IN+" "+M.NEW_TAB+'</option>                     <option value="cart">'+M.ADD_PRODUCT_TO_CART+'</option>                     <!--<option value="buy">'+M.BUY_NOW_PRODUCT+'</option>-->                   </select>                   <div id="next-action" class="col20 f-left none-soft">                     <div class="info">                       <h5>'+M.THEN_SHOW+'</h5>                     </div>                     <input class="select-like" readonly="readonly" name="nextAction">                   </div>                   <div class="checkbox-wrapper checkbox-wrapper2 none">                     <input id="nofollow-cbx" class="css-checkbox" type="checkbox">                     <label for="nofollow-cbx" class="css-label modify">'+M.MAKE_NOFOLLOW+"</label>                   </div>                 </div>";case"pickPageDialog":return'<div class="side-nav-popup link-popup">             <div class="cpanel-left-navigation">               <div class="categories-wrapper">                 <ul>                   <li class="none" data-tab="active-funnel"><a class="button">'+M.FUNNEL+'</a></li>                  <li data-tab="page"><a class="button">'+M.PAGE+'</a></li>                   <li data-tab="store"><a class="button">'+M.STORE_TITLE+'</a></li>                   <li class="none" data-tab="funnels"><a class="button">'+M.FUNNEL+'</a></li>                  <li data-tab="external"><a class="button">'+M.EXTERNAL_LINK+'</a></li>                  <li data-tab="anchor-point"><a class="button">'+M.ANCHOR_POINT+'</a></li>                  <li data-tab="file"><a class="button">'+M.FILE+'</a></li>                  <li data-tab="popup"><a class="button">'+M.POPUP+'</a></li>                  <li data-tab="email"><a class="button">'+M.EMAIL+'</a></li>                  <li data-tab="phone"><a class="button">'+M.PHONE+'</a></li>                </ul>              </div>            </div>             <div class="content-wrapper">               <div class="pickPageDialogContent tab-pages" style="display: none">                <div class="popup-input-wrapper">                   <div class="info">                     <h5>'+M.PAGE_GROUP+'</h5>                   </div>                   <select class="focus pick-page-group-select"></select>                 </div>                 <div class="popup-input-wrapper">                   <div class="info">                     <h5>'+M.PAGE+'</h5>                   </div>                   <select class="pick-page-page-select"></select>                 </div>                 <div class="popup-input-wrapper anchor-wrapper none">                   <div class="info">                     <h5>'+M.ANCHOR_POINT+'</h5>                   </div>                   <select class="pick-page-anchor-select"></select>                 </div>               </div>               <div class="pickPageDialogContent tab-store" style="display: none">                <div class="popup-input-wrapper category-wrapper none">                   <div class="info">                     <h5>'+M.STORE_CATEGORY+'</h5>                   </div>                   <select class="pick-page-store-category-select"></select>                 </div>                 <div class="popup-input-wrapper">                   <div class="info">                     <h5>'+M.PAGE+'</h5>                   </div>                   <select class="pick-page-page-select"></select>                 </div>                 <div class="popup-input-wrapper anchor-wrapper none">                   <div class="info">                     <h5>'+M.ANCHOR_POINT+'</h5>                   </div>                   <select class="pick-page-anchor-select"></select>                 </div>               </div>               <div class="pickPageDialogContent tab-external" style="display: none">                <div class="popup-input-wrapper">                   <div class="info">                     <h5>'+M.CAPTION+'</h5>                   </div>                   <input type="text" class="pickPageCaption" />                </div>                 <div class="popup-input-wrapper" style="margin-bottom:10px;">                   <div class="info">                     <h5>'+M.URL+'</h5>                   </div>                   <input type="text" class="pickPageUrl" />                 </div>               </div>               <div class="pickPageDialogContent tab-funnel none-soft">                <div class="popup-input-wrapper">                   <div class="info">                     <h5>'+M.FUNNEL_STEP+'</h5>                   </div>                   <select></select>                 </div>               </div>               <div class="pickPageDialogContent tab-funnels none-soft">                <div class="popup-input-wrapper">                   <div class="info">                     <h5>'+M.FUNNEL+'</h5>                   </div>                   <select class="pick-funnel-group-select"></select>                 </div>                 <div class="popup-input-wrapper">                   <div class="info">                     <h5>'+M.PAGE+'</h5>                   </div>                   <select class="pick-funnel-page-select"></select>                 </div>               </div>               <div class="popup-input-wrapper none" id="openInStoreWrapper">                 <div class="info">                   <h5>'+M.ACTION+'</h5>                 </div>                 <select class="template-select openInStore">                  <option value="_self">'+M.OPEN_IN+" "+M.SAME_TAB+'</option>                   <option value="_blank">'+M.OPEN_IN+" "+M.NEW_TAB+'</option>                   <option value="cart">'+M.ADD_PRODUCT_TO_CART+'</option>                   <option value="buy">'+M.BUY_NOW_PRODUCT+'</option>                 </select>               </div>               <div class="popup-input-wrapper" id="openInWrapper">                 <div class="info">                   <h5>'+M.OPEN_IN+'</h5>                 </div>                 <select class="template-select openIn">                  <option value="_self">'+M.SAME_TAB+'</option>                   <option value="_blank">'+M.NEW_TAB+'</option>                 </select>               </div>               <div class="col20 f-left none" id="nofollow">                 <div class="checkbox-wrapper checkbox-wrapper2">                 <input id="nofollow-cbx" class="css-checkbox" type="checkbox">                 <label for="nofollow-cbx" class="css-label modify">'+M.MAKE_NOFOLLOW+"</label>               </div>             </div>         </div>";case"addWidgetDialogMarkup":return'<div class="content admin-custom-scroll" id="cpanel-widgets-popup">           <div class="layout-buttons-wrapper modal-nav" style="margin-bottom:5px;">             <ul>              <li class="active"><a class="button">'+M.SIMPLE+'</a></li>              <li><a class="button">'+M.COMPLEX+'</a></li>            </ul>          </div>           <div class="cpanel-popup-slider">             <div class="cpanel-popup-slide">               <div class="help-text" style="margin-top:0;">'+M.DRAG_AND_DROP+'</div>            </div>             <div class="cpanel-popup-slide" style="overflow: hidden">               <div class="help-text" style="display:none;">'+M.SELECT_CATEGORY+'</div>              <div class="categories-wrapper"></div>             </div>             <div class="cpanel-popup-slide">               <div class="help-text">'+M.DRAG_AND_DROP+"</div>             </div>           </div>        </div>";case"addHeaderWidgetDialogMarkup":return'        <div class="content admin-custom-scroll" id="cpanel-widgets-popup">        </div>';case"addBlockWidgetDialogMarkupOld":return'<div class="content">           <div class="cpanel-popup-slider" style="width: 100%">             <div class="categories-wrapper"></div>           </div>        </div>';case"addBlockDialogMarkup":return'<div class="cpanel-left-navigation">                   <h3>'+M.CATEGORIES+'</h3>                   <div class="categories-wrapper">                     <ul class="admin-custom-scroll"></ul>                   </div>                </div>                 <div class="content-wrapper admin-custom-scroll dark-admin-custom-scroll">                    <div class="popup-templates-inner-wrapper col20 f-left"></div>                 </div>';case"blockTemplateItemMarkup":return'<div class="page-wrapper" data-id="%id%">                   <img src="%thumb%" class="page-thumb" data-action="select" data-id="%id%" />                 </div>';case"addPopupDialogMarkup":return'<div class="content popups-list-wrapper">           <div class="content-wrapper admin-custom-scroll dark-admin-custom-scroll">             <ul>               <li><a id="-1"><img src="'+resources+"/images/empty-popup-thumb.jpg?v="+resourcesVersion+'"></a></li>             </ul>           </div>         </div>';case"addComplexWidgetTitle":return'<a class="complexCategory" title="%category%">%category%</a>';case"addComplexWidgetItem":return'<a class="widget-item complex-widget"><img src="%thumb%" alt="" /></a>';case"addWidgetItemMarkup":return'<div class="widget-item transitions-all">           <div class="%cssClass%"></div>             <span>%text%</span> %addition%        </div>';case"addWidgetDialogComplexWidgetMarkup":return'<div style="display: none; width: 50%; float: right;">          <div class="categories-wrapper">             <span class="category-title"><a class="back-btn"></a>%category%</span>             <ul class="admin-custom-scroll"></ul>           </div>        </div>';case"editBackgroundDialogMarkup":return'<div class="popup-newpage-wrapper">       <div class="left-section-pop">         <a class="add-image transition-all backgroundSelectImageHolder full-width" style="margin-top:0;">           <span class="add-button transition-all"></span>         </a>       </div>       <div class="input-wrapper input-wrapper-small color-pick-wrap-widgets" style="margin-bottom:10px;">         <div class="color-pick-wrap">           <div></div>           <input type="text" value="" class="colorpicker-selected modify" name="bgColor">         </div>         <div class="info">           <h5>'+M.BACKGROUND_COLOR+'</h5>         </div>       </div>      <div class="checkbox-wrapper col20 f-left" id="parallaxBtnWrapper">         <input id="parallaxEffect" class="css-checkbox modify" type="checkbox" name="bgParallax" />         <label for="parallaxEffect" class="css-label">'+M.PARALLAX_EFFECT+'</label>       </div>       <div class="f20 parallaxWrapper none-soft">        <div class="input-wrapper">           <div class="info">             <label>'+M.PARALLAX_SPEED+'</label>            <input type="text" readonly="readonly" class="slider-val modify" name="parallaxSpeed">           </div>           <div id="parallaxSpeedSlider"></div>         </div>         <div class="input-wrapper">           <div class="info">             <label>'+M.IMAGE_DESCRIPTION+'</label>            <input type="text" name="parallaxAlt">           </div>         </div>       </div>      <div class="f20 noParallaxWrapper none-soft">        <div class="col20 f-left" id="bgPositionControlsWrapper">           <div class="popup-input-wrapper mt-15">             <div class="info">               <h5>'+M.BACKGROUND_IMAGE_POSITION+'</h5>             </div>             <select class="page-select modify" name="bgPosition">               <option value="left top">'+M.LEFT_TOP+'</option>               <option value="left center">'+M.LEFT_CENTER+'</option>               <option value="left bottom">'+M.LEFT_BOTTOM+'</option>               <option value="right top">'+M.RIGHT_TOP+'</option>               <option value="right center">'+M.RIGHT_CENTER+'</option>               <option value="right bottom">'+M.RIGHT_BOTTOM+'</option>               <option value="center top">'+M.CENTER_TOP+'</option>               <option value="center center">'+M.CENTER_CENTER+'</option>               <option value="center bottom">'+M.CENTER_BOTTOM+'</option>             </select>           </div>           <div class="popup-input-wrapper">             <div class="info">               <h5>'+M.BACKGROUND_IMAGE_REPEAT+'</h5>             </div>             <select class="page-select modify" name="bgRepeat">               <option value="repeat">'+M.REPEAT+'</option>               <option value="repeat-x">'+M.REPEAT_HORIZONTALLY+'</option>               <option value="repeat-y">'+M.REPEAT_VERTICALLY+'</option>               <option value="no-repeat">'+M.NO_REPEAT+'</option>               <option value="cover">'+M.COVER_WHOLE_AREA+'</option>             </select>           </div>         </div>        <div class="checkbox-wrapper">           <input id="hasVideoBackground" class="css-checkbox modify" type="checkbox" name="hasVideoBackground" />           <label for="hasVideoBackground" class="css-label">'+M.ADD_VIDEO_BACKGROUND+'</label>         </div>         <div class="f20 videoWrapper none-soft" style="margin-top:10px;">          <div class="input-wrapper">             <div class="info">               <h5>'+M.YOUTUBE_VIDEO_URL+'</h5>             </div>             <div class="input-wrapper">               <input type="text" name="videoUrl" value="" class="modify transition-border">             </div>             <div class="info input-slider-wrapper mt-15 mb-15">               <label>'+M.VIDEO_VOLUME+'</label>              <div id="videoVolumeSlider"></div>               <input type="text" readonly="readonly" class="slider-val modify" name="videoVolume">             </div>             <div class="info">               <h5>'+M.VIDEO_LOOP+'</h5>             </div>             <div class="input-wrapper" style="margin-bottom: 10px;">               <input type="number" name="videoStart" value="" class="modify transition-border" style="width: 48%; margin-right:4%;">               <input type="number" name="videoEnd" value="" class="modify transition-border" style="width: 48%;">             </div>           </div>         </div>      </div>      <div class="col20 f-left" data-role="bg-gradient">'+format(Templates.get("gradientMarkup"),"id","bgGradient","margin","mb-15")+'</div>      <div class="checkbox-wrapper">         <input id="addOverlayCbx" class="css-checkbox" type="checkbox" name="addOverlay" />         <label for="addOverlayCbx" class="css-label">'+M.ADD_OVERLAY+'</label>       </div>       <div class="col20 f-left" id="overlayColorWrapper">         <div class="input-wrapper col20 f-left color-pick-wrap-widgets">           <div class="color-pick-wrap">             <div></div>             <input type="text" class="colorpicker-selected" name="overlayColor">           </div>           <div class="info">             <h5>'+M.OVERLAY_COLOR+"</h5>           </div>         </div>         "+format(Templates.get("gradientMarkup"),"id","overlayGradient","margin","mb-15")+'      </div>       <div class="col20 f-left">         <div class="checkbox-wrapper">           <input id="addDivider" class="css-checkbox" type="checkbox" name="addDivider" />           <label for="addDivider" class="css-label">'+M.ADD_SHAPE_DIVIDER+'</label>         </div>         <div class="col20 f-left none-soft" id="shapeDividerSettingsWrapper">           <div class="input-wrapper mt-5">             <div class="info">               <h5>'+M.SHAPE_DIVIDER_TYPE+'</h5>             </div>             <select name="dividerType">               <option value="curve">'+M.SHAPE_CURVE+'</option>               <option value="curve2">'+M.SHAPE_CURVE+' 2</option>               <option value="curve3">'+M.SHAPE_CURVE+' 3</option>               <option value="curve4">'+M.SHAPE_CURVE+' 4</option>               <option value="curve-with-opacity">'+M.SHAPE_CURVE_WITH_OPACITY+'</option>               <option value="curve-with-opacity-small">'+M.SHAPE_CURVE_WITH_OPACITY_SMALL+'</option>               <option value="triangle">'+M.SHAPE_TRIANGLE+'</option>               <option value="triangle-asymmetrical">'+M.SHAPE_TRIANGLE_ASYMMETRICAL+'</option>               <option value="arrow">'+M.SHAPE_ARROW+'</option>               <option value="grunge">'+M.SHAPE_GRUNGE+' </option>               <option value="grunge2">'+M.SHAPE_GRUNGE+' 2</option>               <option value="paint">'+M.SHAPE_PAINT+'</option>               <option value="paint2">'+M.SHAPE_PAINT+' 2</option>               <option value="paper">'+M.SHAPE_PAPER+'</option>               <option value="paper2">'+M.SHAPE_PAPER+' 2</option>               <option value="wavebrush">'+M.SHAPE_WAVE_BRUSH+'</option>               <option value="clouds">'+M.SHAPE_CLOUDS+'</option>               <option value="tilt">'+M.SHAPE_TILT+'</option>               <option value="tilt-with-opacity">'+M.SHAPE_TILT_WITH_OPACITY+'</option>             </select>           </div>           <div class="input-wrapper col20 f-left color-pick-wrap-widgets">             <div class="color-pick-wrap">               <div></div>               <input type="text" value="" class="colorpicker-selected" name="dividerColor">             </div>             <div class="info">               <h5>'+M.DIVIDER_COLOR+'</h5>             </div>           </div>           <div class="input-wrapper mt-5">             <div class="info">               <h5>'+M.DIVIDER_POSITION+'</h5>             </div>             <select name="dividerPosition">               <option value="bottom">'+M.AT_BOTTOM+'</option>               <option value="top">'+M.AT_TOP+'</option>             </select>           </div>           <div class="checkbox-wrapper col20 f-left">             <input id="flipDivider" class="css-checkbox" type="checkbox" name="flipDivider" />             <label for="flipDivider" class="css-label">'+M.FLIP_DIVIDER+'</label>           </div>           <div class="checkbox-wrapper col20 f-left">             <input id="invertDivider" class="css-checkbox" type="checkbox" name="invertDivider" />             <label for="invertDivider" class="css-label">'+M.INVERT_DIVIDER+'</label>           </div>         </div>       </div>      <div class="popup-input-wrapper none" id="containerAnchorSettingsWrapper" style="margin-bottom:15px;">         <div class="checkbox-wrapper checkbox-wrapper2">           <input id="addAnchorPoint" class="css-checkbox" type="checkbox" name="addAnchorPoint" />           <label for="addAnchorPoint" class="css-label">'+M.ADD_ANCHOR_POINT+'</label>         </div>         <div class="col20 f-left mt-15" id="containerAnchorSettings">           <div class="info">             <h5>'+M.ANCHOR_POINT_NAME+'</h5>           </div>           <div class="popup-input-wrapper">             <input type="text" name="anchorPointName" value="" class="modify transition-border" style="margin-bottom: 5px;">             <span class="small-info-text">site.com/page#<span style="font-weight: bold;" id="anchorPointUrl"></span></span>           </div>         </div>       </div>       <div class="col20 f-left mb-15 mt-5">         <div class="info">           <a class="small-info-text with-icon" id="custom-class-trigger">'+M.ADD_CUSTOM_CSS_CLASS_TO_BLOCK_TITLE+'</a>         </div>         <div class="col20 f-left none-soft" id="custom-class-target">           <input type="text" name="customClass" value="" class="modify transition-border" style="margin-bottom: 5px;">           <span class="small-info-text">'+M.ADD_CUSTOM_CSS_CLASS_TO_BLOCK_DESC+"</span>         </div>       </div>     </div>";case"uploaderTemplate":return'<div class="file-manager">           <div class="folder-nav">             <div class="cpanel-popup-title"><div class="popup-icon popup-files-icon"></div><span class="ptSans">'+M.FILE_MANAGER+'</span></div>            <div class="section-heading t-center">              <a class="middle-button blue with-icon inline-block f-none" data-rel="add-folder">'+M.ADD_FOLDER+'</a>             </div>            <div class="uploaderFolders">              <ul id="uploaderTemplateFolderWrapper">                <li class="slow-transition-bg"></li>              </ul>            </div>          </div>           <div class="flex flex-col flex-1 height-100 overflow-auto">             <div class="file-manager-content file-manager-empty">               <div class="empty-info">                 <h2>'+M.NO_FILES_TITLE+"</h2>                 <span>"+M.NO_FILES_INFO+'</span>               </div>               <div class="qq-upload-drop-area"><span>'+M.DROP_FILES_TO_UPLOAD+'</span></div>               <div id="fileManagerUploaderList"></div>              <div class="file-wrapper" id="uploaderTemplateFileWrapper"></div>             </div>             <div class="file-manager-buttons">               <div title="'+M.UPLOAD_FILE+'" class="blue middle-button transition-bg f-left" id="fileUploaderButton"></div>              <div title="'+M.SELECT+'" class="blue middle-button transition-bg f-right" id="selectBtn">'+M.SELECT+'</div>              <div title="'+M.CLOSE+'" class="gray middle-button transition-bg f-right" id="closeBtn">'+M.CLOSE+'</div>             </div>           </div>           <div id="uploaderDropZone"></div>         </div>';case"uploaderItemTemplate":return'<div class="downloading downloading2"><img src="'+resources+"/images/image-avatar.png?v="+resourcesVersion+'" class="uploading-thumb"/><div class="fm-middle"><div class="middle-content"><span class="qq-upload-file title"></span><span class="qq-upload-size size"></span><span class="qq-upload-failed-text">{failUploadtext}</span></div><div class="download-tracker"><span class="qq-progress-bar"></span></div><span class="qq-upload-spinner"></span></div><a class="qq-upload-cancel close-button"></a>';case"uploadButtonTemplate":return'<div class="qq-uploader"><div class="qq-upload-button">{uploadButtonText}</div><ul class="qq-upload-list"></ul></div>';case"folderTemplate":return'<li class="slow-transition-bg folderItem" data-name="%name%" data-displayname="%displayname%">       <span>%displayname%</span>       <a class="deleteItem"></a>     </li>';case"bigThumbItemMarkup":return'<div class="file2 %fileClass% %type%" id="%id%">       <div class="big-thumb" style="background: %background%;"></div>       <div class="item-name"><span>%itemName%</span></div>       <a class="close-button2"></a>       <a class="copy-link-button"></a>       <a class="check-button2"></a>     </div>';case"sliderSlidesMarkup":return'<div class="modal-nav layout-buttons-wrapper">       <ul>         <li><a class="slow-transition-all">'+M.SLIDES+'</a></li>         <li><a class="slow-transition-all">'+M.SLIDER_SETTINGS+'</a></li>       </ul>     </div>     <div class="cpanel-popup-slider">       <div class="cpanel-popup-slide">         <div class="content">           <div class="help-text-wrapper">             <a id="slider-layer-add" class="square-add modify" title="'+M.SLIDER_ADD_SLIDE+'"></a>             <span class="help-text">'+M.SLIDES_POSITION+'<br></span>           </div>           <div class="slidesContainer"></div>         </div>       </div>       <div class="cpanel-popup-slide">         <div class="content">          <div class="info info2" style="display:none">            <h5>'+M.SLIDER_TYPE+'</h5>          </div>           <div class="layout-buttons-wrapper" style="display:none">            <ul>              <li><a class="button modify">'+M.FIXED_WIDTH+'</a></li>              <li><a class="button modify">'+M.FULL_WIDTH+'</a></li>              <li><a class="button modify">'+M.FULL_SCREEN+'</a></li>            </ul>          </div>          <div class="input-wrapper input-wrapper2">             <div class="info">               <label for="layerHeight">'+M.SLIDE_ANIMATION_SPEED+'</label>              <input type="text" id="slideAnimationSpeed" readonly="readonly" class="modify">             </div>             <div id="slideAnimationSpeedSlider"></div>          </div>           <div class="input-wrapper input-wrapper2 f-right">             <div class="info">               <label for="slideDuration">'+M.SLIDE_DISPLAY_DURATION+'</label>              <input type="text" id="slideDuration" readonly="readonly" class="modify">             </div>             <div id="slideDurationSlider"></div>          </div>           <div class="input-wrapper input-wrapper2">             <div class="info cpanel-tooltipp">               <h5>'+M.SLIDES_TRANSITION+'</h5>             </div>             <select class="slidesTransition modify"></select>           </div>           <div class="input-wrapper">             <div class="checkbox-wrapper checkbox-wrapper2">               <input id="stop-slider-on-hover" class="css-checkbox modify" type="checkbox">               <label for="stop-slider-on-hover" class="css-label modify">'+M.SLIDER_PAUSE_ON_MOUSE_OVER+'</label>             </div>           </div>           <div class="input-wrapper">             <div class="checkbox-wrapper checkbox-wrapper2">               <input id="show-timer-nav" class="css-checkbox modify" type="checkbox">               <label for="show-timer-nav" class="css-label modify">'+M.SLIDER_SHOW_TIMER+'</label>             </div>           </div>           <div class="input-wrapper">             <div class="checkbox-wrapper checkbox-wrapper2">               <input id="show-arrow-nav" class="css-checkbox modify" type="checkbox">               <label for="show-arrow-nav" class="css-label modify">'+M.SLIDER_NAV_ARROWS+'</label>             </div>           </div>           <div class="input-wrapper">             <div class="checkbox-wrapper checkbox-wrapper2">               <input id="show-bullet-nav" class="css-checkbox modify" type="checkbox">               <label for="show-bullet-nav" class="css-label modify">'+M.SLIDER_NAV_BULLETS+"</label>             </div>           </div>         </div>       </div>     </div>";case"sliderSlideMarkup":return'<div class="slide">         <span class="move-icon"></span>         <div class="big-thumb"></div>         <div class="slide-buttons-wrapper">           <a class="edit-slide modify"></a>           <a class="duplicate-slide modify"></a>           <a class="delete-slide delete-icon modify"></a>         </div>       </div>';case"sliderSlideEditMarkup":return'<div class="content">       <div class="slide-background">         <div class="radio-option">             <input type="radio" name="bgOption" id="radio1" value="image" class="css-checkbox">             <label for="radio1" class="css-label">'+M.IMAGE+'</label>         </div>         <input type="hidden" id="sliderSelectedBg" value="" />         <input type="hidden" id="sliderSelectedBgBase" value="" />         <a class="blue button" id="sliderSelectBg">'+M.SLIDE_CHANGE_IMAGE+'</a>         <div class="radio-option">           <input type="radio" name="bgOption" id="radio2" value="color" class="css-checkbox">           <label for="radio2" class="css-label">'+M.SOLID_COLOR+'</label>         </div>         <div class="color-pick-wrap">           <div id="slide-bg-color"></div>           <input type="text" value="" id="slide-colorpicker">         </div>       </div>       <div class="f20"><div class="preview"> </div></div>    </div>';case"sliderAddTextLayerMarkup":return'<div class="popup-slider-wrapper">         <div class="popup-input-wrapper">           <div class="info">             <h5 style="text-indent: 2px">'+M.TEXT_CONTENT+'</h5>           </div>           <div class="slider-text-content-wrapper">             <div class="slider-text-content"></div>           </div>         </div>         <div class="input-wrapper input-wrapper2 f-left clear-left">           <div class="info cpanel-tooltipp">             <h5>'+M.ANIMATION_STARTING_POINT+' <span class="startingPoint"></span></h5>           </div>           <div id="startingPointSlider"></div>         </div>         <div class="input-wrapper input-wrapper2 f-right">           <div class="info cpanel-tooltipp">             <h5>'+M.ANIMATION_SPEED+' <span class="animationSpeed"></span></h5>           </div>           <div id="animationSpeedSlider"></div>         </div>         <div class="input-wrapper input-wrapper2 f-left clear-left">           <div class="info">             <h5>'+M.ANIMATION+'</h5>           </div>           <select class="template-select animationSelect"></select>         </div>         <div class="input-wrapper input-wrapper2 f-right color-pick-wrap-widgets" style="width:47%; margin-top: 20px">           <div class="color-pick-wrap">             <div style="background-color: rgb(51, 51, 51);"></div>             <input type="text" value="" class="colorpicker-selected modify" name="backgroundColor" />           </div>           <div class="info">             <h5>'+M.BACKGROUND_COLOR+'</h5>           </div>         </div>         <div style="float:left;width:100%;height:20px;"></div>       </div>';case"sliderAddImageLayerMarkup":return'<div class="popup-slider-wrapper">       <div class="popup-input-wrapper">         <div class="info cpanel-tooltipp">           <h5>'+M.ANIMATION_STARTING_POINT+' <span class="startingPoint"></span></h5>         </div>         <div id="startingPointSlider"></div>       </div>       <div class="popup-input-wrapper">         <div class="info cpanel-tooltipp">           <h5>'+M.ANIMATION_SPEED+' <span class="animationSpeed"></span></h5>         </div>         <div id="animationSpeedSlider"></div>       </div>       <div class="popup-input-wrapper">         <div class="info">           <h5>'+M.ANIMATION+'</h5>         </div>         <select class="template-select animationSelect"></select>       </div>       <div class="popup-input-wrapper">         <div class="info">           <h5>'+M.IMAGE_DESCRIPTION+'</h5>         </div>         <input type="text" name="imageDescription" />       </div>       <div class="checkbox-wrapper">         <input id="lightbox-check-layer-edit" class="css-checkbox" type="checkbox">         <label for="lightbox-check-layer-edit" class="css-label">'+M.ADD_LINK+'</label>       </div>       <div class="popup-input-wrapper">         <div class="info">           <h5>'+M.LINK+' <span class="inline"></span></h5>         </div>         <input class="template-select select-like" readonly="readonly" value="'+M.SELECT_PAGE_TITLE+'" />         <input type="hidden" value="_self"  />       </div>     </div>';case"sliderAddVideoLayerMarkup":return'<div class="popup-slider-wrapper">       <div class="input-wrapper">         <div class="info cpanel-tooltipp">           <h5>'+M.VIDEO_SOURCE+'</h5>         </div>         <textarea class="transition-border" style="height: 150px"></textarea>         <span class="example-text">'+M.VIDEO_EXAMPLE+'</span>       </div>       <div class="input-wrapper input-wrapper2">         <div class="info cpanel-tooltipp">           <h5>'+M.ANIMATION_STARTING_POINT+' <span class="startingPoint"></span></h5>         </div>         <div id="startingPointSlider"></div>       </div>       <div class="input-wrapper input-wrapper2 f-right">         <div class="info cpanel-tooltipp">           <h5>'+M.ANIMATION_SPEED+' <span class="animationSpeed"></span></h5>         </div>         <div id="animationSpeedSlider"></div>       </div>       <div class="input-wrapper input-wrapper2">         <div class="info">           <h5>'+M.ANIMATION+'</h5>         </div>         <select class="template-select animationSelect"></select>       </div>     </div>';case"sliderLayerImageMarkup":return'<div class="drag-item item" >       <img src="" alt="" />       <div class="widgetNav widget-settings">         <a title="'+M.SLIDER_DELETE_LAYER+'" class="deleteBtn iconBtn"></a>         <a title="'+M.SLIDER_EDIT_SETTINGS+'" class="editBtn iconBtn"></a>         <a title="'+M.SLIDER_MOVE_LAYER_ON_TOP+'" class="moveOnTopBtn iconBtn"></a>       </div>     </div>';case"sliderLayerTextMarkup":return'<div class="drag-item item" >       <div class="layer-text-content note-editor"></div>       <div class="widgetNav widget-settings">         <a title="'+M.SLIDER_DELETE_LAYER+'" class="deleteBtn iconBtn"></a>         <a title="'+M.SLIDER_EDIT_SETTINGS+'" class="editBtn iconBtn"></a>         <a title="'+M.SLIDER_MOVE_LAYER_ON_TOP+'" class="moveOnTopBtn iconBtn"></a>       </div>     </div>';case"sliderLayerVideoMarkup":return'<div class="drag-item item" >       <div class="slider-video-source"></div>       <div class="slider-video-source-cover"></div>       <div class="widgetNav widget-settings">         <a title="'+M.SLIDER_DELETE_LAYER+'" class="deleteBtn iconBtn"></a>         <a title="'+M.SLIDER_EDIT_SETTINGS+'" class="editBtn iconBtn"></a>         <a title="'+M.SLIDER_MOVE_LAYER_ON_TOP+'" class="moveOnTopBtn iconBtn"></a>       </div>     </div>';case"imageWidgetAdminMarkup":return'<div class="popup-newpage-wrapper">       <a id="backgroundSelectImageHolder" class="add-image transition-all">         <span class="add-button transition-all"></span>       </a>       <div class="right-section-pop">         <div class="checkbox-wrapper">           <input id="stretchImage" name="stretch" class="css-checkbox modify" type="checkbox">           <label for="stretchImage" class="css-label">'+M.STRETCH_IMAGE+'</label>         </div>         <div class="checkbox-wrapper">           <input id="lightboxImage" class="css-checkbox modify" type="checkbox">           <label for="lightboxImage" class="css-label">'+M.OPEN_LIGHTBOX+'</label>         </div>         <div class="input-wrapper" id="imageWidgetUrlToggle">           <div class="checkbox-wrapper">             <input id="openUrlOnClick" class="css-checkbox modify" name="openUrl" type="checkbox">             <label for="openUrlOnClick" class="css-label" rel="toggle" data-toggle="#imageOpenUrlToggle">'+M.OPEN_LINK_ON_CLICK+'</label>           </div>           <div class="f20 none-soft" id="imageOpenUrlToggle">             <div class="info">               <h5>'+M.URL+' <span class="inline"></span></h5>             </div>             <input class="path-select select-like modify" type="text" />             <input type="hidden" value="" />           </div>         </div>         <div class="popup-input-wrapper" >           <h5>'+M.ADD_ANIMATION+'</h5>           <select class="imageAnimation modify" name="animation" id="imageAnimation"></select>         </div>         <div class="popup-input-wrapper" style="display:none;">           <div class="info info-top">             <h5>'+M.IMAGE_CAPTION+'</h5>           </div>           <select class="imageCaption modify" id="imageCaption"></select>         </div>         <div class="popup-input-wrapper">           <div class="info info-top">             <h5>'+M.IMAGE_DESCRIPTION+'</h5>           </div>           <input type="text" class="modify" name="imageDescription" />         </div>       </div>     </div>';case"showPagesDialogMarkup":return'               <div class="full-size flex flex-col">                 <div class="pages-popups-header flex-none">                   <h2 class="col20 f-left t-center roboto font-24">'+M.PAGES_AND_POPUPS+'</h2>                   <div class="button-wrapper t-center">                     <a class="big-button rounded with-icon blue" id="addPageBtnSmall">'+M.ADD_NEW+'</a>                     <div class="flex col20 align-center justify-center need-help-text-wrapper" data-key="addPagePopup"><a class="need-help-text" rel="action" data-action="showHelperVideo" data-target="CPanel">'+M.NEED_HELP+" <span>"+M.PLAY_VIDEO+' <i class="material-icons"> play_circle_filled </i></span></a></div>                   </div>                 </div>                 <ul class="upper-navigation f-left col20 mb-15 flex-none" data-role="slider-nav">                   <li><a>'+M.PAGES+"</a></li>                   <li><a>"+M.POPUPS+'</a></li>                 </ul>                <div id="websiteMenuWrapper" class="cpanel-popup-slider flex-1 flex flex-row">                   <div class="cpanel-popup-slide overflow" data-role="pages">                     <div class="folder-items-wrapper">                       <div class="content" id="cpanel-pages-popup">                         <ul id="groupsWrapperSmall"></ul>                       </div>                     </div>                  </div>                   <div class="cpanel-popup-slide overflow" data-role="popups">                   </div>                 </div>               </div>';case"noPopupsMessage":return'<div class="no-data-action t-center"><h3>'+M.NO_POPUPS_YET+'</h3><a rel="action" data-action="addPopup" class="middle-button blue f-none">'+M.CREATE_A_POPUP+"</a></div>";case"pageItemsActions":return'<div class="page-buttons-wrapper"><a class="more-settings-btn"><span class="material-icons-outlined page-settings-icon"> settings </span></a></div>';case"pageGroupItemActions":return'<div class="page-buttons-wrapper">                  <a class="settings" data-role="deleteItem"><span class="material-icons-outlined page-settings-icon"> delete_outline </span></a>                  <a class="settings" data-role="settings"><span class="material-icons-outlined page-settings-icon"> settings </span></a>                 </div>';case"settingsSeparatorItem":return'<li class="item separator-item"><span>%value%</span><div class="delete-icon"></div></li>';case"settingsMenuItem":return'<li class="item %itemclass%" data-menuid="%menuid%" data-id="%id%" data-target="%target%" data-link="%link%" title="%link%">                  <span class="with-handle">%name%</span>                  <a class="delete-icon"></a>                   <a class="edit-icon"></a>                 </li>';case"settingsMegaMenuItem":return'<li class="item mega-menu-item">                  <span>%name%</span>                  <a class="delete-icon"></a>                   <a class="edit-icon"></a>                 </li>';case"componentStyleDeclaration":return'<link rel="stylesheet" href="%resources%/styles/%name%.css?%r%" id="%name%Style" type="text/css" disabled />';case"settingsStyleDeclaration":return'<link rel="stylesheet" href="%resources%/styles/settings.css?%r%" id="websiteSettingsStyle" type="text/css" />';case"blogStyleDeclaration":return'<link rel="stylesheet" href="%resources%/styles/blog.css?%r%" id="blogStyle" type="text/css" />';case"defaultBlogDescription":return'<p style="line-height:1.4;color:#666;font-size:14px;">'+M.BLOG_LIST_SUMMARY+"</p>";case"settingsMenuColumnMarkup":return'<li>                  <div class="nav-column-wrapper">                    <ul class="nav-column ui-sortable">                      <li class="item non-sortable-menu-item %highlightedClass%" data-menuid="%menuid%" data-id="%id%" data-target="%target%" data-link="%link%" title="%link%">                        <span class="with-handle">%name%</span>                        <a class="delete-icon"></a>                         <a class="edit-icon"></a>                       </li>                      <li class="fake-item non-sortable-menu-item"><div></div></li>                    </ul>                    <div class="nav-add-page-wrapper"><a class="nav-add-page">'+M.ADD_SUBPAGE_TITLE_LONG+"</a></div>                   </div>                </li>";case"blogListItemMarkup":return'<div class="blog-item transition-bg status%status% %scheduled%">       <div class="checkbox-wrapper f-left">         <input id="blogItem%id%" class="css-checkbox" value="%id%" name="post%id%" type="checkbox">           <label for="blogItem%id%" class="css-label"></label>         </div>         <header>           <a class="transition-bg"><h4>%title%</h4></a>           <div>             <span class="blog-comments-count">%comments%</span>             <span class="blog-not-approved-comments-count">%pending% '+M.NOT_APPROVED+'</span>           </div>         </header>       <span class="author">%author%</span>       <div class="options">         <a rel="action" data-action="previewBlogPost" data-url="%pageUrl%" class="view gray transition-bg"></a>         <a rel="action" data-action="cloneBlogPost" data-id="%id%" class="clone gray transition-bg button-tooltip" data-tooltip="duplicate" data-top="true"></a>       </div>       <span class="date">%date%</span>       </div>';case"blogCommentMarkup":return'<div data-id="%id%" class="blog-comment blog-status-approved%approved%">       <div class="comment-body">         <span> <label>'+M.FROM+"</label> <span>%username%</span> </span> <br />        <span> <label>"+M.EMAIL+"</label> <span>%email%</span> </span> <br />        <span> <label>"+M.DATE+'</label> <span>%time%</span> </span> <br />        <span style="margin-top:10px;"> <label>'+M.COMMENT+'</label> <span>%comment%</span> </span> <br />      </div>       <div class="comment-actions">         <a class="blue middle-button approve" title="'+M.APPROVE_COMMENT+'">'+M.APPROVE+'</a>        <a class="gray middle-button delete" style="margin-left:4px;" title="'+M.DELETE_COMMENT+'">'+M.DELETE+"</a>      </div>     </div>";case"blogItemDefaultContentMarkup":return'<div class="grid-row stretched-tablet stretched-mobile" data-type="Container">         <div class="grid-content grid-row-empty">           <div class="grid-column">             <div class="widget-row">               <div class="widget widgetResponsive textWidget col20" data-type="TextWidget" style="margin-left: 0%;">                 <div class="text-widget-content"><p style="color: #888; line-height: 1.6; font-size: 15px;">'+M.BLOG_DEFAULT_CONTENT+"</p></div>               </div>             </div>           </div>         </div>       </div>";case"storeProductDefaultContentMarkup":return'<div class="grid-row grid-row-fullwidth stretched-tablet stretched-mobile" data-type="Container">         <div class="grid-content">           <div class="grid-column">             <div class="widget-row">               <div class="widget widgetResponsive textWidget col20" data-type="TextWidget" style="margin-left: 0%;">                 <div class="data-object" data-object=\'{"col":"col20","top":"5%","left":"0%","width":"800px","clear":"none","type":"TextWidget","content":"","height":"163px"}\'></div>                 <div class="text-widget-content"><p style="color: #888; line-height: 1.6; font-size: 15px;">'+M.LOREM_IPSUM+" "+M.LOREM_IPSUM+"</p></div>               </div>             </div>           </div>         </div>       </div>";case"blogItemMarkup":return'<div class="sections-wrapper blog-sections-wrapper">       <div class="inner-wrapper clearfix">         <input type="text" id="blogTitle" class="transition-all websiteOption" placeholder="'+M.BLOG_POST_TITLE+'" value="%title%">         <h3>'+M.SUMMARY+'</h3>         <div id="blogDescriptionWrapper" class="description-text-content-wrapper">           <textarea id="blogDescription" class="transition-all full-size">%description%</textarea>         </div>         <div class="relativeLeftWrapper">           <div class="blog-content-area">%content%</div>         </div>       </div>     </div>';case"blogItemCommentsMarkup":return'<div class="blog-comments-admin">       <div class="blog-comments-area"></div>    </div>';case"blogTagMarkup":return'<li class="item"><span></span><div class="delete-icon"></div></li>';case"blogTagInput":return'<div class="tag-submit-wrapper"><input type="text" class="tag-autocomplete" /><a class="plus-sign"></a></div>';case"selectImageMarkup":return'<a class="add-image transition-all"><span class="add-button"></span></a>';case"selectImageMarkup2":return'<a class="add-image transition-all"><span class="close-button2"></span></a>';case"trashButtonMarkup":return'<span class="close-button2"></span>';case"scrollbarMarkup":return'<div class="scrollbar"><div class="track"><div class="thumb"><div class="end"></div></div></div></div>';case"blogSettingsMarkup":return'<div class="popup-newpage-wrapper">       <div class="section-right section-right2" style="margin-right:4%;">         <div class="blog-option1"></div>         <div class="info info-top">           <h5>'+M.LAYOUT+'</h5>         </div>        <select class="page-select">          <option value="0">'+M.BLOG_WITH_SIDEBAR+'</option>           <option value="1">'+M.LARGE_IMAGE_NO_SIDEBAR+'</option>           <option value="2">'+M.MEDIUM_IMAGE_WITH_SIDEBAR+'</option>           <option value="5">'+M.MEDIUM_IMAGE_NO_SIDEBAR+'</option>           <option value="3">'+M.MASONRY_WITH_SIDEBAR+'</option>           <option value="4">'+M.MASONRY_NO_SIDEBAR+'</option>         </select>      </div>       <div class="section-right section-right2">         <div class="blog-option2"></div>         <div class="info info-top">           <h5>'+M.NAVIGATION+'</h5>         </div>         <select class="page-select">           <option value="0">'+M.PAGINATION+'</option>           <option value="1">'+M.LOAD_MORE_BUTTON+'</option>         </select>       </div>       <div class="checkbox-wrapper">         <input id="settings-add-share" class="css-checkbox modify" type="checkbox">         <label for="settings-add-share" class="css-label">'+M.ADD_SHARE_BUTTONS+'</label>       </div>       <div class="blog-share-settings">         <div class="checkbox-wrapper">           <input id="settings-fb-share" class="css-checkbox modify" type="checkbox">           <label for="settings-fb-share" class="css-label">Facebook</label>         </div>         <div class="checkbox-wrapper">           <input id="settings-gp-share" class="css-checkbox modify" type="checkbox">           <label for="settings-gp-share" class="css-label">Google+</label>         </div>         <div class="checkbox-wrapper">           <input id="settings-tw-share" class="css-checkbox modify" type="checkbox">           <label for="settings-tw-share" class="css-label">Twitter</label>         </div>         <div class="checkbox-wrapper">           <input id="settings-ln-share" class="css-checkbox modify" type="checkbox">           <label for="settings-ln-share" class="css-label">LinkedIn</label>         </div>       </div>       <div class="checkbox-wrapper mt-15">         <input id="disqusEnabled" class="css-checkbox" type="checkbox">         <label for="disqusEnabled" class="css-label">'+M.ENABLE_DISQUS_COMMENTS+'</label>       </div>       <div class="col20 f-left none-soft" id="disqusIdWrapper">         <div class="input-wrapper mt-15">           <div class="info">            <h5>'+M.ENTER_DISQUS_SHORTNAME+'</h5>          </div>          <input type="text" name="disqusId" class="transition-border">         </div>      </div>       <div class="checkbox-wrapper mt-15">         <input id="sendNotificationEmail" class="css-checkbox" type="checkbox">         <label for="sendNotificationEmail" class="css-label">'+M.BLOG_NEW_COMMENT_NOTIF+'</label>       </div>       <div class="col20 f-left none-soft" id="notificateionEmailsWrapper">         <div class="input-wrapper mt-15">           <div class="info">            <h5>'+M.BLOG_NEW_COMMENT_NOTIF_DESC+'</h5>          </div>          <input type="text" name="notificationEmails" class="transition-border">         </div>      </div>     </div>';case"portfolioAddMarkup":return'<div class="popup-newpage-wrapper">       <div class="half-wrapper">         <div class="modal-nav portfolioThumb layout-buttons-wrapper">           <ul>             <li><a class="button modify">'+M.IMAGE+'</a></li>             <li><a class="button modify">'+M.GALLERY+'</a></li>             <li><a class="button modify">'+M.VIDEO+'</a></li>           </ul>         </div>         <div class="add-image-wrapper">           <a class="add-image">             <span class="add-button"> </span>           </a>         </div>         <div class="add-image-wrapper gallery">           <a class="add-image"></a>         </div>         <div class="add-image-wrapper video">           <h5>'+M.VIDEO_SOURCE+'</h5>           <textarea class="transition-border"></textarea>           <span>'+M.VIDEO_EXAMPLE+'</span>         </div>         <div class="button-wrapper"><a class="big-blue-btn" id="portfolioAddCategories" title="'+M.CATEGORIES+'">'+M.CATEGORIES+'</a></div>         <div class="button-wrapper"><a class="middle-button none" id="portfolioPageSettingsBtn" title="'+M.PAGE_SETTINGS+'">'+M.PAGE_SETTINGS+'</a></div>       </div>       <div class="half-wrapper">         <div class="section-right">           <div class="info info-top">             <h5>'+M.TITLE+'</h5>           </div>           <input type="text" name="portfolioTitle" class="focus transition-border" />         </div>         <div class="info info-top" style="margin-top: 15px;">           <h5>'+M.DESCRIPTION+'</h5>         </div>         <div class="section-right" style="overflow: visible">           <div class="description-text-content-wrapper">             <div class="description-text-content"></div>           </div>         </div>         <div class="checkbox-wrapper" id="portfolio-item-title-descr">           <input id="portfolioItemShowDescription" class="css-checkbox modify" type="checkbox">           <label for="portfolioItemShowDescription" class="css-label">'+M.SHOW_TITLE_DESCRIPTION+'</label>         </div>         <div style="float:left;">          <div class="checkbox-wrapper">             <input id="portfolioItemShowInLightbox" class="css-checkbox modify" type="checkbox">             <label for="portfolioItemShowInLightbox" class="css-label">'+M.SHOW_IN_LIGHTBOX+'</label>           </div>           <div class="checkbox-wrapper">             <input id="portfolioItemShowInPopup" class="css-checkbox modify" type="checkbox">             <label for="portfolioItemShowInPopup" class="css-label">'+M.SHOW_DESCRIPTION+'</label>           </div>           <div class="checkbox-wrapper">             <input id="portfolioItemShowInPage" class="css-checkbox modify" type="checkbox">             <label for="portfolioItemShowInPage" class="css-label">'+M.ADD_DEDICATED_PAGE+"</label>           </div>         </div>       </div>     </div>";case"galleryFilesMarkup":return'<div class="popup-gallery-pick-files">       <div class="add-image-wrapper"></div>     </div>';case"multipleItemsSelectDlg":return'<div class="popup-newpage-wrapper popup-not-padded-wrapper">       <span class="help-text no-margin-top %messageClass%">%message%<br /></span>       <span class="help-text no-margin-top no-items-message">%noitemsmessage%<br /></span>       <div class="info margin-top add-new-items none">         <input type="text" name="newPortfolioCategory" class="focus transition-border">         <a class="plus-sign add-category transition-bg"></a>       </div>     </div>';case"portfolioCategoryTemplate":return'<div class="checkbox-wrapper">       <input id="stretchImage%id%" class="css-checkbox modify" type="checkbox" %checked%>       <label for="stretchImage%id%" class="css-label"></label>     </div>';case"portfolioCategoryTemplateRadio":return'<div class="checkbox-wrapper">       <input id="stretchImage%id%" class="css-checkbox modify" type="radio" %checked% name="portfolioCategoryTemplateRadio">       <label for="stretchImage%id%" class="css-label"></label>     </div>';case"portfolioPageSettingsTemplate":return'<div class="popup-newpage-wrapper">       <div class="popup-input-wrapper" style="margin-bottom: 40px;">         <h5>'+M.PAGE_URL+'</h5>         <div class="page-url-text" style="width: 50px">/</div>         <input type="text" name="pageUrl" style="width: calc(100% - 50px) !important" class="focus page-url-field transition-border">       </div>       <div class="input-wrapper">         <div class="info info2">           <h5>'+M.SEO+"</h5>           <span>"+M.SEO_INFORMATION+'</span>         </div>         <textarea placeholder="'+M.META_KEYWORDS+'" name="keywords" class="none-soft"></textarea>         <textarea style="margin-top:15px;" placeholder="'+M.META_DESCRIPTION+'" name="description"></textarea>       </div>';case"portfolioItemTemplate":return'<div class="file2 portfolio-item status2">       <div class="big-thumb"       style="background: url(%thumb%) 50% 50% no-repeat;"></div>       <div class="draft-badge"></div>       <div class="content">         <h4>%title%</h4>         <div class="options">           <a class="duplicate button-tooltip" data-tooltip="duplicatePortfolioItem" data-top="true"></a>           <a class="delete button-tooltip" data-tooltip="deletePortfolioItem" data-top="true"></a>           <a class="edit button-tooltip" data-tooltip="editPortfolioItem" data-top="true"></a>           <a rel="tab" class="edit-page">'+M.EDIT_PAGE_TITLE+"</a>         </div>       </div>     </div>";case"portfolioItemMenuTemplate":return'<li><a href="javascript: void( 0)" class="button modify %class%"><span>%category%</span> (%count%)</a></li>';case"portfolioSettingsMarkup":return'<div class="popup-newpage-wrapper">         <div class="info">           <h5>'+M.LAYOUT+'</h5>         </div>        <div class="portfolio-list-option"></div>         <div class="row">          <div class="section-right3">            <select class="portfolio-list-type">              <option value="1">'+M.LIST+'</option>               <option value="2">'+M.COLUMNS2+'</option>               <option value="3">'+M.COLUMNS3+'</option>               <option value="4">'+M.COLUMNS4+'</option>               <option value="5">'+M.COLUMNS5+'</option>               <option value="0">'+M.MASONRY+'</option>             </select>          </div>          <div class="section-right3">            <select class="portfolio-spacing-type">              <option value="0">'+M.WITH_SPACING+'</option>               <option value="1">'+M.NO_SPACING+'</option>             </select>          </div>          <div class="section-right3">            <select class="portfolio-box-type">              <option value="0">'+M.BOXED+'</option>               <option value="1">'+M.FULL_WIDTH+"</option>             </select>          </div>        </div>      </div>";case"pickIconDialogMarkup":return'<div data-placement="inline" class="icp"></div>';case"mapsAdminMarkup":return'<div class="popup-newpage-wrapper">       <div class="input-wrapper input-wrapper2">         <div class="info">          <h5>'+M.LOCATION+'</h5>        </div>        <input type="text" id="mapAddress" name="val" value="" class="transition-border modify">       </div>      <div class="input-wrapper input-wrapper2 f-right">         <div class="info">          <h5>'+M.MAP_TYPE+'</h5>        </div>        <select class="button-size-select modify">          <option value="roadmap">'+M.ROADMAP+'</option>          <option value="satellite">'+M.SATELITE+'</option>        </select>      </div>      <div class="input-wrapper">         <div class="info">           <label for="mapZoomLevel">'+M.MAP_WIDGET_ZOOM+'</label>          <input type="text" id="mapZoomLevel" readonly="readonly" class="modify none">         </div>         <div id="mapZoomLevelSlider" style="width: 97%; margin-left: 1%"></div>      </div>       <iframe width="100%" height="450" frameborder="0" style="border: 0; background: #fff url('+resources+'/images/image-avatar.png) no-repeat center center"></iframe>     </div>';case"websiteSettingsNavigationEditMarkup":return'<div class="settings-nav-wrapper col20">                  <div class="header-settings-title padded">                     <h4>'+M.NAVIGATION_MENU+'</h4>                     <a class="back"><i class="fa fa-angle-left"></i></a>                   </div>                   <div class="col20 f-left padded dynamic-height-content">                     <div class="info none" style="margin-bottom:15px;">                      <span>'+M.NAV_LINKS_POSITION+'</span>                    </div>                    <ul class="nav-arrange"></ul>                    <a id="nav-add-page">'+M.ADD_PAGE_TITLE_LONG+'</a>                    <div class="extra-settings none">                       <div class="checkbox-wrapper">                        <input id="navCart" class="css-checkbox modify" type="checkbox" name="navCart" />                        <label for="navCart" class="css-label" >'+M.CART_NAVIGATION+'</label>                        <a href="" class="settings-btn"></a>                       </div>                      <div class="checkbox-wrapper">                        <input id="navMember" class="css-checkbox modify" type="checkbox" name="navMember" />                        <label for="navMember" class="css-label" >'+M.MEMBER_NAVIGATION+'</label>                        <a href="" class="settings-btn"></a>                       </div>                    </div>                   </div>                 </div>';case"websiteSettingsdHeaderMarkup":return'<div class="settings-nav-wrapper col20">                  <div class="header-settings-title padded">                    <h4></h4>                    <a class="back"><i class="fa fa-angle-left"></i></a>                  </div>                   <div class="col20 f-left padded dynamic-height-content">                     <div id="headerPropertiesWrapper">                       <a class="settings-edit-btn logo-settings-pop">'+M.CHANGE_LOGO_BTN+'                        <div class="edit"></div>                      </a>                      <a class="settings-edit-btn styling-settings-pop">'+M.STYLING_BTN+'                        <div class="edit"></div>                      </a>                      <div id="layoutWithFixedHeader" class="col20 f-left none-soft">                         <div class="col20 f-left" id="floatingHeaderSettingsWrapper">                           <div class="f-left">                            <div class="checkbox-wrapper">                              <input id="extendedHeader" class="css-checkbox modify" type="checkbox" name="extendedHeader" />                              <label for="extendedHeader" class="css-label" >'+M.EXTEND_HEADER_TITLE+'</label>                            </div>                          </div>                          <div class="f-left">                            <div class="checkbox-wrapper">                              <input id="absoluteHeader" class="css-checkbox modify" type="checkbox" name="absoluteHeader" />                              <label for="absoluteHeader" class="css-label" >'+M.HEADER_OVER_CONTENT_TITLE+'</label>                            </div>                          </div>                        </div>                         <div class="col20 f-left" id="headerPaddingWrapper">                           <div class="f-left col20">                             <div class="info">                               <h5 class="ta-left">'+M.HEADER_PADDING_TOP+'<span class="headerMarginSlider slider-val f-right"></span></h5>                             </div>                             <div id="headerMarginSlider"></div>                           </div>                         </div>                         <div class="col20 f-left" id="fixedHeaderWrapper">                          <div class="f-left">                            <div class="checkbox-wrapper">                              <input id="applyFixedHeader" class="css-checkbox modify" type="checkbox" name="applyFixedHeader" />                              <label for="applyFixedHeader" class="css-label" >'+M.USE_FIXED_HEADER+'</label>                            </div>                          </div>                          <a class="fixed-header-settings settings-edit-btn none-soft" style="margin-top:10px;">'+M.FIXED_HEADER_SETTINGS_BTN+'                        <i class="fa fa-angle-right"></i>                          </a>                        </div>                       </div>                       <div id="layoutWithSideHeader" class="col20 f-left none-soft" style="margin-top:10px;">                         <h5>'+M.MENU_POSITION_TITLE+'</h5>                         <div class="f-left col20" style="margin-top:10px;">                          <div class="checkbox-wrapper">                            <input id="sideMenuAtLeft" class="css-checkbox modify" type="radio" name="side-menu-position" value="left" />                            <label for="sideMenuAtLeft" class="css-label">'+M.MENU_POSITION_AT_LEFT+'</label>                          </div>                        </div>                        <div class="f-left col20">                          <div class="checkbox-wrapper">                            <input id="sideMenuAtRight" class="css-checkbox modify" type="radio" name="side-menu-position" value="right" />                            <label for="sideMenuAtRight" class="css-label">'+M.MENU_POSITION_AT_RIGHT+'</label>                          </div>                        </div>                      </div>                     </div>                     <div class="header-options">                      <h5>'+M.HEADER_LAYOUT_TITLE+'</h5>                      <label class="image-checkable">                        <input type="radio" name="headerLayout" value="header-1">                        <span><img src="'+resources+'/images/header-layouts/h1.jpg"></span>                      </label>                      <label class="image-checkable">                        <input type="radio" name="headerLayout" value="header-2">                        <span><img src="'+resources+'/images/header-layouts/h2.jpg"></span>                      </label>                      <label class="image-checkable">                        <input type="radio" name="headerLayout" value="header-3">                        <span><img src="'+resources+'/images/header-layouts/h3.jpg"></span>                      </label>                      <label class="image-checkable">                        <input type="radio" name="headerLayout" value="header-4">                        <span><img src="'+resources+'/images/header-layouts/h4.jpg"></span>                      </label>                      <label class="image-checkable">                        <input type="radio" name="headerLayout" value="header-5">                        <span><img src="'+resources+'/images/header-layouts/h5.jpg"></span>                      </label>                      <label class="image-checkable">                        <input type="radio" name="headerLayout" value="header-6">                        <span><img src="'+resources+'/images/header-layouts/h6.jpg"></span>                      </label>                      <label class="image-checkable">                        <input type="radio" name="headerLayout" value="header-7">                        <span><img src="'+resources+'/images/header-layouts/h7.jpg"></span>                      </label>                      <label class="image-checkable">                        <input type="radio" name="headerLayout" value="header-8">                        <span><img src="'+resources+'/images/header-layouts/h8.jpg"></span>                      </label>                      <label class="image-checkable">                        <input type="radio" name="headerLayout" value="header-9">                        <span><img src="'+resources+'/images/header-layouts/h9.jpg"></span>                      </label>                      <label class="image-checkable">                        <input type="radio" name="headerLayout" value="header-10">                        <span><img src="'+resources+'/images/header-layouts/h10.jpg"></span>                      </label>                      <label class="image-checkable">                        <input type="radio" name="headerLayout" value="header-11">                        <span><img src="'+resources+'/images/header-layouts/h11.jpg"></span>                      </label>                      <label class="col10 image-checkable">                        <input type="radio" name="headerLayout" value="header-side-1">                        <span><img src="'+resources+'/images/header-layouts/h-side.jpg"></span>                      </label>                      <label class="col10 image-checkable" style="margin-left: 4%">                        <input type="radio" name="headerLayout" value="header-side-1a">                        <span><img src="'+resources+'/images/header-layouts/h-side2.jpg"></span>                      </label>                      <label class="image-checkable">                        <input type="radio" name="headerLayout" value="header-none">                        <span class="no-header-text">'+M.NO_HEADER+"</span>                      </label>                    </div>                  </div>                 </div>";case"websiteSettingsdFixedHeaderMarkup":return'<div class="settings-nav-wrapper col20">                  <div class="header-settings-title padded">                    <h4>'+M.FIXED_HEADER+'</h4>                    <a class="back"><i class="fa fa-angle-left"></i></a>                  </div>                   <div class="col20 f-left padded dynamic-height-content">                     <a class="settings-edit-btn logo-settings-pop none">'+M.CHANGE_LOGO_BTN+'                      <div class="edit"></div>                    </a>                    <a class="settings-edit-btn styling-settings-pop">'+M.STYLING_BTN+'                      <div class="edit"></div>                    </a>                  </div>                 </div>';case"emptyGridBlockRowMarkup":return'      <div class="grid-content grid-row-empty">         <div class="grid-column">           <div class="widget-row"></div>         </div>     </div>';case"emptyGridRowMarkup":return'<div class="grid-row stretched-tablet stretched-mobile" data-type="Container" style="padding-top: 3%; padding-bottom: 3%;">'+Templates.get("emptyGridBlockRowMarkup")+"</div>";case"selectFontDialogMarkup":return'<div class="popup-newpage-wrapper">       <div class="layout-buttons-wrapper modal-nav">         <ul class="sort-buttons-wrapper">           <li><a class="sort-btn sort-popular" title="'+M.SORT_BY_POPULARITY+'">'+M.MOST_POPULAR+'</a></li>           <li><a class="sort-btn sort-alpha" title="'+M.SORT_ALPHABETICALLY+'">'+M.ALPHABETICAL+'</a></li>         </ul>       </div>       <iframe name="font-select-frame" src="%src%"></iframe>       <a class="gogole-fonts-icon" href="https://www.google.com/fonts" target="_blank" title="Powered by Google Fonts"></a>     </div>';case"contributorMarkup":return'         <div class="col20 f-left funnel-inner-wrapper admin-view" data-type="%type%" data-id="%id%" data-status="%status%">           <div class="col20 f-left funnels-wrapper vertical-flex flex-col">             <div rel="toggle" data-toggle="#contributor%id%" class="col20 f-left flex flex-row align-center">               <div class="admin-row flex-1">                 <h4 class="col20 f-left">%name%</h4>                 <span class="col20 f-left mt-10">%email%</span>                 <span class="col20 f-left mt-10 lightBlue">%accountType%%statusText%</span>               </div>               <div class="admin-row flex-none">                 <a rel="action" data-action="showAdminActions" class="icon actions"></a>               </div>             </div>             <div class="permissions-wrapper f-left col20 mt-25 none-soft" id="contributor%id%">               <div class="permissions-wrapper">%permissionsTree%</div>               <div class="f-left col20 ta-center mt-25">                 <a rel="action" class="middle-button blue transition-bg" data-action="updateContributorPermissions" class="blue admin-button center-button">'+M.UPDATE_PERMISSIONS+"</a>               </div>             </div>           </div>         </div>";case"contributorMarkupOld":return'<div class="subscribtion-item transition-bg contributor-item" data-id="%id%" data-status="%status%">         <div rel="toggle" data-toggle="#contributor%id%" class="top-part">           <header>             <div class="title">               <h4 class="name">%name%</h4>               <h4>%email%</h4>               <h4 class="lightBlue">%statusText%</h4>               <h4 class="account-type lightBlue">%accountType%</h4>             </div>             <a class="icon expand"></a>             <a rel="action" data-action="removeContributor" class="delete-icon"></a>           </header>         </div>         <div class="message-content access-permissions-wrapper" style="display: none" id="contributor%id%">           <section>             <h4 style="margin-bottom:30px;">'+M.ACCESS_PERMISSIONS+'</h4>             <div class="permissions-wrapper">%permissionsTree%</div>             <div class="buttons-wrapper">               <a rel="action" class="middle-button blue transition-bg" data-action="updateContributorPermissions">'+M.UPDATE_PERMISSIONS+"</a>             </div>           </section>         </div>       </div>";case"contributorPermisionGroupMarkup":return'<div class="permission-group">       <span>%label%</span>       <div class="children-wrapper">%permissions%</div>     </div>';case"contributorPermissionMarkup":return'<div class="checkbox-wrapper f-left">       <input type="checkbox" class="css-checkbox" id="permission%id%_%perm%" value="%perm%" name="permission%id%_%perm%" %readonly% %checked% />       <label for="permission%id%_%perm%" class="css-label">%label%</label>     </div>';case"themePreviewMarkup":return'<div class="overlay-content theme-preview">         <div class="button-wrapper">           <a href="javascript:;" class="main-action-btn middle-button blue">'+M.USE_THIS_THEME+'</a>           <div class="theme-preview-viewport-buttons">             <ul>               <li>                 <a href="javascript:;" class="viewport-item button-tooltip active" data-size="desktop" data-tooltip="desktopView" data-bottom="true" title=""><img src="'+resources+'/images/small-icons/desktop-white.png"></a>               </li>               <li>                 <a href="javascript:;" class="viewport-item button-tooltip" data-size="tablet" data-tooltip="tabletView" data-bottom="true" title=""><img src="'+resources+'/images/small-icons/tablet-white.png"></a>               </li>               <li>                 <a href="javascript:;" class="viewport-item button-tooltip" data-size="mobile" data-tooltip="phoneView" data-bottom="true" title=""><img src="'+resources+'/images/small-icons/phone-white.png"></a>               </li>             </ul>           </div>         </div>         <div class="iframe-content desktop-preview">           <iframe src="javascript:;" allowfullscreen></iframe>         </div>       </div>';case"formAdminMarkup":return'<div class="modal-nav layout-buttons-wrapper">         <ul>           <li><a href="javascript:;">'+M.FORM+'</a></li>           <li><a href="javascript:;">'+M.SETTINGS+'</a></li>         </ul>       </div>       <div class="cpanel-popup-slider popup-style-2">         <div class="cpanel-popup-slide">           <div class="content padded-content">             <div class="input-wrapper input-wrapper2">               <div class="info" style="width:100%;">                 <h5>'+M.FORM_NAME+"</h5>                 <span>"+M.FORM_MESSAGE_DASHBOARD+'</span>               </div>               <input type="text" name="formName" class="transition-background modify" value="">             </div>             <div class="help-text-wrapper">               <span class="help-text" style="margin-bottom:20px;">'+M.EDIT_YOUR_FORM_BELOW+'</span>             </div>             <div class="form-wrapper"></div>             <a class="square-add" title="'+M.ADD_FIELD+'"></a>           </div>         </div>         <div class="cpanel-popup-slide">           <div class="content padded-content">             <div class="info" style="margin-top:0;">               <h5>'+M.SEND_NOTIFICATION_TO+'</h5>             </div>             <div class="input-wrapper">               <input type="text" name="sendTo" class="transition-border" placeholder="'+M.EMAIL+'">             </div>             <div class="input-wrapper">               <div class="info" style="width: 100%; margin-top: 5px">                 <h5>'+M.THEME+"</h5>                 <span>"+M.IT_WILL_CHANGE+'</span>               </div>               <select class="button-size-select modify" name="formTheme" style="width: 100%">                 <option value="dark">'+M.LIGHT+'</option>                 <option value="light">'+M.DARK+'</option>               </select>             </div>             <div class="input-wrapper input-wrapper2">               <div class="info" style="margin-top:0;">                 <h5>'+M.BUTTON_TEXT+'</h5>               </div>               <input type="text" name="buttonText" class="transition-border modify" />             </div>             <div class="input-wrapper input-wrapper2 f-right">               <div class="info">                 <h5>'+M.BUTTON_ALIGNMENT+'</h5>               </div>               <select class="button-size-select modify" name="buttonPosition">                 <option value="left" selected="selected">'+M.LEFT+'</option>                 <option value="center">'+M.CENTER+'</option>                 <option value="right">'+M.RIGHT+'</option>               </select>             </div>             <div class="input-wrapper input-wrapper2 input-wrapper-margin color-pick-wrap-widgets">               <div class="color-pick-wrap">                 <div style="background-color: rgb(51, 51, 51);"></div>                 <input type="text" value="" class="colorpicker-selected modify" name="buttonColor" />               </div>               <div class="info">                 <h5>'+M.BUTTON_COLOR+'</h5>               </div>             </div>             <div class="input-wrapper input-wrapper2 f-right color-pick-wrap-widgets" style="margin-bottom:10px;">               <div class="color-pick-wrap">                 <div style="background-color: rgb(255, 255, 255);"></div>                 <input type="text" value="" class="colorpicker-selected modify" name="buttonTextColor" />               </div>               <div class="info">                 <h5>'+M.BUTTON_TEXT_COLOR+'</h5>               </div>             </div>             <div class="input-wrapper">               <div class="info" style="width: 100%; margin-top: 5px">                 <h5>'+M.ACTION_ON_SUBMIT+"</h5>                 <span>"+M.WHAT_TO_SHOW+'</span>               </div>               <select class="button-size-select modify" name="successType" style="width: 100%">                 <option value="message">'+M.SHOW_THANK_YOU_MESSAGE+'</option>                 <option value="page">'+M.GO_TO_PAGE+'</option>               </select>             </div>             <div class="none-soft input-wrapper input-wrapper2" id="form-widget-message">               <div class="info" style="margin-top:0;">                 <h5>'+M.THANK_YOU_MESSAGE+'</h5>               </div>               <textarea name="thankYouMessage" class="transition-border modify"></textarea>             </div>             <div class="f20 none-soft" id="form-widget-goto">               <div class="info">                 <h5>'+M.THANK_YOU_PAGE+'</h5>               </div>               <input class="path-select select-like modify" type="text" style="width: 100%" />             </div>           </div>         </div>       </div>';case"formAdminField":return'<div class="field %class%">       <span class="move-icon button-tooltip" data-tooltip="simpleMove"></span>       <input type="text" name="fieldName" tabindex="1" class="label-field modify" value="%name%" placeholder="%placeholder%" %readonly% />       <div class="buttons-wrapper">         <a data-tooltip="simpleEdit" class="edit modify button-tooltip"></a>         <a data-tooltip="simpleDelete" class="delete delete-icon modify button-tooltip"></a>         <a data-tooltip="simpleResize" class="resize modify button-tooltip"></a>       </div>     </div>';case"editFormMarkup":return'<div class="popup-widget-wrapper">       <div class="popup-input-wrapper" id="fieldDescription">         <div class="info">           <h5>'+M.DESCRIPTION+"</h5>           <span>"+M.SHORT_DESCRIPTION_FOR+'</span>         </div>         <div class="small-text-area rich-text-area f-left col20 mt-15">          <textarea data-name="description"></textarea>         </div>       </div>       <div class="popup-input-wrapper none" id="fieldValue">         <div class="info">           <h5>'+M.FORM_VALUE_TITLE+"</h5>           <span>"+M.FORM_VALUE_DESCRIPTION+'</span>         </div>         <textarea name="fieldValue"></textarea>       </div>       <div class="popup-input-wrapper" id="fieldType" style="display: none">         <div class="info">           <h5>'+M.FIELD_TYPE+"</h5>           <span>"+M.YOU_CAN_SELECT+'</span>         </div>         <select name="fieldtype">          <option value="text">'+M.ANY_TEXT+'</option>           <option value="email">'+M.EMAIL_ONLY+'</option>           <option value="number">'+M.NUMBER_ONLY+'</option>         </select>       </div>       <div class="popup-input-wrapper" id="fieldPlaceholder" style="display: none">         <div class="info">           <h5>'+M.PLACEHOLDER+"</h5>           <span>"+M.PLACEHOLDER_TEXT+'</span>         </div>         <input type="text" name="placeholder" class="transition-border">       </div>       <div class="col20 f-left none-soft" id="fieldRange">        <div class="popup-input-wrapper mt-15 col9">          <h5>'+M.RANGE_FROM+'</h5>          <input type="number" name="rangeFrom" />        </div>        <div class="popup-input-wrapper mt-15 col9 f-right">          <h5>'+M.RANGE_TO+'</h5>          <input type="number" name="rangeTo" />        </div>        <div class="popup-input-wrapper mt-15 col9">          <h5>'+M.RANGE_FROM_LBL+'</h5>          <input type="text" name="rangeFromLabel" />        </div>        <div class="popup-input-wrapper mt-15 col9 f-right">          <h5>'+M.RANGE_TO_LBL+'</h5>          <input type="text" name="rangeToLabel" />        </div>         <div class="popup-input-wrapper">             <div class="info">               <h5>'+M.RANGE_LAYOUT+"</h5>               <span>"+M.RANGE_LAYOUT_DESC+'</span>             </div>             <select name="rangeStyle">              <option value="style-1">'+M.BOXED+'</option>               <option value="style-2">'+M.UNDERLINED+'</option>             </select>           </div>       </div>      <div class="popup-input-wrapper none" id="selectType">         <div class="info">           <h5>'+M.FIELD_STYLE+"</h5>           <span>"+M.FIELD_STYLE_DESC+'</span>         </div>         <select name="style">          <option value="complex">'+M.FIELD_STYLE_BOX+'</option>           <option value="simple">'+M.FIELD_STYLE_SIMPLE+'</option>         </select>         <div class="col20 f-left none-soft" data-role="tile-styles">          <div class="info">             <h5>'+M.OPTION_BOX_LAYOUT+"</h5>             <span>"+M.OPTION_BOX_LAYOUT_DESC+'</span>           </div>           <select name="layout">            <option value="left">'+M.OPTION_BOX_AT_LEFT+'</option>             <option value="top">'+M.OPTION_BOX_STACKED+'</option>             <option value="icon">'+M.OPTION_BOX_WITH_ICON+'</option>           </select>           <div class="popup-input-wrapper none-soft" id="optionImageWrapper">             <div class="info">               <h5>'+M.OPTION_IMAGE_STYLE+"</h5>               <span>"+M.OPTION_IMAGE_STYLE_DESC+'</span>             </div>             <select name="imageStyle">              <option value="circle">'+M.OPTION_IMAGE_STYLE_CIRCLE+'</option>               <option value="square">'+M.OPTION_IMAGE_STYLE_SQUARE+'</option>               <option value="raw">'+M.OPTION_IMAGE_STYLE_PRESERVE+'</option>             </select>             <div class="checkbox-wrapper">               <input id="tileCheckbox" class="css-checkbox" name="tileCheckbox" type="checkbox" />               <label for="tileCheckbox" class="css-label">'+M.OPTION_SHOW_CHECKBOX+'</label>             </div>           </div>          <div class="info">            <h5>'+M.OPTIONS_PER_ROW+"</h5>             <span>"+M.OPTIONS_PER_ROW_DESC+'</span>           </div>           <select name="optionsPerRow">            <option value="split-1">1 '+M.OPTION_PER_ROW_LBL+'</option>             <option value="split-2">2 '+M.OPTIONS_PER_ROW_LBL+'</option>             <option value="split-3">3 '+M.OPTIONS_PER_ROW_LBL+'</option>             <option value="split-4">4 '+M.OPTIONS_PER_ROW_LBL+'</option>             <option value="split-5">5 '+M.OPTIONS_PER_ROW_LBL+'</option>             <option value="split-fit">'+M.OPTIONS_FIT+'</option>           </select>           <div class="checkbox-wrapper col20 f-left mt-5 none-soft" id="canDoMultiChoice">             <input id="allowMultiple" class="css-checkbox" name="allowMultiple" type="checkbox" />             <label for="allowMultiple" class="css-label">'+M.CAN_SELECT_MULTIPLE+"               <span>"+M.CAN_SELECT_MULTIPLE_DESC+'</span>            </label>           </div>         </div>      </div>       <div class="popup-input-wrapper col20 f-left" id="contactPropertyWrapper">         <div class="info">           <h5>'+M.MAP_TO_CRM_PROP+"</h5>           <span>"+M.MAP_TO_CRM_PROP_DESC+'</span>         </div>         <select name="property">        </select>       </div>       <div class="popup-input-wrapper none" id="keapFieldWrapper">         <div class="info">           <h5>'+M.MAP_TO_CRM_PROP+"</h5>           <span>"+M.MAP_TO_CRM_PROP_DESC+'</span>         </div>         <select name="keapFieldName"></select>      </div>       <div class="popup-input-wrapper none" id="mailchimpFieldWrapper">         <div class="info">           <h5>'+M.FORM_MAILCHIMP_FIELD_NAME+"</h5>           <span>"+M.FORM_MAILCHIMP_FIELD_DESC+'</span>         </div>         <input type="text" name="mailchimpFieldName" class="transition-border">       </div>       <div class="popup-input-wrapper none" id="mailerliteFieldWrapper">         <div class="info">           <h5>'+M.FORM_MAILERLITE_FIELD_NAME+"</h5>           <span>"+M.FORM_MAILERLITE_FIELD_DESC+'</span>         </div>         <input type="text" name="mailerliteFieldName" class="transition-border">       </div>       <div class="popup-input-wrapper none" id="getresponseFieldWrapper">         <div class="info">           <h5>'+M.FORM_GETRESPONSE_FIELD_NAME+"</h5>           <span>"+M.FORM_GETRESPONSE_FIELD_DESC+'</span>         </div>         <input type="text" name="getresponseFieldName" class="transition-border">       </div>       <div class="popup-input-wrapper none" id="aweberFieldWrapper">         <div class="info">           <h5>'+M.FORM_AWEBER_FIELD_NAME+"</h5>           <span>"+M.FORM_AWEBER_FIELD_DESC+'</span>         </div>         <input type="text" name="aweberFieldName" class="transition-border">       </div>       <div class="popup-input-wrapper none" id="moosendFieldWrapper">         <div class="info">           <h5>'+M.FORM_MOOSEND_FIELD_NAME+"</h5>           <span>"+M.FORM_MOOSEND_FIELD_DESC+'</span>         </div>         <input type="text" name="moosendFieldName" class="transition-border">       </div>       <div class="popup-input-wrapper none" id="activecampaignFieldWrapper">         <div class="info">           <h5>'+M.FORM_ACTIVECAMPAIGN_FIELD_NAME+"</h5>           <span>"+M.FORM_ACTIVECAMPAIGN_FIELD_DESC+'</span>         </div>         <input type="text" name="activecampaignFieldId" class="transition-border">       </div>       <div class="popup-input-wrapper none-soft" id="fieldOptions">         <div class="info">           <h5>'+M.OPTIONS+"</h5>           <span>"+M.OPTIONS_TEXT+'</span>         </div>         <textarea name="options"></textarea>       </div>       <div class="input-wrapper" id="fieldPrefixToggle" style="display: none">         <div class="checkbox-wrapper">           <input id="prefixIconToggle" class="css-checkbox" name="prefixed" type="checkbox" />           <label for="prefixIconToggle" class="css-label">'+M.ADD_PREFIX_ICON+'</label>         </div>       </div>       <div class="popup-input-wrapper none-soft" id="fieldPrefixIconToggleWrapper">         <div class="info">           <h5>'+M.PREFIX_ICON+"</h5>           <span>"+M.PREFIX_ICON_TEXT+'</span>         </div>         <div class="prefixed-input" data-role="field-icon">           <span class="fa"></span>           <input type="text" data-role="icon-field" readonly="readonly" class="transition-border">         </div>      </div>       <div class="input-wrapper" id="fieldRequired" style="display: none">         <div class="checkbox-wrapper">           <input id="formfield-required-check" class="css-checkbox" name="required" type="checkbox" />           <label for="formfield-required-check" class="css-label">'+M.REQUIRED_FIELD+"</label>         </div>       </div>     </div>";case"formMessageMarkup":return'<div class="message-item subscribtion-item transition-bg %readClass%" data-id="%id%" >     <div class="top-part row" rel="toggle" data-toggle="#message%id%" data-action="onToggleClick" style="cursor: pointer">       <div class="checkbox-wrapper f-left">         <input id="check%id%" class="css-checkbox no-toggle" type="checkbox">         <label for="check%id%" class="css-label no-toggle"></label>       </div>       <header>         <div>%content%</div>       </header>       <span class="date">%date%</span>     </div>     <div class="message-content" id="message%id%" style="display: none">%content%</div>   </div>';case"noFormMessagesMarkup":return'<div class="message-item subscribtion-item transition-bg" >     <div class="top-part row">       <header>         <div><h4>'+M.NO_MESSAGES+"</h4></div>       </header>     </div>   </div>";case"galleryAdminMarkup":return'<div class="modal-nav layout-buttons-wrapper">       <ul>         <li><a>'+M.IMAGES+"</a></li>         <li><a>"+M.SETTINGS+'</a></li>       </ul>     </div>     <div class="cpanel-popup-slider">       <div class="cpanel-popup-slide">         <div class="content padded-content">           <div class="input-wrapper input-wrapper2">             <div class="help-text-wrapper">               <span class="help-text">'+M.YOU_CAN_ADD+'</span>             </div>           </div>           <div class="galleryContainer">            <div class="items-wrapper">              <a class="add-image add-image-select add-image-inline">Add Image</a>            </div>          </div>        </div>       </div>       <div class="cpanel-popup-slide">         <div class="content padded-content">           <div class="input-wrapper input-wrapper2">             <div class="portfolio-list-option"></div>           </div>           <ul class="gallery-select">            <li class="active"><a class="grid transition-bg"><span></span>'+M.GRID+'</a></li>            <li><a class="carousel transition-bg"><span></span>'+M.CAROUSEL+'</a></li>          </ul>          <div class="gallery-content">             <div class="input-wrapper">               <div class="info input-slider-wrapper">                  <label>'+M.IMAGES_PER_ROW+'</label>                  <div id="imagesPerRowSlider"></div>                  <input type="text" readonly="readonly" class="slider-val modify">                </div>              </div>             <div class="input-wrapper">               <div class="info input-slider-wrapper">                  <label>'+M.IMAGE_PADDINGS+'</label>                 <div id="imageGapSlider"></div>                  <input type="text" readonly="readonly" class="slider-val modify">                </div>              </div>            <div class="input-wrapper">               <div class="info">                 <h5>'+M.IMAGE_RATIO+"</h5>                 <span>"+M.IMAGE_RATIO_TEXT+'</span>               </div>               <select name="aspectRatio">                <option value="1">'+M.IMG_SQUARE+'</option>                 <option value="0.75">'+M.IMG_STANDARD+'</option>                 <option value="0.666666667">'+M.IMG_RECTANGLE+'</option>                 <option value="1.33333333">'+M.IMG_STANDARD_TALL+'</option>                 <option value="1.5">'+M.IMG_RECTANGLE_TALL+'</option>                 <option value="0.5625">'+M.IMG_WIDE+'</option>               </select>             </div>             <div class="checkbox-wrapper">               <input id="stretchImage" name="stretchImage" class="css-checkbox modify" type="checkbox">               <label for="stretchImage" class="css-label">'+M.IMAGE_FILL+'</label>             </div>              <div class="checkbox-wrapper">                <input id="openInLightbox" name="openInLightbox" class="css-checkbox modify" type="checkbox">                <label for="openInLightbox" class="css-label">'+M.OPEN_IMAGES_IN_LIGHTBOX+'</label>             </div>             <div class="f-left" id="carouselSettings">               <div class="checkbox-wrapper">                 <input id="showArrows" name="showArrows" class="css-checkbox modify" type="checkbox">                 <label for="showArrows" class="css-label">'+M.SHOW_NAVIGATION_ARROWS+'</label>              </div>              <div class="checkbox-wrapper">                 <input id="autoChangeSlides" name="autoChangeSlides" class="css-checkbox modify" type="checkbox">                 <label for="autoChangeSlides" class="css-label" rel="toggle"  data-toggle="#autoChangeSlidesDelay">'+M.CHANGE_SLIDES_AUTOMATICALLY+'</label>              </div>              <div class="input-wrapper" id="autoChangeSlidesDelay" style="display: none">                <div class="info">                   <label>'+M.SLIDE_DELAY+'</label>                  <input type="text" readonly="readonly" class="slider-val modify">                 </div>                 <div id="autoChangeSlidesTimeoutSlider"></div>               </div>            </div>           </div>        </div>       </div>     </div>';case"blogWidgetAdminMarkup":return'<div class="content popup-widget-wrapper">       <div class="popup-input-wrapper">         <div class="info" >           <h5>'+M.COLLECTION_TO_DISPLAY+"</h5>            <span>"+M.WHAT_TYPE_OF_LOG_DATA_TO_DISPLAY+'</span>         </div>         <select class="modify" name="blogType">           <option value="posts">'+M.RECENT_POST+'</option>           <option value="categories">'+M.MOST_POPULAR_CATEGORIES+'</option>           <option value="tags">'+M.MOST_POPULAR_TAGS+'</option>         </select>       </div>       <div class="popup-input-wrapper" id="blog-widget-categories">         <div class="info" >           <h5>'+M.CATEGORY+"</h5>            <span>"+M.SHOW_POSTS_CATEGORY+'</span>         </div>         <select class="modify" name="blogPostsCategory"></select>         <div class="checkbox-wrapper none">          <input id="blog-widget-toggle" name="showAsToggle" class="css-checkbox modify" type="checkbox">          <label for="blog-widget-toggle" class="css-label">'+M.SHOW_POSTS_IN_TOGGLE+'</label>        </div>        <div class="checkbox-wrapper" style="margin: 10px 0;">          <input id="show-featured-image" name="showPostDetails" class="css-checkbox modify" type="checkbox">          <label for="show-featured-image" class="css-label">'+M.SHOW_POST_IMAGE_AND_DESCRIPTION+'</label>        </div>        <div class="f-left" id="detailedPostSettings">          <div class="popup-input-wrapper">             <div class="info" >              <h5>'+M.LAYOUT+"</h5>               <span>"+M.BLOG_ITEMS_DISPLAY+'</span>             </div>             <select class="modify" name="blogPostsDisplayType">               <option value="large">'+M.LARGE_IMAGE+'</option>               <option value="medium">'+M.MEDIUM_SIZE_IMAGE+'</option>               <option value="masonry">'+M.MASONRY+'</option>             </select>           </div>           <div class="popup-input-wrapper">              <div class="info" >               <h5>'+M.NAVIGATION_TYPE+"</h5>               <span>"+M.SELECT_TYPE_OF_NAV+'</span>             </div>             <select class="modify" name="blogPostsPagingType">               <option value="none">'+M.NONE+'</option>               <option value="pagination">'+M.PAGINATION+'</option>               <option value="button">'+M.LOAD_MORE_BUTTON+'</option>             </select>           </div>           <div class="checkbox-wrapper">            <input id="add-social-networks" name="addSocialNetworks" class="css-checkbox modify" type="checkbox">            <label for="add-social-networks" class="css-label">'+M.ADD_SHARE_BUTTONS+'</label>          </div>          <div class="f-left blog-share-settings">             <div class="checkbox-wrapper">               <input id="settings-fb-share" class="css-checkbox modify" type="checkbox">               <label for="settings-fb-share" class="css-label">Facebook</label>             </div>             <div class="checkbox-wrapper">               <input id="settings-gp-share" class="css-checkbox modify" type="checkbox">               <label for="settings-gp-share" class="css-label">Google+</label>             </div>             <div class="checkbox-wrapper">               <input id="settings-tw-share" class="css-checkbox modify" type="checkbox">               <label for="settings-tw-share" class="css-label">Twitter</label>             </div>             <div class="checkbox-wrapper">               <input id="settings-ln-share" class="css-checkbox modify" type="checkbox">               <label for="settings-ln-share" class="css-label">LinkedIn</label>             </div>           </div>         </div>       </div>       <div class="popup-input-wrapper">        <div class="info input-slider-wrapper">           <label>'+M.NUMBER_OF_ITEMS+'</label>          <div id="numberOfItemsSlider"></div>           <input type="text" readonly="readonly" class="slider-val modify">         </div>       </div>      <div class="input-wrapper input-wrapper-small color-pick-wrap-widgets">         <div class="color-pick-wrap">           <div></div>           <input type="text" value="" class="colorpicker-selected modify" name="itemsColor" />         </div>         <div class="info">           <h5>'+M.ITEMS_COLOR+"</h5>         </div>       </div>     </div>";case"portfolioAdminMarkup":return'<div class="modal-nav layout-buttons-wrapper">       <ul>         <li><a>'+M.ITEMS+"</a></li>         <li><a>"+M.SETTINGS+'</a></li>       </ul>     </div>     <div class="cpanel-popup-slider">       <div class="cpanel-popup-slide">         <div class="content padded-content">           <div class="input-wrapper input-wrapper2">             <div class="help-text-wrapper">               <span class="help-text">'+M.ADD_REMOVE_SORT+'</span>             </div>           </div>           <div class="galleryContainer">            <div class="items-wrapper">              <a class="add-image add-image-select"><span class="add-button"></span></a>            </div>          </div>        </div>       </div>       <div class="cpanel-popup-slide">         <div class="content padded-content">           <div class="input-wrapper input-wrapper2">             <div class="portfolio-list-option"></div>           </div>           <ul class="gallery-select">            <li class="active"><a class="grid transition-bg"><span></span>'+M.GRID+'</a></li>            <li><a class="carousel transition-bg"><span></span>'+M.CAROUSEL+'</a></li>          </ul>          <div class="gallery-content">             <div class="input-wrapper">               <div class="info input-slider-wrapper">                  <label>'+M.ITEMS_PER_ROW+'</label>                 <div id="itemsPerRowSlider"></div>                  <input type="text" readonly="readonly" class="slider-val modify">                </div>              </div>             <div class="input-wrapper">               <div class="info input-slider-wrapper">                  <label>'+M.PADDING_BETWEEN_ITEMS+'</label>                 <div id="itemsGapSlider"></div>                  <input type="text" readonly="readonly" class="slider-val modify">                </div>              </div>             <div class="input-wrapper">              <div class="checkbox-wrapper">                  <input id="showTitle" name="showTitle" class="css-checkbox modify" type="checkbox">                  <label for="showTitle" class="css-label">'+M.SHOW_ITEM_TITLE+'</label>               </div>              <div class="checkbox-wrapper">                  <input id="showCategories" name="showCategories" class="css-checkbox modify" type="checkbox">                  <label for="showCategories" class="css-label">'+M.SHOW_ITEM_CATEGORIES+'</label>               </div>              <div class="checkbox-wrapper">                  <input id="showDescription" name="showDescription" class="css-checkbox modify" type="checkbox">                  <label for="showDescription" class="css-label">'+M.SHOW_ITEM_DESCRIPTION+'</label>               </div>              </div>              <div class="f-left" id="carouselSettings">               <div class="checkbox-wrapper">                 <input id="showArrows" name="showArrows" class="css-checkbox modify" type="checkbox">                 <label for="showArrows" class="css-label">'+M.SHOW_NAVIGATION_ARROWS+'</label>              </div>              <div class="checkbox-wrapper">                 <input id="autoChangeSlides" name="autoChangeSlides" class="css-checkbox modify" type="checkbox">                 <label for="autoChangeSlides" class="css-label" rel="toggle"  data-toggle="#autoChangeSlidesDelay">'+M.CHANGE_SLIDES_AUTOMATICALLY+'</label>              </div>              <div class="input-wrapper" id="autoChangeSlidesDelay" style="display: none">                <div class="info">                   <label>'+M.SLIDE_DELAY+'</label>                  <input type="text" readonly="readonly" class="slider-val modify">                 </div>                 <div id="autoChangeSlidesTimeoutSlider"></div>               </div>            </div>           </div>        </div>       </div>     </div>';case"simplePortfolioItemTemplate":return'<div class="file2 portfolio-item status2 %selectedClass%" style="cursor: pointer; margin-left: 10px;">       <div class="big-thumb"       style="background: url(%thumb%) 50% 50% no-repeat;"></div>       <div class="content">         <h4>%title%</h4>       </div>       <a class="check-button2"></a>    </div>';case"codeWidgetMarkup":return'<div class="popup-newpage-wrapper">       <div class="input-wrapper input-wrapper2">         <div class="info" >           <h5>'+M.TYPE+"</h5>           <span>"+M.TYPE_CODE+'</span>         </div>         <select class="button-size-select modify" name="codeType">           <option value="text/html">HTML</option>           <option value="text/css">CSS</option>           <option value="text/javascript">JavaScript</option>           <option value="text/x-sql">SQL</option>           <option value="application/xml">XML</option>           <option value="">'+M.CODE_WIDGET_SOURCE_TYPE_PLAIN_TEXT+'</option>         </select>       </div>       <div class="input-wrapper input-wrapper2">         <div class="info" >           <h5>'+M.THEME+"</h5>           <span>"+M.CODE_THEME+'</span>         </div>         <select class="button-size-select modify" name="codeTheme">           <option value="dark">'+M.DARK+'</option>           <option value="light">'+M.LIGHT+'</option>         </select>       </div>       <div class="input-wrapper input-wrapper2" id="insertRawWrapper" style="display: none">         <div class="checkbox-wrapper checkbox-wrapper2">           <input id="insertRaw" name="insertRaw" class="css-checkbox modify" type="checkbox">           <label for="insertRaw" class="css-label modify">'+M.EXECUTE_CODE+'</label>         </div>       </div>       <div class="input-wrapper input-wrapper2">         <div class="checkbox-wrapper checkbox-wrapper2">           <input id="includeRowNumbers" name="includeRowNumbers" class="css-checkbox modify" type="checkbox">           <label for="includeRowNumbers" class="css-label modify">'+M.INCLUDE_ROW_NUMBERS+'</label>         </div>       </div>       <div class="input-wrapper input-wrapper2 mt-15">         <div class="info">           <h5>'+M.SOURCE_CODE+"</h5>           <span>"+M.SOURCE_CODE_TEXT+'</span>         </div>         <div style="width: 100%; height: 300px; float: left; margin-top: 7px;">           <textarea name="sourceCode" class="full-size"></textarea>         </div>       </div>     </div>';case"embedWidgetAdminMarkup":return'<div class="popup-newpage-wrapper">       <div class="input-wrapper input-wrapper2">         <div class="info">          <h5>'+M.CONTENT_TO_EMBED+'</h5>        </div>        <input type="text" name="enteredEmbedValue" class="transition-border focus modify">         <div class="info"><span>'+M.ENTER_URL_EMBED+'</span></div>       </div>      <div class="input-wrapper mt-15">         <div class="info">          <h5>'+M.PREVIEW+'</h5>        </div>        <div class="preview full-size f20 mt-15" style="height: 300px;) no-repeat center center"></div>       </div>    </div>';case"videoWidgetAdminMarkup":return'<div class="popup-newpage-wrapper">       <div class="input-wrapper input-wrapper2">         <div class="info">          <h5>'+M.VIDEO_SOURCE+'</h5>        </div>        <input type="text" name="enteredEmbedValue" class="transition-border focus modify">         <div class="info">          <span>'+M.ENTER_URL_VIDE_EMBED+'</span>         </div>      </div>      <div class="input-wrapper mt-15">         <div class="info">          <h5>'+M.PREVIEW+'</h5>        </div>        <div class="preview video-thumb-bg full-size f20 mt-15" style="height: 200px;"></div>       </div>       <div class="input-wrapper mt-15">         <div class="checkbox-wrapper">           <input id="useCustomThumb" class="css-checkbox modify" name="useCustomThumb" type="checkbox" />           <label for="useCustomThumb" class="css-label" rel="toggle"  data-toggle="#useCustomThumbWrapper">'+M.USE_CUSTOM_THUMBNAIL+'</label>         </div>       </div>       <div class="input-wrapper" id="useCustomThumbWrapper" style="display: none">         <div class="info">           <h5>'+M.THUMBNAIL+"</h5>           <span>"+M.CLICK_THE_THUMBNAIL+'</span>         </div>         <div class="prefixed-input">           <div class="add-image thumb video-thumb-bg full-size f20 mt-15" style="height: 200px; cursor: pointer;">             <span class="add-button transition-all"></span>          </div>         </div>      </div>     </div>';case"subscribeFormAdminMarkup":return'<div class="modal-nav layout-buttons-wrapper">         <ul>           <li><a href="javascript:;">'+M.FORM+'</a></li>           <li><a href="javascript:;">'+M.SETTINGS+'</a></li>         </ul>       </div>       <div class="cpanel-popup-slider popup-style-2">         <div class="cpanel-popup-slide">           <div class="content padded-content">             <div class="input-wrapper">               <div class="info" style="width:100%;">                 <h5>'+M.SUBSCRIPTION_NAME+"</h5>                 <span>"+M.SUBSCRIPTION_DASHBOARD+'</span>               </div>               <input type="text" name="formName" class="transition-border modify" value="">             </div>             <div class="input-wrapper">               <div class="info">                 <h5>'+M.TITLE+'</h5>               </div>               <input type="text" name="formTitle" class="transition-border modify" value="">             </div>             <div class="input-wrapper">               <div class="info">                 <h5>'+M.DESCRIPTION+'</h5>               </div>               <input type="text" name="formDescription" class="transition-border modify" value="">             </div>             <div class="input-wrapper">               <div class="info">                 <h5>'+M.LAYOUT+"</h5>                 <span>"+M.SUBSCRIPTION_FIELDS_LAYOUT+'</span>               </div>               <select class="button-size-select modify" name="formLayout" style="width: 100%">                 <option value="stacked">'+M.SUBSCRIPTION_FIELDS_STACKED+'</option>                 <option value="lined">'+M.SUBSCRIPTION_FIELDS_LINED_IN_ROW+'</option>               </select>             </div>             <div class="help-text-wrapper">               <span class="help-text" style="margin-bottom:20px;">'+M.EDIT_YOUR_FORM_BELOW+'</span>             </div>             <div class="form-wrapper"></div>             <a class="square-add" title="'+M.ADD_FIELD+'"></a>           </div>         </div>         <div class="cpanel-popup-slide">           <div class="content padded-content">             <div class="info">               <h5>'+M.SEND_NOTIFICATION_TO+'</h5>             </div>             <div class="input-wrapper">               <input type="text" name="sendTo" class="transition-border" placeholder="'+M.EMAIL+'">             </div>             <div class="input-wrapper">               <div class="info" style="width: 100%; margin-top: 5px">                 <h5>'+M.THEME+"</h5>                 <span>"+M.SUBSCRIPTION_FIELDS_THEME+'</span>               </div>               <select class="button-size-select modify" name="formTheme" style="width: 100%">                 <option value="dark">'+M.LIGHT+'</option>                 <option value="light">'+M.DARK+'</option>               </select>             </div>             <div class="input-wrapper input-wrapper2">               <div class="info" style="margin-top:0;">                 <h5>'+M.BUTTON_TEXT+'</h5>               </div>               <input type="text" name="buttonText" class="transition-border modify" />             </div>             <div class="input-wrapper input-wrapper2 f-right">               <div class="info">                 <h5>'+M.BUTTON_ALIGNMENT+'</h5>               </div>               <select class="button-size-select modify" name="buttonPosition">                 <option value="left" selected="selected">'+M.LEFT+'</option>                 <option value="center">'+M.CENTER+'</option>                 <option value="right">'+M.RIGHT+'</option>               </select>             </div>             <div class="input-wrapper input-wrapper2 input-wrapper-margin color-pick-wrap-widgets">               <div class="color-pick-wrap">                 <div style="background-color: rgb(51, 51, 51);"></div>                 <input type="text" value="" class="colorpicker-selected modify" name="buttonColor" />               </div>               <div class="info">                 <h5>'+M.BUTTON_COLOR+'</h5>               </div>             </div>             <div class="input-wrapper input-wrapper2 f-right color-pick-wrap-widgets">               <div class="color-pick-wrap">                 <div style="background-color: rgb(255, 255, 255);"></div>                 <input type="text" value="" class="colorpicker-selected modify" name="buttonTextColor" />               </div>               <div class="info">                 <h5>'+M.TEXT_COLOR+'</h5>               </div>             </div>             <div class="input-wrapper">               <div class="info" style="width: 100%; margin-top: 5px">                 <h5>'+M.ACTION_ON_SUBMIT+"</h5>                 <span>"+M.WHAT_TO_SHOW_SUBMIT+'</span>               </div>               <select class="button-size-select modify" name="successType" style="width: 100%">                 <option value="message">'+M.SHOW_THANK_YOU_MESSAGE+'</option>                 <option value="page">'+M.GO_TO_PAGE+'</option>               </select>             </div>             <div class="none-soft input-wrapper input-wrapper2" id="form-widget-message">               <div class="info" style="margin-top:0;">                 <h5>'+M.THANK_YOU_MESSAGE+'</h5>               </div>               <textarea name="thankYouMessage" class="transition-border modify"></textarea>             </div>             <div class="f20 none-soft" id="form-widget-goto">               <div class="info">                 <h5>'+M.THANK_YOU_PAGE+'</h5>               </div>               <input class="path-select select-like modify" type="text" style="width: 100%" />             </div>           </div>         </div>       </div>';case"socialMediaMarkup":return'<div class="modal-nav layout-buttons-wrapper">         <ul>           <li><a href="javascript:;">'+M.BUTTONS+'</a></li>           <li><a href="javascript:;">'+M.SETTINGS+'</a></li>         </ul>       </div>       <div class="cpanel-popup-slider popup-style-2">         <div class="cpanel-popup-slide padded-content">           <div class="input-wrapper input-wrapper2">             <!--<div class="portfolio-list-option"></div>-->             <ul class="gallery-select social-media-type">              <li><a class="share-page transition-bg"><span></span>'+M.SHARE_THIS_PAGE+'</a></li>              <li><a class="goto-page transition-bg"><span></span>'+M.GO_TO_PAGE+'</a></li>            </ul>          </div>          <div class="f20 none-soft social-media-type-share">            <div class="input-wrapper mt-15">               <div class="info">                 <h5>'+M.NETWORKS_TO_SHARE+"</h5>                 <span>"+M.CLICK_ON_ICON+'</span>               </div>               <div class="f20 networks selected-networks"></div>               <div class="info">                 <h5>'+M.AVAILABLE_NETWORKS+"</h5>                 <span>"+M.CLICK_AN_ICON+'</span>               </div>               <div class="f20 networks available-networks"></div>               <a class="square-add button-tooltip" data-tooltip="addOtherNetwork" rel="toggle" data-toggle="#socialMediaTypeShareIconpickerWrapper"></a>             </div>           </div>          <div class="f20 none-soft social-media-type-page">            <div class="help-text-wrapper"><span class="help-text mt-15">'+M.EDIT_URL_DRAG+'</span></div>            <div class="f20 fields-box"></div>             <a class="square-add button-tooltip f-left mt-15" data-tooltip="addAnotherButton"></a>           </div>        </div>        <div class="cpanel-popup-slide padded-content">           <div class="input-wrapper ta-center social-icon-preview"><div id="iconpicker" class="fa fa-send"></div></div>           <div class="social-size-settings">             <div class="input-wrapper f-right">               <div class="info input-slider-wrapper">                 <label>'+M.BUTTON_SIZE+'</label>                <div id="iconSizeSlider"></div>                 <input type="text" readonly="readonly" class="slider-val modify" name="iconsSize">               </div>             </div>             <div class="input-wrapper f-right">               <div class="info input-slider-wrapper">                 <label>'+M.BUTTON_BORDER_RADIUS+'</label>                <div id="borderRadiusSlider"></div>                 <input type="text" readonly="readonly" class="slider-val modify" name="borderRadius">               </div>             </div>           </div>           <div class="input-wrapper color-pick-wrap-widgets">             <div class="color-pick-wrap">               <div></div>               <input type="text" value="" class="colorpicker-selected modify" name="iconsColor">             </div>             <div class="info">               <h5>'+M.BUTTON_BACKGROUND_COLOR+'</h5>             </div>           </div>           <div class="input-wrapper color-pick-wrap-widgets">             <div class="color-pick-wrap">               <div></div>               <input type="text" value="" class="colorpicker-selected modify" name="iconsHoverColor">             </div>             <div class="info">               <h5>'+M.BUTTON_HOVER_BACKGROUND_COLOR+'</h5>             </div>           </div>           <div class="input-wrapper color-pick-wrap-widgets">             <div class="color-pick-wrap">               <div></div>               <input type="text" value="" class="colorpicker-selected modify" name="iconsTextColor">             </div>             <div class="info">               <h5>'+M.ICONS_COLOR+'</h5>             </div>           </div>           <div class="input-wrapper input-wrapper2 f-right">             <div class="info">               <h5>'+M.BUTTONS_POSITION+'</h5>             </div>             <select class="template-select" name="iconsAlign">              <option value="left">'+M.LEFT+'</option>              <option value="center">'+M.CENTER+'</option>              <option value="right">'+M.RIGHT+"</option>            </select>           </div>         </div>       </div> ";case"socialWidgetFieldMarkup":return'<div class="field">      <span class="move-icon button-tooltip" data-tooltip="simpleMove"></span>      <div class="iconpicker-social fa fa-%icon%" data-type="%icon%"></div>       <input type="text" class="label-field" value="%url%">      <div class="buttons-wrapper">        <a data-tooltip="simpleDelete" class="delete delete-icon button-tooltip"></a>      </div>    </div>';case"domainRow":return'<div class="section-bg domain-item %primary% domain-type-%typeClass%" data-domain="%domain%">       <div class="icon"></div>       <header>         <h4>%domain%</h4>         <div class="new-subdomain-wrapper none-soft col20 f-left">           <input placeholder="new-subdomain" type="text" name="custom-subdomain" class="transition-border" value="" />           <span class="root-domain">.%rootDomain%</span>           <a rel="action" data-action="changeSubdomain" class="next-button middle-button blue" style="border:none;">'+M.CHANGE+'</a>         </div>       </header>       <span class="domain-type">%type%</span>       <div class="options">         <a rel="action" data-action="unlinkWebsiteDomain" class="unlink transition-all button-tooltip" data-tooltip="unlink_domain" data-top="true"></a>         <a rel="action" data-action="editDomain" class="edit transition-all button-tooltip" data-tooltip="edit_domain" data-top="true"></a>         <a rel="action" data-action="viewDomain" class="view transition-all button-tooltip" data-tooltip="view_domain" data-top="true"></a>         <a rel="action" data-action="makeWebsiteDomainPrimary" class="make-primary transition-all button-tooltip" data-tooltip="make_primary_domain" data-top="true"></a>         <a rel="action" data-action="editSystemSubdomain" class="edit-subdomain transition-all button-tooltip" data-tooltip="editSystemSubdomain" data-top="true"></a>       </div>       <div class="content" data-role="information">         <div class="f20"><h1 class="domain-message"></h1></div>         <div class="f20 domain-info">          <span>'+M.DOMAIN_EXPLAIN_TEXT+'</span></div>        <div class="domain-table">          <div class="row title">            <span>Host / Name</span>            <span>Record Type</span>            <span>Value</span>          </div>          <div class="row info">            <span>@</span>            <span>A</span>            <span>%ip%</span>          </div>          <div class="row info">            <span>www</span>            <span>CNAME</span>            <span>%domain%</span>          </div>        </div>      </div>     </div>';case"funnelDomainRow":return'<h5 class="f-left">%domain%</h5>             <div class="domain-controls">               <a href="http://%domain%?preview=__PREVIEW_ONLY" target="_blank" class="view transition-all button-tooltip" data-tooltip="view_domain" data-top="true"></a>               <a class="domain-settings external-domain-settings button-tooltip" data-tooltip="edit_domain" data-top="true">                 <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"                    viewBox="0 0 478.703 478.703" style="enable-background:new 0 0 478.703 478.703;" xml:space="preserve">                   <g>                     <g>                       <path d="M454.2,189.101l-33.6-5.7c-3.5-11.3-8-22.2-13.5-32.6l19.8-27.7c8.4-11.8,7.1-27.9-3.2-38.1l-29.8-29.8                         c-5.6-5.6-13-8.7-20.9-8.7c-6.2,0-12.1,1.9-17.1,5.5l-27.8,19.8c-10.8-5.7-22.1-10.4-33.8-13.9l-5.6-33.2                         c-2.4-14.3-14.7-24.7-29.2-24.7h-42.1c-14.5,0-26.8,10.4-29.2,24.7l-5.8,34c-11.2,3.5-22.1,8.1-32.5,13.7l-27.5-19.8                         c-5-3.6-11-5.5-17.2-5.5c-7.9,0-15.4,3.1-20.9,8.7l-29.9,29.8c-10.2,10.2-11.6,26.3-3.2,38.1l20,28.1                         c-5.5,10.5-9.9,21.4-13.3,32.7l-33.2,5.6c-14.3,2.4-24.7,14.7-24.7,29.2v42.1c0,14.5,10.4,26.8,24.7,29.2l34,5.8                         c3.5,11.2,8.1,22.1,13.7,32.5l-19.7,27.4c-8.4,11.8-7.1,27.9,3.2,38.1l29.8,29.8c5.6,5.6,13,8.7,20.9,8.7c6.2,0,12.1-1.9,17.1-5.5                         l28.1-20c10.1,5.3,20.7,9.6,31.6,13l5.6,33.6c2.4,14.3,14.7,24.7,29.2,24.7h42.2c14.5,0,26.8-10.4,29.2-24.7l5.7-33.6                         c11.3-3.5,22.2-8,32.6-13.5l27.7,19.8c5,3.6,11,5.5,17.2,5.5l0,0c7.9,0,15.3-3.1,20.9-8.7l29.8-29.8c10.2-10.2,11.6-26.3,3.2-38.1                         l-19.8-27.8c5.5-10.5,10.1-21.4,13.5-32.6l33.6-5.6c14.3-2.4,24.7-14.7,24.7-29.2v-42.1                         C478.9,203.801,468.5,191.501,454.2,189.101z M451.9,260.401c0,1.3-0.9,2.4-2.2,2.6l-42,7c-5.3,0.9-9.5,4.8-10.8,9.9                         c-3.8,14.7-9.6,28.8-17.4,41.9c-2.7,4.6-2.5,10.3,0.6,14.7l24.7,34.8c0.7,1,0.6,2.5-0.3,3.4l-29.8,29.8c-0.7,0.7-1.4,0.8-1.9,0.8                         c-0.6,0-1.1-0.2-1.5-0.5l-34.7-24.7c-4.3-3.1-10.1-3.3-14.7-0.6c-13.1,7.8-27.2,13.6-41.9,17.4c-5.2,1.3-9.1,5.6-9.9,10.8l-7.1,42                         c-0.2,1.3-1.3,2.2-2.6,2.2h-42.1c-1.3,0-2.4-0.9-2.6-2.2l-7-42c-0.9-5.3-4.8-9.5-9.9-10.8c-14.3-3.7-28.1-9.4-41-16.8                         c-2.1-1.2-4.5-1.8-6.8-1.8c-2.7,0-5.5,0.8-7.8,2.5l-35,24.9c-0.5,0.3-1,0.5-1.5,0.5c-0.4,0-1.2-0.1-1.9-0.8l-29.8-29.8                         c-0.9-0.9-1-2.3-0.3-3.4l24.6-34.5c3.1-4.4,3.3-10.2,0.6-14.8c-7.8-13-13.8-27.1-17.6-41.8c-1.4-5.1-5.6-9-10.8-9.9l-42.3-7.2                         c-1.3-0.2-2.2-1.3-2.2-2.6v-42.1c0-1.3,0.9-2.4,2.2-2.6l41.7-7c5.3-0.9,9.6-4.8,10.9-10c3.7-14.7,9.4-28.9,17.1-42                         c2.7-4.6,2.4-10.3-0.7-14.6l-24.9-35c-0.7-1-0.6-2.5,0.3-3.4l29.8-29.8c0.7-0.7,1.4-0.8,1.9-0.8c0.6,0,1.1,0.2,1.5,0.5l34.5,24.6                         c4.4,3.1,10.2,3.3,14.8,0.6c13-7.8,27.1-13.8,41.8-17.6c5.1-1.4,9-5.6,9.9-10.8l7.2-42.3c0.2-1.3,1.3-2.2,2.6-2.2h42.1                         c1.3,0,2.4,0.9,2.6,2.2l7,41.7c0.9,5.3,4.8,9.6,10,10.9c15.1,3.8,29.5,9.7,42.9,17.6c4.6,2.7,10.3,2.5,14.7-0.6l34.5-24.8                         c0.5-0.3,1-0.5,1.5-0.5c0.4,0,1.2,0.1,1.9,0.8l29.8,29.8c0.9,0.9,1,2.3,0.3,3.4l-24.7,34.7c-3.1,4.3-3.3,10.1-0.6,14.7                         c7.8,13.1,13.6,27.2,17.4,41.9c1.3,5.2,5.6,9.1,10.8,9.9l42,7.1c1.3,0.2,2.2,1.3,2.2,2.6v42.1H451.9z"/>                       <path d="M239.4,136.001c-57,0-103.3,46.3-103.3,103.3s46.3,103.3,103.3,103.3s103.3-46.3,103.3-103.3S296.4,136.001,239.4,136.001                         z M239.4,315.601c-42.1,0-76.3-34.2-76.3-76.3s34.2-76.3,76.3-76.3s76.3,34.2,76.3,76.3S281.5,315.601,239.4,315.601z"/>                     </g>                   </g>                 </svg>               </a>               <a class="domain-unlink button-tooltip" data-tooltip="unlink_domain" data-top="true"></a>             </div>             <div class="domain-settings-wrapper f-left col20 mt-25 none-soft" data-role="information">               <h4 class="col20 f-left domain-message" style="line-height:1.3;">&nbsp;</h4>               <span class="help-text t-left col20 f-left mt-25" style="padding: 0;">'+M.DOMAIN_EXPLAIN_TEXT+'</span>              <div class="col20 f-left mt-25 domain-table">                 <div class="col20 f-left domain-row gray">                   <span>Host/Name</span>                   <span>Record Type</span>                   <span>Value</span>                 </div>                 <div class="col20 f-left domain-row">                   <span>@</span>                   <span>A</span>                   <span>%ip%</span>                 </div>                 <div class="col20 f-left domain-row">                   <span>www</span>                   <span>CNAME</span>                   <span>%domain%</span>                 </div>               </div>             </div>';case"websiteSettingsSocialMediaMarkup":return'<div class="f20 padded-content">       <div class="f20 social-media-type-page">        <div class="help-text-wrapper"><span class="help-text">'+M.EDIT_URL_DRAG+'</span></div>        <div class="f20 fields-box"></div>         <a class="square-add button-tooltip f-left mt-15" data-tooltip="addAnotherButton"></a>       </div>    </div>';case"promptForThemeTitle":return'<div class="popup-centered-wrapper">       <span class="help-text" style="display:none;">'+M.WEBSITE_TITLE_TEXT+'</span>       <input type="text" name="val" class="focus transition-border" placeholder="'+M.WEBSITE_TITLE_TEXT+'" />     </div>';case"billingAcceptedMarkup":return'<span class="success-message success-message-padding">         <div class="col20 f-left t-center mt-25">           <span class="material-icons fingerprint-icon"> done </span>         </div>         <h2 class="col20 f-left t-center mb-25 mt-25" style="font-size:32px;">'+M.SUCCESSFULL_PAYMENT+'</h2>         <div class="col20 f-left t-center"><a class="middle-button close-popup f-none inline-block blue">'+M.CLOSE+'</a></div>         <p class="none" style="margin-top: 30px; font-size: 16px;">'+M.SHARE_MESSAGE+'</p>         <div class="share-btn-wrapper none">           <a rel="action" data-action="sharePage" data-type="facebook"><i class="fa fa-facebook"></i></a>           <a rel="action" data-action="sharePage" data-type="twitter"><i class="fa fa-twitter"></i></a>           <a rel="action" data-action="sharePage" data-type="linkedin"><i class="fa fa-linkedin"></i></a>           <a rel="action" data-action="sharePage" data-type="google-plus"><i class="fa fa-google-plus"></i></a>           <a rel="action" data-action="sharePage" data-type="pinterest"><i class="fa fa-pinterest-p"></i></a>         </div>         </span>';case"billingTaxUpdated":return'<span class="success-message success-message-padding vat-recalculation-modal popup-error">                 <i class="fa fa-exclamation-triangle"></i>'+M.VAT_RECALCULATE+"</span>";case"billingInvoicesMarkup":return'<div class="message-item subscribtion-item transition-bg">       <div class="top-part row">         <header>           <div>             <h4>%date% /%planType%/ - <b>%suffix% %amount%</b></h4>           </div>         </header>         <a data-id="%id%" rel="action" data-action="downloadInvoice" class="middle-button gray f-right">'+M.DOWNLOAD_INVOICE+"</a>       </div>     </div>";case"dashboardWebsitesListTemplate":return'<div class="website-wrapper" data-idx="%idx%">       <div class="website-preview">         <div style="%style%"></div>       </div>       <h3>%name%</h3>       <span>%url%</span>     </div>';case"websiteSettingsHeaderLogoMarkup":return'<div class="logo-settings-wrapper popup-widget-wrapper">                   <div class="checkbox-wrapper">                     <input id="useImgLogoInput" name="logoType" value="image" class="css-checkbox modify" type="radio">                     <label for="useImgLogoInput" class="css-label">'+M.IMG_LOGO+"<p>"+M.USE_IMG_LOGO+'</p></label>                   </div>                   <div class="checkbox-wrapper">                     <input id="useTextLogoInput" name="logoType" value="text" class="css-checkbox modify" type="radio">                     <label for="useTextLogoInput" class="css-label">'+M.TEXT_LOGO+"<p>"+M.USE_TEXT_LOGO+'</p></label>                   </div>                   <a class="add-image transition-all f-left none-soft" style="height:120px;">                     <span class="add-button transition-all"></span>                   </a>                   <div class="col20 f-left none-soft" id="textLogoToggle">                     <span>'+M.EDIT_YOUR_TEXT_LOGO+'</span>                     <div class="input-wrapper">                       <div class="text-editor-wrapper">                         <textarea name="textLogo"></textarea>                       </div>                     </div>                   </div>                   <div class="input-wrapper f-right none-soft" id="maxLogoHeightWrapper">                     <div class="info">                       <h5 class="ta-left">'+M.MAX_LOGO_HEIGHT+'<span class="maxLogoHeightSlider slider-val f-right"></span></h5>                     </div>                     <div id="maxLogoHeightSlider"></div>                   </div>                   <div class="input-wrapper f-right">                     <div class="info">                       <h5 class="ta-left">'+M.TOP_BOTTOM_HEADER_MARGIN+'<span class="headerPaddingSlider slider-val f-right"></span></h5>                     </div>                     <div id="headerPaddingSlider"></div>                   </div>                 </div>';case"websiteSettingsHeaderStylesMarkup":return'<div class="popup-widget-wrapper">                   <div class="logo-settings-wrapper">                     <div class="input-wrapper color-pick-wrap-widgets">                       <div class="color-pick-wrap f-left">                         <div></div>                         <input type="text" value="" class="colorpicker-selected" name="headerBackgroundColor">                       </div>                       <div class="info">                         <h5 class="ta-left">'+M.HEADER_BG_COLOR+'</h5>                       </div>                     </div>                     <div class="col20 f-left none-soft" id="with-sidebar-color">                      <div class="input-wrapper color-pick-wrap-widgets">                         <div class="color-pick-wrap f-left">                           <div></div>                           <input type="text" value="" class="colorpicker-selected" name="sideMenuBackgroundColor">                         </div>                         <div class="info">                           <h5 class="ta-left">'+M.SIDE_MENU_BG_COLOR+'</h5>                         </div>                       </div>                     </div>                     <div class="col20 f-left none-soft" id="with-header-text-icon-color">                      <div class="input-wrapper color-pick-wrap-widgets">                         <div class="color-pick-wrap f-left">                           <div></div>                           <input type="text" value="" class="colorpicker-selected" name="headerTextIconColor">                         </div>                         <div class="info">                           <h5 class="ta-left">'+M.HEADER_TEXT_ICON_COLOR+'</h5>                         </div>                       </div>                     </div>                     <div class="input-wrapper color-pick-wrap-widgets" style="margin-bottom: 15px;">                       <div class="color-pick-wrap f-left">                         <div></div>                         <input type="text" value="" class="colorpicker-selected" name="menuTextColor">                       </div>                       <div class="info">                         <h5 class="ta-left">'+M.MENU_TEXT_COLOR+'</h5>                       </div>                     </div>                     <div class="popup-input-wrapper">                       <div class="info">                         <h5 class="ta-left">'+M.MENU_FONT+'</h5>                       </div>                       <select name="menuFont"></select>                     </div>                     <div class="popup-input-wrapper f-right">                       <div class="info">                         <h5 class="ta-left">'+M.FONT_SIZE+'<span class="menuFontSizeSlider slider-val f-right"></span></h5>                       </div>                       <div id="menuFontSizeSlider"></div>                     </div>                     <div class="popup-input-wrapper">                       <div class="checkbox-wrapper">                         <input id="menuUppercase" class="css-checkbox modify" type="checkbox" name="menuUppercase" />                         <label for="menuUppercase" class="css-label" >'+M.ALL_UPPERCASE+"</label>                       </div>                     </div>                   </div>                 </div>";case"addMemberMarkup":return'           <div class="popup-newpage-wrapper">             <div class="popup-input-wrapper" >               <h5>'+M.NAME+'</h5>               <input type="text" name="memberName" placeholder="'+M.NAME+'" class="focus transition-border">             </div>             <div class="popup-input-wrapper" >               <div class="info" >                 <h5>'+M.EMAIL+"</h5>                 <span>"+M.USED_TO_LOGIN+'</span>               </div>               <input type="text" name="memberEmail" placeholder="'+M.EMAIL+'" class="transition-border">             </div>             <div class="input-wrapper">               <a class="middle-button gray choose-groups">'+M.CHOOSE_MEMBER_GROUPS+"</a>             </div>           </div>";case"addContactMarkup":return'           <div class="popup-newpage-wrapper">             <div class="popup-input-wrapper" >               <h5>'+M.NAME+'</h5>               <input type="text" name="name" placeholder="'+M.NAME+'" class="focus transition-border">             </div>             <div class="popup-input-wrapper" >               <div class="info" >                 <h5>'+M.EMAIL+'</h5>               </div>               <input type="text" name="email" placeholder="'+M.EMAIL+'" class="transition-border">             </div>           </div>';case"membersTableRow":return'<tr class="member-item" data-id="%id%">      <td></td>      <td><a rel="tab" href="/me/members/list/%id%" class="member-name">%name%</a></td>      <td>%email%</td>      <td>%registeredOn%</td>      <td>%status%</td>       <td><a rel="tab" href="/me/members/list/%id%" class="details"><i class="fa fa-arrow-right"></i></a></td>    </tr>';case"membersTableRowApproveDeny":return'<div class="approve-buttons">      <a rel="action" data-action="approveMember" class="green middle-button">'+M.APPROVE+'</a>       <a rel="action" data-action="denyMember" class="deny-button">'+M.DENY+"</a>    </div>";case"membersSettingsMarkup":return'<div class="popup-newpage-wrapper">     <div class="checkbox-wrapper col20">       <input id="allow-registrations" class="css-checkbox modify" type="checkbox" name="allowRegistrations" />       <label for="allow-registrations" class="css-label">'+M.ALLOW_REGISTRATIONS+'</label>     </div>     <div class="checkbox-wrapper col20">       <input id="approve-members" class="css-checkbox modify" type="checkbox" name="memberApproval" />       <label for="approve-members" class="css-label">'+M.MEMBER_APPROVAL+'</label>     </div>     <div class="checkbox-wrapper col20">       <input id="notify-on-reg" class="css-checkbox modify" type="checkbox" name="notifyOnReg" />       <label for="notify-on-reg" class="css-label">'+M.MEMBERS_NOTIFY_TITLE+'</label>     </div>     <div class="input-wrapper col20 f-left mt-15">       <div class="info">         <h5>'+M.MEMBER_NOTIFICATION_EMAIL+'</h5>       </div>       <input type="text" name="notifyOnRegEmail" placeholder="'+M.EMAIL+'" />     </div>     <div class="input-wrapper " style="margin-top:20px;">       <div class="info">         <h5>'+M.DEFAULT_GROUP_MEMBERS+'</h5>       </div>       <select name="defaultGroup"></select>     </div>     <div class="input-wrapper none headerSettingsWrapper">       <div class="info">         <h5>'+M.LOGIN_MEMBERS+'</h5>       </div>       <select name="loginLinkType">         <option value="none">'+M.HIDE_FROM_NAVIGATION+'</option>         <option value="icon">'+M.ICON_ONLY+'</option>         <option value="text">'+M.TEXT_ONLY+'</option>         <option value="icon+text">'+M.ICON_AND_TEXT+'</option>       </select>     </div>     <div class="input-wrapper mailchimp-settings-wrapper none">       <a class="middle-button gray mailchimp-settings">'+M.MAILCHIMP_SETTINGS+'</a>     </div>     <div class="input-wrapper mailerlite-settings-wrapper none mt-15">       <a class="middle-button gray mailerlite-settings">'+M.MAILERLITE_SETTINGS+'</a>     </div>     <div class="input-wrapper aweber-settings-wrapper none mt-15">       <a class="middle-button gray aweber-settings">'+M.AWEBER_SETTINGS+'</a>     </div>     <div class="input-wrapper getresponse-settings-wrapper none mt-15">       <a class="middle-button gray getresponse-settings">'+M.GETRESPONSE_SETTINGS+'</a>     </div>     <div class="input-wrapper activecampaign-settings-wrapper none mt-15">       <a class="middle-button gray activecampaign-settings">'+M.ACTIVECAMPAIGN_SETTINGS+'</a>     </div>     <div class="input-wrapper moosend-settings-wrapper none mt-15">       <a class="middle-button gray moosend-settings">'+M.MOOSEND_SETTINGS+'</a>     </div>     <div class="input-wrapper keap-settings-wrapper none mt-15">       <a class="middle-button gray keap-settings">Set Tags</a>     </div>   </div>';case"addCouponPopupMarkup":return'<div class="popup-newpage-wrapper">                   <ul class="discount-select" style="margin-bottom:35px;">                     <li><a class="flat-discount" data-type="FIXED_DISCOUNT"><span></span>'+M.FLAT_DISCOUNT+'</a></li>                     <li><a class="percent-discount" data-type="PERCENT_DISCOUNT"><span></span>'+M.PERCENT_DISCOUNT+'</a></li>                     <li><a class="shipping-discount" data-type="FREE_SHIPPING"><span></span>'+M.FREE_SHIPPING+'</a></li>                   </ul>                   <div class="col20 f-left">                     <div class="info" >                       <h5>'+M.DISCOUNT_NAME+"</h5>                       <span>"+M.DISCOUNT_NAME_TEXT+'</span>                     </div>                     <input type="text" name="name" class="transition-border">                     <div id="discountCodeWrapper" class="col20 f-left">                       <div class="info" >                         <h5>'+M.DISCOUNT_CODE+"</h5>                         <span>"+M.DISCOUNT_CODE_TEXT+'</span>                       </div>                       <input type="text" name="code" class="transition-border">                       <div class="checkbox-wrapper f-left col20">                         <input id="useWithOtherDiscounts" class="css-checkbox " type="checkbox" name="useWithOtherDiscounts">                         <label for="useWithOtherDiscounts" class="css-label">'+M.DISCOUNT_USE_WITH_OTHER+'</label>                       </div>                     </div>                     <div class="checkbox-wrapper f-left col20" id="applyAutomaticallyWrapper">                       <input id="applyAutomatically" class="css-checkbox " type="checkbox" name="applyAutomatically">                       <label for="applyAutomatically" class="css-label">'+M.DISCOUNT_APPLY_WITHOUT_CODE+"<p>"+M.DISCOUNT_APPLY_WITHOUT_CODE_DESC+'</p></label>                     </div>                     <div id="discountValueWrapper" class="col20 f-left">                       <div class="info" >                         <h5>'+M.DISCOUNT_VALUE+'</h5>                       </div>                       <div class="symbol-input price-input">                         <span class="symbol-sign"></span>                         <input type="number" min="0.01" step="0.01" value="0.00" placeholder="0.00" class="transition-border" name="value" />                       </div>                     </div>                     <div class="input-wrapper input-wrapper2">                       <div class="info">                         <h5>'+M.DISCOUNT_START_DATE+"</h5>                         <span>"+M.INCLUSIVE+'</span>                       </div>                       <input type="text" name="validFrom" class="transition-border">                    </div>                     <div class="input-wrapper input-wrapper2 f-right">                       <div class="info">                         <h5>'+M.DISCOUNT_END_DATE+"</h5>                         <span>"+M.INCLUSIVE+'</span>                       </div>                       <input type="text" name="validTo" class="transition-border">                    </div>                     <div class="info">                       <h5>'+M.APPLY_THE_CODE_FOR+'</h5>                     </div>                     <select name="applyTo"></select>                     <div class="col20 f-left none-soft" id="totalOverWrapper">                       <div class="symbol-input">                         <span class="symbol-sign"></span>                         <input type="number" min="0.01" step="0.01" value="0.00" placeholder="0.00" class="transition-border" name="applyOverAmount" />                       </div>                     </div>                     <div class="col20 f-left multiple-items-picker" id="memberGroupsWrapper">                       <ul class="groups">                         <li class="add-group"><a rel="action" data-action="chooseMemberGroups">'+M.SELECT_MEMBER_GROUPS+'</a></li>                       </ul>                     </div>                     <div class="col20 f-left multiple-items-picker" id="categoriesWrapper">                       <ul class="groups" style="margin-bottom:20px;">                         <li class="add-group"><a rel="action" data-action="chooseProductCategories">'+M.SELECT_STORE_PRODUCT_CATEGORIES+'</a></li>                         <li data-role="count">'+WebPlatform.format(M.CATEGORIES_SELECTED,"no",0)+'</li>                       </ul>                     </div>                     <div class="col20 f-left multiple-items-picker" id="productsWrapper">                       <ul class="groups">                         <li class="add-group"><a rel="action" data-action="chooseProductCategories">'+M.SELECT_PRODUCTS+"</a></li>                       </ul>                     </div>                   </div>                 </div>";case"productImageSmallMarkup":return'<a class="product-image add-image">                   <span class="add-button"></span>                 </a>';case"productVariationRow":return'<tr>                   <td width="80px;"><span class="variation-name"></span></td>                   <td>                     <ul class="variation-tags tags-wrapper f-left col20"></ul>                   </td>                   <td width="50px;">                     <div class="checkbox-wrapper f-left col20">                       <input id="advanced-variation%id%" class="css-checkbox " type="checkbox">                       <label for="advanced-variation%id%" style="margin-right: 0" class="css-label button-tooltip" data-timeout="6000" data-tooltip="storeProductAdvancedVariationTooltip">&nbsp;</label>                     </div>                   </td>                   <td width="50px;">                    <a class="set-image button-tooltip" data-tooltip="variationImages" style="margin-right: 15px;"><i class="fa fa-picture-o"></i></a>                    <a class="delete"><i class="fa fa-trash-o"></i></a>                  </td>                 </tr>';case"productCombinationRow":return'<tr>                   <td style="width: 150px"><span></span></td>                   <td>                     <div class="symbol-input %currencyAlign% variation-price">                       <span class="symbol-sign">%currencySymbol%</span>                      <input type="number" min="0.01" step="0.01" value="0.00" placeholder="0.00" name="combinationPrice">                    </div>                  </td>                   <td>                    <div class="symbol-input %currencyAlign% variation-price">                      <span class="symbol-sign">%currencySymbol%</span>                      <input type="number" min="0.01" step="0.01" value="0.00" placeholder="0.00" name="combinationSalePrice">                    </div>                  </td>                   <td>                     <div class="checkbox-wrapper f-left col20">                       <input id="on-sale-%id%" class="css-checkbox " type="checkbox" name="combinationOnSale">                       <label for="on-sale-%id%" class="css-label">&nbsp;</label>                     </div>                   </td>                   <td><input type="text" name="combinationSKU"></td>                   <td><input type="text" min="0" step="1" name="combinationQuantity"></td>                   <td>                    <div class="symbol-input right-sign variation-price">                      <span class="symbol-sign">%weightUnit%</span>                      <input type="text" name="combinationWeight">                    </div>                  </td>                 </tr>';case"productListRow":return'<tr class="member-item">                <td class="desktop"></td>                <td><div class="product-thumb"></div></td>                <td><a href="/me/store/products/%id%" rel="tab"></a></td>                <td class="desktop"></td>                <td></td>                <td><a href="/me/store/products/%id%" rel="tab" class="details"><i class="fa fa-arrow-right"></i></a></td>               </tr>';case"storeProductCategoryMarkup":return'<div class="popup-newpage-wrapper">           <div class="popup-input-wrapper" >             <h5>'+M.PRODUCT_CATEGORY_NAME+'</h5>             <input type="text" name="categoryName" class="focus transition-border">           </div>           <div class="popup-input-wrapper">             <h5>'+M.PRODUCT_CATEGORY_URL+'</h5>             <input type="text" name="categoryUrl" class="transition-border">           </div>           <div class="col20 f-left none subcategories-wrapper">             <h5>'+M.STORE_SUBCATEGORIES+'</h5>             <span class="explain-text">'+M.STORE_SUBCATEGORIES_INFO+'</span>             <ul></ul>            <a data-role="add">'+M.STORE_ADD_SUBCATEGORY+"</a>           </div>         </div>";case"storeAddTaxCountry":return'<div class="popup-newpage-wrapper">           <div class="info">             <h5>'+M.COUNTRY+'</h5>           </div>           <div class="input-wrapper">             <select name="countryCode" class="focus transition-border"></select>           </div>           <div id="stateWrapper" class="col20 f-left none-soft">             <div class="info">               <h5>'+M.STATE+'</h5>             </div>             <div class="input-wrapper">               <select name="state" class="transition-border"></select>             </div>           </div>           <div class="info">             <h5>'+M.TAX_NAME+"</h5>             <span>"+M.TAX_NAME_DESC+'</span>          </div>           <div class="input-wrapper">             <input type="text" name="taxName" class="transition-border">           </div>           <div class="info">             <h5>'+M.TAX_TYPE+'</h5>           </div>           <div class="input-wrapper">             <select type="text" name="taxType" class="transition-border">               <option value="0">'+M.TAX_TYPE_PERCENT+'</option>               <option value="1">'+M.TAX_TYPE_FIXED+'</option>             </select>           </div>           <div class="info">             <h5>'+M.TAX_AMOUNT+'</h5>           </div>           <div class="input-wrapper">             <div class="symbol-input right-symbol">               <span class="symbol-sign">$</span>              <input type="number" min="0.01" step="0.01" value="0.00" placeholder="0.00" name="taxAmount">            </div>          </div>           <div class="checkbox-wrapper f-left col20 mt-15">             <input id="applyToShipping" class="css-checkbox " type="checkbox" name="applyToShipping">             <label for="applyToShipping" class="css-label">'+M.TAX_APPLY_TO_SHIPPING+"<p>"+M.TAX_APPLY_TO_SHIPPING_DESC+'</p></label>           </div>           <div class="checkbox-wrapper f-left col20">             <input id="applyToBusiness" class="css-checkbox " type="checkbox" name="applyToBusiness">             <label for="applyToBusiness" class="css-label">'+M.TAX_APPLY_TO_BUSINESSES+"<p>"+M.TAX_APPLY_TO_BUSINESSES_DESC+"</p></label>           </div>         </div>";case"storeTaxCountryRow":return'<a rel="action" data-action="editTaxCountry" id="tax-country-%id%" class="tax-country col20 f-left">          <span>%country% - %name%<span class="f-right">%amount%</span></span>        </a>';case"editShippingOptionMarkup":return'<div class="popup-newpage-wrapper">           <div class="info">             <h5>'+M.STORE_SHIPPING_COSTS_DEPEND_TITLE+"</h5>             <span>"+M.STORE_SHIPPING_COSTS_DEPEND_DESC+'</span>           </div>           <div class="input-wrapper">             <select name="shippingType" class="focus transition-border">               <option value="0">'+M.STORE_SHIPPING_BY_PRICE+'</option>               <option value="1">'+M.STORE_SHIPPING_BY_WEIGHT+'</option>             </select>           </div>           <div class="info">             <h5>'+M.NAME+'</h5>           </div>           <div class="input-wrapper">             <div class="symbol-input">               <input type="text" name="name">            </div>          </div>           <div class="input-wrapper input-wrapper2">             <div class="info">               <h5>'+M.FROM+"</h5>               <span>"+M.INCLUSIVE+'</span>             </div>             <div class="symbol-input">               <span class="symbol-sign"></span>              <input type="number" min="0.01" step="0.01" value="0.00" placeholder="0.00" name="rangeFrom">            </div>          </div>           <div class="input-wrapper input-wrapper2 f-right">             <div class="info">               <h5>'+M.TO+"</h5>               <span>"+M.INCLUSIVE+'</span>             </div>             <div class="symbol-input">               <span class="symbol-sign"></span>              <input type="number" min="0.01" step="0.01" value="0.00" placeholder="0.00" name="rangeTo">            </div>          </div>           <div class="info">             <h5>'+M.SHIPPING_COST+'</h5>           </div>           <div class="input-wrapper">             <div class="symbol-input">               <span class="symbol-sign"></span>              <input type="number" min="0.01" step="0.01" value="0.00" placeholder="0.00" name="cost">            </div>          </div>           <div class="info">             <h5>'+M.APPLY_FOR+'</h5>           </div>           <div class="shipping-country-list"><span class="ellipsis"></span><a class="edit-icon f-right"></a></div>         </div>';case"shippingOptionRowMarkup":return'<a rel="action" data-action="editShippingOption" class="shipping-option col20 f-left" data-role="shipping-option" id="shipping-option-%order%">                   <span class="h5">%name%</span>                   <span class="h5 shipping-type">(%title%)</span>                   <span class="ellipsis">%countries%</span>                   <span class="shipping-price">%fromRange% - %toRange% <span>%price%</span></span>                 </a>';case"storeOrderRow":return'<div class="order-item paymentStatus%paymentStatusClass% orderStatus%orderStatusClass%" id="store-order-%id%" data-id="%id%">                   <div class="order-item-wrapper" rel="action" data-action="viewOrderItem" data-id="%id%">                     <div class="tcol-15">%no%</div>                     <div class="tcol-25"><span>%customerName%</span><p>(%customerEmail%)</p></div>                     <div class="tcol-15">%time%</div>                     <div class="tcol-10 roboto">%total%</div>                     <div class="tcol-13">%paymentType%</div>                     <div class="tcol-10 payment-status-field">%paid%</div>                     <div class="tcol-12 status-field"><span class="payment-indicator"></span><span class="order-status-text">%paymentStatus%</span></div>                   </div>                   <div class="order-summary-wrapper none-soft"></div>                 </div>';case"storeOrderRowMobile":return'<div class="order-item paymentStatus%paymentStatusClass% orderStatus%orderStatusClass%" id="store-order-%id%" data-id="%id%">                 <div class="order-item-wrapper" rel="action" data-action="viewOrderItem" data-id="%id%">                   <section class="left">                     <div>                       <div class="tcol-10">%no%</div>                       <div class="tcol-15">%time%</div>                     </div>                     <div class="tcol-25"><span>%customerName%</span><p>(%customerEmail%)</p></div>                   </section>                   <section class="right">                     <div class="tcol-12"><b>%total%</b></div>                     <div class="tcol-12 status-field"><span class="payment-indicator"></span>%paymentStatus%</div>                   </section>                 </div>                 <div class="order-summary-wrapper none-soft"></div>               </div>';case"storeSubscriptionRow":return'              <div class="order-item" data-id="%id%">                 <div class="order-item-wrapper">                   <div class="tcol-25">%title%</div>                   <div class="tcol-10">                     <span>%price%</span>                     <p class="%partsclz%">(%priceParts%)</p>                   </div>                   <div class="tcol-15">%lastBilling%</div>                   <div data-role="next-billing-date" class="tcol-15 %nextBillingClz%">%nextBilling%</div>                   <div class="tcol-5 row-options"></div>                 </div>               </div>';case"storeOrderRowContactView":return'<div class="order-item paymentStatus%paymentStatusClass% orderStatus%orderStatusClass%" id="store-order-%id%" data-id="%id%">                 <div class="order-item-wrapper" rel="action" data-action="viewOrderItem" data-id="%id%">                  <div class="tcol-10">%no%</div>                  <div class="tcol-25">                    <span>%customerName%</span>                    <p>(%customerEmail%)</p>                  </div>                  <div class="tcol-15">%time%</div>                  <div class="tcol-10 roboto">%total%</div>                  <div class="tcol-12 status-field"><span class="payment-indicator"></span>%paymentStatus%</div>                 </div>                <div class="order-summary-wrapper none-soft"></div>              </div>';case"storeOrderRowContactMobileView":return'<div class="order-item paymentStatus%paymentStatusClass% orderStatus%orderStatusClass%" id="store-order-%id%" data-id="%id%">                 <div class="order-item-wrapper" rel="action" data-action="viewOrderItem" data-id="%id%">                   <section class="left">                     <div>                       <div class="tcol-10">%no%</div>                       <div class="tcol-15">%time%</div>                     </div>                     <div class="tcol-25"><span>%customerName%</span><p>(%customerEmail%)</p></div>                   </section>                   <section class="right">                     <div class="tcol-12"><b>%total%</b></div>                     <div class="tcol-12 status-field"><span class="payment-indicator"></span>%paymentStatus%</div>                   </section>                 </div>                 <div class="order-summary-wrapper none-soft"></div>               </div>';case"storeOrderInfoRow":return'<div class="order-summary">                   <h4>'+M.PRODUCTS+'</h4>                   <div class="ordered-product titles">                     <div class="tcol-15">'+M.SKU+'</div>                     <div class="tcol-40">'+M.PRODUCT+'</div>                     <div class="tcol-20">'+M.VARIATION+'</div>                     <div class="tcol-10">'+M.QUANTITY+'</div>                     <div class="tcol-10">'+M.PRICE+'</div>                   </div>                   <div class="col20 f-left ordered-products-wrapper"></div>                   <div class="order-shipping-info-wrapper">                     <h4 >'+M.SHIPPING_DETAILS+'</h4>                     <span></span>                   </div>                   <div class="order-billing-info-wrapper">                     <h4 >'+M.BILLING_DETAILS+'</h4>                     <span></span>                   </div>                   <div class="order-payment-info-wrapper">                     <h4 >'+M.PAYMENT_INFO+'</h4>                     <span></span>                   </div>                   <div class="order-buttons-info-wrapper col20 f-left mt-15">                   <a rel="action" data-action="orderActions" class="middle-button green f-right">'+M.ACTIONS+'</a>                  </div>                   <!--<div class="order-details">                     <h4 style="margin-top:30px;">Coupon Codes</h4>                     <span>                       NONE                     </span>                   </div>                   <div class="order-details">                     <h4 style="margin-top:30px;">Invoice</h4>                     <a href="" class="blue-text">View Invoice</a>                   </div> -->                </div>';case"storeOrderInfoItemRow":return'<div class="ordered-product">                   <div class="tcol-15">%sku%</div>                   <div class="tcol-10" style="overflow:visible;">%thumb%</div>                   <div class="tcol-30">%name%</div>                   <div class="tcol-20">%variations%</div>                   <div class="tcol-10">%quantity%</div>                   <div class="tcol-10 roboto">%price%</div>                   <!--<div class="tcol-5"><a href="" class="delete-product"><i class="fa fa-trash-o"></i></a></div> -->                </div>';case"storeDiscountsRow":return'<tr class="member-item %disabled%" data-id="%id%">               		<td><span class="payment-indicator"></span></td>               		<td>%code%<span>%name%</span></td>               		<td>%type%</td>               		<td>%validFrom%</td>               		<td>%validTo%</td>               		<td>                     <a rel="action" data-action="changeDiscountStatus" class="disable-coupon">%changeStatusBtn%</a>                     <a rel="action" data-action="editDiscount" class="edit-coupon">'+M.EDIT+'</a>                  </td>               		<td><a rel="action" data-action="deleteDiscount" class="delete-coupon"><i class="fa fa-trash-o"></i></a></td>               	</tr>';case"storeWidgetAdminMarkup":return'<div class="popup-newpage-wrapper">                   <div class="cpanel-popup-slide">                     <div class="input-wrapper input-wrapper2">                       <div class="portfolio-list-option"></div>                     </div>                     <ul class="option-select">                      <li class="active"><a class="grid transition-bg"><span></span>'+M.GRID+'</a></li>                      <li><a class="carousel transition-bg"><span></span>'+M.CAROUSEL+'</a></li>                    </ul>                    <div class="gallery-content">                       <div class="input-wrapper">                         <div class="info input-slider-wrapper">                            <label>'+M.PRODUCTS_PER_ROW+'</label>                         <div id="itemsPerRowSlider"></div>                            <input type="text" readonly="readonly" class="slider-val modify">                          </div>                        </div>                       <div class="input-wrapper">                         <div class="info input-slider-wrapper">                            <label>'+M.PRODUCT_PADDINGS+'</label>                         <div id="itemGapSlider"></div>                            <input type="text" readonly="readonly" class="slider-val modify">                          </div>                        </div>                       <div class="checkbox-wrapper col20">                           <input id="showProductName" name="showProductName" class="css-checkbox modify" type="checkbox">                           <label for="showProductName" class="css-label">'+M.SHOW_PRODUCT_NAME+'</label>                        </div>                        <div class="checkbox-wrapper col20">                           <input id="showProductPrice" name="showProductPrice" class="css-checkbox modify" type="checkbox">                           <label for="showProductPrice" class="css-label">'+M.SHOW_PRODUCT_PRICE+'</label>                        </div>                        <div class="checkbox-wrapper col20">                           <input id="showAddButton" name="showAddButton" class="css-checkbox modify" type="checkbox">                           <label for="showAddButton" class="css-label">'+M.SHOW_ADD_TO_CART_BUY_BTN+'</label>                        </div>                        <div class="checkbox-wrapper col20">                           <input id="useProductQuickView" name="useProductQuickView" class="css-checkbox modify" type="checkbox">                           <label for="useProductQuickView" class="css-label">'+M.SHOW_PRODUCT_QUICK_VIEW+'</label>                        </div>                       <div class="f-left" id="carouselSettings">                         <div class="checkbox-wrapper col20">                           <input id="autoChangeSlides" name="autoChangeSlides" class="css-checkbox modify" type="checkbox">                           <label for="autoChangeSlides" class="css-label" rel="toggle"  data-toggle="#autoChangeSlidesDelay">'+M.CHANGE_SLIDES_AUTOMATICALLY+'</label>                        </div>                        <div class="input-wrapper" id="autoChangeSlidesDelay" style="display: none">                          <div class="info input-slider-wrapper">                             <label>'+M.SLIDE_DELAY+'</label>                          <div id="autoChangeItemsTimeoutSlider"></div>                             <input type="text" readonly="readonly" class="slider-val modify">                           </div>                         </div>                      </div>                     </div>                  </div>                   <div class="col20 f-left store-layouts">                     <h5>'+M.PRODUCT_LAYOUT+'</h5>                      <label class="image-tick-wrapper f-left">                      <input type="radio" name="productLayout" value="text-center">                      <span class="image-tick layout-1">&nbsp;</span>                      </label>                      <label class="image-tick-wrapper f-left">                      <input type="radio" name="productLayout" value="text-left">                      <span class="image-tick layout-2">&nbsp;</span>                      </label>                      <label class="image-tick-wrapper f-left">                      <input type="radio" name="productLayout" value="text-over">                      <span class="image-tick layout-3">&nbsp;</span>                      </label>                      <label class="image-tick-wrapper f-left">                      <input type="radio" name="productLayout" value="text-boxed">                      <span class="image-tick layout-4">&nbsp;</span>                      </label>                   </div>                   <div class="col20 f-left" id="itemsCountWrapper">                       <div class="input-wrapper" id="itemsCount">                        <div class="info input-slider-wrapper">                           <label>'+M.MAX_RELATED_ITEMS+'</label>                        <div id="itemsCountSlider"></div>                           <input type="text" readonly="readonly" class="slider-val modify">                         </div>                       </div>                  </div>                 </div>';case"addPageDialogMarkupNew":return'<div class="add-page-wrapper flex flex-row">           <a class="add-page page flex-1"><p></p><h3>'+M.PAGE+'</h3></a>           <a class="add-page store flex-1"><p></p><h3>'+M.STORE_TITLE+'</h3></a>           <a class="add-page blog flex-1"><p></p><h3>'+M.BLOG_TITLE+'</h3></a>           <a class="add-page portfolio flex-1"><p></p><h3>'+M.PORTFOLIO_TITLE+'</h3></a>           <a class="add-page popup flex-1"><p></p><h3>'+M.POPUP+'</h3></a>           <a class="add-page group flex-1"><p></p><h3>'+M.GROUP+"</h3></a>         </div>";case"containerResizePopupMarkup":return'<div class="popup-widget-wrapper container-layout-wrapper">           <div class="options-wrapper">             <h5>Container Width</h5>             <ul class="option-select container-type container-width">              <li><a class="container-boxed transition-bg"><span></span>'+M.CONTAINER_BOXED+'</a></li>              <li><a class="container-full transition-bg"><span></span>'+M.CONTAINER_FULL+'</a></li>            </ul>          <div class="options-wrapper" style="margin-bottom:0;">             <h5>Container Height</h5>             <ul class="option-select container-type container-height" style="margin-bottom:0;">              <li><a class="container-normal transition-bg"><span></span>'+M.CONTAINER_NORMAL+'</a></li>              <li><a class="container-height transition-bg"><span></span>'+M.CONTAINER_HEIGHT+'</a></li>            </ul>          </div>           <div class="checkbox-wrapper popup-input-wrapper mt-25">             <input id="isMobileFullHeight" name="isMobileFullHeight" class="css-checkbox" type="checkbox">             <label for="isMobileFullHeight" class="css-label">'+M.KEEP_FULLHEIGHT_ON_MOBILE+"</label>          </div>        <div>";case"storeProductsLimitReachedMarkup":return'<div>           <div class="upgrade-modal">           <img src="'+resources+'/images/store-upgrade.png">           <h2>'+M.PRODUCT_LIMIT+"</h2>           <span>"+M.NO_STORE_ITEMS_AVAILABLE+'</span>           <a data-action="openBilling" class="blue upgrade-button">'+M.UPGRADE+"</a>           </div>         </div>";case"pagesLimitReachedMarkup":return'<div>           <div class="upgrade-modal">           <img src="'+resources+'/images/pages-upgrade.png">           <h2>'+M.PAGE_LIMIT+"</h2>           <span>"+M.NO_PAGES_AVAILABLE+'</span>           <a href="/me/settings/billing" class="blue upgrade-button">'+M.UPGRADE+"</a>           </div>         </div>";case"contributorsLimitReachedMarkup":return'<div>           <div class="upgrade-modal">           <img src="'+resources+'/images/contributor-upgrade.png">           <h2>'+M.CONTRIBUTOR_LIMIT+"</h2>           <span>"+M.NO_CONTRIBUTORS_AVAILABLE+'</span>           <a data-action="openBilling" class="blue upgrade-button">'+M.UPGRADE+"</a>           </div>         </div>";case"storageLimitReachedMarkup":return'<div>           <div class="upgrade-modal">           <img src="'+resources+'/images/storage-upgrade.png">           <h2>'+M.STORAGE_LIMIT+"</h2>           <span>"+M.NO_STORAGE_AVAILABLE+'</span>           <a href="/me/settings/billing" class="blue upgrade-button">'+M.UPGRADE+"</a>           </div>         </div>";case"popupSettingsButtons":return'<div class="modal-settings active-widget-settings">                   <a rel="action" data-action="popupSettings" class="widget-setting popup-edit">'+M.POPUP_SETTINGS+'</a>                   <a rel="action" data-action="popupShowOnSettings" class="widget-setting widget-button-default widget-button-default-text">'+M.POPUP_SHOW_ON_SETTINGS+'</a>                   <a rel="action" data-action="popupStylingSettings" class="widget-setting widget-button-default popup-styling"></a>                   <a rel="action" data-action="savePopup" class="widget-setting f-right none-soft popup-edit popup-save">'+M.SAVE+"</a>                 </div>";case"megaMenuSettingsButtons":return'<div class="megamenu-settings-wrapper">                  <div class="modal-settings active-widget-settings">                   <a rel="action" data-action="saveMegaMenu" class="widget-setting none-soft btn-save">'+M.CONFIRM+'</a>                   <a rel="action" data-action="closeMegaMenu" class="widget-setting popup-edit btn-cancel">'+M.CLOSE+"</a>                   </div>                </div>";case"popupSettingsStructure":return'<div class="popup-widget-wrapper">           <ul class="option-select container-type modal-select">            <li><a class="modal-center transition-bg"><span></span>'+M.CENTER_POP+'</a></li>            <li><a class="modal-bottom-right transition-bg"><span></span>'+M.BOTTOM_RIGHT_POP+'</a></li>            <li><a class="modal-bottom-left transition-bg"><span></span>'+M.BOTTOM_LEFT_POP+'</a></li>            <li><a class="modal-full transition-bg"><span></span>'+M.FULL_POP+'</a></li>            <li><a class="modal-top transition-bg"><span></span>'+M.TOP_POP+'</a></li>            <li><a class="modal-bottom transition-bg"><span></span>'+M.BOTTOM_POP+'</a></li>          </ul>          <div class="popup-input-wrapper" >             <h5>'+M.POPUP_NAME+'</h5>             <input type="text" name="name" />           </div>           <div class="popup-input-wrapper" >             <h5>'+M.POPUP_SHOW+'</h5>           </div>           <div class="checkbox-wrapper popup-input-wrapper">             <input id="showPopupWithDelay" name="showPopupWithDelay" class="css-checkbox" type="checkbox">             <label for="showPopupWithDelay" class="css-label">'+M.POPUP_DELAY+'</label>          </div>          <div class="popup-input-wrapper" id="popupDelaySliderWrapper">             <h5 class="inline">'+M.POPUP_DELAY_DESC+'</h5>            <input type="text" readonly="readonly" class="slider-val">             <div id="popupDelaySlider"></div>           </div>           <div class="checkbox-wrapper popup-input-wrapper">             <input id="showPopupOnScroll" name="showPopupOnScroll" class="css-checkbox" type="checkbox">             <label for="showPopupOnScroll" class="css-label">'+M.POPUP_SCROLL+'</label>          </div>          <div class="popup-input-wrapper" id="scrollDistanceSliderWrapper">             <h5 class="inline">'+M.POPUP_SCROLL_DESC+'</h5>            <input type="text" readonly="readonly" class="slider-val">             <div id="scrollDistanceSlider"></div>           </div>           <div class="checkbox-wrapper popup-input-wrapper">             <input id="popupExit" name="showOnExit" class="css-checkbox" type="checkbox">             <label for="popupExit" class="css-label">'+M.POPUP_EXIT+'</label>          </div>          <div class="checkbox-wrapper popup-input-wrapper">             <input id="showOnMobile" name="showOnMobile" class="css-checkbox" type="checkbox">             <label for="showOnMobile" class="css-label">'+M.POPUP_ALLOWED_ON_MOBILE+'</label>          </div>          <div class="popup-input-wrapper" style="margin-top: 10px;">             <h5>'+M.POPUP_FREQUENCY_SETTINGS_TITLE+'</h5>             <select name="popupShowFrequency">               <option value="once">'+M.POPUP_SHOW_ONLY_ONCE+'</option>               <option value="session">'+M.POPUP_SHOW_ONCE_PER_SESSION+'</option>               <option value="always">'+M.POPUP_SHOW_EVERY_TIME+'</option>             </select>           </div>           <div class="popup-input-wrapper">             <h5>'+M.POPUP_ANIMATION+'</h5>             <select name="popupAnimation">               <option value="popup-fade">'+M.FADE_IN+'</option>               <option value="popup-fade-scale">'+M.FADE_IN_SCALE+'</option>               <option value="popup-fade-top">'+M.FADE_IN_FROM_TOP+'</option>               <option value="popup-fade-bottom">'+M.FADE_IN_FROM_BOTTOM+'</option>               <option value="popup-fade-right">'+M.FADE_IN_FROM_RIGHT+'</option>               <option value="popup-fade-left">'+M.FADE_IN_FROM_LEFT+'</option>               <option value="popup-fade-superscale">'+M.FADE_SUPERSCALE+'</option>               <option value="popup-flip-horizontal">'+M.FLIP_HORIZONTAL+'</option>               <option value="popup-flip-vertical">'+M.FLIP_VERTICAL+"</option>             </select>           </div>         </div>";case"popupShowOnStructure":return'<div>           <div class="upgrade-modal">           <img src="'+resources+'/images/storage-upgrade.png">           <h2>'+M.STORAGE_LIMIT+"</h2>           <span>"+M.NO_STORAGE_AVAILABLE+'</span>           <a href="/me/settings/billing" class="blue upgrade-button">'+M.UPGRADE+"</a>           </div>         </div>";case"popupStylingStructure":return'<div class="popup-widget-wrapper">           <div class="col20 f-left" style="margin-bottom:30px;">             <ul class="option-select five-way-select">               <li class="blank"><a><span></span></a></li>               <li><a class="popup-top transition-bg"><span></span></a></li>              <li class="blank"><a><span></span></a></li>               <li><a class="popup-left transition-bg"><span></span></a></li>              <li><a class="popup-center transition-bg"><span></span></a></li>              <li><a class="popup-right transition-bg"><span></span></a></li>              <li class="blank"><a><span></span></a></li>               <li><a class="popup-bottom transition-bg"><span></span></a></li>              <li class="blank"><a><span></span></a></li>             </ul>           </div>           <div class="popup-input-wrapper color-pick-wrap-widgets" style="margin-bottom:0;">             <div class="color-pick-wrap">               <div></div>               <input type="text" value="" class="colorpicker-selected" name="contentBackgroundColor">             </div>             <div class="info">               <h5>'+M.POPUP_BACKGROUND_COLOR+'</h5>             </div>           </div>           <div class="col20 f-left none" id="bgOverlaySettings">             <div class="popup-input-wrapper color-pick-wrap-widgets" style="margin-bottom:0;">               <div class="color-pick-wrap">                 <div></div>                 <input type="text" value="" class="colorpicker-selected" name="overlayColor">               </div>               <div class="info">                 <h5>'+M.OVERLAY_BACKGROUND_COLOR+'</h5>               </div>             </div>           </div>           <div class="popup-input-wrapper color-pick-wrap-widgets">             <div class="color-pick-wrap">               <div></div>               <input type="text" value="" class="colorpicker-selected" name="closeBtnColor">             </div>             <div class="info">               <h5>'+M.POPUP_CLOSE_COLOR+'</h5>             </div>           </div>           <div class="popup-input-wrapper">             <h5 class="inline">'+M.PADDING_SIZE+'</h5>            <input type="text" readonly="readonly" class="slider-val">             <div id="paddingSizeSlider"></div>           </div>         </div>';case"popupBackgroundStructure":return'<div class="popup-newpage-wrapper">                   <div class="left-section-pop">                     <a class="add-image transition-all backgroundSelectImageHolder full-width" style="margin-top:0;">                       <span class="add-button transition-all"></span>                     </a>                   </div>                   <div class="input-wrapper input-wrapper-small color-pick-wrap-widgets" style="margin-bottom:10px;">                     <div class="color-pick-wrap">                       <div></div>                       <input type="text" value="" class="colorpicker-selected modify" name="bgColor">                     </div>                     <div class="info">                       <h5>'+M.BACKGROUND_COLOR+'</h5>                     </div>                   </div>                  <div class="col20 f-left">                    <div class="popup-input-wrapper mt-15">                       <div class="info">                         <h5>'+M.BACKGROUND_IMAGE_POSITION+'</h5>                       </div>                       <select class="page-select modify" name="bgPosition">                         <option value="left top">'+M.LEFT_TOP+'</option>                         <option value="left center">'+M.LEFT_CENTER+'</option>                         <option value="left bottom">'+M.LEFT_BOTTOM+'</option>                         <option value="right top">'+M.RIGHT_TOP+'</option>                         <option value="right center">'+M.RIGHT_CENTER+'</option>                         <option value="right bottom">'+M.RIGHT_BOTTOM+'</option>                         <option value="center top">'+M.CENTER_TOP+'</option>                         <option value="center center">'+M.CENTER_CENTER+'</option>                         <option value="center bottom">'+M.CENTER_BOTTOM+'</option>                       </select>                     </div>                     <div class="popup-input-wrapper">                       <div class="info">                         <h5>'+M.BACKGROUND_IMAGE_REPEAT+'</h5>                       </div>                       <select class="page-select modify" name="bgRepeat">                         <option value="repeat">'+M.REPEAT+'</option>                         <option value="repeat-x">'+M.REPEAT_HORIZONTALLY+'</option>                         <option value="repeat-y">'+M.REPEAT_VERTICALLY+'</option>                         <option value="no-repeat">'+M.NO_REPEAT+'</option>                         <option value="cover">'+M.COVER_WHOLE_AREA+"</option>                       </select>                     </div>                   </div>                </div>";case"popupPickThumbnailPopup":return'<div class="popup-newpage-wrapper">                   <div class="left-section-pop">                     <a class="add-image transition-all backgroundSelectImageHolder full-width" style="margin-top:0;">                       <span class="add-button transition-all"></span>                     </a>                   </div>                   <div class="checkbox-wrapper popup-input-wrapper">                     <input id="visibleAsTemplate" name="visibleAsTemplate" class="css-checkbox" type="checkbox">                     <label for="visibleAsTemplate" class="css-label">VISIBLE AS TEMPLATE FOR NEW POPUPS</label>                  </div>                </div>';case"emailSettingsMarkup":return'<div class="popup-widget-wrapper">                   <div class="popup-input-wrapper" >                     <h5>SMTP Host</h5>                      <input type="text" name="smtpHost" class="transition-all">                   </div>                   <div class="popup-input-wrapper" >                     <h5>SMTP Port</h5>                      <input type="number" name="smtpPort" placeholder="ex. 587" class="transition-all">                   </div>                   <div class="popup-input-wrapper" >                     <h5>SMTP Username</h5>                      <input type="text" name="smtpUser" class="transition-all">                   </div>                   <div class="popup-input-wrapper" >                     <h5>SMTP Password</h5>                      <input type="password" autocomplete="new-password" name="smtpPass" class="transition-all">                   </div>                   <div class="popup-input-wrapper" >                     <h5>From email</h5>                      <input type="text" name="emailFrom" class="transition-all">                   </div>                   <div class="popup-input-wrapper" >                     <h5>From name</h5>                      <input type="text" name="fromName" class="transition-all">                   </div>                 </div>';case"mailchimpSettingsMarkup":return'<div class="popup-widget-wrapper">                   <div class="info">                     <span>You can connect your mailchimp account and send collected emails to your mailchimp lists. Simply enter your API key below</span>                   </div>                   <div class="popup-input-wrapper mt-15" >                     <h5>Mailchimp API Key</h5>                      <input type="text" name="mailchimpKey" class="transition-all">                   </div>                   <div class="checkbox-wrapper">                       <input id="enableDoubleOptInCbx" class="css-checkbox" type="checkbox" name="enableDoubleOptIn" />                       <label for="enableDoubleOptInCbx" class="css-label">'+M.MAILCHIMP_ENABLE_DOUBLE_OPT_IN+"<span>"+M.MAILCHIMP_DOUBLE_OPT_IN_DESC+"</span>                       </label>                     </div>                 </div>";case"getresponseSettingsMarkup":return'<div class="popup-widget-wrapper">                   <div class="info">                     <span>'+M.GETRESPONSE_SETTINGS_INFO+'</span>                   </div>                   <div class="popup-input-wrapper mt-15" >                     <h5>'+M.GETRESPONSE_API_KEY+'</h5>                      <input type="text" name="getresponseKey" class="transition-all">                   </div>                 </div>';case"mailerliteSettingsMarkup":return'<div class="popup-widget-wrapper">                   <div class="info">                     <span>'+M.MAILERLITE_SETTINGS_INFO+'</span>                   </div>                   <div class="popup-input-wrapper mt-15" >                     <h5>'+M.MAILERLITE_API_KEY+'</h5>                      <input type="text" name="mailerliteKey" class="transition-all">                   </div>                 </div>';case"moosendSettingsMarkup":return'<div class="popup-widget-wrapper">                   <div class="info">                     <span>'+M.MOOSEND_SETTINGS_INFO+'</span>                   </div>                   <div class="popup-input-wrapper mt-15" >                     <h5>'+M.MOOSEND_API_KEY+'</h5>                      <input type="text" name="moosendKey" class="transition-all">                   </div>                 </div>';case"activecampaignSettingsMarkup":return'<div class="popup-widget-wrapper">                   <div class="info">                     <span style="line-height:1.4;margin-bottom:20px;">'+M.ACTIVECAMPAIGN_SETTINGS_DESC+'</span>                   </div>                   <div class="popup-input-wrapper mt-15" >                     <h5>'+M.ACTIVECAMPAIGN_SETTINGS_HOST+'</h5>                      <div class="col20 f-left">                       <input type="text" name="activecampaignHost" class="transition-all" style="width: 60%">                       <span class="f-left" style="line-height: 60px; margin-left: 15px;">.api-us1.com</span>                     </div>                   </div>                   <div class="popup-input-wrapper mt-15" >                     <h5>'+M.API_KEY+'</h5>                      <input type="text" name="activecampaignKey" class="transition-all">                   </div>                 </div>';case"fbPixelSettingsMarkup":return'<div class="popup-widget-wrapper">                   <div class="info">                     <span>'+M.FB_PX_ID_PROMPT_MESSAGE+'</span>                   </div>                   <div class="popup-input-wrapper mt-15" >                     <h5>Facebook Pixel ID</h5>                      <input type="text" name="fbpixelKey" class="transition-all" placeholder="xxxxxxxxxxxxxxx">                   </div>                   <div class="checkbox-wrapper col20 f-left mb-15">                     <input id="fb-px-capi-cbx" class="css-checkbox" type="checkbox" name="enabled" />                     <label for="fb-px-capi-cbx" class="css-label">'+M.ENABLE_CAPI+"                        <span>"+M.CAPI_DESC+' <a href="%capiHelpArticle%" target="_blank">'+M.LEARN_MORE+'</a></span>                    </label>                   </div>                   <div class="col20 f-left popup-input-wrapper mt-5 none-soft" data-role="fb-px-token-wrapper">                     <h5>'+M.CAPI_TOKEN+'</h5>                     <div class="info">                       <span>'+M.CAPI_TOKEN_DESC+' <a href="%capiHelpArticle%" class="f-left cl-left" target="_blank">'+M.LEARN_MORE+'</a></span>                     </div>                     <input type="password" name="token" class="transition-all" placeholder="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx">                     <a class="f-left mt-5 underline blue-text" rel="toggle" data-toggle="#testFbEventsWrapper">'+M.TEST_CAPI+'</a>                     <div class="col20 f-left none-soft" id="testFbEventsWrapper">                      <div class="info f-left mt-5">                         <span>'+M.TEST_CAPI_DESC+'</span>                       </div>                       <input type="text" name="testCode" class="transition-all" placeholder="TEST12345">                     </div>                  </div>                 </div>';case"editWidgetAnimationPopup":return'<div class="upper-navigation col20 mb-15 flex-none" data-role="slider-nav">                   <ul>                     <li><a>'+M.ANIMATION+"</a></li>                     <li><a>"+M.ELEMENT_DELAY+'</a></li>                   </ul>                 </div>                 <div class="cpanel-popup-slider flex-1 flex flex-row">                   <div class="cpanel-popup-slide popup-widget-wrapper overflow">                   <div class="popup-input-wrapper" >                     <div class="info">                       <h5>'+M.SELECT_ANIMATION_TYPE+'</h5>                     </div>                     <select class="button-size-select" name="animation" style="width: 100%">                       <option value="0">'+M.NONE+'</option>                       <option value="1">'+M.FADE_IN+'</option>                       <!--<option value="2">'+M.SLIDE_FROM_TOP+'</option>                       <option value="3">'+M.SLIDE_FROM_LEFT+'</option>                       <option value="4">'+M.SLIDE_FROM_RIGHT+'</option>                       <option value="5">'+M.SLIDE_FROM_BOTTOM+'</option> -->                       <option value="6">'+M.ZOOM_IN+'</option>                       <option value="bounceIn">'+M.BOUNCE+'</option>                       <option value="rollIn">'+M.ROLL_IN+'</option>                       <option value="rotateIn">'+M.ROTATE+'</option>                       <option value="fadeInLeft">'+M.FADE_IN_FROM_LEFT+'</option>                       <option value="fadeInRight">'+M.FADE_IN_FROM_RIGHT+'</option>                       <option value="fadeInDown">'+M.FADE_IN_FROM_TOP+'</option>                       <option value="fadeInUp">'+M.FADE_IN_FROM_BOTTOM+'</option>                       <option value="flipInX">'+M.FLIP_VERTICALLY+'</option>                       <option value="flipInY">'+M.FLIP_HORIZONTALLY+'</option>                       <option value="bounceInDown">'+M.BOUNCE_FROM_TOP+'</option>                       <option value="bounceInLeft">'+M.BOUNCE_FROM_LEFT+'</option>                       <option value="bounceInRight">'+M.BOUNCE_FROM_RIGHT+'</option>                       <option value="bounceInUp">'+M.BOUNCE_FROM_BOTTOM+'</option>                       <option value="lightSpeedIn">'+M.TILT_FROM_LEFT+'</option>                     </select>                   </div>                   <div class="popup-input-wrapper input-slider-wrapper" >                     <h5>'+M.ANIMATION_SPEED+'</h5>                    <div id="animationDurationSlider"></div>                     <input type="text" readonly="readonly" class="slider-val">                   </div>                   <div class="popup-input-wrapper input-slider-wrapper" >                     <h5>'+M.ANIMATION_DELAY+'</h5>                    <div id="animationDelaySlider"></div>                     <input type="text" readonly="readonly" class="slider-val">                   </div>                   <div class="popup-input-wrapper t-center mt-15">                     <a class="blue middle-button animation-play f-none inline-block"><i class="fa fa-play-circle"></i>'+M.PLAY_ANIMATION+'</a>                     </div>                  </div>                  <div class="cpanel-popup-slide popup-widget-wrapper overflow">                     <div class="input-wrapper mb-10">                       <h4>'+M.ELEMENT_DELAY+'</h4>                       <span class="f-left light-gray-text mt-15">'+M.ELEMENT_DELAY_DESC+'</span>                     </div>                    <div class="input-wrapper input-wrapper2 f-left mt-15">                       <h5>'+M.MINUTES+'</h5>                       <input name="minutes" type="number" min="0" step="1" />                     </div>                     <div class="input-wrapper input-wrapper2 f-right mt-15">                       <h5>'+M.SECONDS+'</h5>                       <input name="seconds" type="number" min="0" step="1" />                   </div>                   </div>                </div>';case"productVariationNameInput":return'<div class="inline-popup-wrapper">                   <h4>'+M.ADD_VARIATION_NAME_HINT+'</h4>                   <input type="text" class="tag-autocomplete" /><a class="plus-sign"></a>                </div>';case"editColumnSettingsMarkup":return'<div class="popup-newpage-wrapper">                   <div class="left-section-pop">                     <a class="add-image transition-all backgroundSelectImageHolder" style="margin-top:0; height: 120px;">                       <span class="add-button transition-all"></span>                     </a>                   </div>                   <div class="input-wrapper input-wrapper-small color-pick-wrap-widgets" style="margin-bottom:10px;">                     <div class="color-pick-wrap">                       <div></div>                       <input type="text" value="" class="colorpicker-selected modify" name="bgColor">                     </div>                     <div class="info">                       <h5>'+M.BACKGROUND_COLOR+'</h5>                     </div>                   </div>                  <div class="f20 noParallaxWrapper">                    <div class="col20 f-left" id="bgPositionControlsWrapper">                       <div class="popup-input-wrapper mt-15">                         <div class="info">                           <h5>'+M.BACKGROUND_IMAGE_POSITION+'</h5>                         </div>                         <select class="page-select modify" name="bgPosition">                           <option value="left top">'+M.LEFT_TOP+'</option>                           <option value="left center">'+M.LEFT_CENTER+'</option>                           <option value="left bottom">'+M.LEFT_BOTTOM+'</option>                           <option value="right top">'+M.RIGHT_TOP+'</option>                           <option value="right center">'+M.RIGHT_CENTER+'</option>                           <option value="right bottom">'+M.RIGHT_BOTTOM+'</option>                           <option value="center top">'+M.CENTER_TOP+'</option>                           <option value="center center">'+M.CENTER_CENTER+'</option>                           <option value="center bottom">'+M.CENTER_BOTTOM+'</option>                         </select>                       </div>                       <div class="popup-input-wrapper">                         <div class="info">                           <h5>'+M.BACKGROUND_IMAGE_REPEAT+'</h5>                         </div>                         <select class="page-select modify" name="bgRepeat">                           <option value="repeat">'+M.REPEAT+'</option>                           <option value="repeat-x">'+M.REPEAT_HORIZONTALLY+'</option>                           <option value="repeat-y">'+M.REPEAT_VERTICALLY+'</option>                           <option value="no-repeat">'+M.NO_REPEAT+'</option>                           <option value="cover">'+M.COVER_WHOLE_AREA+'</option>                         </select>                       </div>                     </div>                     <div class="col20 f-left" data-role="bg-gradient">'+format(Templates.get("gradientMarkup"),"id","bgGradient","margin","mb-15")+'</div>                    <div class="checkbox-wrapper">                       <input id="addOverlayCbx" class="css-checkbox" type="checkbox" name="addOverlay" />                       <label for="addOverlayCbx" class="css-label">'+M.ADD_OVERLAY+'</label>                     </div>                     <div class="col20 f-left" id="overlayColorWrapper">                       <div class="input-wrapper col20 f-left color-pick-wrap-widgets">                         <div class="color-pick-wrap">                           <div></div>                           <input type="text" class="colorpicker-selected" name="overlayColor">                         </div>                         <div class="info">                           <h5>'+M.OVERLAY_COLOR+"</h5>                         </div>                       </div>                         "+format(Templates.get("gradientMarkup"),"id","overlayGradient","margin","mb-15")+'                    </div>                     <div class="input-wrapper mt-15">                       <div class="info">                         <label>'+M.COLUMN_MARGIN+'</label>                        <input type="text" readonly="readonly" class="slider-val" name="topMargin">                       </div>                       <div id="topMargin"></div>                     </div>                     <div class="f-left mt-15 mb-15 col20 inline-settings vertical-flex">                       <h5 class="flex-1">'+M.CONTENT_ALIGNMENT+'</h5>                       <div style="margin-left: 10px;" data-role="column-align">                         <a class="column-alignment top-icon f-left button-tooltip" data-align="justify-flex-start" data-bottom="true" data-tooltip="columnAlignTop" data-timeout="5500"></a>                         <a class="column-alignment middle-icon f-left button-tooltip" data-align="justify-center" data-bottom="true" data-tooltip="columnAlignMiddle" data-timeout="5500"></a>                         <a class="column-alignment bottom-icon f-left button-tooltip" data-align="justify-flex-end" data-bottom="true" data-tooltip="columnAlignBottom" data-timeout="5500"></a>                       </div>                     </div>                     <div class="col20 mb-5 f-left gray-section product-select-wrapper">                       <div class="col20 f-left ab-step center-vertically">                         <h4 class="roboto">'+M.BORDER+'</h4>                         <a class="text-link blue-text" data-role="changeBorderStyles">'+M.CHANGE+'</a>                       </div>                     </div>                     <div class="col20 mb-15 f-left gray-section product-select-wrapper">                       <div class="col20 f-left ab-step center-vertically">                         <h4 class="roboto">'+M.SHADOW+'</h4>                         <a class="text-link blue-text" data-role="changeShadowStyles">'+M.CHANGE+'</a>                       </div>                     </div>                     <div class="checkbox-wrapper" id="globalContentChbxWrapper">                       <input id="useGlobalContent" class="css-checkbox" type="checkbox" name="useGlobalContent" />                       <label for="useGlobalContent" class="css-label">'+M.GLOBAL_COLUMN_TITLE+"<span>"+M.GLOBAL_COLUMN_DESC+'</span></label>                     </div>                     <div class="popup-input-wrapper f-left mt-15 none-soft" id="globalContentWrapper">                       <div class="info">                         <h5>'+M.GLOBAL_COLUMN_CONTENT+'</h5>                       </div>                       <select name="global">                         <option value="" disabled="disabled" style="display: none">'+M.GLOBAL_COLUMN_SELECT+'</option>                         <option value="new">'+M.SAVE_GLOBAL_COLUMN+'</option>                       </select>                       <a class="small-info-text f-right none-soft" data-role="rename-global">'+M.RENAME_GLOBAL_COLUMN+"</a>                     </div>                   </div>                </div>";case"columnSettingsBorderStyleMarkup":return'<div class="popup-newpage-wrapper">                   <div class="f20 noParallaxWrapper">                    <div class="input-wrapper input-wrapper-margin color-pick-wrap-widgets">                       <div class="color-pick-wrap">                         <div></div>                         <input type="text" value="" class="colorpicker-selected" name="borderColor">                       </div>                       <div class="info">                         <h5>'+M.BORDER_COLOR+'</h5>                       </div>                     </div>                     <div class="popup-input-wrapper mt-15 input-slider-wrapper">                       <h5 class="inline">'+M.BORDER_SIZE+'</h5>                      <div id="borderSizeSlider"></div>                       <input type="text" readonly="readonly" class="slider-val">                     </div>                     <div class="popup-input-wrapper input-slider-wrapper mb-25" >                       <h5 class="inline">'+M.BORDER_RADIUS+'</h5>                      <div id="borderRadiusSlider"></div>                       <input type="text" readonly="readonly" class="slider-val">                     </div>                   </div>                </div>';case"websiteSettingsIconsWindow":return'<div class="f-left col20 web-setings-wrapper">           <a data-action="showWebsiteStyling" class="col10 f-left website-setting-wrapper system-border-color-hover2"><img src="'+resources+'/images/web-settings/new/1.png"><span>'+M.WEBSITE_STYLING+'</span></a>           <a data-action="showHeadersSettings" class="col10 f-left website-setting-wrapper system-border-color-hover2"><img src="'+resources+'/images/web-settings/new/2.png"><span>'+M.HEADERS+'</span></a>           <a data-action="showOnPageSEO" class="col10 f-left website-setting-wrapper system-border-color-hover2"><img src="'+resources+'/images/web-settings/new/3.png"><span>'+M.PAGE_SEO+'</span></a>           <a data-action="showAdvancedSettings" class="col10 f-left website-setting-wrapper system-border-color-hover2"><img src="'+resources+'/images/web-settings/new/4.png"><span>'+M.ADVANCED_SETTINGS+'</span></a>           <a data-action="showCustomCodeEditor" class="col10 f-left website-setting-wrapper system-border-color-hover2"><img src="'+resources+'/images/web-settings/new/5.png"><span>'+M.CUSTOM_CODE+'</span></a>           <a data-action="showFileManager" class="col10 f-left website-setting-wrapper system-border-color-hover2"><img src="'+resources+'/images/web-settings/new/6.png"><span>'+M.FILE_MANAGER+"</span></a>         </div>";case"footerSettings":return'<div class="header-label-wrapper footer-controls">                 <p class="header-label">'+M.FOOTER+' <span class="arrow">&darr;</span></p>                 <a rel="action" data-action="toggleFooter" class="header-label system-bg-color system-bg-color-hover"><span class="hide-button"></span><span class="caption"></class></a>               </div>';case"showHideHeaderSettings":return'<div class="header-label-wrapper header-controls">                 <p class="header-label">'+M.HEADER+' <span class="arrow">&uarr;</span></p>                 <a rel="action" data-action="toggleHeader" class="header-label system-bg-color system-bg-color-hover"><span class="hide-button"></span><span class="caption"></class></a>               </div>';case"showHideFixedHeaderSettings":return'<div class="header-label-wrapper header-controls">                 <p class="header-label">Fixed Header<span class="arrow">&uarr;</span></p>                 <a class="header-label toggle-btn system-bg-color system-bg-color-hover  button-tooltip" data-tooltip="fixedHeaderCollapse" data-timeout="4500"><span class="hide-button"></span><span class="caption"></class></a>               </div>';case"storeProductAdditionalField":return'<section class="half-section mt-15">                   <h5 class="info">'+M.STORE_PRODUCT_ADDITIONAL_FIELD_LABEL+'</h5>                   <input type="text" />                   <a class="remove"></a>                 </section>';case"addPageTemplates":return'<div class="cpanel-left-navigation">                   <h3>'+M.CATEGORIES+'</h3>                   <div class="categories-wrapper">                     <ul class="admin-custom-scroll"></ul>                   </div>                </div>                 <div class="content-wrapper admin-custom-scroll dark-admin-custom-scroll"></div>';case"pageTemplateItemMarkup":return'<div class="page-wrapper" data-id="%id%">               <div class="page-thumb" data-action="select" data-id="%id%" style="background-image:url(%thumb%)"></div>               <div class="buttons-wrapper col20 f-left">                 <a data-action="select" class="select-btn system-bg-color system-bg-color-hover">'+M.SELECT+'</a>                 <a data-action="preview">'+M.PREVIEW+"</a></div>               </div>";case"addPopupTemplates":return'<div class="cpanel-left-navigation">                   <h3>'+M.CATEGORIES+'</h3>                   <div class="categories-wrapper">                     <ul class="admin-custom-scroll"></ul>                   </div>                </div>                 <div class="content-wrapper admin-custom-scroll dark-admin-custom-scroll">                    <div class="popup-templates-inner-wrapper col20 f-left"></div>                 </div>';case"popupTemplateItemMarkup":return'<div class="page-wrapper" data-id="%id%">                 <img src="%thumb%" class="page-thumb" data-action="select" data-id="%id%" />               </div>';case"pricingWidgetSettingsPopup":return'<div class="popup-widget-wrapper">             <div class="popup-input-wrapper" >               <div class="popup-input-wrapper" >                 <h5 class="inline">Pricing Table Design</h5>                <select name="design">                  <option value="1">Pricing blocks with shadow</option>                   <option value="2">Flat pricing blocks</option>                   <option value="3">Joined in a single container</option>                 </select>               </div>               <div class="input-wrapper none-soft" id="pricingShadowWrapper">                 <div class="checkbox-wrapper">                   <input id="pricingShadow" class="css-checkbox" name="hasShadow" type="checkbox">                   <label for="pricingShadow" class="css-label">Add shadow on the pricing container</label>                 </div>               </div>               <div class="input-wrapper">                 <div class="checkbox-wrapper">                   <input id="monthlyPricingSwitch" class="css-checkbox" name="hasToggle" type="checkbox">                   <label for="monthlyPricingSwitch" class="css-label">Enable monthly / yearly pricing toggle</label>                 </div>               </div>               <div class="input-wrapper">                 <div class="checkbox-wrapper">                   <input id="hasActionButton" class="css-checkbox" name="hasActionButton" type="checkbox">                   <label for="hasActionButton" class="css-label">Add action button on each plan</label>                 </div>                 <div class="f20 none-soft" id="buttonOpenUrlToggle">                   <div class="info mt-15">                     <h5>Button URL</h5>                   </div>                   <input class="path-select select-like" type="text" />                   <input type="hidden" value="" />                   <div class="popup-input-wrapper mt-15">                     <h5>Button text</h5>                      <input type="text" name="buttonText" class="transition-all">                   </div>                 </div>               </div>               <div class="col20 f-left mt-25 product-select-wrapper gray-section">                 <div class="col20 f-left ab-step center-vertically">                    <h4 class="roboto">'+M.SUBSCRIPTION_PLAN+'</h4>                    <span data-role="plansSummary"></span>                    <a data-role="editPlans" class="text-link blue-text">'+M.CHANGE+"</a>                 </div>               </div>             </div>           </div>";case"storeProductAddNewMarkup":return'<div class="store-icons-wrapper f-left col20">                   <div class="f-left"><a data-type="phisical" data-tooltip="storeProductPhysicalTooltip" data-bottom="true" class="f-left col20 button-tooltip"><div class="store-icon-color physical-product-icon"></div><h4>'+M.STORE_PRODUCT_PHYSICAL+'</h4></a></div>                   <div class="f-left"><a data-type="digital" data-tooltip="storeProductDigitalTooltip" data-bottom="true" class="f-left col20 button-tooltip"><div class="store-icon-color digital-product-icon"></div><h4>'+M.STORE_PRODUCT_DIGITAL+'</h4></a></div>                   <div class="f-left"><a data-type="service" data-tooltip="storeProductServiceTooltip" data-bottom="true" class="f-left col20 button-tooltip"><div class="store-icon-color services-product-icon"></div><h4>'+M.STORE_PRODUCT_SERVICE+'</h4></a></div>                   <div class="f-left"><a data-type="membership" data-tooltip="storeProductMembershipTooltip" data-bottom="true" class="f-left col20 button-tooltip"><div class="store-icon-color membership-product-icon"></div><h4>'+M.STORE_PRODUCT_MEMBERSHIP+"</h4></a></div>                 </div>";case"whatsappSettingsMarkup":return'<div class="popup-widget-wrapper">                   <div class="popup-input-wrapper" >                     <h5>'+M.WHATSAP_CONTACT_NUMBER+'</h5>                      <input type="text" name="number" class="transition-all">                   </div>                   <div class="popup-input-wrapper" >                     <h5>'+M.WHATSAP_HELLO_MESSAGE+'</h5>                      <input type="text" name="message" class="transition-all">                   </div>                   <div class="popup-input-wrapper" >                     <h5>'+M.WHATSAP_HELLO_MESSAGE+'</h5>                      <select name="buttonPosition">                       <option value="top-left">'+M.TOP_LEFT+'</option>                       <option value="top-right">'+M.TOP_RIGHT+'</option>                       <option value="middle-left">'+M.MIDDLE_LEFT+'</option>                       <option value="middle-right">'+M.MIDDLE_RIGHT+'</option>                       <option value="bottom-left">'+M.BOTTOM_LEFT+'</option>                       <option value="bottom-right">'+M.BOTTOM_RIGHT+"</option>                     </select>                   </div>                 </div>";case"clientifySettingsMarkup":return'<div class="popup-widget-wrapper">                   <div class="popup-input-wrapper" >                     <h5>Clientify API Key</h5>                      <input type="text" name="key" class="transition-all">                   </div>                 </div>';case"memberGroupListItem":return'<div class="member-group-wrapper t-center">           <h3 class="col20 f-left">%name%</h3>           <span class="col20 f-left">%count%</span>           <a rel="tab" href="/me/members/groups/%id%" class="gray next-button middle-button inline-block f-none">'+M.SETTINGS+" <p>&rarr;</p></a>         </div>";case"memberRowMarkup":return'<tr class="member-item" data-id="%id%">                   <td></td>                   <td><a rel="tab" href="/me/members/list/%id%" class="member-name">%name%</a></td>                   <td>%email%</td>                   <td>%registration%</td>                   <td><a rel="tab" href="/me/members/list/%id%" class="details"><i class="fa fa-arrow-right"></i></a></td>                 </tr>';case"storeProductsImageSizeSettings":return'<div class="popup-widget-wrapper">             <div class="popup-input-wrapper" >               <h5>'+M.IMAGE_POSITION+'</h5>                <select name="imageSizeType">                 <option value="">'+M.PLEASE_SELECT+'</option>                 <option value="fit-height">'+M.FILL_CONTAINER_HEIGHT+'</option>                 <option value="fit-image">'+M.FIT_IN_CONTAINER+'</option>                 <option value="cover-image">'+M.FILL_CONTAINER+'</option>               </select>             </div>             <div class="popup-input-wrapper" >               <h5>'+M.IMAGE_SIZE_RATIO+'</h5>                <select name="imageSize">                 <option value="75">'+M.IMG_STANDARD+'</option>                 <option value="80">'+M.IMG_WIDE_5_4+'</option>                 <option value="56.25">'+M.IMG_WIDE+'</option>                 <option value="50">'+M.IMG_WIDE_2_1+'</option>                 <option value="100">'+M.IMG_SQUARE+'</option>                 <option value="125">'+M.IMG_TALL_4_5+'</option>                 <option value="133.333">'+M.IMG_STANDARD_TALL+'</option>                 <option value="177.7778">'+M.IMG_TALL_9_16+'</option>                 <option value="200">'+M.IMG_TALL_1_2+"</option>               </select>             </div>           </div>";case"customerDataRequestTemplate":return'<div class="popup-widget-wrapper">           <span class="help-text mt-5">'+M.CUSTOMER_DATA_REQUEST_INFO+'</span>           <div class="popup-input-wrapper mt-15" >             <h5>'+M.CUSTOMER_EMAIL+'</h5>              <input type="text" name="email" class="transition-all">           </div>           <div class="popup-input-wrapper" >             <h5>'+M.REQUEST_TYPE+'</h5>              <select name="type">               <option value="request">'+M.REQUEST_CUSTOMER_DATA+'</option>               <option value="delete">'+M.DELETE_CUSTOMER_DATA+'</option>             </select>           </div>           <span class="help-text">'+M.DATA_REQUEST_DESC+"</span>         </div>";case"headerSettings":return'<div class="popup-widget-wrapper">             <div class="popup-input-wrapper" >               <h5 class="inline">'+M.HEADER_LAYOUT+'</h5>              <select name="layout">                 <option value="">'+M.NORMAL_AT_TOP+'</option>                 <option value="header-layout-fullwidth">'+M.FULL_SCREEN_AT_TOP+'</option>                 <option value="header-layout-floating">'+M.FIT_AT_TOP+'</option>                 <option value="header-layout-vertical-left">'+M.VERTICAL_AT_LEFT+'</option>                 <option value="header-layout-vertical-right">'+M.VERTICAL_AT_RIGHT+'</option>               </select>             </div>             <div class="input-wrapper color-pick-wrap-widgets mb-15">               <div class="color-pick-wrap">                 <div></div>                 <input type="text" value="" class="colorpicker-selected" name="bgColor">               </div>               <div class="info">                 <h5>'+M.HEADER_BG_COLOR+'</h5>               </div>             </div>             <div class="checkbox-wrapper col20 f-left setting-wrapper-shadow none-soft">               <input id="hasShadow" class="css-checkbox modify" type="checkbox" name="hasShadow" />               <label for="hasShadow" class="css-label">'+M.ADD_SHADOW+'</label>             </div>             <div class="checkbox-wrapper col20 f-left" style="margin-bottom: 7px;">               <input id="hasBorder" class="css-checkbox modify" type="checkbox" name="hasBorder" />               <label for="hasBorder" class="css-label">'+M.ADD_BOTTOM_BORDER+'</label>             </div>             <div class="input-wrapper input-wrapper-margin color-pick-wrap-widgets border-color-wrapper displayed-setting mb-15">               <div class="color-pick-wrap">                 <div></div>                 <input type="text" value="" class="colorpicker-selected" name="borderColor">               </div>               <div class="info">                 <h5>'+M.BUTTON_BORDER_COLOR+'</h5>               </div>             </div>             <div class="popup-input-wrapper setting-wrapper-absolute" style="margin-bottom: 0;">               <div class="checkbox-wrapper">                 <input id="isAbsolute" class="css-checkbox" type="checkbox" name="isAbsolute" />                 <label for="isAbsolute" class="css-label">'+M.APPLY_ABSOLUTE_HEADER+'</label>               </div>             </div>             <div class="popup-input-wrapper setting-wrapper-fixed">               <div class="checkbox-wrapper">                 <input id="isFixed" class="css-checkbox" type="checkbox" name="isFixed" />                 <label for="isFixed" class="css-label">'+M.APPLY_FIXED_HEADER+"</label>               </div>             </div>           </div>";case"verticalHeaderSettings":return'<div class="popup-widget-wrapper">             <div class="popup-input-wrapper" >               <h5 class="inline">'+M.HEADER_LAYOUT+'</h5>              <select name="layout">                 <option value="">'+M.NORMAL_AT_TOP+'</option>                 <option value="header-layout-fullwidth">'+M.FULL_SCREEN_AT_TOP+'</option>                 <option value="header-layout-floating">'+M.FIT_AT_TOP+'</option>                 <option value="header-layout-vertical-left">'+M.VERTICAL_AT_LEFT+'</option>                 <option value="header-layout-vertical-right">'+M.VERTICAL_AT_RIGHT+'</option>               </select>             </div>             <div class="input-wrapper color-pick-wrap-widgets mb-15">               <div class="color-pick-wrap">                 <div></div>                 <input type="text" value="" class="colorpicker-selected" name="bgColor">               </div>               <div class="info">                 <h5>'+M.HEADER_BG_COLOR+'</h5>               </div>             </div>             <div class="input-wrapper mt-15">               <div class="checkbox-wrapper col20 f-left">                 <input id="hasShadow" class="css-checkbox modify" type="checkbox" name="hasShadow" />                 <label for="hasShadow" class="css-label">'+M.ADD_SHADOW+"</label>               </div>             </div>           </div>";case"headerAdditionalRowSettings":return'<div class="popup-widget-wrapper">         <div class="popup-input-wrapper" >           <div class="input-wrapper input-wrapper-margin color-pick-wrap-widgets">             <div class="color-pick-wrap">               <div></div>               <input type="text" value="" class="colorpicker-selected" name="backgroundColor">             </div>             <div class="info">               <h5>'+M.BACKGROUND_COLOR+'</h5>             </div>           </div>           <div class="checkbox-wrapper col20 f-left mt-15">             <input id="hasBorder" class="css-checkbox modify" type="checkbox" name="hasBorder" />             <label for="hasBorder" class="css-label">'+M.ADD_BOTTOM_BORDER+'</label>           </div>           <div class="input-wrapper input-wrapper-margin color-pick-wrap-widgets border-color-wrapper displayed-setting">             <div class="color-pick-wrap">               <div></div>               <input type="text" value="" class="colorpicker-selected" name="borderColor">             </div>             <div class="info">               <h5>'+M.BORDER_COLOR+"</h5>             </div>           </div>         </div>       </div>";case"headerSwitchPopupMarkup":return'          <div class="popup-widget-wrapper">             <img style="margin: 0 auto; display:block;" src="'+resources+'/images/header-switch.png">            <h3 class="t-center mt-25">'+M.NEW_HEADER_EDITOR_TITLE+'</h3>             <span class="t-center mt-25 f-16">'+M.NEW_HEADER_EDITOR_DESC+'</span>            <a data-role="show-video" class="mt-35 t-center text-link blue-text">'+M.WATCH_THE_VIDEO_FIRST+'</a>            <div class="col20 f-left mt-35 t-center">              <a data-role="switch" class="big-button blue">'+M.SWITCH+'</a>            </div>            <div class="col20 f-left mt-25 mb-15">              <a data-role="close" class="t-center f-14">'+M.NO_CLOSE+"</a>            </div>          </div>";case"globalStylingAddCustomFont":return'          <div class="popup-newpage-wrapper">             <div class="popup-input-wrapper">               <h5>'+M.NAME+"</h5>                <span>"+M.CUSTOM_FONT_POPUP_DESC+'</span>               <input type="text" name="name" class="required transition-all">             </div>             <div class="popup-input-wrapper mt-15" >               <h5>'+M.CUSTOM_FONT_WOFF+'</h5>               <input class="select-like woff-file" readonly="readonly" name="woffFile">            </div>             <div class="popup-input-wrapper mt-15" >               <h5>'+M.CUSTOM_FONT_OTF+'</h5>               <input class="select-like otf-file" readonly="readonly" name="otfFile">              <span>'+M.CUSTOM_FONT_OTF_DESC+"</span>             </div>           </div>";case"globalStylingHeadingSettings":return'          <div class="popup-widget-wrapper inline-inputs">             <div class="popup-input-wrapper" >               <select name="font"></select>             </div>             <div class="popup-input-wrapper f-right">               <div class="info input-slider-wrapper">                 <h5 class="ta-left">'+M.FONT_SIZE+'</h5>               <div id="headingFontSize"></div>                 <input class="headingFontSize slider-val f-right" type="text" />             </div>             </div>             <div class="popup-input-wrapper f-right">               <div class="info input-slider-wrapper">                 <h5 class="ta-left">'+M.LETTER_SPACING+'</h5>                 <div id="headingLetterSpacing"></div>                 <input type="text" class="headingLetterSpacing slider-val f-right" />               </div>             </div>             <div class="popup-input-wrapper f-right">               <div class="info input-slider-wrapper">                 <h5 class="ta-left">'+M.LINE_HEIGHT+'</h5>                 <div id="headingLineHeight"></div>                 <input type="text" class="headingLineHeight slider-val f-right" />               </div>             </div>             <div class="input-wrapper input-wrapper-margin color-pick-wrap-widgets border-color-wrapper">               <div class="color-pick-wrap">                 <div></div>                 <input type="text" class="colorpicker-selected" name="textColor">               </div>               <div class="info">                 <h5>'+M.TEXT_COLOR+"</h5>               </div>             </div>           </div>";case"websiteSettingsMarkup":return'           <div id="websiteSettingsMarkup">             <div class="website-settings-main-wrapper">               <div class="website-settings-main">                 <a data-action="showCustomCodeEditor" class="col20 f-left custom-code-btn"><span>'+M.CUSTOM_CODE+'</span></a>                 <a data-action="showOnPageSEO" class="col20 f-left page-seo-btn"><span>'+M.PAGE_SEO+'</span></a>                 <a data-action="showAdvancedSettings" class="col20 f-left advanced-settings-btn"><span>'+M.ADVANCED_SETTINGS+'</span></a>                 <a data-action="showFileManager" class="col20 f-left file-manager-btn"><span>'+M.FILE_MANAGER+'</span></a>                 <a data-action="showHeadersSettings" class="col20 f-left headers-btn"><span>'+M.HEADERS+"</span></a>               </div>             </div>           </div>";case"funnelPreviewMarkup":return'<div class="overlay-content theme-preview funnel-preview">         <div class="button-wrapper">           <a class="main-action-btn none middle-button blue">'+M.USE_THIS_THEME+'</a>           <select class="funnel-step-select"></select>           <div class="theme-preview-viewport-buttons">             <ul>               <li>                 <a href="javascript:;" class="viewport-item button-tooltip active" data-size="desktop" data-tooltip="desktopView" data-bottom="true" title=""><img src="'+resources+'/images/small-icons/desktop-white.png"></a>               </li>               <li>                 <a href="javascript:;" class="viewport-item button-tooltip" data-size="tablet" data-tooltip="tabletView" data-bottom="true" title=""><img src="'+resources+'/images/small-icons/tablet-white.png"></a>               </li>               <li>                 <a href="javascript:;" class="viewport-item button-tooltip" data-size="mobile" data-tooltip="phoneView" data-bottom="true" title=""><img src="'+resources+'/images/small-icons/phone-white.png"></a>               </li>             </ul>           </div>         </div>         <div class="iframe-content desktop-preview">           <iframe src="javascript:;"></iframe>         </div>       </div>       <div class="funnel-right-content center-vertically flex-column">         <div class="funnel-right-content-inner">           <h2 class="f-left col20 roboto">%name%</h2>           <span class="f-left col20 mt-45">%longDescription%</span>           <a class="main-action-btn big-button blue mt-25">'+M.ADD_FUNNEL+"</a>         </div>       </div>";case"funnelStepRow":return'<div class="col20 f-left funnel-step-wrapper %funnelStepRowClass%" data-id="%id%">                 <div class="funnels-wrapper f-left col20  center-vertically">                   <div class="funnel-step-handle%handle%"></div>                   <div class="col8 f-left center-vertically" style="padding-right: 20px;box-sizing: border-box;">                     <div class="funnel-step-number flex-none %tooltipclz%" data-tooltip="%tooltip%">%no%</div>                     <a class="funnel-step-name button-tooltip" data-tooltip="editStepContent" data-top="true">%name%</a>                   </div>                    <div class="funnel-traffic-wrapper col9 f-left">                     <div class="funnel-step-bar"></div>                   </div>                   <h4 class="funnel-step-percentage col3 f-left %goalClass%"><p>%stepConversion%</p></h4>                   <div class="funnel-controls">                     <a class="more-options"></a>                   </div>                 </div>               </div>';case"funnelStepGroupingRow":return'<div class="col20 f-left funnel-step-wrapper funnel-sortable-step grouping-row" data-group="%groupId%">                 <div class="funnels-wrapper f-left col20  center-vertically flex flex-row">                   <div class="funnel-step-handle flex-none"></div>                   <div class="col8 f-left center-vertically flex-1 grouping-row-name-wrapper" style="padding-right: 20px;box-sizing: border-box;">                     <span class="grouping-row-name f-left">%name% &nbsp; &darr;</span>                   </div>                    <div class="funnel-controls flex-none">                     <a class="more-options group-options"></a>                   </div>                 </div>               </div>';case"funnelStepABPart":return'<div class="col10 f-left %abclass%">                   %sessions%                   <span class="ab-part ab-badge button-tooltip" data-tooltip="editStepVariation">%badge%</span>                   <span class="step-conversion-badge button-tooltip %stepConversionClass%" data-id="%id%" data-tooltip="stepConversion">%traffic%</span>                 </div>';case"funnelStepABManualWinnerRow":return'<div class="col20 f-left mb-10 ab-step center-vertically" data-id="%id%">                   <div class="funnel-step-number flex-none %rowClass%">%letter%</div>                   <h4 class="roboto">%percent%</h4>                   <span>%visitors%</span>                   <a class="winner-select-btn blue f-right middle-button">'+M.SELECT+"</a>                 </div>";case"funnelStepABHistoryRow":return'<div class="col20 f-left mb-10 ab-step ab-old center-vertically">                   <div class="funnel-step-number flex-none">%percent%</div>                   <h4 class="roboto">%startDate%<br/>%endDate%</h4>                   <span>%visitors%</span>                 </div>';case"funnelGoalStatsRow":return'<div class="col20 f-left goal-stats-inner-wrapper">                   <div class="stats-segment f-left">                     <div class="goal-tag"><span>%idx%</span></div>                     <h3 class="f-left mb-8"><div class="goal-icon"></div>%conversionFromAll% <span>(%stepConversion% '+M.STEP_CONVERSION+')</span></h3>                     <!--<span class="f-left col20">'+M.REACHED_GOAL+"</span>-->                   </div>                 </div>";case"singleFunnelAnalytics":return'<div class="flex-1 horizontal-flex-table funnel-sub-tab">                 <div class="col20 f-left funnels-wrapper funnels-header" style="margin-bottom:60px;">                   <div class="col20 f-left funnel-stats">                     <div class="col20 f-left funnels-box-wrapper funnels-box-wrapper-inner">                       <div class="col20 f-left mb-5 funnel-analytics-header">                         <h4 class="inline-block roboto">'+M.FUNNEL_ANALYTICS+'</h4>                         <select class="funnel-period-select inline-period-select" name="periodSelect">                           <option value="all-time" selected>'+M.ALL_TIME+'</option>                           <option value="today">'+M.TODAY+'</option>                           <option value="last-week">'+M.LAST_SEVEN_DAYS+'</option>                           <option value="last-30-days">'+M.LAST_THIRTY_DAYS+'</option>                         </select>                       </div>                       <div class="col20 f-left funnel-analytics-summary mt-45">                         <div class="box box-clean">                           <h3>'+M.TOTAL_VISITORS+'</h3>                           <span class="col20 f-left" id="totalVisitorsLabel" style="color: #f66082">0</span>                         </div>                         <div class="box box-clean" id="reachedGoalBox">                           <h3>'+M.REACHED_GOAL+'</h3>                         </div>                       </div>                     </div>                     <div class="col20 f-left funnel-analytics-graph">                         <div class="chart-box col20 f-left">                           <canvas class="col20"></canvas>                         </div>                       </div>                   </div>                 </div>               </div>';case"singleFunnelSales":return'<div class="flex-1 horizontal-flex-table funnel-sub-tab">                 <div class="col20 f-left funnels-wrapper funnels-header" style="margin-bottom:60px;">                   <div class="col20 f-left funnel-stats">                     <div class="col20 f-left funnels-box-wrapper funnels-box-wrapper-inner">                       <h4 class="inline-block roboto">'+M.SALES_STATS+'</h4>                       <select class="funnel-period-select inline-period-select" name="periodSelect">                           <option value="all-time" selected>'+M.ALL_TIME+'</option>                         <option value="today">'+M.TODAY+'</option>                         <option value="last-week">'+M.LAST_SEVEN_DAYS+'</option>                         <option value="last-30-days">'+M.LAST_THIRTY_DAYS+'</option>                       </select>                       <div class="col20 f-left funnel-analytics-summary sales-funnel-analytics mt-45">                         <div class="box box-clean col10">                           <div class="col9 f-left">                             <h3>'+M.SALES+'</h3>                             <span class="col20 f-left" id="totalSalesLabel" style="color: #8aca87">0</span>                           </div>                           <div class="col9 f-right">                             <h3>'+M.ORDERS+'</h3>                             <span class="col20 f-left" id="totalOrdersLabel" style="color: #518de9">0</span>                           </div>                         </div>                         <div class="box box-clean col10 none-soft" id="totalSubscriptionsWrapper">                           <div class="col9 f-left">                             <h3>'+M.NEW_SUBSCRIPTIONS+'</h3>                             <span class="col20 f-left" id="totalSubscriptionsLabel" style="color: #e9ae51">6</span>                           </div>                         </div>                       </div>                     </div>                     <div class="col20 f-left funnel-analytics-graph">                       <div class="chart-box col20 f-left">                         <canvas class="col20"></canvas>                       </div>                     </div>                     <div class="col20 f-left funnels-box-wrapper funnels-box-wrapper-inner mt-35" id="allTimeSubscriptionStats">                       <h4 class="inline-block roboto">'+M.ALL_TIME_SUBSCRIPTION_STATS+'</h4>                       <div class="col20 f-left funnel-analytics-summary sales-funnel-analytics mt-45">                         <div class="box box-clean col12">                           <div class="col9 f-left">                             <h3 style="width: 120px">'+M.ALL_ACTIVE_SUBSCRIPTIONS+'</h3>                             <span class="col20 f-left" id="activeSubsLabel" style="color: #e9ae51">0</span>                           </div>                           <div class="col9 f-right">                             <h3>'+M.ALL_CANCELED_SUBSCRIPTIONS+'</h3>                             <span class="col20 f-left" id="churnLabel" style="color: #f66082">0</span>                           </div>                         </div>                         <div class="box box-clean col8">                           <div class="col20 f-left">                             <h3>'+M.MRR+'</h3>                             <span class="col20 f-left" id="mrrLabel" style="color: #8aca87">0</span>                           </div>                         </div>                       </div>                     </div>                   </div>                 </div>               </div>';case"singleFunnelOrders":return'<div class="flex-1 horizontal-flex-table funnel-sub-tab">                   <div class="col20 f-left funnels-wrapper funnels-header" style="margin-bottom:60px;">                     <div class="col20 f-left funnel-stats">                       <div class="col20 f-left funnels-box-wrapper">                         <h4 class="inline-block roboto">'+M.ORDERS+' <a class="percent" data-role="showOrders" style="color: #76bd65; font-size: 13px; margin-left: 6px; text-decoration: underline;">'+M.VIEW_ALL_ORDERS+'</a> </h4>                         <select class="funnel-period-select inline-period-select" name="periodSelect">                           <option value="all-time" selected>'+M.ALL_TIME+'</option>                           <option value="today">'+M.TODAY+'</option>                           <option value="last-week">'+M.LAST_SEVEN_DAYS+'</option>                           <option value="last-30-days">'+M.LAST_THIRTY_DAYS+'</option>                         </select>                         <div class="col20 f-left funnel-analytics-summary sales-funnel-analytics mt-25" style="margin-bottom: 0;">                           <div class="box box-clean col20">                             <div class="col10 f-left">                               <h3>'+M.SUCCESSFUL_ORDERS+'</h3>                               <span style="color: #76bd65" class="col20 f-left" data-role="count">0</span>                             </div>                             <div class="col10 f-right none">                               <h3>Abandoned Orders</h3>                               <span class="col20 f-left" id="totalOrdersLabel" style="color: #518de9">0</span>                             </div>                           </div>                         </div>                       </div>                     </div>                     <div class="col20 f-left mt-25 funnel-table-wrapper">                       <h3 class="no-items none">'+M.THERE_ARE_NO_ORDERS+'</h3>                       <div class="col20 f-left funnel-table">                         <header class="col20 f-left">                           <div class="col2">'+M.NO+'</div>                           <div class="col7">'+M.CONTACT+'</div>                           <div class="col4">'+M.DATE+'</div>                           <div class="col3a">'+M.TOTAL+'</div>                           <div class="col3a">'+M.PAYMENT+'</div>                         </header>                         <div class="funnel-table-body f-left col20"></div>                         <div class="col20 f-left pagination-wrapper"></div>                       </div>                     </div>                   </div>                 </div>';case"singleFunnelProducts":return'<div class="flex-1 horizontal-flex-table funnel-sub-tab">                   <div class="col20 f-left funnels-wrapper funnels-header" style="margin-bottom:60px;">                     <div class="col20 f-left funnel-stats">                       <div class="col20 f-left funnels-box-wrapper t-left flex flex-row align-center" style="vertical-align: middle;">                         <h4 class="f-left mb-5 roboto inline-block">'+M.PRODUCTS+'</h4>                         <select class="funnel-period-select inline-period-select" name="periodSelect">                           <option value="all-time" selected>'+M.ALL_TIME+'</option>                           <option value="today">'+M.TODAY+'</option>                           <option value="last-week">'+M.LAST_SEVEN_DAYS+'</option>                           <option value="last-30-days">'+M.LAST_THIRTY_DAYS+'</option>                         </select>                         <a class="middle-button blue with-icon create-product-funnel f-none inline-block" style="margin-left: 20px;">'+M.CREATE_A_PRODUCT+'</a>                       </div>                     </div>                     <div class="col20 f-left mt-25 funnel-table-wrapper" style="padding-top: 30px;">                       <h3 class="no-items none">'+M.NO_PRODUCTS_SOLD+'</h3>                       <div class="col20 f-left funnel-table">                         <header class="col20 f-left">                           <div class="col12">'+M.PRODUCT+'</div>                           <div class="col4">'+M.ORDERS+'</div>                           <div class="col4">'+M.TOTAL+'</div>                         </header>                         <div class="funnel-table-body f-left col20"></div>                         <div class="col20 f-left pagination-wrapper"></div>                       </div>                     </div>                   </div>                 </div>';case"singleFunnelUpsells":return'<div class="flex-1 horizontal-flex-table funnel-sub-tab">                   <div class="col20 f-left funnels-wrapper funnels-header" style="margin-bottom:60px;">                     <div class="col20 f-left funnel-stats">                       <div class="col20 f-left funnels-box-wrapper" style="margin-bottom:0;">                         <h4 class="col20 f-left mb-5 roboto">'+M.UPSELLS_AND_DOWNSELLS+'</h4>                         <select class="funnel-period-select inline-period-select" name="periodSelect">                           <option value="all-time" selected>'+M.ALL_TIME+'</option>                           <option value="today">'+M.TODAY+'</option>                           <option value="last-week">'+M.LAST_SEVEN_DAYS+'</option>                           <option value="last-30-days">'+M.LAST_THIRTY_DAYS+'</option>                         </select>                         <div class="col20 f-left funnel-analytics-summary sales-funnel-analytics mt-45">                           <div class="box box-clean col10">                             <div class="col9 f-left">                               <h3>'+M.UPSELL_REVENUE+'</h3>                               <span class="col20 f-left" id="upsellRevenueLabel" style="color: #8aca87"></span>                             </div>                             <div class="col9 f-right">                               <h3>'+M.UPSELL_SUCCESS+'</h3>                               <span class="col20 f-left" id="upsellOrdersLabel" style="color: #518de9"></span>                             </div>                           </div>                           <div class="box box-clean col10">                             <div class="col9 f-left">                               <h3>'+M.DOWNSELL_REVENUE+'</h3>                               <span class="col20 f-left" id="downsellRevenueLabel" style="color: #f66082"></span>                             </div>                             <div class="col9 f-right">                               <h3>'+M.DOWNSELL_SUCCESS+'</h3>                               <span class="col20 f-left" id="downsellOrdersLabel" style="color: #518de9"></span>                             </div>                           </div>                         </div>                         <div class="col20 f-left funnel-analytics-graph mt-45">                           <div class="chart-box col20 f-left">                             <canvas class="col20"></canvas>                           </div>                         </div>                       </div>                       <div class="col20 f-left mt-25 funnel-table-wrapper" style="padding-top: 30px;">                         <h3 class="no-items none">'+M.NO_PRODUCTS_SOLD+'</h3>                         <div class="col20 f-left funnel-table mt-15" data-role="upsell-products">                           <h4>'+M.UPSELL_PRODUCTS+'</h4>                           <header class="col20 f-left">                             <div class="col12">'+M.PRODUCT+'</div>                             <div class="col4">'+M.ORDERS+'</div>                             <div class="col4">'+M.TOTAL+'</div>                           </header>                           <div class="funnel-table-body f-left col20"></div>                         </div>                         <div class="col20 f-left funnel-table mt-15" data-role="downsell-products">                           <h4>'+M.DOWNSELL_PRODUCTS+'</h4>                           <header class="col20 f-left">                             <div class="col12">'+M.PRODUCT+'</div>                             <div class="col4">'+M.ORDERS+'</div>                             <div class="col4">'+M.TOTAL+'</div>                           </header>                           <div class="funnel-table-body f-left col20"></div>                         </div>                         <div class="col20 f-left funnel-table mt-15" data-role="bump-products">                           <h4>'+M.BUMP_PRODUCTS+'</h4>                           <header class="col20 f-left">                             <div class="col12">'+M.PRODUCT+'</div>                             <div class="col4">'+M.ORDERS+'</div>                             <div class="col4">'+M.TOTAL+'</div>                           </header>                           <div class="funnel-table-body f-left col20"></div>                         </div>                       </div>                     </div>                   </div>                 </div>';case"singleFunnelAbandonCart":return'<div class="flex-1 horizontal-flex-table funnel-sub-tab">                   <div class="col20 f-left funnels-wrapper funnels-header" style="margin-bottom:60px;">                     <div class="col20 f-left funnel-stats">                       <div class="col20 f-left funnels-box-wrapper">                         <h4 class="col20 f-left mb-5 roboto">Abandoned Checkouts</h4>                         <div class="col20 f-left funnel-analytics-summary sales-funnel-analytics mt-25">                           <div class="box box-clean col10">                             <div class="col9 f-left">                               <h3>Abandons</h3>                               <span class="value" id="totalSalesLabel" style="color: #f66082">0</span>                               <span class="percent">(26.3%)</span>                             </div>                             <div class="col9 f-right">                               <h3>Returned</h3>                               <span class="value" id="totalOrdersLabel" style="color: #8aca87">0</span>                               <span class="percent" style="color: #8aca87">(16.8%)</span>                             </div>                           </div>                           <div class="box box-clean col10">                             <div class="col9 f-left">                               <h3>Purchased</h3>                               <span class="value" id="totalVisitorsLabel" style="color: #8aca87">0</span>                               <span class="percent" style="color: #8aca87">(64.1%)</span>                             </div>                             <div class="col9 f-right">                               <h3>Revenue</h3>                               <span class="value" id="totalVisitorsLabel" style="color: #518de9">0</span>                             </div>                           </div>                         </div>                         <div class="col20 f-left funnel-analytics-graph">                           <div class="chart-box col20 f-left">                             <canvas class="col20"></canvas>                           </div>                         </div>                       </div>                     </div>                   </div>                 </div>';case"singleFunnelSteps":return'<div class="flex-1 horizontal-flex-table funnel-sub-tab">                   <div class="col20 f-left funnels-wrapper funnels-header" style="margin-bottom:60px;">                     <div class="col20 f-left funnel-stats">                       <div class="col20 f-left goal-stats-wrapper">                         <h4 class="col20 f-left mb-15 roboto">'+M.GOALS+'<h4>                         <select class="funnel-period-select steps-section" name="periodSelect">                           <option value="all-time" selected>'+M.ALL_TIME+'</option>                           <option value="today">'+M.TODAY+'</option>                           <option value="last-week">'+M.LAST_SEVEN_DAYS+'</option>                           <option value="last-30-days">'+M.LAST_THIRTY_DAYS+'</option>                         </select>                       </div>                     </div>                   </div>                   <div class="col20 f-left funnel-tab" data-tab="list">                     <div class="funnels-wrapper t-center f-left col20">                       <div class="col20 warning-wrapper warning-wrapper-smaller mb-25 none">                         <span class="col20 f-left t-center warrning-message">'+M.FUNNEL_NOT_VISIBLE+'</span>                       </div>                     </div>                     <div class="no-items-wrapper">                       <img  src="'+resources+'/images/funnel-steps.png">                       <h4 class="col20 f-left t-center mt-25">'+M.NO_STEPS_IN_FUNNEL+'</h4>                     </div>                     <div class="col20 f-left" id="funnelStepsListOuter">                      <div class="col20 f-left" id="funnelStepsList"></div>                     </div>                     <div class="funnels-wrapper f-left col20">                       <a class="big-button with-icon blue mt-25 mb-25" data-action="add-step">'+M.ADD_NEW_STEP+"</a>                     </div>                   </div>                 </div>";case"singleFunnelMarkup":return'<div class="col20 f-left flex full-size flex-row">                   <div class="filter-nav members-subnav flex-none funnel-nav">                     <h3 class="mt-25" style="font-size: 21px; padding-bottom: 15px;">'+M.FUNNEL_CONTROLS+'</h3>                     <div class="flex col20 align-center justify-start need-help-text-wrapper" data-key="funnelControls"><a class="need-help-text" style="margin-top: 0;" rel="action" data-action="showHelperVideo" data-target="CPanel">'+M.NEED_HELP+" <span>"+M.PLAY_VIDEO+' <i class="material-icons"> play_circle_filled </i></span></a></div>                     <ul class="mt-15 f-left col20" data-role="tabs">                       <li class="active"><a data-tab="steps">'+M.STEPS+'</a></li>                       <li><a data-tab="analytics">'+M.ANALYTICS+'</a></li>                       <li><a data-tab="sales">'+M.SALES+'</a></li>                       <li><a data-tab="orders"><span>'+M.ORDERS+'</span><span class="notification-badge none">7</span></a></li>                       <li><a data-tab="products">'+M.PRODUCTS+'</a></li>                       <li><a data-tab="upsells">'+M.UPSELLS_AND_DOWNSELLS+'</a></li>                       <li class="none"><a data-tab="abandoned"><span>Abandon Cart</span><span class="notification-badge">5</span></a></li>                     </ul>                   </div>                   <div class="flex-1 horizontal-flex-table funnel-sub-tab">                     <div class="col20 f-left funnels-wrapper funnels-header funnels-header-main">                       <div class="col20 f-left center-vertically" style="justify-content: space-between;">                         <div class="center-vertically">                           <a class="back-arrow rounded-back-arrow none-soft flex-none" style="display: inline; position: relative; left: 0; top: 0;"></a>                           <div class="ml-15 flex-1">                             <h3 data-type="name" class="f-left"></h3>                             <span class="funnel-url-copy f-left col20 light-gray-text mt-5"><span data-type="url"></span> <a class="copy-funnel-url">'+M.COPY_LINK+'</a></span>                           </div>                         </div>                         <div class="flex-none">                           <a id="settingsTrigger" class="middle-button blue f-right">'+M.FUNNEL_SETTINGS+'</a>                           <a target="_blank" class="preview-icon f-right button-tooltip" data-tooltip="previewFunnel" data-bottom="true"></a>                           <a class="share-icon f-right button-tooltip" data-tooltip="shareFunnel" data-role="shareFunnel" data-left="true"></a>                         </div>                       </div>                     </div>                     <div class="col20 f-left" data-role="tab-content"></div>                   </div>                 </div>';case"funnelABSettingsMarkup":return'<div class="add-page-wrapper flex flex-row">                   <a class="add-page duplicate-page flex-1"><p></p><h3>'+M.DUPLICATE_PAGE+'</h3></a>                   <a class="add-page page flex-1"><p></p><h3>'+M.NEW_PAGE+"</h3></a>                 </div>";case"funnelActiveABSettingsMarkup":return'<div class="popup-widget-wrapper">                   <div class="col20 f-left gray-section">                     <div class="col20 f-left mb-10 ab-step center-vertically">                       <div class="funnel-step-number flex-none winner" style="font-size:14px;">'+M.ALL+'</div>                       <h4 class="roboto"><span class="total-visitors-label"></span> <span class="light">'+M.TOTAL_VISITORS_ON_STEP+'</span></h4>                     </div>                     <h4 class="t-center col20 f-left mt-15 mb-15">'+M.WINNER_SELECT+'</h4>                     <div class="flex col20">                       <a class="addon-select selected half-select">                         <div class="check-top"></div>                         <h4>'+M.AUTOMATICALLY+'</h4>                         <span class="t-center f-left col20">'+M.AUTOMATICALLY_DESC+'</span>                       </a>                       <a class="addon-select half-select">                         <div class="check-top"></div>                         <h4>'+M.MANUAL+'</h4>                         <span class="t-center f-left col20">'+M.MANUAL_DESC+'</span>                       </a>                     </div>                     <div class="col20 f-left mt-25 ab-manual-wrapper none"></div>                     <div class="col20 f-left mt-25 t-center ab-automatic-wrapper">                       <h4 class="t-center col20 f-left">'+M.WINNER_THRESHOLD+'</h4>                       <span class="col20 f-left t-center help-text mb-15">'+M.THRESHOLD_DESC+'</span>                       <input type="text" class="col20 big-input" placeholder="'+M.THRESHOLD_PLACEHOLDER+'" name="abThreshold" />                     </div>                   </div>                 </div>';case"funnelAddStepMarkup":return'<div class="add-page-wrapper flex flex-row">                   <a class="add-page page flex-1"><p></p><h3>'+M.PAGE+'</h3></a>                   <a class="add-page popup flex-1"><p></p><h3>'+M.POPUP+'</h3></a>                   <a class="add-page funnel-section flex-1"><p></p><h3>'+M.SECTION_LABEL+"</h3></a>                 </div>";case"funnelTemplatesAddStepMarkup":return'<div class="add-page-wrapper flex flex-row">                   <a class="add-page page flex-1"><p></p><h3>'+M.PAGE+'</h3></a>                   <a class="add-page popup flex-1"><p></p><h3>'+M.POPUP+"</h3></a>                 </div>";case"funnelABHistoryMarkup":return'<div class="popup-widget-wrapper">                   <div class="col20 f-left gray-section ab-history-items">                     <div class="col20 f-left mb-10 ab-step ab-current center-vertically">                       <div class="funnel-step-number flex-none winner">-%</div>                       <h4 class="roboto">'+M.WINNER+'</h4>                       <span class="winner-visitors">-</span>                     </div>                     <h4 class="col20 f-left mt-25 mb-15 roboto">'+M.AB_LOSERS+"</h4>                   </div>                 </div>";case"newFunnelSettingsMarkup":return'<div class="popup-widget-wrapper pt-65">                   <div class="col20 f-left">                     <h3 class="t-center col20 f-left mb-15">'+M.FUNNEL_NAME+'</h3>                     <input type="text" class="col20 big-input" placeholder="'+M.FUNNEL_NAME_PLACEHOLDER+'" name="funnelName" />                   </div>                 </div>';case"funnelsLibraryPopupMarkup":return'<div class="cpanel-left-navigation general-cpanel-left-navigation">                     <h3>'+M.CATEGORIES+'</h3>                     <div class="categories-wrapper">                       <ul class="admin-custom-scroll"></ul>                     </div>                   </div>                   <div class="content-wrapper admin-custom-scroll dark-admin-custom-scroll general-cpanel-content-wrapper">                </div>';case"funnelLibraryItemMarkup":return'<div class="page-wrapper cpanel-funnel-wrapper">                   <div class="page-thumb" data-action="select" data-id="10" style="background-image:url(%thumb%)"></div>                   <div class="col20 f-left thumb-text">                     <h4 class="col20 f-left roboto ellipsis">&nbsp;%name%</h3>                     <p class="col20 f-left mt-15 ellipsis">&nbsp;%shortDesc%</p>                   </div>                   <div class="buttons-wrapper col20 f-left">                     <a data-action="select" class="select-btn system-bg-color system-bg-color-hover">'+M.SELECT+'</a>                     <a data-action="preview">'+M.PREVIEW+"</a></div>                 </div>";case"noFunnelStepsTemplateMarkup":return'<div class="col20 f-left">                   <div class="no-items-wrapper" style="margin-top: 100px;">                     <img src="'+resources+'/images/funnel-steps.png">                     <h4 class="col20 f-left t-center mt-25">'+M.THERE_ARE_NO_STEPS+"</h4>                   </div>                  </div>";case"funnelTemplateListStepsMarkup":return'<div class="col20 f-left">                   <div class="col20 f-left funnels-wrapper funnels-header" style="padding-bottom: 30px;">                     <div class="col20 f-left t-center">                       <img class="inline-block mt-5" src="'+resources+'/images/funnel-icon.png">                       <h3 class="inline-block ml-15" style="vertical-align: top;">%funnelName%</h3>                     </div>                     <div class="col20 f-left t-center" style="margin-bottom: -56px; margin-top: 28px;">                       <a class="big-button blue with-icon inline-block" data-action="createFunnelStep">'+M.ADD_NEW_STEP+'</a>                     </div>                   </div>                   <div class="col20 f-left list-holder" style="padding: 30px; box-sizing: border-box;"></div>                 </div>';case"funnelTemplateListRow":return'<div class="col20 f-left funnel-inner-wrapper %rowClass%">               <div class="col20 f-left funnels-wrapper vertical-flex">                 <div class="funnel-inner-texts">                   <h4 class="col20 f-left" data-type="name">%name%</h4>                   <span class="col20 f-left mt-10">%type%</span>                 </div>                 <div class="funnel-controls">                   <a class="more-options"></a>                 </div>               </div>             </div>';case"funnelSettingsMarkup":return'<div class="full-size flex flex-row">                   <div class="flex-none">                     <div class="global-left-nav big">                       <div class="col20 f-left">                         <h3 class="global-title f-left">'+M.FUNNEL_SETTINGS+'</h3>                         <ul class="global-nav f-left">                           <li><a class="popup-tab-trigger transition-all" data-show="general">'+M.GENERAL+'</a></li>                           <li><a class="popup-tab-trigger transition-all" data-show="domain">'+M.DOMAIN+'</a></li>                         </ul>                         <h3 class="global-title f-left mt-25">'+M.CUSTOM_FUNNEL_CODE_TITLE+'</h3>                         <ul class="global-nav f-left">                           <li><a class="popup-tab-trigger transition-all" data-show="head">'+M.CODE_CUSTOM_HEAD_MARKUP+'</a></li>                           <li><a class="popup-tab-trigger transition-all" data-show="css">'+M.CODE_CUSTOM_CSS+'</a></li>                           <li><a class="popup-tab-trigger transition-all" data-show="body">'+M.CODE_CUSTOM_BODY_CODE_TITLE+'</a></li>                         </ul>                       </div>                     </div>                   </div>                   <div class="flex-1 relative" style="overflow: auto">                     <div class="popup-tab-content none flex flex-col" data-tab="general">                       <div class="col20 f-left">                         <h3 class="t-center col20 f-left mb-15 mt-25">'+M.FUNNEL_NAME+'</h3>                         <input type="text" class="col20 big-input" placeholder="'+M.FUNNEL_NAME_PLACEHOLDER+'" name="funnelName" />                       </div>                       <div class="col20 f-left">                         <div class="section section-logo f-left" style="width: 45%">                           <a class="add-image transition-all">                             <span class="add-button"></span>                           </a>                           <input type="hidden" name="favicon" />                           <div class="info logo-info">                             <h4>'+M.FAVICON+'</h4>                             <span class="mt-10">'+M.FAVICON_DESC+'<br>                               <span class="blue-text">'+M.FAVICON_DIMENSIONS+'</span></span>                           </div>                         </div>                         <div class="section section-logo f-right" style="width: 45%">                           <a class="add-image transition-all">                             <span class="add-button"></span>                           </a>                           <input type="hidden" name="shareImage" />                           <div class="info logo-info">                             <h4>'+M.SHARE_IMAGE+'</h4>                             <span class="mt-10">'+M.SHARE_IMAGE_DESC+'</span>                           </div>                         </div>                       </div>                       <div class="popup-input-wrapper mt-25">                         <div class="checkbox-wrapper">                           <input class="css-checkbox" id="funnelUseGlobalCode" type="checkbox" name="useGlobalCode" />                           <label class="css-label" for="funnelUseGlobalCode">'+M.FUNNEL_USE_CUSTOM_WEBSITE_CODE+'</label>                         </div>                         <div class="checkbox-wrapper mt-15">                           <input class="css-checkbox" type="checkbox" id="hideProductLinks" name="hideProductLinks" />                           <label class="css-label" for="hideProductLinks">'+M.REMOVE_PRODUCT_LINKS_TITLE+"                            <span>"+M.REMOVE_PRODUCT_LINKS_DESC+'</span>                           </label>                         </div>                         <div class="checkbox-wrapper">                           <input class="css-checkbox" type="checkbox" id="showCheckoutButton" name="showCheckoutButton" />                           <label class="css-label" for="showCheckoutButton">'+M.SHOW_FUNNEL_CHECKOUT_BTN+"                            <span>"+M.SHOW_FUNNEL_CHECKOUT_BTN_DESC+'</span>                           </label>                         </div>                         <div class="popup-input-wrapper" id="checkoutButtonTargetWrapper">                           <div class="info mt-15">                             <h4>'+M.FUNNEL_CHECKOUT_BTN_TARGET_TITLE+"</h4>                             <span>"+M.FUNNEL_CHECKOUT_BTN_TARGET_DESC+'</span>                          </div>                           <input class="select-like" name="checkoutButtonTarget" readonly="readonly">                         </div>                       </div>                       <div class="col20 f-left mt-15 t-center">                         <a class="big-button f-none blue inline-block" data-role="makeHomepage">'+M.SET_AS_HOMEPAGE+'</a>                       </div>                     </div>                     <div class="popup-tab-content none flex flex-col web-settings-content" data-tab="domain">                       <h3 class="t-center col20 f-left mt-25 mb-25">'+M.DOMAINS+'</h3>                       <div class="col20 f-left mb-10 gray-section">                         <h5 class="f-left"><span class="funnel-system-url">domain.com/promo</span> <span class="system-tag">'+M.SYSTEM_DOMAIN_URL+'</span></h5>                         <div class="domain-controls">                           <a class="domain-settings system-domain-settings button-tooltip" data-tooltip="changeFunnelUrl">                             <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"                              viewBox="0 0 478.703 478.703" style="enable-background:new 0 0 478.703 478.703;" xml:space="preserve">                             <g>                               <g>                                 <path d="M454.2,189.101l-33.6-5.7c-3.5-11.3-8-22.2-13.5-32.6l19.8-27.7c8.4-11.8,7.1-27.9-3.2-38.1l-29.8-29.8                                   c-5.6-5.6-13-8.7-20.9-8.7c-6.2,0-12.1,1.9-17.1,5.5l-27.8,19.8c-10.8-5.7-22.1-10.4-33.8-13.9l-5.6-33.2                                   c-2.4-14.3-14.7-24.7-29.2-24.7h-42.1c-14.5,0-26.8,10.4-29.2,24.7l-5.8,34c-11.2,3.5-22.1,8.1-32.5,13.7l-27.5-19.8                                   c-5-3.6-11-5.5-17.2-5.5c-7.9,0-15.4,3.1-20.9,8.7l-29.9,29.8c-10.2,10.2-11.6,26.3-3.2,38.1l20,28.1                                   c-5.5,10.5-9.9,21.4-13.3,32.7l-33.2,5.6c-14.3,2.4-24.7,14.7-24.7,29.2v42.1c0,14.5,10.4,26.8,24.7,29.2l34,5.8                                   c3.5,11.2,8.1,22.1,13.7,32.5l-19.7,27.4c-8.4,11.8-7.1,27.9,3.2,38.1l29.8,29.8c5.6,5.6,13,8.7,20.9,8.7c6.2,0,12.1-1.9,17.1-5.5                                   l28.1-20c10.1,5.3,20.7,9.6,31.6,13l5.6,33.6c2.4,14.3,14.7,24.7,29.2,24.7h42.2c14.5,0,26.8-10.4,29.2-24.7l5.7-33.6                                   c11.3-3.5,22.2-8,32.6-13.5l27.7,19.8c5,3.6,11,5.5,17.2,5.5l0,0c7.9,0,15.3-3.1,20.9-8.7l29.8-29.8c10.2-10.2,11.6-26.3,3.2-38.1                                   l-19.8-27.8c5.5-10.5,10.1-21.4,13.5-32.6l33.6-5.6c14.3-2.4,24.7-14.7,24.7-29.2v-42.1                                   C478.9,203.801,468.5,191.501,454.2,189.101z M451.9,260.401c0,1.3-0.9,2.4-2.2,2.6l-42,7c-5.3,0.9-9.5,4.8-10.8,9.9                                   c-3.8,14.7-9.6,28.8-17.4,41.9c-2.7,4.6-2.5,10.3,0.6,14.7l24.7,34.8c0.7,1,0.6,2.5-0.3,3.4l-29.8,29.8c-0.7,0.7-1.4,0.8-1.9,0.8                                   c-0.6,0-1.1-0.2-1.5-0.5l-34.7-24.7c-4.3-3.1-10.1-3.3-14.7-0.6c-13.1,7.8-27.2,13.6-41.9,17.4c-5.2,1.3-9.1,5.6-9.9,10.8l-7.1,42                                   c-0.2,1.3-1.3,2.2-2.6,2.2h-42.1c-1.3,0-2.4-0.9-2.6-2.2l-7-42c-0.9-5.3-4.8-9.5-9.9-10.8c-14.3-3.7-28.1-9.4-41-16.8                                   c-2.1-1.2-4.5-1.8-6.8-1.8c-2.7,0-5.5,0.8-7.8,2.5l-35,24.9c-0.5,0.3-1,0.5-1.5,0.5c-0.4,0-1.2-0.1-1.9-0.8l-29.8-29.8                                   c-0.9-0.9-1-2.3-0.3-3.4l24.6-34.5c3.1-4.4,3.3-10.2,0.6-14.8c-7.8-13-13.8-27.1-17.6-41.8c-1.4-5.1-5.6-9-10.8-9.9l-42.3-7.2                                   c-1.3-0.2-2.2-1.3-2.2-2.6v-42.1c0-1.3,0.9-2.4,2.2-2.6l41.7-7c5.3-0.9,9.6-4.8,10.9-10c3.7-14.7,9.4-28.9,17.1-42                                   c2.7-4.6,2.4-10.3-0.7-14.6l-24.9-35c-0.7-1-0.6-2.5,0.3-3.4l29.8-29.8c0.7-0.7,1.4-0.8,1.9-0.8c0.6,0,1.1,0.2,1.5,0.5l34.5,24.6                                   c4.4,3.1,10.2,3.3,14.8,0.6c13-7.8,27.1-13.8,41.8-17.6c5.1-1.4,9-5.6,9.9-10.8l7.2-42.3c0.2-1.3,1.3-2.2,2.6-2.2h42.1                                   c1.3,0,2.4,0.9,2.6,2.2l7,41.7c0.9,5.3,4.8,9.6,10,10.9c15.1,3.8,29.5,9.7,42.9,17.6c4.6,2.7,10.3,2.5,14.7-0.6l34.5-24.8                                   c0.5-0.3,1-0.5,1.5-0.5c0.4,0,1.2,0.1,1.9,0.8l29.8,29.8c0.9,0.9,1,2.3,0.3,3.4l-24.7,34.7c-3.1,4.3-3.3,10.1-0.6,14.7                                   c7.8,13.1,13.6,27.2,17.4,41.9c1.3,5.2,5.6,9.1,10.8,9.9l42,7.1c1.3,0.2,2.2,1.3,2.2,2.6v42.1H451.9z"/>                                 <path d="M239.4,136.001c-57,0-103.3,46.3-103.3,103.3s46.3,103.3,103.3,103.3s103.3-46.3,103.3-103.3S296.4,136.001,239.4,136.001                                   z M239.4,315.601c-42.1,0-76.3-34.2-76.3-76.3s34.2-76.3,76.3-76.3s76.3,34.2,76.3,76.3S281.5,315.601,239.4,315.601z"/>                               </g>                             </g>                           </svg>                           </a>                         </div>                       </div>                       <div class="col20 f-left mb-15 gray-section none-soft connected-domain-section"></div>                       <div class="col20 f-left mb-15 mt-25 gray-section none-soft new-domain-section">                         <h4 class="t-center col20 f-left mb-15">'+M.ENTER_DOMAIN+'</h4>                         <input type="text" class="col20 big-input" placeholder="yourdomain.com"/>                         <div class="col20 f-left mt-15 t-center">                           <a class="big-button f-none blue inline-block" data-role="connect">'+M.CONNECT_DOMAIN+'</a>                         </div>                         <div class="col20 f-left mt-15 t-center">                           <a data-role="cancel">'+M.CANCEL+'</a>                         </div>                       </div>                       <div class="col20 f-left mt-25 t-center none-soft connect-domain-section">                         <a data-role="connect" class="big-button with-icon blue">'+M.CONNECT_EXISTING_DOMAIN+'</a>                       </div>                       <div class="funnels-wrapper f-left col20 none-soft no-domain-section" style="padding: 0 30px;">                         <div class="col20 f-left warning-wrapper" style="display: block;">                           <span class="col20 f-left t-center warrning-message">                          <span data-role="message">'+M.SUBSCRIPTION_NOT_SUPPORT_FUNNELS+'</span>                           <a data-role="action" class="f-none inline-block" style="text-decoration: underline;">'+M.UPGRADE_NOW+'</a></span>                         </div>                       </div>                     </div>                     <div class="popup-tab-content none flex flex-col" data-tab="head" data-type="text/html">                       <div class="flex flex-col">                         <span class="flex-none ta-center">'+M.CODE_GLOBAL_HEAD_MARKUP_DESC+'</span>                       </div>                       <div class="flex-1 mt-15">                         <textarea data-option="customHeaderCode"></textarea>                       </div>                     </div>                     <div class="popup-tab-content none flex flex-col" data-tab="css" data-type="text/css">                       <div class="flex flex-col">                         <span class="flex-none ta-center">'+M.CODE_GLOBAL_CSS_DESC+'</span>                       </div>                       <div class="flex-1 mt-15">                         <textarea data-option="customCSS"></textarea>                       </div>                     </div>                     <div class="popup-tab-content none flex flex-col" data-tab="body" data-type="text/html">                       <div class="flex flex-col">                         <span class="flex-none ta-center">'+M.CODE_GLOBAL_BODY_MARKUP_DESC+'</span>                       </div>                       <div class="flex-1 mt-15">                         <textarea data-option="customBodyCode"></textarea>                       </div>                     </div>                   </div>                 </div>';case"templateCodeSettingsMarkup":return'<div class="full-size flex flex-row">                   <div class="flex-none">                     <div class="global-left-nav big">                       <div class="col20 f-left none" id="globalCodeLinks">                         <h3 class="global-title f-left">'+M.FUNNEL_CUSTOM_CODE+'</h3>                         <ul class="global-nav f-left">                           <li><a class="popup-tab-trigger transition-all" data-show="head">'+M.CODE_CUSTOM_HEAD_MARKUP+'</a></li>                           <li><a class="popup-tab-trigger transition-all" data-show="css">'+M.CODE_CUSTOM_CSS+'</a></li>                           <li><a class="popup-tab-trigger transition-all" data-show="body">'+M.CODE_CUSTOM_BODY_CODE_TITLE+'</a></li>                         </ul>                       </div>                       <div class="col20 f-left" id="pageCodeLinks">                         <h3 class="global-title f-left" style="margin-top:40px;">'+M.CODE_PAGE_CODE_TITLE+'</h3>                         <ul class="global-nav f-left">                           <li><a class="popup-tab-trigger transition-all" data-show="pageCss">'+M.CODE_PAGE_CSS_TITLE+'</a></li>                           <li><a class="popup-tab-trigger transition-all" data-show="pageHead">'+M.CODE_HEAD_MARKUP_TITLE+'</a></li>                           <li><a class="popup-tab-trigger transition-all" data-show="pageBody">'+M.CODE_BODY_MARKUP_TITLE+'</a></li>                         </ul>                       </div>                     </div>                   </div>                   <div class="flex-1 relative">                     <div class="popup-tab-content none flex flex-col" data-tab="head" data-type="text/html">                       <div class="flex flex-col">                         <span class="flex-none ta-center">'+M.CODE_GLOBAL_HEAD_MARKUP_DESC+'</span>                       </div>                       <div class="flex-1 mt-15">                         <textarea data-option="customHeaderCode"></textarea>                       </div>                     </div>                     <div class="popup-tab-content none flex flex-col" data-tab="css" data-type="text/css">                       <div class="flex flex-col">                         <span class="flex-none ta-center">'+M.CODE_GLOBAL_CSS_DESC+'</span>                       </div>                       <div class="flex-1 mt-15">                         <textarea data-option="customCSS"></textarea>                       </div>                     </div>                     <div class="popup-tab-content none flex flex-col" data-tab="body" data-type="text/html">                       <div class="flex flex-col">                         <span class="flex-none ta-center">'+M.CODE_GLOBAL_BODY_MARKUP_DESC+'</span>                       </div>                       <div class="flex-1 mt-15">                         <textarea data-option="customBodyCode"></textarea>                       </div>                     </div>                     <div class="popup-tab-content none flex flex-col" data-tab="pageCss" data-type="text/css">                       <div class="flex flex-col">                         <span class="flex-none ta-center">'+M.CODE_PAGE_CSS_DESC+'</span>                       </div>                       <div class="flex-1 mt-15">                         <textarea data-option="css"></textarea>                       </div>                     </div>                     <div class="popup-tab-content none flex flex-col" data-tab="pageHead" data-type="text/html">                       <div class="flex flex-col">                         <span class="flex-none ta-center">'+M.CODE_PAGE_HEAD_MARKUP_DESC+'</span>                       </div>                       <div class="flex-1 mt-15">                         <textarea data-option="headMarkup"></textarea>                       </div>                     </div>                     <div class="popup-tab-content none flex flex-col" data-tab="pageBody" data-type="text/html">                       <div class="flex flex-col">                         <span class="flex-none ta-center">'+M.CODE_PAGE_BODY_MARKUP_DESC+'</span>                       </div>                       <div class="flex-1 mt-15">                         <textarea data-option="bodyMarkup"></textarea>                       </div>                     </div>                   </div>                 </div>';case"codeSettingsMarkup":return'<div class="full-size flex flex-row">                   <div class="flex-none">                     <div class="global-left-nav big">                       <div class="col20 f-left" id="globalCodeLinks">                         <h3 class="global-title f-left">'+M.CODE_GLOBAL_CODE_TITLE+'</h3>                         <ul class="global-nav f-left">                           <li><a class="popup-tab-trigger transition-all" data-show="head">'+M.CODE_CUSTOM_HEAD_MARKUP+'</a></li>                           <li><a class="popup-tab-trigger transition-all" data-show="css">'+M.CODE_CUSTOM_CSS+'</a></li>                           <li><a class="popup-tab-trigger transition-all" data-show="body">'+M.CODE_CUSTOM_BODY_CODE_TITLE+'</a></li>                         </ul>                       </div>                       <div class="col20 f-left none" id="pageCodeLinks">                         <h3 class="global-title f-left" style="margin-top:40px;">'+M.CODE_PAGE_CODE_TITLE+'</h3>                         <ul class="global-nav f-left">                           <li><a class="popup-tab-trigger transition-all" data-show="pageCss">'+M.CODE_PAGE_CSS_TITLE+'</a></li>                           <li><a class="popup-tab-trigger transition-all" data-show="pageHead">'+M.CODE_HEAD_MARKUP_TITLE+'</a></li>                           <li><a class="popup-tab-trigger transition-all" data-show="pageBody">'+M.CODE_BODY_MARKUP_TITLE+'</a></li>                         </ul>                       </div>                     </div>                   </div>                   <div class="flex-1 relative">                     <div class="popup-tab-content none flex flex-col" data-tab="head" data-type="text/html">                       <div class="flex flex-col">                         <span class="flex-none ta-center">'+M.CODE_GLOBAL_HEAD_MARKUP_DESC+'</span>                       </div>                       <div class="flex-1 mt-15">                         <textarea data-option="customHeaderCode"></textarea>                       </div>                     </div>                     <div class="popup-tab-content none flex flex-col" data-tab="css" data-type="text/css">                       <div class="flex flex-col">                         <span class="flex-none ta-center">'+M.CODE_GLOBAL_CSS_DESC+'</span>                       </div>                       <div class="flex-1 mt-15">                         <textarea data-option="customCSS"></textarea>                       </div>                     </div>                     <div class="popup-tab-content none flex flex-col" data-tab="body" data-type="text/html">                       <div class="flex flex-col">                         <span class="flex-none ta-center">'+M.CODE_GLOBAL_BODY_MARKUP_DESC+'</span>                       </div>                       <div class="flex-1 mt-15">                         <textarea data-option="googleAnalytics"></textarea>                       </div>                     </div>                     <div class="popup-tab-content none flex flex-col" data-tab="pageCss" data-type="text/css">                       <div class="flex flex-col">                         <span class="flex-none ta-center">'+M.CODE_PAGE_CSS_DESC+'</span>                       </div>                       <div class="flex-1 mt-15">                         <textarea data-option="css"></textarea>                       </div>                     </div>                     <div class="popup-tab-content none flex flex-col" data-tab="pageHead" data-type="text/html">                       <div class="flex flex-col">                         <span class="flex-none ta-center">'+M.CODE_PAGE_HEAD_MARKUP_DESC+'</span>                       </div>                       <div class="flex-1 mt-15">                         <textarea data-option="headMarkup"></textarea>                       </div>                     </div>                     <div class="popup-tab-content none flex flex-col" data-tab="pageBody" data-type="text/html">                       <div class="flex flex-col">                         <span class="flex-none ta-center">'+M.CODE_PAGE_BODY_MARKUP_DESC+'</span>                       </div>                       <div class="flex-1 mt-15">                         <textarea data-option="bodyMarkup"></textarea>                       </div>                     </div>                   </div>                 </div>';case"movePageToFunnelWindow":return'<div class="popup-widget-wrapper">             <div class="popup-input-wrapper" >               <h5>'+M.MOVE_TO_FUNNEL_MESSAGE+'</h5>               <select>                 <option value="" selected>'+M.LOADING_WAIT+"</option>               </select>             </div>";case"funnelOrdersRowMarkup":return'<div class="col20 f-left" data-id="%id%">                   <div class="col2">%no%</div>                   <div class="col7">%name% <p>%email%</p></div>                   <div class="col4">%date%<p>%time%</p></div>                   <div class="col3a">%price%</div>                   <div class="col3a"><div class="pay-status %paidclz%">%paidtitle%</div></div>                 </div>';case"funnelProductsRowMarkup":return'<div class="col20 f-left" data-id="%id%">                   <div class="col3"><img src="%src%"></div>                   <div class="col9"><h4>%name%</h4></div>                   <div class="col4">%orders%</div>                   <div class="col4">%total%</div>                 </div>';case"checkoutWidgetBumpsMarkup":return'<div class="popup-widget-wrapper">                   <div class="col20 f-left product-select-wrapper gray-section">                     <div class="col20 f-left product-bumps mb-15"></div>                     <div class="col20 f-left t-center">                       <a class="middle-button f-none blue with-icon inline-block" data-role="add-bump">'+M.ADD_BUMP+'</a>                     </div>                   </div>                   <div class="popup-input-wrapper mt-15">                     <div class="info">                       <h5>'+M.BUMP_POSITION+'</h5>                     </div>                     <select class="template-select" name="bumpsPosition">                      <option value="above-buttons">'+M.BUMP_BELOW_INFO+'</option>                       <option value="in-summary">'+M.BUMP_BELOW_SUMMARY+"</option>                     </select>                   </div>                 </div>";case"checkoutWidgetEditBumpMarkup":return'<div class="popup-widget-wrapper">                   <div class="popup-input-wrapper mb-25">                     <div class="info">                       <h5 class="mb-15">'+M.BUMP_PRODUCT+'</h5>                      <h4 class="roboto product-title inline-block">'+M.LOADING_PRODUCT+'</h4>                       <a data-role="selectProduct" class="text-link blue-text" style="display:inline-block;font-size:14px;margin-left:7px;">'+M.EDIT+'</a>                     </div>                   </div>                   <div class="popup-input-wrapper">                     <div class="info">                       <h5>'+M.BUMP_HEADLINE+'</h5>                      <input type="text" name="headline" class="transition-all">                     </div>                   </div>                   <div class="popup-input-wrapper">                     <div class="info">                       <h5>'+M.BUMP_TITLE+'</h5>                      <input type="text" name="title" class="transition-all">                     </div>                   </div>                   <div class="popup-input-wrapper">                     <div class="info">                       <h5>'+M.BUMP_DESCRIPTION+'</h5>                      <input type="text" name="description" class="transition-all">                     </div>                   </div>                   <div class="popup-input-wrapper">                     <div class="checkbox-wrapper" style="margin-bottom: 0;">                       <input id="activeByDefault" name="activeByDefault" class="css-checkbox" type="checkbox">                       <label for="activeByDefault" class="css-label">'+M.BUMP_ACTIVE_BY_DEFAULT+"                        <span>"+M.BUMP_ACTIVE_BY_DEFAULT_DESC+'</span>                      </label>                     </div>                   </div>                   <div class="popup-input-wrapper">                     <div class="checkbox-wrapper" style="margin-bottom: 0;">                       <input id="showImage" name="showImage" class="css-checkbox" type="checkbox">                       <label for="showImage" class="css-label">'+M.SHOW_PRODUCT_IMAGE+'</label>                     </div>                   </div>                   <div class="popup-input-wrapper">                     <div class="checkbox-wrapper" style="margin-bottom: 0;">                       <input id="showBadge" name="showBadge" class="css-checkbox" type="checkbox">                       <label for="showBadge" class="css-label">'+M.SHOW_BADGE+'</label>                     </div>                   </div>                   <div class="popup-input-wrapper" id="badgeTextWrapper">                     <div class="info">                       <h5>'+M.BADGE_TEXT+'</h5>                      <input type="text" name="badgeText" class="transition-all">                     </div>                     <div class="input-wrapper input-wrapper-small color-pick-wrap-widgets" style="margin-bottom:10px;">                       <div class="color-pick-wrap">                         <div></div>                         <input type="text" value="" class="colorpicker-selected" name="bgColor">                       </div>                       <div class="info">                         <h5>'+M.BACKGROUND_COLOR+'</h5>                       </div>                     </div>                  </div>                   <div class="popup-input-wrapper">                     <div class="info">                       <h5>'+M.BUMP_STYLE+'</h5>                     </div>                     <select class="template-select" name="bumpStyle">                      <option value="with-shadow">'+M.WITH_SHADOW+'</option>                       <option value="with-border">'+M.WITH_DASHED_BORDER+"</option>                     </select>                   </div>                 </div>";case"checkoutWidgetBumpsRowMarkup":return'<div class="bump-row-wrapper col20 f-left">                   <h4 class="roboto f-left col20 mb-10">%headline%</h4>                   <div class="col20 f-left">                     <span class="roboto">%title%</span>                     <a data-role="edit" class="text-link blue-text" style="display:inline-block;">'+M.EDIT+"</a>                   </div>                 </div>";case"checkoutWidgetBumpsEmpty":return'<h4 class="ta-center mt-15 mb-15 roboto">'+M.NO_BUMPS+"</h4>";case"checkoutWidgetCheckoutLayoutStyles":return'<div class="popup-widget-wrapper">                   <div class="input-wrapper color-pick-wrap-widgets">                     <div class="color-pick-wrap">                       <div></div>                       <input type="text" value="" class="colorpicker-selected modify" name="bgColor">                     </div>                     <div class="info">                       <h5>'+M.CHECKOUT_BACKGROUND+'</h5>                     </div>                   </div>                   <div class="popup-input-wrapper f-right mt-15">                     <div class="info input-slider-wrapper">                       <h5 class="ta-left">'+M.PADDING_SIZE+'<span class="slider-val f-right"></span></h5>                       <div id="paddingSlider"></div>                       <input type="text" readonly="readonly" class="slider-val modify">                     </div>                   </div>                   <div class="popup-input-wrapper f-right">                     <div class="info input-slider-wrapper">                       <h5 class="ta-left">'+M.BORDER_RADIUS+'<span class="slider-val f-right"></span></h5>                       <div id="borderRadiusSlider"></div>                       <input type="text" readonly="readonly" class="slider-val modify">                     </div>                   </div>                   <div id="tabHeadingsWrapper" class="none">                     <div class="popup-input-wrapper mt-15">                       <div class="info">                         <h5>'+M.STEP_1_TITLE+'</h5>                        <input type="text" name="step1Title" class="transition-all">                       </div>                     </div>                     <div class="popup-input-wrapper mt-15">                       <div class="info">                         <h5>'+M.STEP_2_TITLE+'</h5>                        <input type="text" name="step2Title" class="transition-all">                       </div>                     </div>                   </div>                 </div>';case"checkoutWidgetSummaryStyles":return'<div class="popup-widget-wrapper">                   <div class="input-wrapper color-pick-wrap-widgets">                     <div class="color-pick-wrap">                       <div></div>                       <input type="text" value="" class="colorpicker-selected modify" name="summaryBgColor">                     </div>                     <div class="info">                       <h5>'+M.ORDER_SUMMARY_BG+'</h5>                     </div>                   </div>                   <div class="input-wrapper color-pick-wrap-widgets">                     <div class="color-pick-wrap">                       <div></div>                       <input type="text" value="" class="colorpicker-selected modify" name="summaryTextColor">                     </div>                     <div class="info">                       <h5>'+M.TEXT_COLOR+'</h5>                     </div>                   </div>                   <div class="popup-input-wrapper mt-15" >                     <h5 class="inline">'+M.TEXT_FONT_FAMILY+'</h5>                    <select name="summaryFontFamily"></select>                   </div>                   <div class="popup-input-wrapper">                     <div class="checkbox-wrapper" style="margin-bottom: 0;">                       <input id="summaryShowShadow" name="summaryShowShadow" class="css-checkbox" type="checkbox">                       <label for="summaryShowShadow" class="css-label">'+M.SHOW_SHADOW+'</label>                     </div>                   </div>                   <div class="popup-input-wrapper">                     <div class="checkbox-wrapper" style="margin-bottom: 0;">                       <input id="summaryShowImages" name="summaryShowImages" class="css-checkbox" type="checkbox">                       <label for="summaryShowImages" class="css-label">'+M.SHOW_PRODUCT_IMAGES+'</label>                     </div>                   </div>                   <div class="popup-input-wrapper f-right mt-15">                     <div class="info input-slider-wrapper">                       <h5 class="ta-left">'+M.PADDING_SIZE+'<span class="slider-val f-right"></span></h5>                       <div id="summaryPaddingSlider"></div>                       <input type="text" readonly="readonly" class="slider-val">                     </div>                   </div>                 </div>';case"checkoutWidgetFormStyles":return'<div class="popup-widget-wrapper">                   <div class="input-wrapper color-pick-wrap-widgets">                     <div class="color-pick-wrap">                       <div></div>                       <input type="text" value="" class="colorpicker-selected modify" name="headingsColor">                     </div>                     <div class="info">                       <h5>'+M.HEADINGS_COLOR+'</h5>                     </div>                   </div>                   <div class="input-wrapper color-pick-wrap-widgets">                     <div class="color-pick-wrap">                       <div></div>                       <input type="text" value="" class="colorpicker-selected modify" name="fieldsBgColor">                     </div>                     <div class="info">                       <h5>'+M.FIELDS_BG+'</h5>                     </div>                   </div>                   <div class="input-wrapper color-pick-wrap-widgets">                     <div class="color-pick-wrap">                       <div></div>                       <input type="text" value="" class="colorpicker-selected modify" name="fieldsTextColor">                     </div>                     <div class="info">                       <h5>'+M.FIELDS_TEXT_COLOR+'</h5>                     </div>                   </div>                   <div class="input-wrapper color-pick-wrap-widgets">                     <div class="color-pick-wrap">                       <div></div>                       <input type="text" value="" class="colorpicker-selected modify" name="fieldsBorderColor">                     </div>                     <div class="info">                       <h5>'+M.FIELDS_BORDER_COLOR+'</h5>                     </div>                   </div>                   <div class="popup-input-wrapper mt-15" >                     <h5 class="inline">'+M.TEXT_FONT_FAMILY+'</h5>                    <select name="fieldsFontFamily"></select>                   </div>                   <div class="input-wrapper color-pick-wrap-widgets">                     <div class="color-pick-wrap">                       <div></div>                       <input type="text" value="" class="colorpicker-selected modify" name="detailsBgColor">                     </div>                     <div class="info">                       <h5>'+M.BACKGROUND_COLOR+'</h5>                     </div>                   </div>                   <div class="popup-input-wrapper f-right mt-15">                     <div class="info input-slider-wrapper">                       <h5 class="ta-left">'+M.PADDING_SIZE+'<span class="slider-val f-right"></span></h5>                       <div id="detailsPaddingSlider"></div>                       <input type="text" readonly="readonly" class="slider-val">                     </div>                   </div>                   <div class="popup-input-wrapper f-right">                     <div class="info input-slider-wrapper">                       <h5 class="ta-left">'+M.BORDER_RADIUS+'<span class="slider-val f-right"></span></h5>                       <div id="detailsBorderRadiusSlider"></div>                       <input type="text" readonly="readonly" class="slider-val modify">                     </div>                   </div>                   <div class="popup-input-wrapper mt-15 mb-0">                     <div class="info">                       <h5>'+M.CUSTOMER_INFORMATION_TITLE+'</h5>                      <input type="text" name="customerInfoTitle" class="transition-all">                     </div>                   </div>                   <div class="popup-input-wrapper mt-15 mb-0">                     <div class="info">                       <h5>'+M.SHIPPING_ADDRESS_TITLE+'</h5>                      <input type="text" name="shippingInfoTitle" class="transition-all">                     </div>                   </div>                   <div class="popup-input-wrapper mt-15 mb-0">                     <div class="info">                       <h5>'+M.BILLING_ADDRESS_TITLE+'</h5>                      <input type="text" name="billingInfoTitle" class="transition-all">                     </div>                   </div>                   <div class="popup-input-wrapper mt-15 mb-0">                     <div class="info">                       <h5>'+M.SHIPPING_METHOD_TITLE+'</h5>                      <input type="text" name="shippingTitle" class="transition-all">                     </div>                   </div>                   <div class="popup-input-wrapper mt-15 mb-0">                     <div class="info">                       <h5>'+M.PAYMENT_METHOD_TITLE+'</h5>                      <input type="text" name="paymentTitle" class="transition-all">                     </div>                   </div>                 </div>';case"checkoutWidgetButtonsStyles":return'<div class="popup-widget-wrapper">                   <div class="input-wrapper color-pick-wrap-widgets">                     <div class="color-pick-wrap">                       <div></div>                       <input type="text" value="" class="colorpicker-selected" name="buttonBgColor">                     </div>                     <div class="info">                       <h5>'+M.BUTTON_BACKGROUND_COLOR+'</h5>                     </div>                   </div>                   <div class="input-wrapper color-pick-wrap-widgets">                     <div class="color-pick-wrap">                       <div></div>                       <input type="text" value="" class="colorpicker-selected" name="buttonTextColor">                     </div>                     <div class="info">                       <h5>'+M.BUTTON_TEXT_COLOR+'</h5>                     </div>                   </div>                   <div class="col20 f-left" data-role="bg-gradient">'+format(Templates.get("gradientMarkup"),"id","bgGradient","margin","mb-15")+'</div>                  <div class="popup-input-wrapper mt-15" >                     <h5 class="inline">'+M.TEXT_FONT_FAMILY+'</h5>                    <select name="buttonFontFamily"></select>                   </div>                   <div class="popup-input-wrapper input-slider-wrapper" >                     <h5 class="inline">'+M.FONT_SIZE+'</h5>                    <div id="buttonTextSizeSlider"></div>                     <input type="text" readonly="readonly" class="slider-val">                   </div>                   <div class="popup-input-wrapper">                     <div class="info">                       <h5>'+M.BUTTON_TEXT_NEXT+'</h5>                      <input type="text" name="buttonNextText" class="transition-all">                     </div>                   </div>                   <div class="popup-input-wrapper">                     <div class="info">                       <h5>'+M.BUTTON_TEXT_COMPLETE+'</h5>                      <input type="text" name="buttonCompleteText" class="transition-all">                     </div>                   </div>                   <div class="popup-input-wrapper mb-0">                     <div class="checkbox-wrapper">                       <input class="css-checkbox" type="checkbox" id="buttonFullWidth" name="buttonFullWidth" />                       <label for="buttonFullWidth" class="css-label">'+M.BUTTON_EXPAND+"</label>                     </div>                   </div>                 </div>";case"checkoutWidgetBadgesStyles":return'<div class="popup-widget-wrapper">                   <div class="input-wrapper color-pick-wrap-widgets">                     <div class="color-pick-wrap">                       <div></div>                       <input type="text" value="" class="colorpicker-selected" name="secureBadgeTextColor">                     </div>                     <div class="info">                       <h5>'+M.TEXT_COLOR+'</h5>                     </div>                   </div>                   <div class="popup-input-wrapper mt-15">                     <div class="info">                       <h5>'+M.LOCK_TEXT+'</h5>                      <input type="text" name="secureLockText" class="transition-all">                     </div>                   </div>                   <div class="popup-input-wrapper">                     <div class="info">                       <h5>'+M.SHIELD_TEXT+'</h5>                      <input type="text" name="secureShieldText" class="transition-all">                     </div>                   </div>                 </div>';case"checkoutWidgetStyleMarkup":return'<div class="popup-widget-wrapper">             <div class="col20 f-left gray-section">               <div class="flex col20">                 <a class="addon-select half-select">                   <div class="one-step-icon"></div>                   <h4>'+M.ONE_STEP_CHECKOUT+'</h4>                   <span class="t-center f-left col20">'+M.ONE_STEP_DESC+'</span>                 </a>                 <a class="addon-select half-select">                   <div class="two-step-icon"></div>                   <h4>'+M.TWO_STEP_CHECKOUT+'</h4>                   <span class="t-center f-left col20">'+M.TWO_STEP_DESC+'</span>                 </a>               </div>               <div class="popup-input-wrapper mt-15 mb-5">                 <h5 class="inline">'+M.ORDER_SUMMARY_SETTINGS+'</h5>                 <select name="orderSummaryLocation">                   <option value="right">'+M.SHOW_NEXT_TO_CHECKOUT+'</option>                   <option value="bottom">'+M.SHOW_BELOW_THE_CHECKOUT+'</option>                 </select>               </div>               <div class="col20 f-left product-select-wrapper">                 <div class="col20 f-left mb-10 ab-step white-ab-step center-vertically">                    <h4 class="roboto">'+M.CUSTOMER_AND_BILLING_DETAILS+'</h4>                    <a class="text-link blue-text" data-role="editFields">'+M.STYLE+'</a>                 </div>                 <div class="col20 f-left mb-10 ab-step white-ab-step center-vertically">                    <h4 class="roboto">'+M.CHECKOUT_WRAPPER+'</h4>                    <a class="text-link blue-text" data-role="editWrapper">'+M.STYLE+'</a>                 </div>                 <div class="col20 f-left mb-10 ab-step white-ab-step center-vertically" data-role="summary">                    <h4 class="roboto">'+M.ORDER_SUMMARY+'</h4>                    <a class="text-link blue-text" data-role="editSummary">'+M.STYLE+'</a>                 </div>                 <div class="col20 f-left mb-10 ab-step white-ab-step center-vertically">                    <h4 class="roboto">'+M.BUTTONS+'</h4>                    <a class="text-link blue-text" data-role="editButtons">'+M.STYLE+'</a>                 </div>                 <div class="col20 f-left mb-10 ab-step white-ab-step center-vertically" data-role="badge">                    <h4 class="roboto">'+M.SECURE_BADGE+'</h4>                    <a class="text-link blue-text" data-role="editSecurityBadges">'+M.STYLE+'</a>                 </div>               </div>               <div class="popup-input-wrapper mt-15 mb-0">                 <div class="checkbox-wrapper">                   <input class="css-checkbox" type="checkbox" id="showOldPrices" name="showOldPrices" />                   <label class="css-label" for="showOldPrices">'+M.SHOW_STRIKETHROUGH_PRICE+'</label>                 </div>               </div>               <div class="popup-input-wrapper mb-0">                 <div class="checkbox-wrapper">                   <input class="css-checkbox" type="checkbox" id="showSecureBadge" name="showSecureBadge" />                   <label class="css-label" for="showSecureBadge">'+M.SHOW_SECURED_CHECKOUT_BADGE+'</label>                 </div>               </div>               <div class="popup-input-wrapper mb-0 none-soft" id="summaryReverseOnMobileWrapper">                 <div class="checkbox-wrapper">                   <input class="css-checkbox" type="checkbox" id="summaryReverseOnMobile" name="summaryReverseOnMobile" />                   <label class="css-label" for="summaryReverseOnMobile">'+M.CHECKOUT_SUMMARY_REVERSED_MOBILE+'</label>                 </div>               </div>               <div class="popup-input-wrapper none" id="pickProductsStyleWrapper">                 <h5 class="inline">'+M.CHECKOUT_PRODUCT_PICK_STYLE_TITLE+'</h5>                 <select name="pickProductsStyle">                   <option value="style-1">'+M.CHECKOUT_PRODUCT_PICK_STYLE_1+'</option>                   <option value="style-2">'+M.CHECKOUT_PRODUCT_PICK_STYLE_2+"</option>                 </select>               </div>             </div>           </div>";case"menuWidgetActiveItemStyling":return'<div class="popup-widget-wrapper">               <div class="popup-input-wrapper item-design-wrapper" >                 <h5 class="inline">'+M.ACTIVE_MENU_DESIGN+'</h5>                <select name="activeItemDesign">                   <option value="simple">'+M.CHANGE_TEXT_COLOR+'</option>                   <option value="with-background">'+M.CHANGE_BG_COLOR+'</option>                   <option value="with-border">'+M.SHOW_BORDER+'</option>                   <option value="no-border">'+M.NO_BORDER+'</option>                   <option value="border-at-left">'+M.BORDER_AT_LEFT+'</option>                   <option value="border-below">'+M.BORDER_BELOW+'</option>                 </select>               </div>               <div class="input-wrapper input-wrapper-margin color-pick-wrap-widgets">                 <div class="color-pick-wrap">                   <div></div>                   <input type="text" value="" class="colorpicker-selected" name="activeItemTextColor">                 </div>                 <div class="info">                   <h5>'+M.TEXT_COLOR+'</h5>                 </div>               </div>               <div class="col20 f-left background-color-wrapper">                 <div class="input-wrapper color-pick-wrap-widgets">                   <div class="color-pick-wrap">                     <div></div>                     <input type="text" value="" class="colorpicker-selected" name="activeItemBackgroundColor">                   </div>                   <div class="info">                     <h5>'+M.ITEM_BACKGROUND_COLOR+'</h5>                   </div>                 </div>                 <div class="popup-input-wrapper item-border-rounding-wrapper mt-15 none-soft">                   <h5 class="inline">'+M.BACKGROUND_ROUNDING+'</h5>                  <input type="text" readonly="readonly" class="slider-val">                   <div id="activeItemBorderRadiusSlider"></div>                 </div>               </div>               <div class="input-wrapper color-pick-wrap-widgets border-color-wrapper">                 <div class="color-pick-wrap">                   <div></div>                   <input type="text" value="" class="colorpicker-selected" name="activeItemBorderColor">                 </div>                 <div class="info">                   <h5>'+M.ITEM_BORDER_COLOR+"</h5>                 </div>               </div>           </div>";case"menuWidgetSubmenuStyling":return'<div class="popup-widget-wrapper">               <div class="popup-input-wrapper submenu-position-wrapper none-soft">                 <h5 class="inline">'+M.SUBMENU_POSITION+'</h5>                <select name="submenuPosition">                   <option value="right-submenu">'+M.SUBMENU_RIGHT+'</option>                   <option value="expanded-submenu">'+M.SUBMENU_BELOW+'</option>                 </select>               </div>               <div class="input-wrapper input-wrapper-margin color-pick-wrap-widgets">                 <div class="color-pick-wrap">                   <div></div>                   <input type="text" value="" class="colorpicker-selected" name="submenuBgColor">                 </div>                 <div class="info">                   <h5>'+M.BG_COLOR+'</h5>                 </div>               </div>               <div class="input-wrapper input-wrapper-margin color-pick-wrap-widgets">                 <div class="color-pick-wrap">                   <div></div>                   <input type="text" value="" class="colorpicker-selected" name="submenuTextColor">                 </div>                 <div class="info">                   <h5>'+M.TEXT_COLOR+'</h5>                 </div>               </div>               <div class="input-wrapper input-wrapper-margin color-pick-wrap-widgets">                 <div class="color-pick-wrap">                   <div></div>                   <input type="text" value="" class="colorpicker-selected" name="submenuTextHoverColor">                 </div>                 <div class="info">                   <h5>'+M.HOVER_TEXT_COLOR+'</h5>                 </div>               </div>               <div class="checkbox-wrapper col20 f-left mt-15">                 <input id="submenuHasShadow" class="css-checkbox modify" type="checkbox" name="submenuHasShadow" />                 <label for="submenuHasShadow" class="css-label">'+M.ADD_SHADOW_SUBMENU+'</label>               </div>               <div class="checkbox-wrapper col20 f-left">                 <input id="submenuHasBorder" class="css-checkbox modify" type="checkbox" name="submenuHasBorder" />                 <label for="submenuHasBorder" class="css-label">'+M.ADD_BORDER_SUBMENU+'</label>               </div>               <div class="col20 f-left border-color-wrapper">                 <div class="input-wrapper color-pick-wrap-widgets">                   <div class="color-pick-wrap">                     <div></div>                     <input type="text" value="" class="colorpicker-selected" name="submenuBorderColor">                   </div>                   <div class="info">                     <h5>'+M.BORDER_COLOR+'</h5>                   </div>                 </div>                 <div class="popup-input-wrapper">                   <h5 class="inline">'+M.BORDER_SIZE+'</h5>                  <input type="text" readonly="readonly" class="slider-val">                   <div id="submenuBorderSizeSlider"></div>                 </div>               </div>           </div>';case"menuWidgetStylingOptions":return'<div class="popup-widget-wrapper">           <div class="popup-input-wrapper" >             <ul class="option-select buttons-select nav-menu-styling">              <li data-type="horizontal-menu-styling"><a class="horizontal-menu transition-bg"><span></span>'+M.HORIZONTAL+'</a></li>              <li data-type="vertical-menu-styling"><a class="vertical-menu transition-bg"><span></span>'+M.VERTICAL+'</a></li>              <li data-type="burger-menu-styling"><a class="burger-menu transition-bg"><span></span>'+M.BURGER+'</a></li>            </ul>            <div class="input-wrapper input-wrapper2 input-wrapper-margin color-pick-wrap-widgets" style="width:47%;">               <div class="color-pick-wrap">                 <div></div>                 <input type="text" value="" class="colorpicker-selected" name="textColor">               </div>               <div class="info">                 <h5>'+M.TEXT_COLOR+'</h5>               </div>             </div>             <div class="input-wrapper color-pick-wrap-widgets" style="width:47%;">               <div class="color-pick-wrap">                 <div></div>                 <input type="text" value="" class="colorpicker-selected" name="backgroundColor">               </div>               <div class="info">                 <h5>'+M.BG_COLOR+'</h5>               </div>             </div>             <div class="input-wrapper input-wrapper-margin color-pick-wrap-widgets burger-picker">               <div class="color-pick-wrap">                 <div></div>                 <input type="text" value="" class="colorpicker-selected" name="burgerColor">               </div>               <div class="info">                 <h5>'+M.BURGER_COLOR+'</h5>               </div>             </div>             <div class="col20 f-left mt-15 vertical-style-wrapper">               <div class="input-wrapper input-wrapper2 input-wrapper-margin color-pick-wrap-widgets" style="width:47%;">                 <h5 class="inline">'+M.MENU_STYLE+'</h5>                <select name="verticalMenuDesign">                  <option value="design-4">'+M.NO_BORDER+'</option>                   <option value="design-1">'+M.BORDER_AROUND_EACH_ITEM+'</option>                   <option value="design-3">'+M.BORDER_BELOW_EACH_ITEM+'</option>                 </select>               </div>               <div class="popup-input-wrapper input-wrapper2 f-right color-pick-wrap-widgets" style="width:47%;margin-bottom:0;">                 <h5 class="inline">'+M.TEXT_ALIGNMENT+'</h5>                <select name="verticalMenuAlign">                  <option value="left">'+M.LEFT+'</option>                   <option value="center">'+M.CENTER+'</option>                   <option value="right">'+M.RIGHT+'</option>                 </select>               </div>               <div class="input-wrapper input-wrapper-margin color-pick-wrap-widgets vertical-menu-border-color-wrapper">                 <div class="color-pick-wrap">                   <div></div>                   <input type="text" value="" class="colorpicker-selected" name="verticalMenuBorderColor">                 </div>                 <div class="info">                   <h5>'+M.BORDER_COLOR+'</h5>                 </div>               </div>             </div>             <div class="dividerWrapper col20 f-left">               <div class="checkbox-wrapper col20 f-left">                 <input id="parallaxEffect" class="css-checkbox modify" type="checkbox" name="hasDivider" />                 <label for="parallaxEffect" class="css-label">'+M.SHOW_DIVIDER_MENU+'</label>               </div>               <div class="f20 dividerColorWrapper none-soft displayed-setting">                 <div class="input-wrapper input-wrapper-margin color-pick-wrap-widgets">                   <div class="color-pick-wrap">                     <div></div>                     <input type="text" value="" class="colorpicker-selected" name="dividerColor">                   </div>                   <div class="info">                     <h5>'+M.DIVIDER_COLOR+'</h5>                   </div>                 </div>               </div>             </div>             </div>           <div class="popup-input-wrapper mt-5" >             <h5 class="inline">'+M.TEXT_FONT_FAMILY+'</h5>            <select name="fontFamily"></select>             </div>           <div class="popup-input-wrapper input-slider-wrapper">             <h5 class="inline">'+M.FONT_SIZE+'</h5>            <div id="fontSizeSlider"></div>             <input type="text" readonly="readonly" class="slider-val">           </div>           <div class="popup-input-wrapper input-slider-wrapper" >             <h5 class="inline">'+M.MENU_SPACING+'</h5>            <div id="spacingSlider"></div>             <input type="text" readonly="readonly" class="slider-val">           </div>           <div class="checkbox-wrapper col20 f-left mt-15">             <input id="menuupercase" class="css-checkbox modify" type="checkbox" name="upercase" />             <label for="menuupercase" class="css-label">'+M.ALL_UPPERCASE+'</label>           </div>           <div class="col20 f-left gray-section product-select-wrapper mb-5 mt-15">              <div class="col20 f-left ab-step center-vertically">                 <h4 class="roboto">'+M.HOVER_ACTIVE_SETTINGS+'</h4>                 <a class="text-link blue-text active-color-settings">'+M.CHANGE+'</a>              </div>           </div>           <div class="col20 f-left gray-section product-select-wrapper mb-5">              <div class="col20 f-left ab-step center-vertically">                 <h4 class="roboto">'+M.SUBMENU_SETTINGS+'</h4>                 <a class="text-link blue-text submenu-color-settings">'+M.CHANGE+"</a>              </div>           </div>         </div>";case"menuWidgetItemSettings":return'<div class="popup-widget-wrapper">                 <div class="col20 f-left t-center">                   <a id="menu-add-page" class="blue big-button rounded with-icon transition-bg inline-block">'+M.ADD_MENU_ITEM+'</a>                   <span class="col20 f-left mt-15 help-text">'+M.MENU_ARRANGE_DESC+'</span>                 </div>                 <ol class="tmdp-tree mt-15">                 </ol>               </div>';case"activateStoreMarkup":return'<div class="flex f-left col20 flex-col align-center justify-center store-activation-popup" style="margin: 50px 0 20px;">                   <div class="flex-1"><img src="'+resources+'/images/store-top-icon.png" style="height:90px;"/></div>                   <h3 class="flex-1 mt-35">'+M.STORE_DISABLED+'</h3>                   <h3 class="flex-1 mt-15">'+M.ACTIVATE_NOW+"</h2>                 </div>";case"learnPopup":return'<div class="col20 f-left">                   <div class="col20 f-left funnels-wrapper funnels-header">                     <div class="col20 f-left t-center">                       <h2 class="f-center col20 roboto" style="display: inline-block">Become a Pro Designer & Marketer Today</h2>                       <h3 style="vertical-align: top;">Learn the basics about Simvoly - build pages, funnels and kickstart your business online.</h3>                     </div>                     <div class="col20 f-left t-center" style="margin-top: 28px;">                       <a class="big-button red with-icon inline-block" data-action="createFunnel">Getting Started</a>                     </div>                   </div>                   <div class="learn-navigation-buttons f-left col20 t-center">                     <a class="funnel-navigation-button" data-tab="list">Building Pages</a>                     <a class="funnel-navigation-button" data-tab="stats">Funnels</a>                     <a class="funnel-navigation-button" data-tab="sales">E-Commerce</a>                     <a class="funnel-navigation-button" data-tab="sales">Others</a>                   </div>                   <div class="col20 f-left mt-35">                     <h3 class="col20 f-left t-center">Building Pages</h3>                     <div class="col20 f-left mt-15 videos-wrapper">                       <div class="video-wrapper f-left">                         <div class="img-wrapper col20 f-left"><img class="col20 f-left" src="'+resources+'/images/learn/thumbs/1.jpg"></div>                         <h4 class="f-left roboto t-center col20 mt-15 mb-15">Working With The Drag & Drop Builder</h4>                       </div>                       <div class="video-wrapper f-left">                         <div class="img-wrapper col20 f-left"><img class="col20 f-left" src="'+resources+'/images/learn/thumbs/2.jpg"></div>                         <h4 class="f-left roboto t-center col20 mt-15 mb-15">Create Your First Page</h4>                       </div>                       <div class="video-wrapper f-left">                         <div class="img-wrapper col20 f-left"><img class="col20 f-left" src="'+resources+'/images/learn/thumbs/3.jpg"></div>                         <h4 class="f-left roboto t-center col20 mt-15 mb-15">Build Your First Popup</h4>                       </div>                     </div>                   </div>                   <div class="col20 f-left mt-35">                     <h3 class="col20 f-left t-center">Funnels</h3>                     <div class="col20 f-left mt-15 videos-wrapper">                       <div class="video-wrapper f-left">                         <div class="img-wrapper col20 f-left"><img class="col20 f-left" src="'+resources+'/images/learn/thumbs/FUNNEL-FIRST-FUNNEL.jpg"></div>                         <h4 class="f-left roboto t-center col20 mt-15 mb-15">Building Your First Funnel [In less than 2 minutes]</h4>                       </div>                       <div class="video-wrapper f-left">                         <div class="img-wrapper col20 f-left"><img class="col20 f-left" src="'+resources+'/images/learn/thumbs/FUNNEL-AB.jpg"></div>                         <h4 class="f-left roboto t-center col20 mt-15 mb-15">A/B Test Your Funnel Steps</h4>                       </div>                       <div class="video-wrapper f-left">                         <div class="img-wrapper col20 f-left"><img class="col20 f-left" src="'+resources+'/images/learn/thumbs/FUNNELS-SALES.jpg"></div>                         <h4 class="f-left roboto t-center col20 mt-15 mb-15">Build a Sales Funnel [In less than 5 minutes]</h4>                       </div>                       <div class="video-wrapper f-left">                         <div class="img-wrapper col20 f-left"><img class="col20 f-left" src="'+resources+'/images/learn/thumbs/FUNNELS-IN-A-SITE.jpg"></div>                         <h4 class="f-left roboto t-center col20 mt-15 mb-15">3 Ways to Use a Funnel in a Website</h4>                       </div>                       <div class="video-wrapper f-left">                         <div class="img-wrapper col20 f-left"><img class="col20 f-left" src="'+resources+'/images/learn/thumbs/FUNNEL-SETTINGS.jpg"></div>                         <h4 class="f-left roboto t-center col20 mt-15 mb-15">Funnel Settings</h4>                       </div>                       <div class="video-wrapper f-left">                         <div class="img-wrapper col20 f-left"><img class="col20 f-left" src="'+resources+'/images/learn/thumbs/FUNNELS-PAYMENTS-TAXES.jpg"></div>                         <h4 class="f-left roboto t-center col20 mt-15 mb-15">Add payment processors, taxes, shipping and discounts</h4>                       </div>                     </div>                   </div>                   <div class="col20 f-left mt-35">                     <h3 class="col20 f-left t-center">Others</h3>                     <div class="col20 f-left mt-15 videos-wrapper">                       <div class="video-wrapper f-left">                         <div class="img-wrapper col20 f-left"><img class="col20 f-left" src="'+resources+'/images/learn/thumbs/OTHER-DOMAIN.jpg"></div>                         <h4 class="f-left roboto t-center col20 mt-15 mb-15">Video Title</h4>                       </div>                       <div class="video-wrapper f-left">                         <div class="img-wrapper col20 f-left"><img class="col20 f-left" src="'+resources+'/images/learn/thumbs/OTHER-SCRIPTS.jpg"></div>                         <h4 class="f-left roboto t-center col20 mt-15 mb-15">Video Title</h4>                       </div>                       <div class="video-wrapper f-left">                         <div class="img-wrapper col20 f-left"><img class="col20 f-left" src="'+resources+'/images/learn/thumbs/OTHER-SEO.jpg"></div>                         <h4 class="f-left roboto t-center col20 mt-15 mb-15">Video Title</h4>                       </div>                     </div>                   </div>                 </div>';case"buttonHoverStyles":return'<div class="popup-widget-wrapper">           <div class="popup-input-wrapper f-left">            <div class="info">              <h5>'+M.TYPE_OF_ANIMATION+'</h5>            </div>            <select name="feedback">            <optgroup label="2D Transitions">               <option value="'+M.GROW+'">'+M.GROW+'</option>               <option value="'+M.POP+'">'+M.POP+'</option>             </optgroup>             <optgroup label="Background Transitions">               <option value="'+M.FADE+'">'+M.FADE+'Fade</option>               <option value="'+M.SWEEP_RIGHT+'">'+M.SWEEP_RIGHT+'</option>               <option value="'+M.RECTANGLE_OUT+'">'+M.RECTANGLE_OUT+'</option>             </optgroup>             <optgroup label="Shadows">               <option value="'+M.GROW_SHADOW+'">'+M.GROW_SHADOW+'</option>               <option value="'+M.FLOAT_SHADOW+'">'+M.FLOAT_SHADOW+"</option>             </optgroup>           </select>         </div>         </div>";case"formLabelStyles":return'<div class="popup-widget-wrapper">                   <div class="input-wrapper color-pick-wrap-widgets">                     <div class="color-pick-wrap">                       <div></div>                       <input type="text" value="" class="colorpicker-selected modify" name="fieldsLabelColor">                     </div>                     <div class="info">                       <h5>'+M.LABEL_COLOR+'</h5>                     </div>                   </div>                   <div class="input-wrapper color-pick-wrap-widgets">                     <div class="color-pick-wrap">                       <div></div>                       <input type="text" value="" class="colorpicker-selected modify" name="fieldsBgColor">                     </div>                     <div class="info">                       <h5>'+M.FIELDS_BG+'</h5>                     </div>                   </div>                   <div class="input-wrapper color-pick-wrap-widgets">                     <div class="color-pick-wrap">                       <div></div>                       <input type="text" value="" class="colorpicker-selected modify" name="fieldsTextColor">                     </div>                     <div class="info">                       <h5>'+M.FIELDS_TEXT_COLOR+'</h5>                     </div>                   </div>                   <div class="input-wrapper color-pick-wrap-widgets">                     <div class="color-pick-wrap">                       <div></div>                       <input type="text" value="" class="colorpicker-selected modify" name="fieldsBorderColor">                     </div>                     <div class="info">                       <h5>'+M.FIELDS_BORDER_COLOR+'</h5>                     </div>                   </div>                   <div class="popup-input-wrapper mt-15 mb-0">                     <h5 class="inline">'+M.FONT_SIZE+'</h5>                    <input type="text" readonly="readonly" class="slider-val">                     <div id="fieldsTitleSizeSlider"></div>                   </div>                   <div class="popup-input-wrapper mt-15">                     <h5 class="inline">'+M.BORDER_RADIUS+'</h5>                    <input type="text" readonly="readonly" class="slider-val">                     <div id="fieldsBorderRadiusSlider"></div>                   </div>                   <div class="popup-input-wrapper mt-15" >                     <h5 class="inline">'+M.TEXT_FONT_FAMILY+'</h5>                    <select name="fieldsFontFamily"></select>                   </div>                 </div>';case"funnelsShareMarkup":return'<div class="popup-widget-wrapper">           <h3 class="f-left col20 t-center roboto mt-15">%title%</h3>           <span class="f-left col20 t-center mt-15 sub-heading">%desc%</span>           <div class="share-link ellipsis col20 f-left mt-25" data-link="%primarylink%">%primarylink%<a class="copy-link button-tooltip" data-tooltip="copy"><i class="fa fa-link"></i></a></div>           <div class="gray-section f-left col20 mt-35 none" data-role="affiliate-links">             <h4 class="mt-15 t-center col20 f-left">'+M.SHARE_FUNNEL_WITH_AFFILIATE_TITLE+'</h4>             <span class="f-left col20 t-center mt-5 sub-heading">%aff_desc%</span>             <div class="col20 f-left mt-15">               <select style="width: 200px; margin: 0 auto; display: block; border-radius: 30px; float: none;"></select>             </div>             <div class="share-link ellipsis col20 f-left mt-15 mb-15"><span></span><a class="copy-link button-tooltip" data-tooltip="copy"><i class="fa fa-link"></i></a></div>           </div>         </div>';case"subscriptionWidgetChargesMarkup":return'<div class="popup-widget-wrapper">                   <div class="col20 f-left product-select-wrapper gray-section">                     <div class="col20 f-left product-bumps mb-15"></div>                     <div class="col20 f-left t-center">                       <a class="big-button f-none blue inline-block" data-role="add-charge">'+M.ADD_CHARGE+"</a>                     </div>                   </div>                 </div>";case"subscriptionWidgetChargesEmpty":return'<h4 class="ta-center mt-15 mb-15 roboto">No extra charges</h4>';case"subscriptionWidgetChargesRowMarkup":return'<div class="bump-row-wrapper col20 f-left">                   <h4 class="roboto f-left col20 mb-10">%title% - %amount%</h4>                   <div class="col20 f-left">                     <span class="roboto">%description%</span>                     <a data-role="edit" class="text-link blue-text" style="display:inline-block; margin-left: 0;">'+M.EDIT+"</a>                   </div>                 </div>";case"subscriptionWidgetEditChargeMarkup":return'<div class="popup-widget-wrapper">                   <div class="popup-input-wrapper">                     <div class="info">                       <h5>'+M.CHARGE_TITLE+'</h5>                      <input type="text" name="title" class="transition-all">                     </div>                   </div>                   <div class="popup-input-wrapper">                     <div class="info">                       <h5>'+M.CHARGE_DESC+'</h5>                      <input type="text" name="description" class="transition-all">                     </div>                   </div>                   <div class="popup-input-wrapper">                     <div class="info">                       <h5>'+M.CHARGE_AMOUNT+'</h5>                      <input type="number" min="1" step="1" name="amount" class="transition-all">                     </div>                   </div>                 </div>';case"subscriptionWidgetStyleMarkup":return'<div class="popup-widget-wrapper">             <div class="col20 f-left gray-section">               <div class="flex col20" data-visible="no-upsell">                 <a class="addon-select half-select">                   <div class="one-step-icon"></div>                   <h4>'+M.ONE_STEP_CHECKOUT+'</h4>                   <span class="t-center f-left col20">'+M.ONE_STEP_DESC+'</span>                 </a>                 <a class="addon-select half-select">                   <div class="two-step-icon"></div>                   <h4>'+M.TWO_STEP_CHECKOUT+'</h4>                   <span class="t-center f-left col20">'+M.TWO_STEP_DESC+'</span>                 </a>               </div>               <div class="popup-input-wrapper mb-0 mt-15" data-visible="no-upsell">                 <div class="checkbox-wrapper">                   <input class="css-checkbox" type="checkbox" id="askForPhone" name="askForPhone" />                   <label class="css-label" for="askForPhone">'+M.ASK_PHONE+'</label>                 </div>               </div>               <div class="popup-input-wrapper mb-0" data-visible="no-upsell">                 <div class="checkbox-wrapper">                   <input class="css-checkbox" type="checkbox" id="doNotAskForAddress" name="doNotAskForAddress" />                   <label class="css-label" for="doNotAskForAddress">'+M.DONT_ASK_BILLING_ADDRESS+'</label>                 </div>               </div>               <div class="popup-input-wrapper mb-0" data-visible="no-upsell">                 <div class="checkbox-wrapper">                   <input class="css-checkbox" type="checkbox" id="showSecureBadge" name="showSecureBadge" />                   <label class="css-label" for="showSecureBadge">'+M.SHOW_SECURED_CHECKOUT_BADGE+'</label>                 </div>               </div>               <div class="col20 f-left mt-25 product-select-wrapper">                 <h4 class="col20 roboto f-left mb-25" data-visible="no-upsell">'+M.STYLING_SETTINGS+'</h4>                 <div class="col20 f-left mb-10 ab-step white-ab-step center-vertically" data-visible="no-upsell">                    <h4 class="roboto">'+M.FIELDS_AND_FIELDS+'</h4>                    <a class="text-link blue-text" data-role="editFields">'+M.STYLE+'</a>                 </div>                 <div class="col20 f-left mb-10 ab-step white-ab-step center-vertically" data-visible="no-upsell">                    <h4 class="roboto">'+M.CHECKOUT_WRAPPER+'</h4>                    <a class="text-link blue-text" data-role="editWrapper">'+M.STYLE+'</a>                 </div>                 <div class="col20 f-left mb-10 ab-step white-ab-step center-vertically" data-role="summary" data-visible="no-upsell">                    <h4 class="roboto">'+M.ORDER_SUMMARY+'</h4>                    <a class="text-link blue-text" data-role="editSummary">'+M.STYLE+'</a>                 </div>                 <div class="col20 f-left mb-10 ab-step white-ab-step center-vertically">                    <h4 class="roboto">'+M.BUTTONS+'</h4>                    <a class="text-link blue-text" data-role="editButtons">'+M.STYLE+'</a>                 </div>                 <div class="col20 f-left mb-10 ab-step white-ab-step center-vertically" data-role="badge" data-visible="no-upsell">                    <h4 class="roboto">'+M.SECURE_BADGE+'</h4>                    <a class="text-link blue-text" data-role="editSecurityBadges">'+M.STYLE+"</a>                 </div>               </div>             </div>           </div>";case"subscriptionWidgetLayoutStyles":return'<div class="popup-widget-wrapper">                   <div class="input-wrapper color-pick-wrap-widgets">                     <div class="color-pick-wrap">                       <div></div>                       <input type="text" value="" class="colorpicker-selected modify" name="bgColor">                     </div>                     <div class="info">                       <h5>'+M.CHECKOUT_BACKGROUND+'</h5>                     </div>                   </div>                   <div class="popup-input-wrapper f-right mt-15">                     <div class="info input-slider-wrapper">                       <h5 class="ta-left">'+M.PADDING_SIZE+'<span class="slider-val f-right"></span></h5>                       <div id="paddingSlider"></div>                       <input type="text" readonly="readonly" class="slider-val modify">                     </div>                   </div>                   <div class="popup-input-wrapper f-right">                     <div class="info input-slider-wrapper">                       <h5 class="ta-left">'+M.BORDER_RADIUS+'<span class="slider-val f-right"></span></h5>                       <div id="borderRadiusSlider"></div>                       <input type="text" readonly="readonly" class="slider-val modify">                     </div>                   </div>                   <div class="popup-input-wrapper mt-15">                     <div class="info">                       <h5>'+M.STEP_1_TITLE+'</h5>                      <input type="text" name="step1Title" class="transition-all">                     </div>                   </div>                   <div class="popup-input-wrapper mt-15">                     <div class="info">                       <h5>'+M.STEP_2_TITLE+'</h5>                      <input type="text" name="step2Title" class="transition-all">                     </div>                   </div>                   <div class="popup-input-wrapper mt-15">                     <div class="info">                       <h5>'+M.SUBSCRIPTION_START_TRIAL_MSG_TITLE+'</h5>                      <input type="text" name="trialStartMessage" class="transition-all" placeholder="'+M.SUBSCRIPTION_START_TRIAL_MESSAGE+'">                     </div>                   </div>                   <div class="popup-input-wrapper">                     <div class="info">                       <h5>'+M.DISCLAIMER_TEXT+'</h5>                     </div>                     <div class="text-field-wrapper mt-15" style="font-family: Arial;"><div class="text-field-content"></div></div>                   </div>                 </div>';case"subscriptionWidgetBumpsMarkup":return'<div class="popup-widget-wrapper">                   <div class="col20 f-left product-select-wrapper gray-section">                     <div class="col20 f-left product-bumps mb-15"></div>                     <div class="col20 f-left t-center">                       <a class="big-button f-none blue inline-block" data-role="add-bump">'+M.ADD_BUMP+"</a>                     </div>                   </div>                 </div>";case"dashboardRootMarkupNoTemplate":return'<div class="new-dashboard-wrapper f-left col20">             <div class="f-left col20">               <div class="dashboard-content-wrapper relative">                 <div id="main-container" class="f-left col20"></div>               </div>             </div>           </div>';case"dashboardRootMarkup":return'<div class="new-dashboard-wrapper f-left col20">             <div class="dashboard-header f-left col20">               <span class="upper-title ta-center">'+M.PROJECT+'</span>               <h1 class="pick-template-title ta-center roboto">                <span data-role="project-name"></span>                 <a rel="action" data-action="renameProject" class="rename-icon" style="margin-left: 3px;">                 <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"                    width="528.899px" height="528.899px" viewBox="0 0 528.899 528.899" style="enable-background:new 0 0 528.899 528.899;"                    xml:space="preserve">                 <g>                   <path d="M328.883,89.125l107.59,107.589l-272.34,272.34L56.604,361.465L328.883,89.125z M518.113,63.177l-47.981-47.981                     c-18.543-18.543-48.653-18.543-67.259,0l-45.961,45.961l107.59,107.59l53.611-53.611                     C532.495,100.753,532.495,77.559,518.113,63.177z M0.3,512.69c-1.958,8.812,5.998,16.708,14.811,14.565l119.891-29.069                     L27.473,390.597L0.3,512.69z"/>                 </g>                 </svg>                 </a>               </h1>               <span class="lower-title mt-5 ta-center" data-role="website-count"></span>               <a rel="action" data-action="switchProject" class="blue-text text-link t-center mt-10">'+M.SWITCH_PROJECT+'</a>              <a href="/me/website" rel="tab" class="dashboard-back-btn rounded-effect"><i class="material-icons"> arrow_back </i>'+M.GO_TO_BUILDER+'</a>             </div>             <div class="f-left col20 dashboard-content-outer">               <div class="dashboard-content-wrapper relative">                 <ul class="upper-navigation f-left col20">                   <li><a rel="tab" href="/me/dashboard" data-menu=""><i class="material-icons">bar_chart</i>'+M.OVERVIEW+'</a></li>                   <li><a rel="tab" href="/me/settings/access" data-menu="access"><i class="material-icons">supervised_user_circle</i>'+M.ADMINS+'</a></li>                   <li><a rel="tab" href="/me/settings/billing" data-menu="billing"><i class="material-icons">credit_card</i>'+M.BILLING+'</a></li>                   <li><a rel="tab" href="/me/dashboard/affiliate" data-menu="affiliate"><i class="material-icons">monetization_on</i>'+M.AFFILIATE_REFERAL+'</a></li>                   <li><a rel="tab" href="/me/dashboard/wl" data-menu="wl"><i class="material-icons">settings_system_daydream</i>'+M.WHITE_LABEL+'</a></li>                   <li><a rel="tab" href="/me/settings" data-menu="settings"><i class="material-icons">settings</i>'+M.ACCOUNT+'</a></li>                 </ul>                 <div id="main-container" class="f-left col20"></div>               </div>             </div>           </div>';case"selectProjectWebsite":return'           <div class="switch-popup-wrapper">             <h2 class="col20 f-left ta-center">'+M.SELECT_WEBSITE+'</h2>             <div class="switch-popup-content-wrapper f-left col20">               <div class="col20 f-left">                 <input placeholder="'+M.SEARCH_BY+'" class="popup-search" name="search">               </div>               <div class="col20 f-left funnel-inner-wrapper mb-25" style="padding: 20px; box-sizing: border-box;" data-id="-1">                 <div class="col20 f-left funnels-wrapper vertical-flex">                 <div class="funnel-inner-texts" style="margin-top:0;">                   <h4 class="col20 f-left" data-type="name">'+M.ALL_SITES_FUNNELS+'</h4>                   <span class="col20 f-left mt-10">%projectName%</span>                 </div>                 </div>               </div>               <div class="col20 f-left none" data-role="websites">                 <h3 class="roboto col20 f-left ta-left mb-10">'+M.WEBSITES+'</h3>                 <div class="col20 f-left sites-list"></div>               </div>               <div class="col20 f-left none" data-role="funnels">                 <h3 class="roboto col20 f-left ta-left mb-10 mt-25">'+M.FUNNELS+'</h3>                 <div class="col20 f-left sites-list"></div>               </div>             </div>           </div>';case"selectProjectWebsiteSingle":return'<div class="col20 f-left funnel-inner-wrapper mini-view" data-id="%id%">                   <div class="col20 f-left funnels-wrapper vertical-flex">                     <div class="funnel-list-stats blue">%nameChar%</div>                     <div class="funnel-inner-texts">                       <h4 class="col20 f-left">%name%</h4>                       <span class="col20 f-left mt-5">%domain%</span>                     </div>                   </div>                 </div>';case"noAdminsMarkup":return'         <div class="col20 f-left funnel-inner-wrapper>           <div class="col20 f-left funnels-wrapper vertical-flex">             <div class="col20 f-left flex flex-row align-center">               <div class="admin-row flex-1">                 <span class="col20 f-left mt-10">'+M.NO_ADMINS+"</span>               </div>             </div>           </div>         </div>";case"switchProjectContextMarkup":return'         <div class="switch-popup-wrapper full-size flex flex-col" style="height: 70vh;">           <a class="close-btn close-popup"></a>           <h2 class="col20 ta-center flex-none">'+M.MY_PROJECTS+'</h2>           <div class="switch-popup-content-wrapper col20 flex-1 flex flex-col" style="padding: 0;">             <div class="upper-navigation col20 mb-15 flex-none" data-role="slider-nav">               <ul>                 <li><a>'+M.ACTIVE+"</a></li>                 <li><a>"+M.TRIAL+"</a></li>                 <li><a>"+M.EXPIRED+'</a></li>               </ul>             </div>             <div class="col20 f-left t-center flex-none">               <a class="big-button blue with-icon inline-block" data-action="startNewProject" rel="action" data-target="CPanel">'+M.START_PROJECT+'</a>             </div>             <div class="flex col20 align-center justify-center need-help-text-wrapper" data-key="switchProject"><a class="need-help-text" rel="action" data-action="showHelperVideo" data-target="CPanel">'+M.NEED_HELP+" <span>"+M.PLAY_VIDEO+' <i class="material-icons"> play_circle_filled </i></span></a></div>             <div class="cpanel-popup-slider flex-1 flex flex-row" style="min-height: 0">               <div class="cpanel-popup-slide overflow" style="padding-top: 25px">                 <div class="col20 f-left" style="box-sizing: border-box; padding: 0px 40px;">                   <div class="col20 f-left" data-type="active"></div>                 </div>               </div>               <div class="cpanel-popup-slide overflow" style="padding-top: 25px">                 <div class="col20 f-left" style="box-sizing: border-box; padding: 0px 40px;">                   <div class="col20 f-left" data-type="trial"></div>                 </div>               </div>               <div class="cpanel-popup-slide overflow" style="padding-top: 25px">                 <div class="col20 f-left" style="box-sizing: border-box; padding: 0px 40px;">                   <div class="col20 f-left" data-type="expired"></div>                 </div>               </div>             </div>           </div>         </div>';case"switchProjectContextItemMarkup":return'          <div class="col20 f-left funnel-inner-wrapper project-view %clz%" data-id="%id%">             <div class="col20 f-left funnels-wrapper vertical-flex">               <div class="funnel-inner-texts" style="margin-top:0;">                 <h4 class="col20 f-left" data-role="name">%name%</h4>               </div>               <div class="funnel-controls"><a class="more-options"></a></div>             </div>           </div>';case"selectFromListMarkup":return'<div class="switch-popup-content-wrapper full-size flex flex-col" data-role="list"></div>';case"selectFromListItemMarkup":return'          <div class="col20 f-left funnel-inner-wrapper project-view" data-id="%id%" data-role="row">             <div class="col20 f-left funnels-wrapper vertical-flex">               <div class="funnel-inner-texts" style="margin-top:0;">                 <h4 class="col20 f-left">%name%</h4>               </div>             </div>           </div>';case"switchWebsiteContext":return'           <div class="switch-popup-wrapper full-size flex flex-col">             <h2 class="col20 ta-center flex-none">'+M.MY_SITES_FUNNELS+'</h2>             <div class="switch-popup-content-wrapper col20 flex-1 flex flex-col" style="padding: 0;">               <div class="upper-navigation col20 mb-15 flex-none" data-role="slider-nav">                 <ul>                   <li><a>'+M.FUNNELS+"</a></li>                   <li><a>"+M.WEBSITES+'</a></li>                 </ul>               </div>               <div class="cpanel-popup-slider flex-1 flex flex-row">                 <div class="cpanel-popup-slide overflow">                   <div class="col20 f-left t-center flex-none none mb-15" style="position: relative;" data-role="new-funnel-wrapper">                     <a class="back-arrow rounded-back-arrow none-soft"></a>                     <a class="middle-button blue with-icon inline-block f-none" rel="action" data-role="createNewFunnel" style="margin-top: 8px;">'+M.CREATE_A_FUNNEL+'</a>                     <div class="flex col20 align-center justify-center need-help-text-wrapper" data-key="funnels"><a class="need-help-text" rel="action" data-action="showHelperVideo" data-target="CPanel">'+M.NEED_HELP+" <span>"+M.PLAY_VIDEO+' <i class="material-icons"> play_circle_filled </i></span></a></div>                   </div>                   <div class="t-center none" style="box-sizing: border-box;padding: 7px 40px 0px;float:left; width:100%;">                     <div class="col20 f-left mb-35 none">                       <div class="flex align-center justify-center">                         <div class="funnel-search-wrapper">                           <a href=""><i class="material-icons"> search </i></a>                           <input type="text" placeholder="Type to search">                         </div>                         <a href="" class="label-button none"><i class="material-icons"> group_work </i></a>                       </div>                       <div class="funnel-website-tags-wrapper f-left col20 none">                         <ul class="funnel-website-tags tags-wrapper flex align-center justify-center col20 none-soft tagit ui-widget ui-widget-content ui-corner-all mb-10">                             <li class="tagit-choice ui-widget-content ui-state-default ui-corner-all tagit-choice-editable"><span class="tagit-label">Funnel Tag</span><a class="tagit-close"><span class="text-icon">Ã—</span><span class="ui-icon ui-icon-close"></span></a>                                 <input type="hidden" value="stancho" name="tags" class="tagit-hidden-field">                             </li>                             <li class="tagit-choice ui-widget-content ui-state-default ui-corner-all tagit-choice-editable"><span class="tagit-label">Funnel Tag</span><a class="tagit-close"><span class="text-icon">Ã—</span><span class="ui-icon ui-icon-close"></span></a>                                 <input type="hidden" value="stancho" name="tags" class="tagit-hidden-field">                             </li>                             <li class="tagit-choice ui-widget-content ui-state-default ui-corner-all tagit-choice-editable"><span class="tagit-label">Funnel Tag</span><a class="tagit-close"><span class="text-icon">Ã—</span><span class="ui-icon ui-icon-close"></span></a>                                 <input type="hidden" value="stancho" name="tags" class="tagit-hidden-field">                             </li>                         </ul>                         <a href="" class="blue-text text-link f-12 t-center">Clear All Tags</a>                       </div>                     </div>                   </div>                   <div class="col20 f-left funnels-list-inner-wrapper">                     <div class="col20 f-left" data-type="funnels"></div>                     <div class="col20 f-left" data-type="site-funnels" style="display: none">                       <div class="col20 f-left" data-role="list"></div>                     </div>                   </div>                 </div>                 <div class="cpanel-popup-slide overflow">                   <div class="col20 f-left t-center" style="box-sizing: border-box; padding: 0px 40px 0;">                     <div class="col20 f-left t-center flex-none mb-15" data-role="new-website-wrapper">                       <div style="box-sizing: border-box; float:left; width:100%;">                         <div class="col20 f-left mb-35 none">                           <div class="flex align-center justify-center">                             <div class="funnel-search-wrapper">                               <a href=""><i class="material-icons"> search </i></a>                               <input type="text" placeholder="Type to search">                             </div>                           </div>                         </div>                         <a class="middle-button blue with-icon inline-block f-none" rel="action" data-action="createNewWebsite" data-target="CPanel" style="margin-top: 8px;">'+M.CREATE_A_WEBSITE+'</a>                       </div>                     </div>                     <div class="col20 f-left" data-type="websites"></div>                  </div>                 </div>               </div>             </div>           </div>';case"noFunnelsMessage":return'<h3 style="text-align: center; padding: 40px 0;">'+M.NO_FUNNELS+"</h3>";case"noSitesMessage":return'<h3 style="text-align: center; padding: 40px 0;">'+M.NO_WEBSITES+"</h3>";case"switchWebsiteItem":return'           <div class="col20 f-left funnel-inner-wrapper">             <div class="col20 f-left funnels-wrapper vertical-flex">               <a class="paused-item-tooltip button-tooltip" data-timeout="10000"><span class="material-icons"> pause </span></a>               <div class="funnel-list-stats blue" data-role="logo"></div>               <div class="funnel-inner-texts">                 <h4 class="col20 f-left" data-role="name"></h4>                 <span class="col20 f-left mt-10" data-role="subtext"></span>               </div>               <div class="funnel-controls">                 <a target="_blank" class="preview-icon button-tooltip" data-tooltip="previewFunnel" data-bottom="true"></a>                 <a class="more-options"></a>               </div>             </div>           </div>';case"websiteSettingsPopup":return'            <div class="global-settings-popup-wrapper full-size flex flex-row">               <div class="flex-none">                 <div class="global-left-nav big" style="overflow: auto; background-color: #fff;">                   <div class="col20 f-left">                     <h3 class="global-title f-left">%title%</h3>                     <ul class="global-nav f-left">                       <li><a class="popup-tab-trigger transition-all vertical-flex" data-open="code"><div class="custom-code-icon"></div>'+M.CUSTOM_CODE+'</a></li>                       <li><a class="popup-tab-trigger transition-all vertical-flex" data-open="seo"><div class="page-seo-icon"></div>'+M.PAGE_SEO+'</a></li>                       <li><a class="popup-tab-trigger transition-all vertical-flex" data-open="files"><div class="file-manager-icon"></div>'+M.FILE_MANAGER+'</a></li>                     </ul>                     <ul class="global-nav f-left mt-25">                       <li><a class="popup-tab-trigger transition-all" data-show="general">'+M.GENERAL+'</a></li>                       <li class="none"><a class="popup-tab-trigger transition-all" data-open="headers">'+M.HEADERS+'</a></li>                       <li><a class="popup-tab-trigger transition-all" data-show="domains">'+M.DOMAINS+'</a></li>                       <li><a class="popup-tab-trigger transition-all" data-show="language">'+M.LANGUAGE_TIME+'</a></li>                       <li><a class="popup-tab-trigger transition-all" data-show="cookies">'+M.COOKIES_GDPR+'</a></li>                       <li><a class="popup-tab-trigger transition-all" data-show="apps">'+M.APPLICATIONS+'</a></li>                       <li><a class="popup-tab-trigger transition-all" data-show="personalization">'+M.PERSONALIZATION+'</a></li>                       <li><a class="popup-tab-trigger transition-all" data-show="301redirects">'+M.URL_REDIRECTS+'</a></li>                    </ul>                   </div>                 </div>               </div>               <div class="flex-1 flex flex-col relative web-settings-content" style="overflow: hidden; background-color: #f5f6fa;">               </div>             </div>';case"websiteSettingsBtnsTemplate":return'            <div class="flex-none" style="padding: 15px 50px;"><a class="blue middle-button f-right" data-role="save">'+M.SAVE+"</a></div>";case"websiteSettings301RedirectFieldTemplate":return'           <div class="f-left col20 gray-section redirect-record flex align-center relative" data-role="rule-field">                 <span class="col10 f-left with-arrow">%from%</span>                 <i class="material-icons redirect-arrow flex-none">arrow_forward</i>                 <span class="col10 f-left">%to%</span>                 <a class="more-options"></a>           </div>';case"websiteSettings301RedirectTemplate":return'            <div class="flex-1 box-with-space">               <div class="f-left col20 mb-25 center-vertically" style="justify-content: space-between;">                 <h2 class="roboto font-24">'+M.URL_REDIRECTS+'</h2>                 <a class="big-button f-right blue with-icon inline-block" data-role="new-redirect">'+M.NEW_REDIRECT+'</a>               </div>               <span class="col20 f-left f-15 gray-text">'+M.URL_REDIRECTS_DESC+'</span>               <div class="col20 f-left mt-35" data-role="rule-fields"></div>            </div>';case"websiteSettingsEdit301RedirectTemplate":return'          <div class="popup-newpage-wrapper">             <div class="popup-input-wrapper">               <h5>'+M.REDIRECT_FROM+"</h5>                <span>"+M.REDIRECT_PATH_DESC+'</span>               <input type="text" name="from" class="required transition-all">             </div>             <div class="popup-input-wrapper mt-15" >               <h5>'+M.REDIRECT_TO+"</h5>                <span>"+M.REDIRECT_PATH_DESC+'</span>               <input type="text" name="to" class="required transition-all">             </div>             <div class="popup-input-wrapper">               <h5>'+M.REDIRECT_TYPE+"</h5>                <span>"+M.REDIRECT_TYPE_DESC+'</span>               <select name="type" class="required transition-all"> \\n                <option value="301">'+M.REDIRECT_TYPE_PERMANENT+'</option>                <option value="302">'+M.REDIRECT_TYPE_TEMP+'</option>              </select>            </div>             <div class="section f-left col20 mt-15">               <div class="info" style="width: 60%">                 <h5>'+M.ENABLE_REGEX+"</h5>                 <span>"+M.ENABLE_REGEX_SUB+'</span>               </div>               <div class="right-side f-right">                 <div class="onoffswitch">                   <input type="checkbox" class="onoffswitch-checkbox modify" id="regex" name="regex">                   <label class="onoffswitch-label" for="regex" id="isRegexTrigger">                     <span class="onoffswitch-inner"></span>                     <span class="onoffswitch-switch"></span>                   </label>                 </div>               </div>             </div>           </div>';case"websiteSettingsGeneralTemplate":return'          <div class="flex-1 box-with-space">             <h2 class="f-left col20 mb-45 roboto font-24">'+M.GENERAL_SETTINGS+'</h2>             <div class="col20 f-left mb-45">               <div class="section f-left col20 mb-25">                 <div class="info">                   <h3>'+M.WEBSITE_TITLE_TEXT+'</h3>                   <span class="none">'+M.WEBSITE_TITLE_DESC+'</span>                 </div>                 <input type="text" name="websiteTitle" class="transition-all big-input-settings" placeholder="'+M.WEBSITE_TITLE_DESC+'">               </div>               <div class="section section-logo f-left col10" style="padding-right: 20px; box-sizing: border-box;">                 <a class="add-image transition-all" id="faviconBtn" data-name="favicon">                   <span class="add-button"></span>                 </a>                 <div class="info logo-info">                   <h3>'+M.FAVICON+"</h3>                   <span>"+M.FAVICON_DESC+'<br>                     <span class="blue-text">'+M.FAVICON_DIMENSIONS+'</span></span>                 </div>               </div>               <div class="section section-logo f-left col10" style="padding-right: 20px; box-sizing: border-box;">                 <a class="add-image transition-all" id="shareImageBtn" data-name="shareImage">                   <span class="add-button"></span>                 </a>                 <div class="info logo-info">                   <h3>'+M.SHARE_IMAGE+"</h3>                   <span>"+M.SHARE_IMAGE_DESC+'</span>                 </div>               </div>               <div class="col20 f-left none" data-role="funnel-settings">                 <div class="checkbox-wrapper mt-15">                   <input class="css-checkbox" type="checkbox" id="hideProductLinks" name="hideProductLinks" />                   <label class="css-label" for="hideProductLinks">'+M.REMOVE_PRODUCT_LINKS_TITLE+"                    <span>"+M.REMOVE_PRODUCT_LINKS_DESC+'</span>                   </label>                 </div>                 <div class="checkbox-wrapper">                   <input class="css-checkbox" type="checkbox" id="showCheckoutButton" name="showCheckoutButton" />                   <label class="css-label" for="showCheckoutButton">'+M.SHOW_FUNNEL_CHECKOUT_BTN+"                    <span>"+M.SHOW_FUNNEL_CHECKOUT_BTN_DESC+'</span>                   </label>                 </div>                 <div class="popup-input-wrapper" id="checkoutButtonTargetWrapper">                   <div class="info mt-15">                     <h4>'+M.FUNNEL_CHECKOUT_BTN_TARGET_TITLE+"</h4>                     <span>"+M.FUNNEL_CHECKOUT_BTN_TARGET_DESC+'</span>                  </div>                   <input class="select-like" name="checkoutButtonTarget" readonly="readonly">                 </div>               </div>             </div>           </div>'+Templates.get("websiteSettingsBtnsTemplate");case"websiteSettingsDomainsTemplate":return'         <div class="flex-1 box-with-space">           <h2 class="f-left col20 mb-25 roboto font-24" data-role="title">'+M.DOMAINS+'</h2>           <div class="col20 f-left mb-45">             <div class="info mb-15">               <h3>'+M.DOMAIN_TYPE_SYSTEM+'</h3>             </div>             <div class="col20 f-left" data-role="system-domain"></div>             <div>               <div class="info mt-25 mb-15">                <h3>'+M.DOMAIN_TYPE_CUSTOM+'</h3>              </div>              <div class="col20 f-left" data-role="custom-domain"></div>             </div>             <div class="col20 f-left mb-15 mt-25 gray-section new-domain-section none-soft">              <h4 class="t-center col20 f-left mb-15">'+M.ENTER_DOMAIN+'</h4>              <input type="text" name="new-domain" class="col20 big-input" placeholder="yourdomain.com"/>              <div class="col20 f-left mt-15 t-center">                <a class="big-button f-none blue inline-block" data-role="connect">'+M.CONNECT_DOMAIN+'</a>              </div>              <div class="col20 f-left mt-15 t-center">                <a data-role="toggle-new">'+M.CANCEL+'</a>              </div>            </div>            <div class="col20 f-left mt-25 t-center connect-domain-section">              <a data-role="toggle-new" class="big-button with-icon blue">'+M.CONNECT_EXISTING_DOMAIN+'</a>            </div>            <div class="funnels-wrapper f-left col20 none-soft no-domain-section" style="padding: 0 30px;">              <div class="col20 f-left warning-wrapper" style="display: block;">                <span class="col20 f-left t-center warrning-message">                  <span data-role="message">'+M.ERR_NO_CUSTOM_DOMAINS+'</span>                  <a data-action="upgrade" class="f-none inline-block close-popup" style="text-decoration: underline;">'+M.UPGRADE_NOW+"</a></span>              </div>            </div>          </div>         </div>";case"websiteSettingsDomainRowTemplate":return'        <div class="col20 f-left mb-10 white-section box-shadow domain-item %primary% %typeClass%" data-domain="%domain%">           <h5 class="f-left mt-13">             <span class="funnel-system-url">%domain%</span>             <span class="system-tag">%type%</span>           </h5>           <div class="domain-controls">             <a class="domain-settings">               <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"                    viewBox="0 0 478.703 478.703" style="enable-background:new 0 0 478.703 478.703;" xml:space="preserve">                 <path d="M454.2,189.101l-33.6-5.7c-3.5-11.3-8-22.2-13.5-32.6l19.8-27.7c8.4-11.8,7.1-27.9-3.2-38.1l-29.8-29.8                      c-5.6-5.6-13-8.7-20.9-8.7c-6.2,0-12.1,1.9-17.1,5.5l-27.8,19.8c-10.8-5.7-22.1-10.4-33.8-13.9l-5.6-33.2                      c-2.4-14.3-14.7-24.7-29.2-24.7h-42.1c-14.5,0-26.8,10.4-29.2,24.7l-5.8,34c-11.2,3.5-22.1,8.1-32.5,13.7l-27.5-19.8                      c-5-3.6-11-5.5-17.2-5.5c-7.9,0-15.4,3.1-20.9,8.7l-29.9,29.8c-10.2,10.2-11.6,26.3-3.2,38.1l20,28.1                      c-5.5,10.5-9.9,21.4-13.3,32.7l-33.2,5.6c-14.3,2.4-24.7,14.7-24.7,29.2v42.1c0,14.5,10.4,26.8,24.7,29.2l34,5.8                      c3.5,11.2,8.1,22.1,13.7,32.5l-19.7,27.4c-8.4,11.8-7.1,27.9,3.2,38.1l29.8,29.8c5.6,5.6,13,8.7,20.9,8.7c6.2,0,12.1-1.9,17.1-5.5                      l28.1-20c10.1,5.3,20.7,9.6,31.6,13l5.6,33.6c2.4,14.3,14.7,24.7,29.2,24.7h42.2c14.5,0,26.8-10.4,29.2-24.7l5.7-33.6                      c11.3-3.5,22.2-8,32.6-13.5l27.7,19.8c5,3.6,11,5.5,17.2,5.5l0,0c7.9,0,15.3-3.1,20.9-8.7l29.8-29.8c10.2-10.2,11.6-26.3,3.2-38.1                      l-19.8-27.8c5.5-10.5,10.1-21.4,13.5-32.6l33.6-5.6c14.3-2.4,24.7-14.7,24.7-29.2v-42.1                      C478.9,203.801,468.5,191.501,454.2,189.101z M451.9,260.401c0,1.3-0.9,2.4-2.2,2.6l-42,7c-5.3,0.9-9.5,4.8-10.8,9.9                      c-3.8,14.7-9.6,28.8-17.4,41.9c-2.7,4.6-2.5,10.3,0.6,14.7l24.7,34.8c0.7,1,0.6,2.5-0.3,3.4l-29.8,29.8c-0.7,0.7-1.4,0.8-1.9,0.8                      c-0.6,0-1.1-0.2-1.5-0.5l-34.7-24.7c-4.3-3.1-10.1-3.3-14.7-0.6c-13.1,7.8-27.2,13.6-41.9,17.4c-5.2,1.3-9.1,5.6-9.9,10.8l-7.1,42                      c-0.2,1.3-1.3,2.2-2.6,2.2h-42.1c-1.3,0-2.4-0.9-2.6-2.2l-7-42c-0.9-5.3-4.8-9.5-9.9-10.8c-14.3-3.7-28.1-9.4-41-16.8                      c-2.1-1.2-4.5-1.8-6.8-1.8c-2.7,0-5.5,0.8-7.8,2.5l-35,24.9c-0.5,0.3-1,0.5-1.5,0.5c-0.4,0-1.2-0.1-1.9-0.8l-29.8-29.8                      c-0.9-0.9-1-2.3-0.3-3.4l24.6-34.5c3.1-4.4,3.3-10.2,0.6-14.8c-7.8-13-13.8-27.1-17.6-41.8c-1.4-5.1-5.6-9-10.8-9.9l-42.3-7.2                      c-1.3-0.2-2.2-1.3-2.2-2.6v-42.1c0-1.3,0.9-2.4,2.2-2.6l41.7-7c5.3-0.9,9.6-4.8,10.9-10c3.7-14.7,9.4-28.9,17.1-42                      c2.7-4.6,2.4-10.3-0.7-14.6l-24.9-35c-0.7-1-0.6-2.5,0.3-3.4l29.8-29.8c0.7-0.7,1.4-0.8,1.9-0.8c0.6,0,1.1,0.2,1.5,0.5l34.5,24.6                      c4.4,3.1,10.2,3.3,14.8,0.6c13-7.8,27.1-13.8,41.8-17.6c5.1-1.4,9-5.6,9.9-10.8l7.2-42.3c0.2-1.3,1.3-2.2,2.6-2.2h42.1                      c1.3,0,2.4,0.9,2.6,2.2l7,41.7c0.9,5.3,4.8,9.6,10,10.9c15.1,3.8,29.5,9.7,42.9,17.6c4.6,2.7,10.3,2.5,14.7-0.6l34.5-24.8                      c0.5-0.3,1-0.5,1.5-0.5c0.4,0,1.2,0.1,1.9,0.8l29.8,29.8c0.9,0.9,1,2.3,0.3,3.4l-24.7,34.7c-3.1,4.3-3.3,10.1-0.6,14.7                      c7.8,13.1,13.6,27.2,17.4,41.9c1.3,5.2,5.6,9.1,10.8,9.9l42,7.1c1.3,0.2,2.2,1.3,2.2,2.6v42.1H451.9z"/>                <path d="M239.4,136.001c-57,0-103.3,46.3-103.3,103.3s46.3,103.3,103.3,103.3s103.3-46.3,103.3-103.3S296.4,136.001,239.4,136.001                      z M239.4,315.601c-42.1,0-76.3-34.2-76.3-76.3s34.2-76.3,76.3-76.3s76.3,34.2,76.3,76.3S281.5,315.601,239.4,315.601z"/>              </svg>            </a>          </div>          <div class="content none-soft" data-role="information">             <div class="f20"><h1 class="domain-message"></h1></div>             <div class="f20 domain-info">              <span>'+M.DOMAIN_EXPLAIN_TEXT+'</span>            </div>            <div class="domain-table">              <div class="row title">                <span>'+M.HOST_NAME+"</span>                <span>"+M.RECORD_TYPE+"</span>                <span>"+M.VALUE+'</span>              </div>              <div class="row info">                <span>@</span>                <span>A</span>                <span>%ip%</span>              </div>              <div class="row info">                <span>www</span>                <span>CNAME</span>                <span>%domain%</span>              </div>            </div>          </div>           <div class="new-subdomain-wrapper none-soft col20 f-left center-vertically">             <input placeholder="'+M.NEW_SUBDOMAIN+'" type="text" name="custom-subdomain" class="transition-border inline-block f-none" value="">             <span class="root-domain inline-block f-none">.%rootDomain%</span>             <a data-action="changeSubdomain" class="next-button middle-button blue inline-block f-none">'+M.CHANGE+"</a>           </div>         </div>";case"websiteSettingsLanguageTemplate":return'         <div class="flex-1 box-with-space">           <h2 class="f-left col20 mb-45 roboto font-24">'+M.LANGUAGE_TIME+'</h2>           <div class="col20 f-left mb-45">             <div class="section f-left col20 mb-15">               <div class="info">                 <h3>'+M.WEBSITE_LANGUAGE+"</h3>                 <span>"+M.WEBSITE_LANGUAGE_DESC+'</span>               </div>               <select name="websiteLanguage" class="mt-15">                 <option value="en">English</option>                 <option value="de">Deutsch</option>                 <option value="da">Dansk</option>                 <option value="es">EspaÃ±ol</option>                 <option value="fr">FranÃ§ais</option>                 <option value="el">Î•Î»Î»Î·Î½Î¹ÎºÎ¬</option>                 <option value="it">Italiano</option>                 <option value="nl_NL">Nederlandse</option>                 <option value="nb">Norsk</option>                 <option value="pl">Polski</option>                 <option value="pt_BR">PortuguÃªs (BR)</option>                 <option value="pt_PT">PortuguÃªs (PT)</option>                 <option value="ro">RomÃ¢nÄƒ</option>                 <option value="sv_SE">Svenska</option>                 <option value="hu">Magyar</option>                 <option value="bg">Ð‘ÑŠÐ»Ð³Ð°Ñ€ÑÐºÐ¸</option>                 <option value="ru">Ð ÑƒÑÑÐºÐ¸Ð¹</option>                 <option value="th">à¹„à¸—à¸¢</option>                 <option value="zh">ç®€ä½“ä¸­æ–‡</option>                 <option value="zh_JO">ç¹é«”ä¸­æ–‡</option>                 <option value="iw">×¢Ö´×‘×¨Ö´×™×ª</option>                 <option value="jp">æ—¥æœ¬äºº</option>                 <option value="ka">áƒ¥áƒáƒ áƒ—áƒ£áƒšáƒ˜</option>                 <option value="lt">Lietuvis</option>                 <option value="ar">Ø¹Ø±Ø¨Ù‰</option>                <option value="az">AzÉ™rbaycan</option>                <option value="lv">Latvietis</option>                <option value="vn">Tiáº¿ng Viá»‡t</option>                <option value="sl">SlovenÅ¡Äina</option>                <option value="sk">SlovÃ¡k</option>                <option value="af">Afrikaans</option>                <option value="sr">Ð¡Ñ€Ð¿ÑÐºÐ¸</option>                <option value="tr">TÃ¼rk</option>                <option value="cs">ÄeÅ¡tina</option>                <option value="hr">Hrvatski</option>                <option value="ko">í•œêµ­ì–´</option>              </select>             </div>             <div class="section f-left col20 mb-15">               <div class="info">                 <h3>'+M.WEBSITE_TIMEZONE+"</h3>                 <span>"+M.WEBSITE_TIMEZONE_DESC+'</span>               </div>               <span class="websiteTimezone" data-val=""></span>             </div>             <div class="section f-left col20 mb-15">               <div class="info">                 <h3>'+M.DATE_FORMAT+'</h3>               </div>               <select name="dateFormat" class="mt-15">                 <option value="us">02/28/2018 11:09 PM</option>                 <option value="uk">28/02/2018 23:09</option>               </select>             </div>             <div class="section f-left col20 mb-15">               <div class="checkbox-wrapper">                 <input id="rtl" class="css-checkbox modify" type="checkbox" name="rtl" />                 <label for="rtl" class="css-label">'+M.TEXT_DIRECTION+"</label>               </div>             </div>           </div>         </div>"+Templates.get("websiteSettingsBtnsTemplate");case"websiteSettingsCookiesTemplate":return'         <div class="flex-1 box-with-space">           <h2 class="f-left col20 mb-45 roboto font-24">'+M.COOKIES_AND_GDPR+'</h2>           <div class="section f-left col20 mb-25">             <div class="section f-left col20 mb-25">               <div class="info" style="width: 60%">                 <h3>'+M.COOKIE_LAW_TITLE+"</h3>                 <span>"+M.COOKIE_LAW_DESC+'</span>               </div>               <div class="right-side f-right">                 <div class="onoffswitch">                   <input type="checkbox" class="onoffswitch-checkbox modify" id="showCookiesDisclaimer" name="showCookiesDisclaimer">                   <label class="onoffswitch-label" for="showCookiesDisclaimer" id="showCookiesDisclaimerTrigger">                     <span class="onoffswitch-inner"></span>                     <span class="onoffswitch-switch"></span>                   </label>                 </div>               </div>             </div>             <div class="section f-left col20 mb-25 none-soft" id="cookiesDisclaimerTextWrapper">               <div class="info">                 <h3>'+M.DISCLAIMER_TEXT+'</h3>               </div>               <textarea name="cookiesDisclaimerText" rows="4" class="transition-border" placeholder="'+M.WEBSITE_DESCRIPTION+'"></textarea>               <div class="section section4">                 <div class="info">                   <h3>'+M.COOKIES_INFO_LBL+'</h3>                 </div>                 <input type="text" class="transition-all" name="cookieInfoBtnText" placeholder="'+M.COOKIES_INFO_PLACEHOLDER+'">                 <div class="info mt-15">                   <h3>'+M.COOKIES_INFO_URL+'</h3>                 </div>                 <input class="template-select select-like" name="cookieInfoBtnLink" readonly="readonly">                 <div class="info mt-15">                   <h3>'+M.COOKIES_ACCEPT_BTN_LBL+'</h3>                 </div>                 <input type="text" class="transition-all" name="cookieAcceptBtnText" placeholder="OK">               </div>             </div>             <div class="section col20 f-left mb-25">               <div class="info">                 <h3>'+M.DATA_REQUEST_LBL+"</h3>                 <span>"+M.DATA_REQUEST_DESC+'</span>                 <a rel="action" data-action="requestCustomerData" data-target="CPanel" class="middle-button f-left blue transition-all mt-15">'+M.DATA_REQUEST_BTN_TEXT+"</a>               </div>             </div>           </div>         </div>"+Templates.get("websiteSettingsBtnsTemplate");case"websiteSettingsAppsTemplate":return'        <div class="flex-1 box-with-space">           <div class="f-left col20 mb-25 center-vertically" style="justify-content: space-between;">             <h2 class="roboto font-24">'+M.APPLICATIONS+'</h2>             <a class="big-button f-right blue with-icon inline-block" data-role="connect">'+M.ADD_APPLICATION+'</a>           </div>           <div class="col20 f-left mb-45 cpanel-table-listing">             <div class="content" data-role="information">               <div class="domain-table">                <div class="row info big-row">                  <span>'+M.API_KEY+'</span>                  <span><a class="reveal-button relative blue-text">'+M.REVEAL_API_KEY+'</a></span>                </div>              </div>            </div>           </div>           <span class="col20 f-left mb-25">'+M.APPS_HINT+'</span>           <div class="col20 f-left mb-45" data-role="apps-list"></div>         </div>';case"newAppMarkup":return'<div class="app-wrapper" data-type="%type%">                   <div class="col-20 flex align-center space-between">                     <div class="col-20 flex align-center">                       <img src="%image%" class="app-logo">                       <div>                         <h3 class="t-left">%name%</h3>                         <span class="t-left">%description%</span>                       </div>                     </div>                     <a class="middle-button blue flex-none ml-25" data-role="connect" data-type="%type%">'+M.CONNECT+"</a>                   </div>                 </div>";case"connectedAppMarkup":return'        <div class="app-wrapper">           <div class="col-20 flex align-center space-between">             <div class="col-20 flex align-center">               <img src="%image%" class="app-logo">               <div>                 <h3 class="t-left">%name%</h3>                 %desc%              </div>             </div>             <a class="middle-button blue flex-none ml-25" data-role="settings" data-id="%id%" data-type="%type%">%btnLabel%</a>           </div>         </div>';case"noConnectedAppsMarkup":return"<h3>"+M.NO_CONNECTED_APPS+"</h3>";case"noAppsAvailableMarkup":return"<h3>"+M.NO_APPS_AVAILABLE+"</h3>";case"newAppPopup":return'<div class="col20 f-left app-list" style="padding-bottom: 40px;"></div>';case"crmTagsRow":return'          <tr data-id="%id%">             <td><div class="starting-cell"></div></td>             <td><div class="big-cell fs-15">%tag%</div></td>             <td><div class="small-cell text-btn"><a rel="tab" href="/me/crm?tag=%id%&label=%tagLabel%">'+M.VIEW_USERS+'</a></div></td>             <td>               <div class="small-cell">                 <a class="message-delete" rel="action" data-action="deleteTag"></a>               </div>             </td>           </tr>';case"crmPropertyRow":return'          <tr data-id="%id%">            <td><div class="starting-cell"></div></td>            <td><div class="big-cell fs-15 text-btn"><a rel="action" data-action="editProperty">%label%</a></div></td>            <td><div class="big-cell">%type%</div></td>            <td><div class="small-cell">%created%</div></td>            <td>               <div class="small-cell %btnCls%">                 <a rel="action" data-action="editProperty" class="table-edit-btn">                   <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"                     viewBox="0 0 478.703 478.703" style="enable-background:new 0 0 478.703 478.703;" xml:space="preserve">                    <path d="M454.2,189.101l-33.6-5.7c-3.5-11.3-8-22.2-13.5-32.6l19.8-27.7c8.4-11.8,7.1-27.9-3.2-38.1l-29.8-29.8                      c-5.6-5.6-13-8.7-20.9-8.7c-6.2,0-12.1,1.9-17.1,5.5l-27.8,19.8c-10.8-5.7-22.1-10.4-33.8-13.9l-5.6-33.2                      c-2.4-14.3-14.7-24.7-29.2-24.7h-42.1c-14.5,0-26.8,10.4-29.2,24.7l-5.8,34c-11.2,3.5-22.1,8.1-32.5,13.7l-27.5-19.8                      c-5-3.6-11-5.5-17.2-5.5c-7.9,0-15.4,3.1-20.9,8.7l-29.9,29.8c-10.2,10.2-11.6,26.3-3.2,38.1l20,28.1                      c-5.5,10.5-9.9,21.4-13.3,32.7l-33.2,5.6c-14.3,2.4-24.7,14.7-24.7,29.2v42.1c0,14.5,10.4,26.8,24.7,29.2l34,5.8                      c3.5,11.2,8.1,22.1,13.7,32.5l-19.7,27.4c-8.4,11.8-7.1,27.9,3.2,38.1l29.8,29.8c5.6,5.6,13,8.7,20.9,8.7c6.2,0,12.1-1.9,17.1-5.5                      l28.1-20c10.1,5.3,20.7,9.6,31.6,13l5.6,33.6c2.4,14.3,14.7,24.7,29.2,24.7h42.2c14.5,0,26.8-10.4,29.2-24.7l5.7-33.6                      c11.3-3.5,22.2-8,32.6-13.5l27.7,19.8c5,3.6,11,5.5,17.2,5.5l0,0c7.9,0,15.3-3.1,20.9-8.7l29.8-29.8c10.2-10.2,11.6-26.3,3.2-38.1                      l-19.8-27.8c5.5-10.5,10.1-21.4,13.5-32.6l33.6-5.6c14.3-2.4,24.7-14.7,24.7-29.2v-42.1                      C478.9,203.801,468.5,191.501,454.2,189.101z M451.9,260.401c0,1.3-0.9,2.4-2.2,2.6l-42,7c-5.3,0.9-9.5,4.8-10.8,9.9                      c-3.8,14.7-9.6,28.8-17.4,41.9c-2.7,4.6-2.5,10.3,0.6,14.7l24.7,34.8c0.7,1,0.6,2.5-0.3,3.4l-29.8,29.8c-0.7,0.7-1.4,0.8-1.9,0.8                      c-0.6,0-1.1-0.2-1.5-0.5l-34.7-24.7c-4.3-3.1-10.1-3.3-14.7-0.6c-13.1,7.8-27.2,13.6-41.9,17.4c-5.2,1.3-9.1,5.6-9.9,10.8l-7.1,42                      c-0.2,1.3-1.3,2.2-2.6,2.2h-42.1c-1.3,0-2.4-0.9-2.6-2.2l-7-42c-0.9-5.3-4.8-9.5-9.9-10.8c-14.3-3.7-28.1-9.4-41-16.8                      c-2.1-1.2-4.5-1.8-6.8-1.8c-2.7,0-5.5,0.8-7.8,2.5l-35,24.9c-0.5,0.3-1,0.5-1.5,0.5c-0.4,0-1.2-0.1-1.9-0.8l-29.8-29.8                      c-0.9-0.9-1-2.3-0.3-3.4l24.6-34.5c3.1-4.4,3.3-10.2,0.6-14.8c-7.8-13-13.8-27.1-17.6-41.8c-1.4-5.1-5.6-9-10.8-9.9l-42.3-7.2                      c-1.3-0.2-2.2-1.3-2.2-2.6v-42.1c0-1.3,0.9-2.4,2.2-2.6l41.7-7c5.3-0.9,9.6-4.8,10.9-10c3.7-14.7,9.4-28.9,17.1-42                      c2.7-4.6,2.4-10.3-0.7-14.6l-24.9-35c-0.7-1-0.6-2.5,0.3-3.4l29.8-29.8c0.7-0.7,1.4-0.8,1.9-0.8c0.6,0,1.1,0.2,1.5,0.5l34.5,24.6                      c4.4,3.1,10.2,3.3,14.8,0.6c13-7.8,27.1-13.8,41.8-17.6c5.1-1.4,9-5.6,9.9-10.8l7.2-42.3c0.2-1.3,1.3-2.2,2.6-2.2h42.1                      c1.3,0,2.4,0.9,2.6,2.2l7,41.7c0.9,5.3,4.8,9.6,10,10.9c15.1,3.8,29.5,9.7,42.9,17.6c4.6,2.7,10.3,2.5,14.7-0.6l34.5-24.8                      c0.5-0.3,1-0.5,1.5-0.5c0.4,0,1.2,0.1,1.9,0.8l29.8,29.8c0.9,0.9,1,2.3,0.3,3.4l-24.7,34.7c-3.1,4.3-3.3,10.1-0.6,14.7                      c7.8,13.1,13.6,27.2,17.4,41.9c1.3,5.2,5.6,9.1,10.8,9.9l42,7.1c1.3,0.2,2.2,1.3,2.2,2.6v42.1H451.9z"></path>                    <path d="M239.4,136.001c-57,0-103.3,46.3-103.3,103.3s46.3,103.3,103.3,103.3s103.3-46.3,103.3-103.3S296.4,136.001,239.4,136.001                      z M239.4,315.601c-42.1,0-76.3-34.2-76.3-76.3s34.2-76.3,76.3-76.3s76.3,34.2,76.3,76.3S281.5,315.601,239.4,315.601z"></path>                  </svg>                 </a>               </div>             </td>           </tr>';case"crmFilterOption":return'            <div class="filter-option-wrapper f-left">              <div class="filter-option">                <span role="name" class="option-name"></span>                <span role="filter"></span>                <span role="value"></span>                <span role="suffix"></span>                <a class="filter-delete">                  <svg version="1.1" id="Capa_1"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"                       width="10px" height="10px" viewBox="0 0 357 357" style="enable-background:new 0 0 357 357;" xml:space="preserve">                  <polygon points="357,35.7 321.3,0 178.5,142.8 35.7,0 0,35.7 142.8,178.5 0,321.3 35.7,357 178.5,214.2 321.3,357 357,321.3 214.2,178.5"/>                  </svg>                </a>              </div>               <div class="filter-divider">'+M.AND+"</div>            </div>";case"crmFilterOptionRadioWithInput":return'<div class="col20 f-left func-option" data-role="%func%">           <label>             <input type="radio" name="option" value="%func%" />             <span>%funcName%</span>           </label>           <div class="col20 f-left option-value">             <input type="%type%" name="value" />           </div>         </div>';case"crmColumnOption":return'<div class="col20 f-left func-option">           <label>             <input type="checkbox" %disabled% %checked% />             <span>%name%</span>           </label>         </div>';case"crmFilterOptionRadioNoInput":return'          <div class="col20 f-left func-option" data-role="%func%">             <label>               <input type="radio" name="option" value="%func%" />               <span>%funcName%</span>             </label>           </div>';case"crmFilterOptionRadioWithSelect":return'<div class="col20 f-left func-option" data-role="%func%">           <label>             <input type="radio" name="option" value="%func%" />             <span>%funcName%</span>           </label>           <div class="col20 f-left option-value">             <select name="value">%options%</select>           </div>         </div>';case"crmFilterOptionRadioWithDaysInput":return'<div class="col20 f-left func-option" data-role="%func%">           <label>             <input type="radio" name="option" value="%func%" />             <span>%funcName%</span>           </label>           <div class="col20 f-left option-value">             <input type="%type%" name="value" /> <span>'+M.CRM_DAYS_AGO_RIGHT+"</span>          </div>         </div>";case"crmContactsTableHead":return'        <tr class="flex flex-row align-center" style="padding-bottom: 0;">          <th class="checkbox-table">            <div class="checkbox-wrapper small">              <input id="rowcbx0" class="css-checkbox select-cbx" type="checkbox" name="rowcbx0" />              <label for="rowcbx0" class="css-label">&nbsp;</label>            </div>          </th> %cols%         </tr>';case"crmContactRow":return'          <tr class="flex flex-row align-center" data-id="%id%">            <td class="checkbox-table">               <div class="checkbox-wrapper small">                 <input id="rowcbx%id%" class="css-checkbox select-cbx" type="checkbox" name="rowcbx%id%" %checked% />                 <label for="rowcbx%id%" class="css-label">&nbsp;</label>               </div>             </td>             <td class="flex-1">               <a rel="tab" href="/me/crm/contact/%id%">                <div class="personal-icon" style="background-color: %color%">%initial%</div>%name%              </a>            </td> %cols%          </tr>';case"crmContactRowEmpty":return'          <tr style="display: block; width: 100%;">            <td style="display: block; width: 100%; max-width: 100%;" class="empty">'+M.NO_CONTACTS_MESSAGE+"</td>           </tr>";case"crmContactRowLoading":return'<tr style="display: block; width: 100%;" class="loader-tr"><td style="display: block; width: 100%; max-width: 100%;"><div class="small-centered-loading-icon"></td></tr>';case"crmMessagesListItem":return'        <li class="col20 f-left %readClass%" data-id="%id%">           <div class="col20 f-left flex flex-row">            <div class="personal-icon flex-none" style="background-color: %color%">%initital%</div>             <div class="flex-1">               <h5 class="message-name">%name%</h5>               <h6 class="message-email">%email%</h6>               <span class="f-left col20 message-info flex-text-sides">                 <span class="first">'+M.PHONE+': %phone%</span><div class="divider"></div><span class="last">%time%</span>                 <div class="message-star"><i class="fa fa-star"></i></div>               </span>             </div>           </div>          <div class="mobile-message-content col20 f-left">          </div>        </li>';case"crmMemberCategoryItem":return'<li data-filter="members-%id%" data-id="%id%" class="member-group"><a rel="action" data-action="showMemberGroup"><span>%name%</span><span data-role="filter-count"></span></a></li>';case"customerTagTemplate":return'          <div class="filter-option" data-id="%id%">             <span>%label%</span>             <a class="filter-delete" rel="action" data-action="removeTag">               <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="10px"              height="10px" viewBox="0 0 357 357" style="enable-background:new 0 0 357 357;" xml:space="preserve">                <polygon points="357,35.7 321.3,0 178.5,142.8 35.7,0 0,35.7 142.8,178.5 0,321.3 35.7,357 178.5,214.2 321.3,357 357,321.3 214.2,178.5"></polygon>              </svg>            </a>          </div>';case"customCheckbox":return'<div class="checkbox-wrapper">                   <input id="%id%" class="css-checkbox select-cbx" type="%type%" name="%name%" value="%value%" %checked% %data%>                   <label for="%id%" class="css-label">&nbsp;%label%</label>                 </div>';case"contactMessageUI":return'              <li class="%clz%" data-id="%id%">                 <h5 class="message-name">%name%</h5>                 <h6 class="message-email">                  %email%                   <span class="message-info">                     <span class="f-right">%time%</span>                   </span>                 </h6>                 <div class="col20 f-left message-content">                   <div class="message-wrapper-outer">                     <div class="message-wrapper-content">%content%</div>                   </div>                 </div>               </li>';case"noMessagesUI":return'<h4 class="no-content col20 ta-center">'+M.THERE_ARE_NO_MESSAGES+"</h4>";case"noOrdersUI":return'<h4 class="no-content col20 ta-center">'+M.THERE_ARE_NO_ORDERS+"</h4>";case"websiteSettingsPersonalizationTemplate":return'           <div class="flex-1 box-with-space">             <h2 class="f-left col20 mb-15 roboto font-24">'+M.PERSONALIZATION+'</h2>             <span class="col20 f-left f-15 gray-text">'+M.PERSONALIZATION_DESC+'</span>             <div class="col20 f-left mt-25 connect-domain-section">               <a role="add-property" class="middle-button with-icon blue">'+M.ADD_PERSONALIZATION_TAG+'</a>             </div>             <div class="flex col20 align-center justify-start need-help-text-wrapper" data-key="personalization"><a class="need-help-text" rel="action" data-action="showHelperVideo" data-target="CPanel">'+M.NEED_HELP+" <span>"+M.PLAY_VIDEO+' <i class="material-icons"> play_circle_filled </i></span></a></div>             <div class="col20 f-left mt-35" data-role="fields"></div>             <div class="f-left col20 gray-section" style="background:#fff;">               <h3 class="col20 f-left mb-25">'+M.SYSTEM_PROPERTIES+'</h3>               <div class="col20 f-left mb-25">                 <h5>'+M.MEMBERS_FN+' -                   <span class="dynamic-data">{member.first_name}</span>                   <a data-role="copy" data-val="{member.first_name}" class="copy button-tooltip" data-tooltip="copyTag"><i class="fa fa-copy"></i></a>                </h5>                 <span class="col20 f-left mt-5">'+M.MEMBERS_FN_DESC+'</span>               </div>               <div class="col20 f-left mb-25">                 <h5>'+M.MEMBERS_LN+' -                   <span class="dynamic-data">{member.last_name}</span>                   <a data-role="copy" data-val="{member.last_name}" class="copy button-tooltip" data-tooltip="copyTag"><i class="fa fa-copy"></i></a>                </h5>                 <span class="col20 f-left mt-5">'+M.MEMBERS_LN_DESC+'</span>               </div>               <div class="col20 f-left mb-25">                 <h5>'+M.MEMBERS_EMAIL+' -                   <span class="dynamic-data">{member.email}</span>                   <a data-role="copy" data-val="{member.email}" class="copy button-tooltip" data-tooltip="copyTag"><i class="fa fa-copy"></i></a>                </h5>                 <span class="col20 f-left mt-5">'+M.MEMBERS_EMAIL_DESC+'</span>               </div>               <div class="col20 f-left mb-25">                 <h5>'+M.TAGS_URL_PARAMETER+' -                   <span class="dynamic-data">{param.name}</span>                   <a data-role="copy" data-val="{param.name}" class="copy button-tooltip" data-tooltip="copyTag"><i class="fa fa-copy"></i></a>                </h5>                 <span class="col20 f-left mt-5" style="line-height: 16px">'+M.TAGS_URL_PARAMETER_DESC+'</span>               </div>               <div class="col20 f-left">                 <h5>'+M.CURRENT_YEAR+' -                   <span class="dynamic-data">{current_year}</span>                   <a data-role="copy" data-val="{current_year}" class="copy button-tooltip" data-tooltip="copyTag"><i class="fa fa-copy"></i></a>                </h5>                 <span class="col20 f-left mt-5">'+M.CURRENT_YEAR_DESC+"</span>               </div>             </div>           </div>"+Templates.get("websiteSettingsBtnsTemplate");case"websiteSettingsPersonalizationFieldTemplate":return'             <label class="f-left col20 mb-15" data-role="field">               <h5>%name% -                 <span class="dynamic-data">{%tag%}</span>                 <a data-role="copy" class="copy button-tooltip" data-tooltip="copyTag"><i class="fa fa-copy"></i></a>                <a data-role="edit" class="ml-10 uppercase f-12 blue-text inline-block">'+M.EDIT+'</a>              </h5>               <input type="text" placeholder="%placeholder%" value="%value%">             </label>';case"websiteSettingsEditPersTagTemplate":return'          <div class="popup-newpage-wrapper">             <div class="popup-input-wrapper">               <h5>'+M.NAME+'</h5>                <input type="text" name="name" class="required transition-all">               <span>tag - <b data-role="tag"></b></span>             </div>             <div class="popup-input-wrapper mt-15" >               <h5>'+M.DESCRIPTION+'</h5>                <input type="text" name="description" class="required transition-all">             </div>           </div>';case"initialPersonalizationValuesTemplate":return'          <div class="dynamic-pop-sidebar horizontal-flex-center flex-none">             <img src="'+resources+'/images/personalize-img.png" class="dynamic-img">             <h2 class="t-center mt-25 col20 f-left">'+M.PERSONALIZATION_TITLE+'</h2>             <span class="f-16 t-center col20 f-left mt-25">'+M.PERSONALIZATION_TITLE_DESC+'</span>             <img src="'+emailLogo+'" class="dynamic-logo">           </div>           <div class="flex flex-col flex-1 height-100 overflow-auto dynamic-popup-content">             <div class="dynamic-content-inner flex-1 flex-col justify-center">               <div class="col20 f-left vertical-flex mb-35 flex-none">                 <div class="color-pick-wrap mr-25">                   <div style="width: 40px; height: 40px;"></div>                   <input type="text" class="colorpicker-selected" name="mainColor">                 </div>                 <div>                   <h5 class="col20 f-left">'+M.BRAND_COLOR+'</h5>                   <span class="col20 f-left mt-5 f-14-normal light-gray-text">'+M.BRAND_COLOR_DESC+'</span>                 </div>               </div>               <div class="col20 f-left vertical-flex flex-none" data-role="logo">                 <div class="logo-preview" style="margin-right: 30px;"></div>                 <div>                   <h5 class="col20 f-left">'+M.BRAND_LOGO+'</h5>                   <span class="col20 f-left mt-5 f-14-normal light-gray-text">'+M.BRAND_LOGO_DESC+'</span>                 </div>               </div>             </div>             <div class="pop-navigation col20 f-left t-center flex-none">               <a class="middle-button transparent" data-role="skip">'+M.SKIP_STEP+'</a>               <a class="middle-button blue" data-role="continue">'+M.GO_TO_MY_PAGES+"  â†’</a>             </div>           </div>";case"productSubscriptionEditDialog":return'        <div class="popup-slider-wrapper">           <div class="popup-input-wrapper">             <span class="box-help-text mb-15 f-left col20">'+M.EDIT_SUBSCRIPTION_DESC+'</span>           </div>           <div class="popup-input-wrapper">             <div class="info">               <h5>'+M.BILLING_CYCLES+'</h5>             </div>             <select name="cycles">               <option value="0">'+M.ONGOING_PAYMENTS+'</option>               <option value="2">2 '+M.PAYMENTS+'</option>               <option value="3">3 '+M.PAYMENTS+'</option>               <option value="4">4 '+M.PAYMENTS+'</option>               <option value="5">5 '+M.PAYMENTS+'</option>               <option value="6">6 '+M.PAYMENTS+'</option>               <option value="7">7 '+M.PAYMENTS+'</option>               <option value="8">8 '+M.PAYMENTS+'</option>               <option value="9">9 '+M.PAYMENTS+'</option>               <option value="10">10 '+M.PAYMENTS+'</option>               <option value="11">11 '+M.PAYMENTS+'</option>               <option value="12">12 '+M.PAYMENTS+'</option>               <option value="13">13 '+M.PAYMENTS+'</option>               <option value="14">14 '+M.PAYMENTS+'</option>               <option value="15">15 '+M.PAYMENTS+'</option>               <option value="16">16 '+M.PAYMENTS+'</option>               <option value="17">17 '+M.PAYMENTS+'</option>               <option value="18">18 '+M.PAYMENTS+'</option>               <option value="19">19 '+M.PAYMENTS+'</option>               <option value="20">20 '+M.PAYMENTS+'</option>               <option value="21">21 '+M.PAYMENTS+'</option>               <option value="22">22 '+M.PAYMENTS+'</option>               <option value="23">23 '+M.PAYMENTS+'</option>               <option value="24">24 '+M.PAYMENTS+'</option>               <option value="25">25 '+M.PAYMENTS+'</option>               <option value="26">26 '+M.PAYMENTS+'</option>               <option value="27">27 '+M.PAYMENTS+'</option>               <option value="28">28 '+M.PAYMENTS+'</option>               <option value="29">29 '+M.PAYMENTS+'</option>               <option value="30">30 '+M.PAYMENTS+'</option>               <option value="31">31 '+M.PAYMENTS+'</option>               <option value="32">32 '+M.PAYMENTS+'</option>               <option value="33">33 '+M.PAYMENTS+'</option>               <option value="34">34 '+M.PAYMENTS+'</option>               <option value="35">35 '+M.PAYMENTS+'</option>               <option value="36">36 '+M.PAYMENTS+'</option>               <option value="37">37 '+M.PAYMENTS+'</option>               <option value="38">38 '+M.PAYMENTS+'</option>               <option value="39">39 '+M.PAYMENTS+'</option>               <option value="40">40 '+M.PAYMENTS+'</option>               <option value="41">41 '+M.PAYMENTS+'</option>               <option value="42">42 '+M.PAYMENTS+'</option>               <option value="43">43 '+M.PAYMENTS+'</option>               <option value="44">44 '+M.PAYMENTS+'</option>               <option value="45">45 '+M.PAYMENTS+'</option>               <option value="46">46 '+M.PAYMENTS+'</option>               <option value="47">47 '+M.PAYMENTS+'</option>               <option value="48">48 '+M.PAYMENTS+'</option>               <option value="49">49 '+M.PAYMENTS+'</option>               <option value="50">50 '+M.PAYMENTS+'</option>               <option value="51">51 '+M.PAYMENTS+'</option>               <option value="52">52 '+M.PAYMENTS+'</option>             </select>           </div>           <div class="popup-input-wrapper">             <div class="popup-input-wrapper">               <h5>'+M.CHARGE_EVERY+'</h5>             </div>             <div class="input-wrapper2 f-left clear-left">               <select class="mt-0" name="period">                 <option value="1">1</option>                 <option value="2">2</option>                 <option value="3">3</option>                 <option value="4">4</option>                 <option value="5">5</option>                 <option value="6">6</option>                 <option value="7">7</option>                 <option value="8">8</option>                 <option value="9">9</option>                 <option value="10">10</option>                 <option value="11">11</option>                 <option value="12">12</option>               </select>             </div>             <div class="input-wrapper2 f-right">               <select class="mt-0" name="periodUnit">                 <option value="0">'+M.WEEKS+'</option>                 <option value="1">'+M.MONTHS+'</option>               </select>             </div>           </div>           <div class="warning-wrapper col20 f-left" style="display: %errorDisplay%;">%error%</div>         </div>';case"introPopup":return'        <div class="video-popup-wrapper">           <a class="close-btn close-popup"></a>           <h2 class="col20 f-left t-center mb-10 roboto %titleclz%">%title%</h2>           <h3 class="col20 f-left t-center mb-25 roboto %textclz%" style="opacity: .8; font-size: 21px;">%text%</h3>           <div class="col20 f-left">%video%</div>          <div class="col20 f-left %clz%">            <div class="col20 f-left t-center mt-25"><a class="start-button close-popup" rel="action" data-action="edit" data-target="Funnels">'+M.OPEN_MY_FUNNEL+'</a></div>             <div class="col20 f-left t-center mt-15 close-popup"><a class="text-button">'+M.CLOSE+"</a></div>           </div>         </div>";case"gridMobileMenuSettings":return'            <div class="grid-mobile-settings" data-key="mobileEditing">               <a class="f-left col20 mobile-styling-button none"><h4 class="f-left col20 roboto flex align-center">Mobile Header Styling <span class="blue-text ml-10">edit</span></h4></a>               <a class="f-left col20 mobile-styling-button none"><h4 class="f-left col20 roboto flex align-center">Mobile Menu Styling <span class="blue-text ml-10">edit</span></h4></a>               <h4 class="col20 f-left mt-25 mb-15 roboto white-text">'+M.MOBILE_EDITING_HEADING+'</h4>               <span class="col20 f-left mb-10 settings-help-text">'+M.MOBILE_EDITING_DESC+'</span>               <div class="col20 f-left mt-10"><a rel="action" data-action="showHelperVideo" data-target="CPanel" class="middle-button blue f-left video-button">'+M.PLAY_VIDEO+'</a></div>               <h4 class="col20 f-left mt-45 mb-15 roboto white-text none">'+M.CHANGE_YOUR_TEXT_SIZE+'</h4>               <span class="col20 f-left mb-10 settings-help-text none">'+M.CHANGE_YOUR_TEXT_SIZE_DESC+'</span>               <div class="col20 f-left mt-10 none"><a class="middle-button blue f-left video-button editing-button">'+M.EDIT_TEXT_STYLING+"</a></div>             </div>";case"webhookSettingsMarkup":return'<div class="popup-widget-wrapper">                   <div class="popup-input-wrapper mt-15">                     <h5>'+M.WEBHOOK_DESTINATION_URL+'</h5>                      <div class="info">                       <span>'+M.WEBHOOK_DESCRIPTION+'</span>                     </div>                     <input type="text" name="target" class="transition-all">                   </div>                   <div class="popup-input-wrapper mt-5">                     <h5>'+M.WEBHOOK_SECRET+' - <b>%secret%</b></h5>                      <div class="info">                       <span>'+M.WEBHOOK_SECRET_DESC+'</span>                     </div>                   </div>                   <div class="popup-input-wrapper mt-15">                     <h5>'+M.WEBHOOK_EVENTS+'</h5>                      <div class="info">                       <span>'+M.WEBHOOK_EVENTS_DESC+'</span>                     </div>                   </div>                   <div class="checkbox-wrapper mt-15">                     <input id="event1Cbx" class="css-checkbox" type="checkbox" name="order_created" />                     <label for="event1Cbx" class="css-label">'+M.WH_EVENT_NEW_ORDER+"                      <span>"+M.WH_EVENT_NEW_ORDER_DESC+'</span>                    </label>                   </div>                   <div class="checkbox-wrapper">                     <input id="event2Cbx" class="css-checkbox" type="checkbox" name="order_updated" />                     <label for="event2Cbx" class="css-label">'+M.WH_EVENT_ORDER_UPDATED+"                      <span>"+M.WH_EVENT_ORDER_UPDATED_DESC+'</span>                    </label>                   </div>                   <div class="checkbox-wrapper">                     <input id="event3Cbx" class="css-checkbox" type="checkbox" name="product_created" />                     <label for="event3Cbx" class="css-label">'+M.WH_EVENT_NEW_PRODUCT+"                      <span>"+M.WH_EVENT_NEW_PRODUCT_DESC+'</span>                    </label>                   </div>                   <div class="checkbox-wrapper">                     <input id="event4Cbx" class="css-checkbox" type="checkbox" name="product_updated" />                     <label for="event4Cbx" class="css-label">'+M.WH_EVENT_PRODUCT_UPDATED+"                       <span>"+M.WH_EVENT_PRODUCT_UPDATED_DESC+'</span>                    </label>                   </div>                   <div class="checkbox-wrapper">                     <input id="event5Cbx" class="css-checkbox" type="checkbox" name="form_submitted" />                     <label for="event5Cbx" class="css-label">'+M.WH_EVENT_FORM_SUBMIT+"                      <span>"+M.WH_EVENT_FORM_SUBMIT_DESC+'</span>                    </label>                   </div>                   <div class="checkbox-wrapper">                     <input id="event6Cbx" class="css-checkbox" type="checkbox" name="contact_updated" />                     <label for="event6Cbx" class="css-label">'+M.WH_EVENT_CONTACT_ACTIVITY+"                       <span>"+M.WH_EVENT_CONTACT_ACTIVITY_DESC+'</span>                    </label>                   </div>                   <div class="checkbox-wrapper">                     <input id="event7Cbx" class="css-checkbox" type="checkbox" name="booking_created" />                     <label for="event7Cbx" class="css-label">'+M.WH_EVENT_BOOKING_CREATED+"                       <span>"+M.WH_EVENT_BOOKING_CREATED_DESC+"</span>                    </label>                   </div>                 </div>";case"newProcessorAppPopup":return'<div class="col20 f-left app-list" style="padding-bottom: 40px;"></div>';case"newProcessorAppMarkup":return'<div class="app-wrapper">                   <div class="col-20 flex align-center space-between">                     <div class="col-20 flex align-center">                       %logo%                    </div>                     <a class="middle-button blue flex-none ml-25" data-role="connect" data-type="%type%">'+M.CONNECT+"</a>                   </div>                 </div>";case"checkoutWidgetFieldsMarkup":return'          <div class="popup-widget-wrapper">             <div class="popup-input-wrapper mt-15 mb-0">               <div class="checkbox-wrapper col20 f-left none" id="disableEmailFieldWrapper">                 <input class="css-checkbox" type="checkbox" id="disableEmailField" name="disableEmailField" />                 <label for="disableEmailField" class="css-label">'+M.DISABLE_EMAIL+"<span>"+M.DISABLE_EMAIL_DESC+'</span></label>               </div>                <div class="checkbox-wrapper col20 f-left">                 <input class="css-checkbox" type="checkbox" id="addCompanyField" name="addCompanyField" />                 <label for="addCompanyField" class="css-label">'+M.ASK_COMPANY_INFO+'</label>               </div>                <div class="checkbox-wrapper col20 f-left ml-15" data-role="companyFieldRequired">                 <input class="css-checkbox" type="checkbox" id="companyFieldRequired" name="companyFieldRequired" />                 <label for="companyFieldRequired" class="css-label">'+M.MAKE_REQUIRED+'</label>               </div>                <div class="checkbox-wrapper col20 f-left">                 <input class="css-checkbox" type="checkbox" id="addPhoneField" name="addPhoneField" />                 <label for="addPhoneField" class="css-label">'+M.ASK_PHONE+'</label>               </div>                <div class="checkbox-wrapper col20 f-left ml-15" data-role="phoneFieldRequired">                 <input class="css-checkbox" type="checkbox" id="phoneFieldRequired" name="phoneFieldRequired" />                 <label for="phoneFieldRequired" class="css-label">'+M.MAKE_REQUIRED+'</label>               </div>               <div class="checkbox-wrapper col20 f-left">                 <input class="css-checkbox" type="checkbox" id="addCountryField" name="addCountryField" />                 <label for="addCountryField" class="css-label">'+M.ASK_COUNTRY+'</label>               </div>                <div class="checkbox-wrapper col20 f-left">                 <input class="css-checkbox" type="checkbox" id="addStateField" name="addStateField" />                 <label for="addStateField" class="css-label">'+M.ASK_STATE+'</label>               </div>                <div class="checkbox-wrapper col20 f-left ml-15" data-role="stateRequired">                 <input class="css-checkbox" type="checkbox" id="stateRequired" name="stateRequired" />                 <label for="stateRequired" class="css-label">'+M.MAKE_REQUIRED+'</label>               </div>                <div class="checkbox-wrapper col20 f-left">                 <input class="css-checkbox" type="checkbox" id="addZipField" name="addZipField" />                 <label for="addZipField" class="css-label">'+M.ASK_ZIP+'</label>               </div>                <div class="checkbox-wrapper col20 f-left ml-15" data-role="zipRequired">                 <input class="css-checkbox" type="checkbox" id="zipRequired" name="zipRequired" />                 <label for="zipRequired" class="css-label">'+M.MAKE_REQUIRED+'</label>               </div>                <div class="checkbox-wrapper col20 f-left">                 <input class="css-checkbox" type="checkbox" id="addCityField" name="addCityField" />                 <label for="addCityField" class="css-label">'+M.ASK_CITY+'</label>               </div>                <div class="checkbox-wrapper col20 f-left ml-15" data-role="cityRequired">                 <input class="css-checkbox" type="checkbox" id="cityRequired" name="cityRequired" />                 <label for="cityRequired" class="css-label">'+M.MAKE_REQUIRED+'</label>               </div>                <div class="checkbox-wrapper col20 f-left">                 <input class="css-checkbox" type="checkbox" id="addAddress2Field" name="addAddress2Field" />                 <label for="addAddress2Field" class="css-label">'+M.ADD_SECOND_ADDRESS+'</label>               </div>                <div class="checkbox-wrapper col20 f-left ml-15" data-role="address2Required">                 <input class="css-checkbox" type="checkbox" id="address2Required" name="address2Required" />                 <label for="address2Required" class="css-label">'+M.MAKE_REQUIRED+'</label>               </div>                <div class="checkbox-wrapper col20 f-left">                <input class="css-checkbox" type="checkbox" id="askForAdditionalInfo" name="askForAdditionalInfo" />                 <label for="askForAdditionalInfo" class="css-label">'+M.ASK_FOR_ADDITIONAL_INFO+'</label>               </div>               <div class="col20 f-left none-soft" data-role="additionalField">                 <div class="popup-input-wrapper">                   <div class="col2- f-left info mt-5">                    <h5>'+M.ADDITIONAL_INFO_POSITION+"</h5>                    <span>"+M.ADDITIONAL_INFO_POSITION_INFO+'</span>                     <select name="additionalInfoPosition" class="transition-all">                       <option value="start">'+M.ADDITIONAL_INFO_POS_EMAIL+'</option>                       <option value="middle">'+M.ADDITIONAL_INFO_POS_ADDRESS+'</option>                       <option value="end">'+M.ADDITIONAL_INFO_POS_END+'</option>                     </select>                   </div>                 </div>                 <div class="checkbox-wrapper col20 f-left">                  <a class="middle-button gray" data-role="editAdditionalFields">'+M.ADDITIONAL_FIELDS+"</a>                 </div>               </div>             </div>           </div>";case"editSystemPageDialogMarkup":return'<div class="popup-newpage-wrapper">                   <div class="popup-input-wrapper info" >                     <h5>%name%</h5>                     <span class="info">%description%</span>                  </div>                   <div class="popup-input-wrapper">                     <div class="checkbox-wrapper">                       <input id="useSecondaryHeader" class="css-checkbox modify" type="checkbox" name="useSecondaryHeader" />                       <label for="useSecondaryHeader" class="css-label button-tooltip" data-tooltip="alternativeHeaderTooltip" data-timeout="3000">'+M.USE_ALTERNATIVE_HEADER+"</label>                     </div>                   </div>                 </div>";case"speedyConnectMarkup":return'          <div class="popup-newpage-wrapper">             <div class="info">               <h5>'+M.CONNECT_SPEEDY_TITLE+"</h5>               <span>"+M.SPEEDY_ENTER_CREDENTIALS+'</span>             </div>             <div class="input-wrapper input-wrapper2 mt-15">               <div class="info">                 <h5>'+M.USERNAME+'</h5>               </div>               <input type="text" name="username" autocomplete="off">            </div>             <div class="input-wrapper input-wrapper2 f-right mt-15">               <div class="info">                 <h5>'+M.PASSWORD_TEXT+'</h5>               </div>               <input type="password" name="password" autocomplete="new-password">            </div>         </div>';case"speedySettingsMarkup":return'<div class="popup-newpage-wrapper">           <div class="section f-left col20 mt-15">             <div class="info" style="width: 80%">               <h5>'+M.SPEEDY_ACTIVE+"</h5>               <span>"+M.SPEEDY_ACTIVE_DESC+'</span>            </div>             <div class="right-side f-right">               <div class="onoffswitch">                 <input type="checkbox" class="onoffswitch-checkbox modify" id="active" name="active">                 <label class="onoffswitch-label" for="active">                   <span class="onoffswitch-inner"></span>                   <span class="onoffswitch-switch"></span>                 </label>               </div>             </div>           </div>           <div class="input-wrapper input-wrapper2 mt-15">             <div class="info">               <h5>'+M.DELIVERY_SENDER+'</h5>             </div>             <input type="text" name="senderName" autocomplete="off">          </div>           <div class="input-wrapper input-wrapper2 f-right mt-15">             <div class="info">               <h5>'+M.PHONE+'</h5>             </div>             <input type="text" name="senderPhone">          </div>           <div class="input-wrapper mt-15 f-left">             <div class="info">               <h5>'+M.SPEEDY_ORIGIN+'</h5>             </div>             <select name="senderType" class="transition-border">               <option value="address">'+M.SENDER_ADDRESS+'</option>               <option value="office">'+M.SPEEDY_OFFICE+'</option>             </select>           </div>           <div class="input-wrapper none-soft" id="speedyAddressWrapper">            <select name="senderClientId" class="transition-border"></select>           </div>           <div class="col20 f-left none-soft" id="speedyOfficeWrapper">            <div class="input-wrapper input-wrapper2">               <div class="info">                 <h5>'+M.CITY+'</h5>               </div>               <input type="text" name="speedyCity">            </div>             <div class="input-wrapper input-wrapper2 f-right">               <div class="info">                 <h5>'+M.OFFICE+'</h5>               </div>               <select name="speedyOfficeId" class="transition-border"></select>             </div>           </div>          <div class="input-wrapper mt-15">             <div class="info">               <h5>'+M.DELIVERY_PAYER+'</h5>             </div>             <select name="deliveryPayer" class="transition-border">               <option value="receiver">'+M.RECEIVER+'</option>               <option value="sender">'+M.SENDER+'</option>             </select>           </div>           <div class="info mt-15">             <h5>'+M.OFFERED_SERVICES_TITLE+"</h5>             <span>"+M.OFFERED_SERVICES_DESC+'</span>           </div>           <div class="col20 f-left mt-15 gray-section" id="servicesWrapper"></div>           <div class="info mt-15">             <h5>'+M.ADDITIONAL_SERVICES+'</h5>           </div>           <div class="checkbox-wrapper mt-15 col20 f-left">             <input id="singleParcel" class="css-checkbox" type="checkbox" name="singleParcel" />             <label for="singleParcel" class="css-label">'+M.PRODUCTS_PACKED_TOGETHER+"              <span>"+M.PRODUCTS_PACKED_TOGETHER_DESC+'</span>            </label>           </div>           <div class="checkbox-wrapper col20 f-left">             <input id="preview" class="css-checkbox" type="checkbox" name="preview" />             <label for="preview" class="css-label">'+M.SEND_WITH_PREVIEW+'</label>           </div>           <div class="checkbox-wrapper col20 f-left">             <input id="test" class="css-checkbox" type="checkbox" name="test" />             <label for="test" class="css-label">'+M.SEND_WITH_TEST+'</label>           </div>           <div class="checkbox-wrapper col20 f-left">             <input id="insurance" class="css-checkbox" type="checkbox" name="insurance" />             <label for="insurance" class="css-label">'+M.SEND_WITH_INSURANCE+'</label>           </div>           <div class="checkbox-wrapper col20 f-left">             <input id="fragile" class="css-checkbox" type="checkbox" name="fragile" />             <label for="fragile" class="css-label">'+M.MARK_AS_FRAGILE+'</label>           </div>           <div class="checkbox-wrapper col20 f-left">             <input id="documents" class="css-checkbox" type="checkbox" name="documents" />             <label for="documents" class="css-label">'+M.DOCUMENTS_ONLY+'</label>           </div>           <div class="checkbox-wrapper col20 f-left">             <input id="postalOrder" class="css-checkbox" type="checkbox" name="postalOrder" />             <label for="postalOrder" class="css-label">'+M.USE_POSTAL_MONEY_TRANSFER+'</label>           </div>           <div class="input-wrapper mt-15">             <div class="info">               <h5>'+M.PAYMENT_COVERED_BY+'</h5>             </div>             <select name="returnsPayer" class="transition-border">               <option value="receiver">'+M.RECEIVER+'</option>               <option value="sender">'+M.SENDER+'</option>             </select>           </div>           <div class="col20 f-left gray-section">            <div class="section f-left col20">               <div class="info" style="width: 70%">                 <h5>'+M.ADDRESS_DELIVERY_TITLE+"</h5>                 <span>"+M.ADDRESS_DELIVERY_DESC+'</span>              </div>               <div class="right-side f-right">                 <div class="onoffswitch">                   <input type="checkbox" class="onoffswitch-checkbox" id="address" name="address">                   <label class="onoffswitch-label" for="address">                     <span class="onoffswitch-inner"></span>                     <span class="onoffswitch-switch"></span>                   </label>                 </div>               </div>             </div>             <div class="input-wrapper input-wrapper2 mt-15">               <div class="info">                 <h5>'+M.FREE_DELIVERY_OVER+"</h5>                 <span>"+M.FREE_DELIVERY_OVER_DESC+'</span>              </div>               <div class="symbol-input price-input" style="background: #fff">                 <span class="symbol-sign"></span>                 <input type="number" min="0.00" step="0.01" value="0.00" placeholder="0.00" class="transition-border" name="addressFreeOver" />               </div>             </div>             <div class="input-wrapper input-wrapper2 mt-15 f-right">               <div class="info">                 <h5>'+M.SPEEDY_PRICE_ON_ERROR+"</h5>                 <span>"+M.SPEEDY_PRICE_ON_ERROR_DESC+'</span>              </div>               <div class="symbol-input price-input" style="background: #fff">                 <span class="symbol-sign"></span>                 <input type="number" min="0.00" step="0.01" value="0.00" placeholder="0.00" class="transition-border" name="addressErrorPrice" />               </div>             </div>             <div class="checkbox-wrapper col20 f-left">               <input id="addressUseFixedPrice" class="css-checkbox" type="checkbox" name="addressUseFixedPrice" />               <label for="addressUseFixedPrice" class="css-label">'+M.USE_FIXED_SHIPPING_PRICE+"<span>"+M.USE_FIXED_SHIPPING_PRICE_DESC+'</span></label>             </div>             <div class="input-wrapper input-wrapper flex flex-row align-center" id="addressFixedPriceWrapper">               <div class="info flex-1 mr-10">                 <h5>'+M.FIXED_SHIPPING_TITLE+"</h5>                 <span>"+M.FIXED_SHIPPING_DESC+'</span>              </div>               <div class="symbol-input price-input flex-half" style="background: #fff">                 <span class="symbol-sign"></span>                 <input type="number" min="0.00" step="0.01" value="0.00" placeholder="0.00" class="transition-border" name="addressFixedPrice" />               </div>             </div>           </div>          <div class="col20 f-left gray-section mt-15">            <div class="section f-left col20">               <div class="info" style="width: 70%">                 <h5>'+M.OFFICE_DELIVERY_TITLE+"</h5>                 <span>"+M.OFFICE_DELIVERY_DESC+'</span>              </div>               <div class="right-side f-right">                 <div class="onoffswitch">                   <input type="checkbox" class="onoffswitch-checkbox" id="office" name="office">                   <label class="onoffswitch-label" for="office">                     <span class="onoffswitch-inner"></span>                     <span class="onoffswitch-switch"></span>                   </label>                 </div>               </div>             </div>             <div class="input-wrapper input-wrapper2 mt-15">               <div class="info">                 <h5>'+M.FREE_DELIVERY_OVER+"</h5>                 <span>"+M.FREE_DELIVERY_OVER_DESC+'</span>              </div>               <div class="symbol-input price-input" style="background: #fff">                 <span class="symbol-sign"></span>                 <input type="number" min="0.00" step="0.01" value="0.00" placeholder="0.00" class="transition-border" name="officeFreeOver" />               </div>             </div>             <div class="input-wrapper input-wrapper2 mt-15 f-right">               <div class="info">                 <h5>'+M.SPEEDY_PRICE_ON_ERROR+"</h5>                 <span>"+M.SPEEDY_PRICE_ON_ERROR_DESC+'</span>              </div>               <div class="symbol-input price-input" style="background: #fff">                 <span class="symbol-sign"></span>                 <input type="number" min="0.00" step="0.01" value="0.00" placeholder="0.00" class="transition-border" name="officeErrorPrice" />               </div>             </div>             <div class="checkbox-wrapper col20 f-left">               <input id="officeUseFixedPrice" class="css-checkbox" type="checkbox" name="officeUseFixedPrice" />               <label for="officeUseFixedPrice" class="css-label">'+M.USE_FIXED_SHIPPING_PRICE+"<span>"+M.USE_FIXED_SHIPPING_PRICE_DESC+'</span></label>             </div>             <div class="input-wrapper input-wrapper flex flex-row align-center" id="officeFixedPriceWrapper">               <div class="info flex-1 mr-10">                 <h5>'+M.FIXED_SHIPPING_TITLE+"</h5>                 <span>"+M.FIXED_SHIPPING_DESC+'</span>              </div>               <div class="symbol-input price-input flex-half" style="background: #fff">                 <span class="symbol-sign"></span>                 <input type="number" min="0.00" step="0.01" value="0.00" placeholder="0.00" class="transition-border" name="officeFixedPrice" />               </div>             </div>           </div>        </div>';case"speedyFulfillmentSettingsMarkup":return'          <div class="full-size flex flex-col">            <div class="col20 f-left flex-1 overflow" style="padding: 15px 45px 20px; box-sizing: border-box;">              <div class="info">                 <h5>'+M.SENDER_DETAILS+'</h5>               </div>               <div class="section f-left col20 gray-section mt-15">                 <div class="input-wrapper input-wrapper2">                   <div class="info">                     <h5>'+M.DELIVERY_SENDER+'</h5>                   </div>                   <input type="text" name="senderName" autocomplete="off">                </div>                 <div class="input-wrapper input-wrapper2 f-right">                   <div class="info">                     <h5>'+M.PHONE+'</h5>                   </div>                   <input type="text" name="senderPhone">                </div>                 <div class="input-wrapper mt-15 f-left">                   <div class="info">                     <h5>'+M.SPEEDY_ORIGIN+'</h5>                   </div>                   <select name="senderType" class="transition-border">                     <option value="address">'+M.SENDER_ADDRESS+'</option>                     <option value="office">'+M.SPEEDY_OFFICE+'</option>                   </select>                 </div>                 <div class="input-wrapper" id="speedyAddressWrapper">                  <select name="senderClientId" class="transition-border"></select>                 </div>                 <div class="col20 f-left none-soft" id="speedyOfficeWrapper">                  <div class="input-wrapper input-wrapper2">                     <div class="info">                       <h5>'+M.CITY+'</h5>                     </div>                     <input type="text" name="senderCity">                  </div>                   <div class="input-wrapper input-wrapper2 f-right">                     <div class="info">                       <h5>'+M.OFFICE+'</h5>                     </div>                     <select name="senderOfficeId" class="transition-border"></select>                   </div>                 </div>              </div>               <div class="info mt-15">                 <h5>'+M.RECEIVER_DETAILS+'</h5>               </div>               <div class="section f-left col20 gray-section mt-15">                 <div class="input-wrapper input-wrapper2">                   <div class="info">                     <h5>'+M.NAME+'</h5>                   </div>                   <input type="text" name="receiverName" autocomplete="off">                </div>                 <div class="input-wrapper input-wrapper2 f-right">                   <div class="info">                     <h5>'+M.PHONE+'</h5>                   </div>                   <input type="text" name="receiverPhone">                </div>                 <div class="input-wrapper input-wrapper2 mt-15">                   <div class="info">                     <h5>'+M.CITY+'</h5>                   </div>                   <input type="text" name="receiverCity" autocomplete="off">                </div>                 <div class="input-wrapper input-wrapper2 f-right mt-15">                   <div class="info">                     <h5>'+M.POST_CODE+'</h5>                   </div>                   <input type="text" name="receiverZip">                </div>                 <div class="input-wrapper mt-15 f-left">                   <div class="info">                     <h5>'+M.DELIVERY_RECEIVED_ON+'</h5>                   </div>                   <select name="receiverType" class="transition-border">                     <option value="address">'+M.CUSTOMER_ADDRESS+'</option>                     <option value="office">'+M.SPEEDY_OFFICE+'</option>                   </select>                 </div>                 <h5 class="col20 f-left mt-15">ÐÐ´Ñ€ÐµÑ Ð²ÑŠÐ²ÐµÐ´ÐµÐ½ Ð¾Ñ‚ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð°:</h5>                <div class="col20 f-left mt-5 bold" data-role="client-addr"></div>                <div class="col20 f-left"  id="receiverAddressWrapper">                  <div class="col20 f-left flex flex-row">                    <div class="input-wrapper input-wrapper2 f-left mt-15" style="width: 80%">                       <div class="info">                         <h5>'+M.STREET+'</h5>                       </div>                       <input type="text" name="receiverStreet">                    </div>                     <div class="input-wrapper input-wrapper2 f-right ml-15 mt-15" style="width: 20%">                       <div class="info">                         <h5>'+M.NUMBER+'</h5>                       </div>                       <input type="text" name="receiverStreetNo">                    </div>                   </div>                  <div class="col20 f-left flex flex-row">                    <div class="input-wrapper f-left mt-15 flex-1">                       <div class="info">                         <h5>'+M.COMPLEX+'</h5>                       </div>                       <input type="text" name="receiverQuarter">                    </div>                     <div class="input-wrapper f-left mt-15 ml-15 flex-half">                       <div class="info">                         <h5>'+M.BLOCK+'</h5>                       </div>                       <input type="text" name="receiverBlock">                    </div>                     <div class="input-wrapper f-left mt-15 ml-15 flex-half">                       <div class="info">                         <h5>'+M.ENTRANCE+'</h5>                       </div>                       <input type="text" name="receiverEntr">                    </div>                     <div class="input-wrapper f-left mt-15 ml-15 flex-half">                       <div class="info">                         <h5>'+M.FLOOR+'</h5>                       </div>                       <input type="text" name="receiverFloor">                    </div>                     <div class="input-wrapper f-left mt-15 ml-15 flex-half">                       <div class="info">                         <h5>'+M.APPARTMENT+'</h5>                       </div>                       <input type="text" name="receiverApt">                    </div>                   </div>                </div>                <div class="input-wrapper f-left mt-15" id="receiverOfficeWrapper">                   <div class="info">                     <h5>'+M.SPEEDY_OFFICE+'</h5>                   </div>                   <select name="receiverOfficeId" class="transition-border"></select>                 </div>                 <div class="input-wrapper f-left mt-15">                   <h5>'+M.NOTE+'</h5>                   <textarea name="receiverNote"></textarea>                </div>              </div>              <div class="info mt-15">                 <h5>'+M.SHIPMENT_INFORMATION+'</h5>               </div>               <div class="section f-left col20 gray-section mt-15">                 <div class="col20 f-left flex flex-row">                  <div class="input-wrapper f-left mt-15 flex-1">                     <div class="info">                       <h5>'+M.DELIVERY_PAYER+'</h5>                     </div>                     <select name="payerType" class="transition-border">                       <option value="receiver">'+M.RECEIVER+'</option>                       <option value="sender">'+M.SENDER+'</option>                     </select>                   </div>                   <div class="input-wrapper f-left ml-15 mt-15 flex-1">                     <div class="info">                       <h5>'+M.SERVICE+'</h5>                     </div>                     <select name="service" class="transition-border"></select>                   </div>                   <div class="input-wrapper f-left mt-15 ml-15 flex-1">                     <div class="info">                       <h5>'+M.SPEEDY_PICKUP_DATE+'</h5>                     </div>                     <input name="pickupDate" type="text" class="transition-border">                   </div>                 </div>                <div class="col20 f-left flex flex-row">                  <div class="input-wrapper f-left mt-15 flex-none" style="width: 188px;">                     <div class="info">                       <h5>'+M.PARCELS+'</h5>                     </div>                     <div class="symbol-input right-sign" style="background: #ffffff">                       <span class="symbol-sign">'+M.PCS+'</span>                      <input type="number" min="1" step="1" value="0" placeholder="0" name="parcels">                    </div>                  </div>                   <div class="input-wrapper f-left mt-15 ml-15 flex-none" style="width: 188px;">                     <div class="info">                       <h5>'+M.WEIGHT+'</h5>                     </div>                     <div class="symbol-input right-sign" style="background: #ffffff">                       <span class="symbol-sign">kg</span>                      <input type="number" min="0.01" step="0.1" value="0" placeholder="0" name="weight">                    </div>                  </div>                 </div>                <div class="input-wrapper f-left mt-15">                   <h5>'+M.SHIPMENT_NOTE+"</h5>                  <span>"+M.SHIPMENT_NOTE_DESC+'</span>                  <textarea name="orderNote"></textarea>                </div>                <div class="col20 f-left checkbox-wrapper">                   <input id="insuranceCbx" class="css-checkbox" type="checkbox" name="insurance" />                   <label for="insuranceCbx" class="css-label">                    '+M.INSURANCE_GOODS+' <b data-role="insurance"></b>                  </label>                 </div>                 <div class="col20 f-left checkbox-wrapper">                   <input id="codCbx" class="css-checkbox" type="checkbox" name="cod" />                   <label for="codCbx" class="css-label mb-0">                    <div class="f-left">'+M.CASH_ON_DELIVERY+'</div>                    <div data-role="cod-wrapper" class="symbol-input price-input clear-both mb-0" style="background: #ffffff; width: 150px;" id="codValueWrapper">                       <span class="symbol-sign" data-role="cod-sign"></span>                       <input type="number" min="0.01" step="0.01" value="0.00" placeholder="0.00" class="transition-border" name="codValue" />                     </div>                   </label>                 </div>                 <div class="col20 f-left checkbox-wrapper">                   <input id="previewCbx" class="css-checkbox" type="checkbox" name="preview" />                   <label for="previewCbx" class="css-label">'+M.SEND_WITH_PREVIEW+'</label>                 </div>                 <div class="col20 f-left checkbox-wrapper">                   <input id="testCbx" class="css-checkbox" type="checkbox" name="test" />                   <label for="testCbx" class="css-label">'+M.SEND_WITH_TEST+'</label>                 </div>                 <div class="col20 f-left checkbox-wrapper">                   <input id="fragileCbx" class="css-checkbox" type="checkbox" name="fragile" />                   <label for="fragileCbx" class="css-label">'+M.MARK_AS_FRAGILE+'</label>                 </div>                 <div class="col20 f-left checkbox-wrapper">                   <input id="singleParcel" class="css-checkbox" type="checkbox" name="documents" />                   <label for="singleParcel" class="css-label">'+M.DOCUMENTS_ONLY+'</label>                 </div>                 <div class="input-wrapper input-wrapper2 mt-15">                   <div class="info">                     <h5>'+M.RETURN_SERVICE+"</h5>                    <span>"+M.RETURN_SERVICE_DESC+'</span>                  </div>                   <select name="returnService"></select>                 </div>                 <div class="input-wrapper input-wrapper2 f-right mt-15">                   <div class="info">                    <h5>'+M.RETURN_PAYER+"</h5>                    <span>"+M.RETURN_PAYER_DESC+'</span>                  </div>                  <select name="returnPayer">                    <option value="receiver">'+M.RECEIVER+'</option>                    <option value="sender">'+M.SENDER+'</option>                  </select>                </div>              </div>            </div>            <div class="col20 f-left flex-none button-wrapper flex flex-row align-center" style="padding: 15px 45px 20px; box-sizing: border-box;">              <div class="flex-1 delivery-pricing">                 '+M.SHIPMENT_PRICE_CLIENT+': <span class="bold" data-role="clientPrice"></span> <br />                 <span class="red-text f-left">'+M.SHIPMENT_PRICE_CALCULATED+': <span class="bold" data-role="actualPrice"></span> </span>                 <span class="red-text bold f-left none" data-role="priceError"></span>              </div>              <div class="flex-none">                <a class="blue middle-button transition-bg f-ignore disabled" data-role="send">'+M.SEND_ORDER+'</a>                <a class="gray middle-button transition-bg f-ignore close-popup">'+M.CANCEL+"</a>              </div>            </div>          </div>";case"speedyWaybillDetailsMarkup":return'          <div class="popup-newpage-wrapper">             <h4 class="col20 f-left mt-15" data-role="no">'+M.WAYBILL_NO+': <b data-role="value">-</b></h4>            <h4 class="col20 f-left mt-15" data-role="price">'+M.DELIVERY_COST+': <b data-role="value">-</b></h4>            <h4 class="col20 f-left mt-15" data-role="deliveryDate">'+M.DELIVERY_DATE+': <b data-role="value">-</b></h4>            <span class="info mt-15" style="line-height: 19px;">              Ð’Ð°ÑˆÐ°Ñ‚Ð° Ñ‚Ð¾Ð²Ð°Ñ€Ð¸Ñ‚ÐµÐ»Ð½Ð¸Ñ†Ð° Ðµ Ð³Ð¾Ñ‚Ð¾Ð²Ð°. ÐœÐ¾Ð»Ñ ÑÐ²ÑŠÑ€Ð¶ÐµÑ‚Ðµ ÑÐµ Ñ Ð¾Ñ„Ð¸Ñ Ð½Ð° Speedy Ð½Ð° Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½ 070017001 Ð¸Ð»Ð¸ 070020300 Ð·Ð° Ð°Ð±Ð¾Ð½Ð°Ñ‚Ð¸ Ð½Ð° Ñ„Ð¸ÐºÑÐ¸Ñ€Ð°Ð½Ð¸ Ð¼Ñ€ÐµÐ¶Ð¸ Ð½Ð° Ñ†ÐµÐ½Ð°Ñ‚Ð° Ð½Ð° ÐµÐ´Ð¸Ð½ Ð³Ñ€Ð°Ð´ÑÐºÐ¸ Ñ€Ð°Ð·Ð³Ð¾Ð²Ð¾Ñ€, Ð·Ð° Ð´Ð° Ð·Ð°ÑÐ²Ð¸Ñ‚Ðµ Ð¸Ð´Ð²Ð°Ð½Ðµ Ð½Ð° ÐºÑƒÑ€Ð¸ÐµÑ€.            </span>            <div class="col20 f-left mt-25 ta-center">              <a target="_blank" class="f-none close-popup blue middle-button transition-bg" data-role="print">'+M.PRINT_WAYBILL+"</a>            </div>          </div>";case"checkboxTemplate":return'          <div class="checkbox-wrapper col20 f-left">             <input id="%id%" class="css-checkbox" type="checkbox" name="%id%" %checked% />             <label for="%id%" class="css-label">%title%</label>           </div>';case"gradientMarkup":return'        <div class="checkbox-wrapper col20 f-left mb-15">           <input id="%id%" class="css-checkbox" type="checkbox" name="enabled" />           <label for="%id%" class="css-label">'+M.ADD_GRADIENT+'</label>         </div>         <div class="col20 %margin% f-left gray-section product-select-wrapper none-soft" data-role="gradient-wrapper">           <div class="col20 f-left ab-step center-vertically">             <h4 class="roboto">'+M.GRADIENT_SETTINGS+'</h4>             <a class="text-link blue-text" data-role="edit">'+M.CHANGE+"</a>           </div>         </div>";case"gradientEditMarkup":return'          <div class="popup-newpage-wrapper">             <div class="input-wrapper color-pick-wrap-widgets">               <div class="color-pick-wrap">                 <div></div>                 <input type="text" value="" class="colorpicker-selected" name="startColor">               </div>               <div class="info">                 <h5>'+M.COLOR_START+'</h5>               </div>             </div>             <div class="input-wrapper color-pick-wrap-widgets">               <div class="color-pick-wrap">                 <div></div>                 <input type="text" value="" class="colorpicker-selected" name="endColor">               </div>               <div class="info">                 <h5>'+M.COLOR_END+'</h5>               </div>             </div>             <div class="input-wrappers mt-15 f-left col20">               <h5>'+M.GRADIENT_TYPE+'</h5>               <select class="button-size-select" name="type">                 <option value="linear">'+M.LINEAR+'</option>                 <option value="radial">'+M.RADIAL+'</option>               </select>             </div>             <div class="popup-input-wrapper input-slider-wrapper mt-15">               <h5 class="inline">'+M.GRADIENT_ANGLE+'</h5>              <div id="gradientAngleSlider"></div>               <input type="text" readonly="readonly" class="slider-val">             </div>           </div>';case"bookingAvailabilityRow":return'<div class="availability-row f-left col20 flex align-center">                  <select name="weekdays">                    <option value="everyday">'+M.EVERYDAY+'</option>                    <option value="workweek">'+M.MON_FRI+'</option>                    <option value="weekend">'+M.SAT_SUN+'</option>                    <option value="mon">'+M.MONDAY+'</option>                    <option value="tue">'+M.TUESDAY+'</option>                    <option value="wed">'+M.WEDNESDAY+'</option>                    <option value="thu">'+M.THURSDAY+'</option>                    <option value="fri">'+M.FRIDAY+'</option>                    <option value="sat">'+M.SATURDAY+'</option>                    <option value="sun">'+M.SUNDAY+"</option>                  </select>                  <span>"+M.FROM+'</span>                  <select class="time-choice" name="availTimeFrom"></select>                  <span>'+M.TO+'</span>                  <select class="time-choice" name="availTimeTo"></select>                  <a class="delete"><i class="material-icons-outlined">delete</i></a>                </div>';case"bookingExclusionRow":return'<div class="availability-row f-left col20 flex align-center mb-15">                  <h5>'+M.NOT_AVAILABLE_FROM+'</h5>                  <input type="text" aria-label="excludeFrom" name="excludeDateFrom" class="excludeDateFrom"/>                  <span>'+M.TO+'</span>                  <input type="text" aria-label="excludeTo" value="" name="excludeDateTo" class="excludeDateTo"/>                  <a class="delete"><i class="material-icons-outlined">delete</i></a>                </div>';case"bookingAccordionParent":return'<div class="operator-wrapper f-left col20">                  <div class="col20 flex space-between align-center">                    <div>                      <h4>%title%</h4>                      <span>%subtitle%</span>                    </div>                    <div class="flex align-center">                      <a class="middle-button with-icon blue link-services">'+M.LINK_SERVICES+'</a><a class="circle-settings" rel="action"><i class="material-icons-outlined">settings</i></a>                    </div>                  </div>                  <div class="items-wrapper"></div>                </div>';case"bookingAccordionChild":return'<div class="operator-wrapper f-left col20 flex space-between align-center">                  <div>                    <h4>%title%</h4>                    <span>%subtitle%</span>                  </div>                  <a class="gear-settings" rel="action"><i class="material-icons-outlined">settings</i></a>                </div>';case"bookingOperatorPopup":return'<div class="flex-1 box-with-space">                  <div class="f-left col20 mb-25 center-vertically" style="justify-content: space-between;">                    <h2 class="roboto font-24">'+M.OPERATORS+'</h2>                    <a class="big-button f-right blue with-icon inline-block" data-role="new-operator">'+M.NEW_OPERATOR+'</a>                  </div>                  <span class="col20 f-left f-15 gray-text">'+M.NEW_OPERATOR_DESC+'</span>                  <div class="col20 f-left mt-35" data-role="operators-wrapper"></div>                </div>';case"bookingServicePopup":return'<div class="flex-1 box-with-space">                  <div class="f-left col20 mb-25 center-vertically" style="justify-content: space-between;">                    <h2 class="roboto font-24">'+M.SERVICES+'</h2>                    <a class="big-button f-right blue with-icon inline-block" data-role="new-service">'+M.NEW_SERVICE+'</a>                  </div>                  <span class="col20 f-left f-15 gray-text">'+M.NEW_SERVICE_DESC+'</span>                  <div class="col20 f-left mt-35" data-role="services-wrapper"></div>                </div>';case"bookingNewOperator":return'<div class="flex-1 popup-newpage-wrapper">                  <div class="col20 f-left" data-role="add-operators-wrapper">                    <div class="popup-input-wrapper">                      <h5 class="f-15">'+M.NAME+'</h5>                      <span class="light-gray-text">'+M.OPERATOR_NAME_DESC+'</span>                      <input type="text" name="name" id="name">                    </div>                    <div class="popup-input-wrapper">                      <h5 class="f-15">'+M.EMAIL+'</h5>                      <span class="light-gray-text">'+M.OPERATOR_EMAIL_DESC+'</span>                      <input type="email" name="email" id="email">                    </div>                    <div class="popup-input-wrapper">                      <h5 class="f-15">'+M.DESCRIPTION+'</h5>                      <span class="light-gray-text">'+M.OPERATOR_DESCRIPTION+'</span>                      <input type="text" name="description" id="description">                    </div>                    <div class="popup-input-wrapper">                      <h5 class="col20 f-left f-15">'+M.IMAGE+'</h5>                      <span class="light-gray-text">'+M.OPERATOR_IMAGE_DESC+'</span><br/>                      <a id="backgroundSelectImageHolder" class="add-image transition-all f-left" style="margin-top: 9px ;height: 120px; width: 180px;">                      <span class="add-button transition-all"></span>                      </a>                    </div>                    <div class="input-wrapper input-wrapper-small input-wrapper-margin f-right color-pick-wrap-widgets mb-15">                      <div class="color-pick-wrap">                        <div></div>                         <input type="text" value="" class="colorpicker-selected" id="backgroundColor" name="backgroundColor">                      </div>                       <div class="info">                        <h5>'+M.COLOR_OPERATOR+"</h5>                        <span>"+M.COLOR_OPERATOR_DESC+'</span>                       </div>                     </div>                    <div class="popup-input-wrapper">                      <input type="hidden" id="link" name="link">                      <div class="no-calendar-wrapper">                        <div class="connected-email title-text mb-15">'+M.CALENDAR_GOOGLE_SIGNIN_TITLE+'</div>                        <a data-role="link-google"><img src="'+resources+'/images/btn_google_signin_dark_normal_web.png" alt="" /></a>                      </div>                      <div class="connected-calendar-wrapper">                         <div class="connected-email title-text"></div>                        <a class="big-button f-center red circle-effect" data-role="unlink-google">'+M.UNLINK_GOOGLE_CALENDAR+'</a><br/>                        <a class="edit-calendar-settings mb-25 blue-text">'+M.CHANGE_GOOGLE_SETTINGS+'</a>                        <span class="light-gray-text mb-5">'+M.CALENDAR_CREATE_LABEL+'</span>                        <span class="selected-calendar-settings mb-25"></span>                        <span class="light-gray-text mb-5">'+M.CALENDAR_BUSY_LABEL+'</span>                        <span class="busy-calendar-settings"></span>                      </div>                     </div>                  </div>                </div>';case"bookingOperatorRow":return'<div class="f-left col20 gray-section redirect-record flex align-center relative %classes%" data-role="rule-field">                   <span class="col10 f-left">%name%</span>                   <span class="col10 f-left">%email%</span>                   <a class="middle-button blue f-right add-operator">'+M.ADD+"</a>                 </div>";case"bookingServiceRow":return'<div class="f-left col20 gray-section redirect-record flex align-center relative %classes%" data-role="rule-field">                   <span class="col10 f-left">%name%</span>                   <span class="col10 f-left">%duration%</span>                   <a class="middle-button blue f-right add-service">'+M.ADD+"</a>                 </div>";case"bookingNewService":return'<div class="flex-1 popup-newpage-wrapper">                  <div class="col20 f-left" data-role="add-services-wrapper">                    <div class="popup-input-wrapper">                      <h5 class="f-15">'+M.SERVICE_NAME+'</h5>                      <span class="light-gray-text">'+M.SERVICE_NAME_DESCRIPTION+'</span>                      <input type="text" name="name" id="name">                    </div>                    <div class="popup-input-wrapper">                      <h5 class="f-15">'+M.DESCRIPTION+'</h5>                      <span class="light-gray-text">'+M.SERVICE_DESCRIPTION+'</span>                      <input type="text" name="description" id="description">                    </div>                    <div class="popup-input-wrapper">                      <h5 class="f-15">'+M.SERVICE_TYPE+'</h5>                      <span class="light-gray-text">'+M.SERVICE_TYPE_DESC+'</span>                      <select name="type" class="service-type">                        <option value="one-on-one">'+M.ONE_ON_ONE+'</option>                        <option value="group">'+M.GROUP_MEETING+'</option>                      </select>                    </div>                    <div class="popup-input-wrapper service-type-section none-soft">                      <span class="light-gray-text">'+M.MAX_ATTENDEES+'</span>                      <input type="number" name="maxAttendees" step="1" min="2" value="2" class="booking-type-attendees">                    </div>                    <div class="popup-input-wrapper">                      <h5 class="f-15">'+M.DURATION+'</h5>                      <span class="light-gray-text">'+M.SERVICE_DURATION+'</span>                      <div class="duration-wrapper service-duration f-left col20 mt-5" data-role="serviceDuration">                        <div class="duration-item active" data-role="15">15 '+M.MINUTES_SHORT+'</div>                        <div class="duration-item" data-role="30">30 '+M.MINUTES_SHORT+'</div>                        <div class="duration-item" data-role="45">45 '+M.MINUTES_SHORT+'</div>                        <div class="duration-item" data-role="60">60 '+M.MINUTES_SHORT+'</div>                        <div class="duration-item" data-role="custom">'+M.CUSTOM+'<input type="number" min="1" max="1400" step="1" name="custom-duration"/></div>                      </div>                    </div>                    <div class="popup-input-wrapper">                      <h5 class="col20 f-left f-15">'+M.IMAGE+'</h5>                      <span class="light-gray-text">'+M.SERVICE_IMAGE_DESC+'</span><br/>                      <a id="backgroundSelectImageHolder" class="add-image transition-all f-left" style="margin-top: 9px ;height: 120px; width: 180px;">                        <span class="add-button transition-all"></span>                      </a>                    </div>                    <div class="input-wrapper col20 mb-5 mt-10 f-left tags-ui-wrapper">                       <div class="checkbox-wrapper col20 f-left">                         <input class="css-checkbox" type="checkbox" id="addTags" name="addTags" />                         <label for="addTags" class="css-label">'+M.ADD_TAGS_ON_BOOKING+'</label>                       </div>                       <ul class="tags-wrapper f-left col20 none-soft"></ul>                     </div>                   </div>                </div>';case"bookingTableRow":return'<tr data-id="%id%">                  <td><div class="starting-cell"><span class="material-icons blue-text"> bookmark_border </span></div></td>                  <td><div class="big-cell fs-15 text-btn"><a rel="tab" data-tab="booking" href="/me/crm/booking/%id%" class="blue-text">%name%</a></div></td>                  <td><div class="small-cell">%duration%</div></td>                  <td class="none"><div class="small-cell text-btn"><a target="blank_" href="%link%">%link%</a></div></td>                  <td><div class="small-cell"><a class="blue-text operator-schedule schedule mr-10">'+M.VIEW_SCHEDULE+'</a>                  <a class="circle-settings" rel="action"><i class="material-icons-outlined">settings</i></a></div></td>                </tr>';case"bookingScheduledEventWrapper":return'<div class="col20 f-left booked-day-wrapper">                  <h3 class="booked-day">%date%</h3>                  <div class="booked-items-wrapper"></div>                </div>';case"bookingScheduledEvent":return'<div class="booked-event %class%" data-id="%id%">                  <div class="col20 flex align-center booked-event-header">                    <div class="col7 f-16">                      <div class="flex align-center time-wrapper">                        <i class="material-icons mr-10">alarm_on</i>                        <span>%time%</span>                      </div>                      <div class="flex vertical-flex operator-color" style="position:relative; top: 12px">                        <div class="color-pick-wrap ml-10"><div class="none-soft"></div></div>                      </div>                    </div>                    <div class="col7">                      <h4 class="client"></h4>                      <h4><span>'+M.EVENT+'</span> %eventName%</h4>                    </div>                    <div class="col6">                      <span class="middle-button bordered-button f-right circle-effect">'+M.SHOW_DETAILS+'</span>                    </div>                  </div>                  <div class="col20 f-left booked-event-info none-soft">                    <div class="col9 event-basic-info f-left">                      <div class="more-info"></div>                      <div class="col20 f-left mt-25">                        <a rel="action" data-action="cancelEvent" class="middle-button white-btn circle-effect">'+M.CANCEL_EVENT+'</a>                      </div>                    </div>                    <div class="col1 f-left">&nbsp;</div>                    <div class="col10 f-left event-form-answers"></div>                    <h4 class="col20 f-left mt-25 roboto group-table none-soft">'+M.EVENT_ATTENDEES+'</h4>                     <div class="content-wrapper horizontal-flex-table col20 f-left group-table none-soft" style="max-width: none; width: 100%;">                      <div class="sections-wrapper members-wrapper horizontal-flex-table">                       <div class="section-bg members-wrapper products-wrapper crm-table-outer" style="margin-top: 20px;">                        <div class="scrollable-table">                         <table style="margin-top: 0;">                          <thead></thead>                          <tbody></tbody>                         </table>                        </div>                       </div>                      </div>                     </div>                   </div>                </div>';case"bookingCustomerInfo":return'<div class="col20 f-left mb-15">                  <span class="col20 f-left">%label%</span>                  <h4 class="col20 f-left">%value%</h4>                </div>';case"bookingFilterPopup":return'          <div class="popup-newpage-wrapper">             <div class="popup-input-wrapper popup-input-wrapper-half">               <h5>'+M.BOOKING+'</h5>               <select name="eventId" class="required transition-all">              	<option value="">'+M.SELECT_BOOKING+'</option>              </select>             </div>             <div class="popup-input-wrapper popup-input-wrapper-half f-right">               <h5>'+M.OPERATOR+'</h5>                <select name="operatorId" class="required transition-all">              	<option value="">'+M.SELECT_OPERATOR+'</option>              </select>             </div>             <div class="popup-input-wrapper" >               <h5>'+M.SERVICE+'</h5>                <select name="serviceId" class="required transition-all">				        <option value="">'+M.SELECT_SERVICE+'</option>              </select>             </div>             <div class="popup-input-wrapper popup-input-wrapper-half" >               <h5>'+M.START_DATE+'</h5>                <input type="text" name="start" class="required transition-all">             </div>             <div class="popup-input-wrapper popup-input-wrapper-half f-right" >               <h5>'+M.END_DATE+'</h5>                <input type="text" name="end" class="required transition-all">             </div>           </div>';case"bookingServiceOperatorRow":return'<div class="booked-event flex align-center" data-id="%id%">                  <div class="col20 flex align-center booked-event-header">                    <div class="col7 f-16 flex align-center hidden-text">                      <span class="material-icons-outlined mr-10" style="%color%"> %icon% </span>%title%                    </div>                    <div class="col5 upcoming">                      <h4><span>'+M.UPCOMING_BOOKINGS+'</span> %bookings_count%</h4>                    </div>                    <div class="col8 flex align-center justify-end">                      <a class="blue-text operator-schedule schedule mr-10">'+M.VIEW_SCHEDULE+'</a>                      <span class="middle-button bordered-button f-right circle-effect details-btn">'+M.SETTINGS+"</span>                    </div>                  </div>                </div>";case"bookingNoDataRow":return'<h4 class="t-center">'+M.SCHEDULED_NOT_AVAILABLE+"</h4>";case"bookingNoOperatorRow":return'<div class="no-data-image mb-15">             <span class="material-icons-outlined"> account_circle </span>             <h3 class="col20 f-left t-center mt-25">'+M.NO_OPERATORS+'</h3>             <div class="col20 f-left t-center mt-25"><a rel="action" data-action="createOperator" class="big-button blue with-icon inline-block f-none">'+M.CREATE_OPERATOR+"</a></div>           </div>";case"bookingNoServiceRow":return'<div class="no-data-image mb-15">             <span class="material-icons-outlined"> assignment </span>             <h3 class="col20 f-left t-center mt-25">'+M.NO_SERVICES+'</h3>             <div class="col20 f-left t-center mt-25"><a rel="action" data-action="createService" class="big-button blue with-icon inline-block f-none">'+M.CREATE_SERVICE+"</a></div>           </div>";case"bookingNoDataTable":return'<td colspan="20">           <div class="no-data-image">             <span class="material-icons-outlined">bookmark_border</span>             <h3 class="col20 f-left t-center mt-25">'+M.NO_BOOKING_EVENTS+'</h3>             <div class="col20 f-left t-center mt-25"><a rel="tab" href="/me/crm/booking/" class="big-button blue with-icon inline-block f-none">'+M.CREATE_BOOKING+"</a></div>           </div>         </td>";case"bookingSettingsFormFieldMarkup":return'<div class="gray-area col12 f-left mb-5">                  <span>'+M.FIELD+" %no%</span>                  <h4>%name%</h4>                </div>";case"warningPopup":return'<div class="popup-widget-wrapper">           <div class="col20 f-left t-center mt-45">             <span class="material-icons fingerprint-icon"> error_outline </span>           </div>           <h3 class="col20 f-left t-center mt-25">%title%</h3>           <span class="col20 f-left t-center mt-10 light-gray-text f-15">%message%</span>           <div class="buttons-wrapper col20 f-left t-center mt-25">             <a data-role="continue" class="big-button blue inline-block f-none">%button% â†’</a>           </div>           <div class="buttons-wrapper col20 f-left t-center mt-25">             <a class="text-button close-popup" style="font-size: 14px; opacity: .6;">'+M.CANCEL+"</a>           </div>         </div> ";case"bookingStepLabelsMarkup":return'          <div class="popup-newpage-wrapper">             <div class="popup-input-wrapper">               <h5>'+M.OPERATORS_STEP_HEADING_LBL+'</h5>                <input type="text" name="operators" class="required transition-all">             </div>             <div class="popup-input-wrapper">               <h5>'+M.SERVICES_STEP_HEADING_LBL+'</h5>                <input type="text" name="services" class="required transition-all">             </div>             <div class="popup-input-wrapper">               <h5>'+M.TIME_STEP_HEADING_LBL+'</h5>                <input type="text" name="calendar" class="required transition-all">             </div>             <div class="popup-input-wrapper mb-25">               <h5>'+M.DETAILS_STEP_HEADING_LBL+'</h5>                <input type="text" name="details" class="required transition-all">             </div>           </div>';case"bookingGoogleSettings":return'<div class="popup-newpage-wrapper">                   <div class="popup-input-wrapper">                     <h5 class="col20 f-left">'+M.CALENDAR_CREATE_DESC+'</h5>                    <select class="col20 f-left calendar-select mb-25"></select>                    <h5 class="col20 f-left mt-15">'+M.CALENDAR_BUSY_DESC+'</h5>                    <div class="col20 f-left calendar-busy-select mt-15 mb-25"></div>                  </div>                </div>';case"importContactsWelcome":return'<div class="popup-widget-wrapper">                  <div class="col20 f-left t-center mt-45">                    <span class="material-icons fingerprint-icon"> publish </span>                  </div>                  <ul class="col20 f-left t-center steps-wrapper flex justify-center align-center mt-35">                    <li class="active"></li>                    <li></li>                    <li></li>                  </ul>                  <h3 class="col20 f-left t-center mt-25">'+M.CSV_IMPORT_TITLE+'</h3>                  <span class="col20 f-left t-center mt-10 light-gray-text">'+M.CSV_IMPORT_SUBTITLE+'</span>                  <div class="checkbox-wrapper mt-25 f-left">                    <input id="agree" name="agree" value="0" class="css-checkbox" type="checkbox">                    <label for="agree" class="css-label" style="font-size: 13px">'+M.IMPORT_AGREE_MESSAGE+'</label>                  </div>                  <div class="buttons-wrapper col20 f-left t-center mt-35">                    <a class="big-button blue inline-block f-none">'+M.IMPORT_BUTTON+'</a>                  </div>                  <div class="buttons-wrapper col20 f-left t-center mt-25">                    <a class="text-button close-popup" style="font-size: 14px; opacity: .6;">'+M.CLOSE_IMPORT_BUTTON+'</a>                  </div>                  <input name="csv" type="file" accept=".csv" class="none" />                </div>';case"importContactsMain":return'<div class="popup-widget-wrapper">                    <ul class="col20 f-left t-center steps-wrapper flex justify-center align-center mt-35">                      <li></li>                      <li class="active"></li>                      <li></li>                    </ul>                    <h3 class="col20 f-left t-center mt-25">'+M.FIELD_MATCH_TITLE+'</h3>                    <span class="col20 f-left t-center mt-10 light-gray-text col15">'+M.FIELD_MATCH_SUBTITLE+'</span>                    <div id="contactImport" class="table-header-wrapper col20 f-left mt-25" style="box-shadow: none">                      <table class="crm-table universal-table-wrapper" style="margin-top: 0; width: 100%; min-width: 100%;">                        <thead class="table-header">                          <tr style="border-bottom: 0;">                            <th><div class="starting-cell"></div></th>                            <th class="title"><div class="big-cell">'+M.COLUMN_TITLE_FILE+'</div></th>                            <th><div class="small-cell">'+M.COLUMN_PREVIEW+'</div></th>                            <th><div class="small-cell">'+M.COLUMN_CRM_PROPERTY+'</div></th>                          </tr>                        </thead>                        <tbody class="tall-table booking-body" style="height: auto;"></tbody>                      </table>                      <div class="checkbox-wrapper mt-25 f-left">                        <input id="includeHeader" name="includeHeader" value="1" class="css-checkbox" checked="checked" type="checkbox">                        <label for="includeHeader" class="css-label">'+M.CONTAINS_HEADER+"<span>"+M.CONTAINS_HEADER_DESC+"</span></label>                      </div>                    </div>                  </div>";case"importContactsRow":return'<tr data-row="%field%">                  <td>                    <div class="starting-cell"><span data-role="status-icon" class="material-icons none"> check_circle_outline </span></div>                  </td>                  <td class="title"><div class="big-cell">%field%</div></td>                  <td><div class="small-cell sample"></div></td>                  <td>                      <div class="small-cell"><select class="col20 f-left"></select></div>                  </td>                </tr>';case"importContactsStatus":return'<div class="popup-widget-wrapper">                <ul class="col20 f-left t-center steps-wrapper flex justify-center align-center mt-35">                  <li></li>                  <li></li>                  <li class="active"></li>                </ul>                <h3 class="col20 f-left t-center mt-25">'+M.IMPORT_PROGRESS+'</h3>                <span class="col20 f-left t-center mt-10 light-gray-text">'+M.IMPORT_PROGRESS_SUBTITLE+'</span>                <div class="form-progress-wrapper form-progress-wrapper-bottom">                  <span></span>                  <div class="form-progress-bar">                    <div class="success-bar" style="background-color: #3391e1;width:0%;"></div>                  </div>                </div>                <span class="col20 f-left t-center mt-10 light-gray-text">'+M.IMPORTED_CONTACTS+' - <span class="import-text">0</span></span>            </div>';case"containerHiddenMessage":return'<div class="block-hidden-message">                  <a data-role="showBlock">'+M.HIDDEN_BLOCK_MESSAGE+"</a>                </div>";case"elementDelayMarkup":return'        <div class="popup-widget-wrapper">           <div class="input-wrapper mb-10">             <h4>'+M.ELEMENT_DELAY+'</h4>             <span class="f-left light-gray-text mt-15">'+M.ELEMENT_DELAY_DESC+'</span>           </div>          <div class="input-wrapper input-wrapper2 f-left mt-15">             <h5>'+M.MINUTES+'</h5>             <input name="minutes" type="number" min="0" step="1" />           </div>           <div class="input-wrapper input-wrapper2 f-right mt-15">             <h5>'+M.SECONDS+'</h5>             <input name="seconds" type="number" min="0" step="1" />           </div>         </div>';case"blockRowColumnSettings":return'<div class="col20 f-left">                   <div class="col20 f-left" style="padding: 0px 25px; box-sizing: border-box;">                    <h5 class="col20 f-left mb-15 mt-25">'+M.SPLIT_IN_COLS_TITLE+'</h5>                     <div class="col20 f-left mb-25">                       <a class="columns-select rounded-effect">1</a>                       <a class="columns-select rounded-effect">2</a>                       <a class="columns-select rounded-effect">3</a>                       <a class="columns-select rounded-effect">4</a>                       <a class="columns-select rounded-effect">5</a>                     </div>                     <div id="columnsSlider"></div>                  </div>                </div>';case"imageCaptionBoxStyles":return'        <div class="popup-widget-wrapper">             <div class="popup-input-wrapper">              <h5>'+M.POSITION+'</h5>               <select name="captionPosition"></select>            </div>            <div class="input-wrapper input-wrapper-small color-pick-wrap-widgets" style="margin-bottom:10px;">               <div class="color-pick-wrap">                 <div></div>                 <input type="text" value="" class="colorpicker-selected" name="fgColor">               </div>               <div class="info">                 <h5>'+M.TEXT_COLOR+'</h5>               </div>             </div>            <div class="input-wrapper input-wrapper-small color-pick-wrap-widgets" style="margin-bottom:10px;">               <div class="color-pick-wrap">                 <div></div>                 <input type="text" value="" class="colorpicker-selected" name="bgColor">               </div>               <div class="info">                 <h5>'+M.BACKGROUND_COLOR+'</h5>               </div>             </div>            <div class="popup-input-wrapper mb-0">               <h5 class="inline">'+M.HEADING_FONT+'</h5>              <select name="headingFontFamily"></select>             </div>             <div class="popup-input-wrapper input-slider-wrapper" >               <h5 class="inline">'+M.HEADING_FONT_SIZE+'</h5>              <div id="headingSizeSlider"></div>               <input type="text" readonly="readonly" class="slider-val">             </div>             <div class="popup-input-wrapper mb-0">               <h5 class="inline">'+M.CAPTION_FONT+'</h5>              <select name="captionFontFamily"></select>             </div>             <div class="popup-input-wrapper input-slider-wrapper" >               <h5 class="inline">'+M.CAPTION_FONT_SIZE+'</h5>              <div id="captionTextSizeSlider"></div>               <input type="text" readonly="readonly" class="slider-val">             </div>             <div class="col20 f-left gray-section product-select-wrapper">               <div class="col20 f-left ab-step center-vertically">                 <h4 class="roboto">'+M.CAPTION_SHADOW+'</h4>                 <a class="text-link blue-text" data-role="changeCaptionShadowStyles">'+M.CHANGE+"</a>               </div>             </div>         </div>";case"toggleEditTabMarkup":return'          <div class="popup-widget-wrapper">             <div class="popup-input-wrapper" >               <h5>'+M.TAB_NAME+'<a class="label-link" data-role="editStyling">'+M.TAB_STYLING+'</a></h5>              <input type="text" name="label" placeholder="'+M.ADD_LABEL+'"/>             </div>             <div class="popup-input-wrapper" >               <h5>'+M.TAB_PARAGRAPH+'</h5>               <div class="col20 f-left text-field-wrapper mt-15">                <textarea name="text"></textarea>              </div>            </div>             <div class="checkbox-wrapper">               <input id="showButton" class="css-checkbox" type="checkbox" name="showButton">               <label for="showButton" class="css-label">'+M.ADD_CTA+'</label>             </div>             <div class="col20 f-left none-soft" data-role="button-wrapper">              <div class="popup-input-wrapper mt-5" >                 <h5>'+M.BUTTON_TEXT+'<a class="label-link" data-role="changeButtonStyle">'+M.TEXT_STYLING+'</a></h5>                <input type="text" class="modify" name="buttonText" />               </div>               <div class="f-left col20 mt-5">                 <div class="info">                   <h5>'+M.BUTTON_TARGET+'</h5>                 </div>                 <input class="path-select select-like" type="text" placeholder="'+M.FILL_LINK_TITLE+'" />               </div>             </div>          </div>';case"toggleSingleTabMarkup":return'          <div class="form-step-wrapper flex align-center" data-role="single-tab">            <span class="move-icon button-tooltip ui-sortable-handle pointer"></span>            <h3 style="padding: 20px 0px" class="step-title flex-1">%name%</h3>            <div class="buttons-wrapper flex-none">              <a data-tooltip="settings" data-role="edit" class="delete delete-icon modify button-tooltip light-gray-icon circle-effect mr-5">                <i class="material-icons-outlined">settings</i>              </a>              <a data-tooltip="widgetClone" data-role="clone" class="delete delete-icon modify button-tooltip light-gray-icon circle-effect mr-5">                <i class="material-icons-outlined">content_copy</i>              </a>              <a data-tooltip="simpleDelete" data-role="delete" class="delete delete-icon modify button-tooltip light-gray-icon circle-effect">                <i class="material-icons-outlined">delete</i>              </a>            </div>          </div>';case"zzz":return'      <div class="col20 mt-5 f-left gray-section product-select-wrapper" data-role="single-tab">         <div class="col20 f-left ab-step center-vertically">           <span class="move-icon ml-0 pointer" style="position: relative; left: -9px;"></span>          <h4 class="roboto">%name%</h4>           <a data-tooltip="settings" data-role="edit" class="delete delete-icon modify button-tooltip light-gray-icon circle-effect mr-5">            <i class="material-icons-outlined">settings</i>          </a>          <a data-tooltip="simpleDelete" data-role="delete" class="delete delete-icon modify button-tooltip light-gray-icon circle-effect">            <i class="material-icons-outlined">delete</i>          </a>        </div>       </div>';case"toggleWidgetStylingMarkup":return'           <div class="popup-widget-wrapper">             <div class="popup-input-wrapper" >               <div class="input-wrapper">                 <h5>'+M.ACCORDION_STYLE+'</h5>                 <select class="button-size-select" name="style">                   <option value="style-1">'+M.STYLE_1+'</option>                   <option value="style-2">'+M.STYLE_2+'</option>                   <option value="style-3">'+M.STYLE_3+'</option>                   <option value="style-4">'+M.STYLE_4+'</option>                 </select>               </div>             </div>             <div class="popup-input-wrapper mb-0">               <h5 class="inline">'+M.HEADING_FONT+'</h5>              <select name="headingFontFamily"></select>             </div>             <div class="popup-input-wrapper input-slider-wrapper" >               <h5 class="inline">'+M.HEADING_FONT_SIZE+'</h5>              <div id="headingSizeSlider"></div>               <input type="text" readonly="readonly" class="slider-val">             </div>             <div class="input-wrapper input-wrapper-small color-pick-wrap-widgets" style="margin-bottom:10px;">               <div class="color-pick-wrap">                 <div></div>                 <input type="text" value="" class="colorpicker-selected" name="headingBgColor">               </div>               <div class="info">                 <h5>'+M.HEADING_BACKGROUND_COLOR+'</h5>               </div>             </div>            <div class="input-wrapper input-wrapper-small color-pick-wrap-widgets" style="margin-bottom:10px;">               <div class="color-pick-wrap">                 <div></div>                 <input type="text" value="" class="colorpicker-selected" name="headingColor">               </div>               <div class="info">                 <h5>'+M.HEADING_COLOR+'</h5>               </div>             </div>            <div class="input-wrapper input-wrapper-small color-pick-wrap-widgets" style="margin-bottom:10px;">               <div class="color-pick-wrap">                 <div></div>                 <input type="text" value="" class="colorpicker-selected" name="contentBgColor">               </div>               <div class="info">                 <h5>'+M.CONTENT_AREA_BG+"</h5>               </div>             </div>          </div>";case"reorderItemsMarkup":return'          <div class="popup-widget-wrapper">             <div class="popup-input-wrapper" >               <div class="col20 f-left">                <div class="help-text-wrapper">                  <span class="help-text" style="margin-bottom:15px;">                    '+M.DRAG_DROP_ARRANGE+'                  </span>                </div>                <div class="col20 f-left" data-role="sortable"></div>              </div>            </div>          </div>';case"reorderItemsSingleMarkup":return'<div class="form-step-wrapper flex align-center" data-id="%id%">                  <span class="move-icon button-tooltip ui-sortable-handle flex-none" data-tooltip="simpleMove" />                  <h3 class="step-title flex-none" style="padding: 15px 0">%name%</h3>                </div>';case"subscriptionWidgetFormStyles":return'<div class="popup-widget-wrapper">                   <div class="input-wrapper color-pick-wrap-widgets">                     <div class="color-pick-wrap">                       <div></div>                       <input type="text" value="" class="colorpicker-selected modify" name="headingsColor">                     </div>                     <div class="info">                       <h5>'+M.HEADINGS_COLOR+'</h5>                     </div>                   </div>                   <div class="input-wrapper color-pick-wrap-widgets">                     <div class="color-pick-wrap">                       <div></div>                       <input type="text" value="" class="colorpicker-selected modify" name="fieldsBgColor">                     </div>                     <div class="info">                       <h5>'+M.FIELDS_BG+'</h5>                     </div>                   </div>                   <div class="input-wrapper color-pick-wrap-widgets">                     <div class="color-pick-wrap">                       <div></div>                       <input type="text" value="" class="colorpicker-selected modify" name="fieldsTextColor">                     </div>                     <div class="info">                       <h5>'+M.FIELDS_TEXT_COLOR+'</h5>                     </div>                   </div>                   <div class="input-wrapper color-pick-wrap-widgets">                     <div class="color-pick-wrap">                       <div></div>                       <input type="text" value="" class="colorpicker-selected modify" name="fieldsBorderColor">                     </div>                     <div class="info">                       <h5>'+M.FIELDS_BORDER_COLOR+'</h5>                     </div>                   </div>                   <div class="popup-input-wrapper mt-15" >                     <h5 class="inline">'+M.TEXT_FONT_FAMILY+'</h5>                    <select name="fieldsFontFamily"></select>                   </div>               </div>';case"changeMarketingLimitsTemplate":return'              <div class="popup-widget-wrapper">                <div class="col20 f-left t-center mt-35">                  <span class="material-icons fingerprint-icon none"> account_circle </span>                </div>                <h3 class="col20 f-left t-center mt-25">'+M.SUBSCRIBERS_ADDON_TITLE+'</h3>                <span class="col20 f-left t-center mt-10 help-text mb-25" style="opacity: .7;">'+M.SUBSCRIBERS_ADDON_DESC+'</span>                <h3 class="col20 t-center f-left mb-5 addon-popup-price"><span data-role="subscribers">1000</span> <span class="smaller">'+M.SUBSCRIBERS2+'</span></h3>                <div class="popup-input-wrapper input-slider-wrapper email-subs-slider" >                  <div data-role="slider"></div>                </div>                <h2 class="col20 t-center f-left addon-popup-price" data-role="addon-price-wrapper">                  <span data-role="price">...</span><span class="smaller">/'+M.MONTH+'</span>                </h2>                <span class="col20 f-left t-center mt-10 help-text mb-25 none" style="opacity: .7;" data-role="price-clarification"></span>                <div class="buttons-wrapper col20 f-left t-center mt-15">                  <a class="big-button blue inline-block f-none" data-role="set-addon">'+M.PAY_UPGRADE+' â†’</a>                </div>                <div class="buttons-wrapper col20 f-left t-center mt-15">                  <a class="text-button close-popup" style="font-size: 14px; opacity: .6;">'+M.CLOSE_POPUP+"</a>                </div>              </div>";case"marketingCampaignSentConfirmation":return'<div class="popup-widget-wrapper">          <div class="col20 f-left t-center mt-45">            <span class="material-icons fingerprint-icon"> done </span>          </div>          <h3 class="col20 f-left t-center mt-25">%message%</h3>          <div class="buttons-wrapper col20 f-left t-center mt-25 mb-25">            <a class="big-button blue inline-block f-none close-popup">'+M.BACK_TO_ALL_CAMPAIGNS+" â†’</a>          </div>        </div>";case"confirmationMessage":return'<div class="popup-widget-wrapper">          <div class="col20 f-left t-center mt-45">            <span class="material-icons fingerprint-icon"> done </span>          </div>          <h4 class="col20 f-left t-center mt-25">%message%</h4>          <div class="col20 f-left t-center mt-15 close-popup"><a class="text-button">'+M.CLOSE+"</a></div>         </div>";case"warningWithButtonMarkup":return'<div class="popup-widget-wrapper">          <div class="col20 f-left t-center">            <span class="material-icons fingerprint-icon"> warning </span>          </div>          <span class="col20 f-left t-center mt-25" style="font-size: 16px;">%message%</span>          <div class="buttons-wrapper col20 f-left t-center mt-25 mb-25">            <a class="big-button blue inline-block f-none close-popup" href="%btnLink%" target="_blank">%btnText%</a>          </div>        </div>';case"marketingListsAndDoubleOptInPicker":return'          <div class="input-wrapper marketing-settings-wrapper mb-10 none">             <div class="col20 mb-5 f-left gray-section product-select-wrapper">               <div class="col20 f-left ab-step center-vertically">                 <h4 class="roboto flex-1">'+M.CONNECT_TO_EMAIL_MARKETING+'</h4>                 <a class="text-link blue-text marketing-settings flex-none">'+M.SELECT_LISTS2+'</a>               </div>             </div>           </div>           <div class="checkbox-wrapper col20 f-left mt-10" data-role="enable-double-opt-in">             <input class="css-checkbox" type="checkbox" id="enableDoubleOptIn" name="enableDoubleOptIn" />             <label for="enableDoubleOptIn" class="css-label">'+M.ENABLE_DOUBLE_OPT_IN+"<span>"+M.ENABLE_DOUBLE_OPT_IN_DESC+"</span></label>           </div>"}};return{get:function(c){var d=b[c];if(d){return d}d=a(c);b[c]=d;return d}}})();
/*!
 * jQuery JavaScript Library v2.2.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:23Z
 */
;if(window.jQuery){((console||{}).warn||function(){})("jQuery imported from third-party sources. Will not include it second time!")}else{(function(b,a){if(typeof module==="object"&&typeof module.exports==="object"){module.exports=b.document?a(b,true):function(c){if(!c.document){throw new Error("jQuery requires a window with a document")}return a(c)}}else{a(b)}}(typeof window!=="undefined"?window:this,function(window,noGlobal){var arr=[];var document=window.document;var slice=arr.slice;var concat=arr.concat;var push=arr.push;var indexOf=arr.indexOf;var class2type={};var toString=class2type.toString;var hasOwn=class2type.hasOwnProperty;var support={};var version="2.2.4",jQuery=function(selector,context){return new jQuery.fn.init(selector,context)},rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return letter.toUpperCase()};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,selector:"",length:0,toArray:function(){return slice.call(this)},get:function(num){return num!=null?(num<0?this[num+this.length]:this[num]):slice.call(this)},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);ret.prevObject=this;ret.context=this.context;return ret},each:function(callback){return jQuery.each(this,callback)},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(i){var len=this.length,j=+i+(i<0?len:0);return this.pushStack(j>=0&&j<len?[this[j]]:[])},end:function(){return this.prevObject||this.constructor()},push:push,sort:arr.sort,splice:arr.splice};jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=false;if(typeof target==="boolean"){deep=target;target=arguments[i]||{};i++}if(typeof target!=="object"&&!jQuery.isFunction(target)){target={}}if(i===length){target=this;i--}for(;i<length;i++){if((options=arguments[i])!=null){for(name in options){src=target[name];copy=options[name];if(target===copy){continue}if(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))){if(copyIsArray){copyIsArray=false;clone=src&&jQuery.isArray(src)?src:[]}else{clone=src&&jQuery.isPlainObject(src)?src:{}}target[name]=jQuery.extend(deep,clone,copy)}else{if(copy!==undefined){target[name]=copy}}}}}return target};jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:true,error:function(msg){throw new Error(msg)},noop:function(){},isFunction:function(obj){return jQuery.type(obj)==="function"},isArray:Array.isArray,isWindow:function(obj){return obj!=null&&obj===obj.window},isNumeric:function(obj){var realStringObj=obj&&obj.toString();return !jQuery.isArray(obj)&&(realStringObj-parseFloat(realStringObj)+1)>=0},isPlainObject:function(obj){var key;if(jQuery.type(obj)!=="object"||obj.nodeType||jQuery.isWindow(obj)){return false}if(obj.constructor&&!hasOwn.call(obj,"constructor")&&!hasOwn.call(obj.constructor.prototype||{},"isPrototypeOf")){return false}for(key in obj){}return key===undefined||hasOwn.call(obj,key)},isEmptyObject:function(obj){var name;for(name in obj){return false}return true},type:function(obj){if(obj==null){return obj+""}return typeof obj==="object"||typeof obj==="function"?class2type[toString.call(obj)]||"object":typeof obj},globalEval:function(code){var script,indirect=eval;code=jQuery.trim(code);if(code){if(code.indexOf("use strict")===1){script=document.createElement("script");script.text=code;document.head.appendChild(script).parentNode.removeChild(script)}else{indirect(code)}}},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()},each:function(obj,callback){var length,i=0;if(isArrayLike(obj)){length=obj.length;for(;i<length;i++){if(callback.call(obj[i],i,obj[i])===false){break}}}else{for(i in obj){if(callback.call(obj[i],i,obj[i])===false){break}}}return obj},trim:function(text){return text==null?"":(text+"").replace(rtrim,"")},makeArray:function(arr,results){var ret=results||[];if(arr!=null){if(isArrayLike(Object(arr))){jQuery.merge(ret,typeof arr==="string"?[arr]:arr)}else{push.call(ret,arr)}}return ret},inArray:function(elem,arr,i){return arr==null?-1:indexOf.call(arr,elem,i)},merge:function(first,second){var len=+second.length,j=0,i=first.length;for(;j<len;j++){first[i++]=second[j]}first.length=i;return first},grep:function(elems,callback,invert){var callbackInverse,matches=[],i=0,length=elems.length,callbackExpect=!invert;for(;i<length;i++){callbackInverse=!callback(elems[i],i);if(callbackInverse!==callbackExpect){matches.push(elems[i])}}return matches},map:function(elems,callback,arg){var length,value,i=0,ret=[];if(isArrayLike(elems)){length=elems.length;for(;i<length;i++){value=callback(elems[i],i,arg);if(value!=null){ret.push(value)}}}else{for(i in elems){value=callback(elems[i],i,arg);if(value!=null){ret.push(value)}}}return concat.apply([],ret)},guid:1,proxy:function(fn,context){var tmp,args,proxy;if(typeof context==="string"){tmp=fn[context];context=fn;fn=tmp}if(!jQuery.isFunction(fn)){return undefined}args=slice.call(arguments,2);proxy=function(){return fn.apply(context||this,args.concat(slice.call(arguments)))};proxy.guid=fn.guid=fn.guid||jQuery.guid++;return proxy},now:Date.now,support:support});if(typeof Symbol==="function"){jQuery.fn[Symbol.iterator]=arr[Symbol.iterator]}jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()});function isArrayLike(obj){var length=!!obj&&"length" in obj&&obj.length,type=jQuery.type(obj);if(type==="function"||jQuery.isWindow(obj)){return false}return type==="array"||length===0||typeof length==="number"&&length>0&&(length-1) in obj}var Sizzle=
/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
(function(window){var i,support,Expr,getText,isXML,tokenize,compile,select,outermostContext,sortInput,hasDuplicate,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando="sizzle"+1*new Date(),preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),sortOrder=function(a,b){if(a===b){hasDuplicate=true}return 0},MAX_NEGATIVE=1<<31,hasOwn=({}).hasOwnProperty,arr=[],pop=arr.pop,push_native=arr.push,push=arr.push,slice=arr.slice,indexOf=function(list,elem){var i=0,len=list.length;for(;i<len;i++){if(list[i]===elem){return i}}return -1},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",whitespace="[\\x20\\t\\r\\n\\f]",identifier="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",attributes="\\["+whitespace+"*("+identifier+")(?:"+whitespace+"*([*^$|!~]?=)"+whitespace+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+identifier+"))|)"+whitespace+"*\\]",pseudos=":("+identifier+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+attributes+")*)|.*)\\)|)",rwhitespace=new RegExp(whitespace+"+","g"),rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rattributeQuotes=new RegExp("="+whitespace+"*([^\\]'\"]*?)"+whitespace+"*\\]","g"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={ID:new RegExp("^#("+identifier+")"),CLASS:new RegExp("^\\.("+identifier+")"),TAG:new RegExp("^("+identifier+"|[*])"),ATTR:new RegExp("^"+attributes),PSEUDO:new RegExp("^"+pseudos),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),bool:new RegExp("^(?:"+booleans+")$","i"),needsContext:new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,rescape=/'|\\/g,runescape=new RegExp("\\\\([\\da-f]{1,6}"+whitespace+"?|("+whitespace+")|.)","ig"),funescape=function(_,escaped,escapedWhitespace){var high="0x"+escaped-65536;return high!==high||escapedWhitespace?escaped:high<0?String.fromCharCode(high+65536):String.fromCharCode(high>>10|55296,high&1023|56320)},unloadHandler=function(){setDocument()};try{push.apply((arr=slice.call(preferredDoc.childNodes)),preferredDoc.childNodes);arr[preferredDoc.childNodes.length].nodeType}catch(e){push={apply:arr.length?function(target,els){push_native.apply(target,slice.call(els))}:function(target,els){var j=target.length,i=0;while((target[j++]=els[i++])){}target.length=j-1}}}function Sizzle(selector,context,results,seed){var m,i,elem,nid,nidselect,match,groups,newSelector,newContext=context&&context.ownerDocument,nodeType=context?context.nodeType:9;results=results||[];if(typeof selector!=="string"||!selector||nodeType!==1&&nodeType!==9&&nodeType!==11){return results}if(!seed){if((context?context.ownerDocument||context:preferredDoc)!==document){setDocument(context)}context=context||document;if(documentIsHTML){if(nodeType!==11&&(match=rquickExpr.exec(selector))){if((m=match[1])){if(nodeType===9){if((elem=context.getElementById(m))){if(elem.id===m){results.push(elem);return results}}else{return results}}else{if(newContext&&(elem=newContext.getElementById(m))&&contains(context,elem)&&elem.id===m){results.push(elem);return results}}}else{if(match[2]){push.apply(results,context.getElementsByTagName(selector));return results}else{if((m=match[3])&&support.getElementsByClassName&&context.getElementsByClassName){push.apply(results,context.getElementsByClassName(m));return results}}}}if(support.qsa&&!compilerCache[selector+" "]&&(!rbuggyQSA||!rbuggyQSA.test(selector))){if(nodeType!==1){newContext=context;newSelector=selector}else{if(context.nodeName.toLowerCase()!=="object"){if((nid=context.getAttribute("id"))){nid=nid.replace(rescape,"\\$&")}else{context.setAttribute("id",(nid=expando))}groups=tokenize(selector);i=groups.length;nidselect=ridentifier.test(nid)?"#"+nid:"[id='"+nid+"']";while(i--){groups[i]=nidselect+" "+toSelector(groups[i])}newSelector=groups.join(",");newContext=rsibling.test(selector)&&testContext(context.parentNode)||context}}if(newSelector){try{push.apply(results,newContext.querySelectorAll(newSelector));return results}catch(qsaError){}finally{if(nid===expando){context.removeAttribute("id")}}}}}}return select(selector.replace(rtrim,"$1"),context,results,seed)}function createCache(){var keys=[];function cache(key,value){if(keys.push(key+" ")>Expr.cacheLength){delete cache[keys.shift()]}return(cache[key+" "]=value)}return cache}function markFunction(fn){fn[expando]=true;return fn}function assert(fn){var div=document.createElement("div");try{return !!fn(div)}catch(e){return false}finally{if(div.parentNode){div.parentNode.removeChild(div)}div=null}}function addHandle(attrs,handler){var arr=attrs.split("|"),i=arr.length;while(i--){Expr.attrHandle[arr[i]]=handler}}function siblingCheck(a,b){var cur=b&&a,diff=cur&&a.nodeType===1&&b.nodeType===1&&(~b.sourceIndex||MAX_NEGATIVE)-(~a.sourceIndex||MAX_NEGATIVE);if(diff){return diff}if(cur){while((cur=cur.nextSibling)){if(cur===b){return -1}}}return a?1:-1}function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return(name==="input"||name==="button")&&elem.type===type}}function createPositionalPseudo(fn){return markFunction(function(argument){argument=+argument;return markFunction(function(seed,matches){var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;while(i--){if(seed[(j=matchIndexes[i])]){seed[j]=!(matches[j]=seed[j])}}})})}function testContext(context){return context&&typeof context.getElementsByTagName!=="undefined"&&context}support=Sizzle.support={};isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?documentElement.nodeName!=="HTML":false};setDocument=Sizzle.setDocument=function(node){var hasCompare,parent,doc=node?node.ownerDocument||node:preferredDoc;if(doc===document||doc.nodeType!==9||!doc.documentElement){return document}document=doc;docElem=document.documentElement;documentIsHTML=!isXML(document);if((parent=document.defaultView)&&parent.top!==parent){if(parent.addEventListener){parent.addEventListener("unload",unloadHandler,false)}else{if(parent.attachEvent){parent.attachEvent("onunload",unloadHandler)}}}support.attributes=assert(function(div){div.className="i";return !div.getAttribute("className")});support.getElementsByTagName=assert(function(div){div.appendChild(document.createComment(""));return !div.getElementsByTagName("*").length});support.getElementsByClassName=rnative.test(document.getElementsByClassName);support.getById=assert(function(div){docElem.appendChild(div).id=expando;return !document.getElementsByName||!document.getElementsByName(expando).length});if(support.getById){Expr.find.ID=function(id,context){if(typeof context.getElementById!=="undefined"&&documentIsHTML){var m=context.getElementById(id);return m?[m]:[]}};Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId}}}else{delete Expr.find.ID;Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node=typeof elem.getAttributeNode!=="undefined"&&elem.getAttributeNode("id");return node&&node.value===attrId}}}Expr.find.TAG=support.getElementsByTagName?function(tag,context){if(typeof context.getElementsByTagName!=="undefined"){return context.getElementsByTagName(tag)}else{if(support.qsa){return context.querySelectorAll(tag)}}}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if(tag==="*"){while((elem=results[i++])){if(elem.nodeType===1){tmp.push(elem)}}return tmp}return results};Expr.find.CLASS=support.getElementsByClassName&&function(className,context){if(typeof context.getElementsByClassName!=="undefined"&&documentIsHTML){return context.getElementsByClassName(className)}};rbuggyMatches=[];rbuggyQSA=[];if((support.qsa=rnative.test(document.querySelectorAll))){assert(function(div){docElem.appendChild(div).innerHTML="<a id='"+expando+"'></a><select id='"+expando+"-\r\\' msallowcapture=''><option selected=''></option></select>";if(div.querySelectorAll("[msallowcapture^='']").length){rbuggyQSA.push("[*^$]="+whitespace+"*(?:''|\"\")")}if(!div.querySelectorAll("[selected]").length){rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")")}if(!div.querySelectorAll("[id~="+expando+"-]").length){rbuggyQSA.push("~=")}if(!div.querySelectorAll(":checked").length){rbuggyQSA.push(":checked")}if(!div.querySelectorAll("a#"+expando+"+*").length){rbuggyQSA.push(".#.+[+~]")}});assert(function(div){var input=document.createElement("input");input.setAttribute("type","hidden");div.appendChild(input).setAttribute("name","D");if(div.querySelectorAll("[name=d]").length){rbuggyQSA.push("name"+whitespace+"*[*^$|!~]?=")}if(!div.querySelectorAll(":enabled").length){rbuggyQSA.push(":enabled",":disabled")}div.querySelectorAll("*,:x");rbuggyQSA.push(",.*:")})}if((support.matchesSelector=rnative.test((matches=docElem.matches||docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector)))){assert(function(div){support.disconnectedMatch=matches.call(div,"div");matches.call(div,"[s!='']:x");rbuggyMatches.push("!=",pseudos)})}rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|"));rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|"));hasCompare=rnative.test(docElem.compareDocumentPosition);contains=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=a.nodeType===9?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!!(bup&&bup.nodeType===1&&(adown.contains?adown.contains(bup):a.compareDocumentPosition&&a.compareDocumentPosition(bup)&16))}:function(a,b){if(b){while((b=b.parentNode)){if(b===a){return true}}}return false};sortOrder=hasCompare?function(a,b){if(a===b){hasDuplicate=true;return 0}var compare=!a.compareDocumentPosition-!b.compareDocumentPosition;if(compare){return compare}compare=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1;if(compare&1||(!support.sortDetached&&b.compareDocumentPosition(a)===compare)){if(a===document||a.ownerDocument===preferredDoc&&contains(preferredDoc,a)){return -1}if(b===document||b.ownerDocument===preferredDoc&&contains(preferredDoc,b)){return 1}return sortInput?(indexOf(sortInput,a)-indexOf(sortInput,b)):0}return compare&4?-1:1}:function(a,b){if(a===b){hasDuplicate=true;return 0}var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup){return a===document?-1:b===document?1:aup?-1:bup?1:sortInput?(indexOf(sortInput,a)-indexOf(sortInput,b)):0}else{if(aup===bup){return siblingCheck(a,b)}}cur=a;while((cur=cur.parentNode)){ap.unshift(cur)}cur=b;while((cur=cur.parentNode)){bp.unshift(cur)}while(ap[i]===bp[i]){i++}return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0};return document};Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)};Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document){setDocument(elem)}expr=expr.replace(rattributeQuotes,"='$1']");if(support.matchesSelector&&documentIsHTML&&!compilerCache[expr+" "]&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&(!rbuggyQSA||!rbuggyQSA.test(expr))){try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&elem.document.nodeType!==11){return ret}}catch(e){}}return Sizzle(expr,document,null,[elem]).length>0};Sizzle.contains=function(context,elem){if((context.ownerDocument||context)!==document){setDocument(context)}return contains(context,elem)};Sizzle.attr=function(elem,name){if((elem.ownerDocument||elem)!==document){setDocument(elem)}var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):undefined;return val!==undefined?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null};Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)};Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;hasDuplicate=!support.detectDuplicates;sortInput=!support.sortStable&&results.slice(0);results.sort(sortOrder);if(hasDuplicate){while((elem=results[i++])){if(elem===results[i]){j=duplicates.push(i)}}while(j--){results.splice(duplicates[j],1)}}sortInput=null;return results};getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(!nodeType){while((node=elem[i++])){ret+=getText(node)}}else{if(nodeType===1||nodeType===9||nodeType===11){if(typeof elem.textContent==="string"){return elem.textContent}else{for(elem=elem.firstChild;elem;elem=elem.nextSibling){ret+=getText(elem)}}}else{if(nodeType===3||nodeType===4){return elem.nodeValue}}}return ret};Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){match[1]=match[1].replace(runescape,funescape);match[3]=(match[3]||match[4]||match[5]||"").replace(runescape,funescape);if(match[2]==="~="){match[3]=" "+match[3]+" "}return match.slice(0,4)},CHILD:function(match){match[1]=match[1].toLowerCase();if(match[1].slice(0,3)==="nth"){if(!match[3]){Sizzle.error(match[0])}match[4]=+(match[4]?match[5]+(match[6]||1):2*(match[3]==="even"||match[3]==="odd"));match[5]=+((match[7]+match[8])||match[3]==="odd")}else{if(match[3]){Sizzle.error(match[0])}}return match},PSEUDO:function(match){var excess,unquoted=!match[6]&&match[2];if(matchExpr.CHILD.test(match[0])){return null}if(match[3]){match[2]=match[4]||match[5]||""}else{if(unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,true))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)){match[0]=match[0].slice(0,excess);match[2]=unquoted.slice(0,excess)}}return match.slice(0,3)}},filter:{TAG:function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return nodeNameSelector==="*"?function(){return true}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test(typeof elem.className==="string"&&elem.className||typeof elem.getAttribute!=="undefined"&&elem.getAttribute("class")||"")})},ATTR:function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);if(result==null){return operator==="!="}if(!operator){return true}result+="";return operator==="="?result===check:operator==="!="?result!==check:operator==="^="?check&&result.indexOf(check)===0:operator==="*="?check&&result.indexOf(check)>-1:operator==="$="?check&&result.slice(-check.length)===check:operator==="~="?(" "+result.replace(rwhitespace," ")+" ").indexOf(check)>-1:operator==="|="?result===check||result.slice(0,check.length+1)===check+"-":false}},CHILD:function(type,what,argument,first,last){var simple=type.slice(0,3)!=="nth",forward=type.slice(-4)!=="last",ofType=what==="of-type";return first===1&&last===0?function(elem){return !!elem.parentNode}:function(elem,context,xml){var cache,uniqueCache,outerCache,node,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType,diff=false;if(parent){if(simple){while(dir){node=elem;while((node=node[dir])){if(ofType?node.nodeName.toLowerCase()===name:node.nodeType===1){return false}}start=dir=type==="only"&&!start&&"nextSibling"}return true}start=[forward?parent.firstChild:parent.lastChild];if(forward&&useCache){node=parent;outerCache=node[expando]||(node[expando]={});uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={});cache=uniqueCache[type]||[];nodeIndex=cache[0]===dirruns&&cache[1];diff=nodeIndex&&cache[2];node=nodeIndex&&parent.childNodes[nodeIndex];while((node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())){if(node.nodeType===1&&++diff&&node===elem){uniqueCache[type]=[dirruns,nodeIndex,diff];break}}}else{if(useCache){node=elem;outerCache=node[expando]||(node[expando]={});uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={});cache=uniqueCache[type]||[];nodeIndex=cache[0]===dirruns&&cache[1];diff=nodeIndex}if(diff===false){while((node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())){if((ofType?node.nodeName.toLowerCase()===name:node.nodeType===1)&&++diff){if(useCache){outerCache=node[expando]||(node[expando]={});uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={});uniqueCache[type]=[dirruns,diff]}if(node===elem){break}}}}}diff-=last;return diff===first||(diff%first===0&&diff/first>=0)}}},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);if(fn[expando]){return fn(argument)}if(fn.length>1){args=[pseudo,pseudo,"",argument];return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){var idx,matched=fn(seed,argument),i=matched.length;while(i--){idx=indexOf(seed,matched[i]);seed[idx]=!(matches[idx]=matched[i])}}):function(elem){return fn(elem,0,args)}}return fn}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;while(i--){if((elem=unmatched[i])){seed[i]=!(matches[i]=elem)}}}):function(elem,context,xml){input[0]=elem;matcher(input,null,xml,results);input[0]=null;return !results.pop()}}),has:markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0}}),contains:markFunction(function(text){text=text.replace(runescape,funescape);return function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1}}),lang:markFunction(function(lang){if(!ridentifier.test(lang||"")){Sizzle.error("unsupported lang: "+lang)}lang=lang.replace(runescape,funescape).toLowerCase();return function(elem){var elemLang;do{if((elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang"))){elemLang=elemLang.toLowerCase();return elemLang===lang||elemLang.indexOf(lang+"-")===0}}while((elem=elem.parentNode)&&elem.nodeType===1);return false}}),target:function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},root:function(elem){return elem===docElem},focus:function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},enabled:function(elem){return elem.disabled===false},disabled:function(elem){return elem.disabled===true},checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return(nodeName==="input"&&!!elem.checked)||(nodeName==="option"&&!!elem.selected)},selected:function(elem){if(elem.parentNode){elem.parentNode.selectedIndex}return elem.selected===true},empty:function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling){if(elem.nodeType<6){return false}}return true},parent:function(elem){return !Expr.pseudos.empty(elem)},header:function(elem){return rheader.test(elem.nodeName)},input:function(elem){return rinputs.test(elem.nodeName)},button:function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type==="button"||name==="button"},text:function(elem){var attr;return elem.nodeName.toLowerCase()==="input"&&elem.type==="text"&&((attr=elem.getAttribute("type"))==null||attr.toLowerCase()==="text")},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(matchIndexes,length){return[length-1]}),eq:createPositionalPseudo(function(matchIndexes,length,argument){return[argument<0?argument+length:argument]}),even:createPositionalPseudo(function(matchIndexes,length){var i=0;for(;i<length;i+=2){matchIndexes.push(i)}return matchIndexes}),odd:createPositionalPseudo(function(matchIndexes,length){var i=1;for(;i<length;i+=2){matchIndexes.push(i)}return matchIndexes}),lt:createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument;for(;--i>=0;){matchIndexes.push(i)}return matchIndexes}),gt:createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument;for(;++i<length;){matchIndexes.push(i)}return matchIndexes})}};Expr.pseudos.nth=Expr.pseudos.eq;for(i in {radio:true,checkbox:true,file:true,password:true,image:true}){Expr.pseudos[i]=createInputPseudo(i)}for(i in {submit:true,reset:true}){Expr.pseudos[i]=createButtonPseudo(i)}function setFilters(){}setFilters.prototype=Expr.filters=Expr.pseudos;Expr.setFilters=new setFilters();tokenize=Sizzle.tokenize=function(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached){return parseOnly?0:cached.slice(0)}soFar=selector;groups=[];preFilters=Expr.preFilter;while(soFar){if(!matched||(match=rcomma.exec(soFar))){if(match){soFar=soFar.slice(match[0].length)||soFar}groups.push((tokens=[]))}matched=false;if((match=rcombinators.exec(soFar))){matched=match.shift();tokens.push({value:matched,type:match[0].replace(rtrim," ")});soFar=soFar.slice(matched.length)}for(type in Expr.filter){if((match=matchExpr[type].exec(soFar))&&(!preFilters[type]||(match=preFilters[type](match)))){matched=match.shift();tokens.push({value:matched,type:type,matches:match});soFar=soFar.slice(matched.length)}}if(!matched){break}}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)};function toSelector(tokens){var i=0,len=tokens.length,selector="";for(;i<len;i++){selector+=tokens[i].value}return selector}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&dir==="parentNode",doneName=done++;return combinator.first?function(elem,context,xml){while((elem=elem[dir])){if(elem.nodeType===1||checkNonElements){return matcher(elem,context,xml)}}}:function(elem,context,xml){var oldCache,uniqueCache,outerCache,newCache=[dirruns,doneName];if(xml){while((elem=elem[dir])){if(elem.nodeType===1||checkNonElements){if(matcher(elem,context,xml)){return true}}}}else{while((elem=elem[dir])){if(elem.nodeType===1||checkNonElements){outerCache=elem[expando]||(elem[expando]={});uniqueCache=outerCache[elem.uniqueID]||(outerCache[elem.uniqueID]={});if((oldCache=uniqueCache[dir])&&oldCache[0]===dirruns&&oldCache[1]===doneName){return(newCache[2]=oldCache[2])}else{uniqueCache[dir]=newCache;if((newCache[2]=matcher(elem,context,xml))){return true}}}}}}}function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){var i=matchers.length;while(i--){if(!matchers[i](elem,context,xml)){return false}}return true}:matchers[0]}function multipleContexts(selector,contexts,results){var i=0,len=contexts.length;for(;i<len;i++){Sizzle(selector,contexts[i],results)}return results}function condense(unmatched,map,filter,context,xml){var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=map!=null;for(;i<len;i++){if((elem=unmatched[i])){if(!filter||filter(elem,context,xml)){newUnmatched.push(elem);if(mapped){map.push(i)}}}}return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){if(postFilter&&!postFilter[expando]){postFilter=setMatcher(postFilter)}if(postFinder&&!postFinder[expando]){postFinder=setMatcher(postFinder,postSelector)}return markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=preFilter&&(seed||!selector)?condense(elems,preMap,preFilter,context,xml):elems,matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher){matcher(matcherIn,matcherOut,context,xml)}if(postFilter){temp=condense(matcherOut,postMap);postFilter(temp,[],context,xml);i=temp.length;while(i--){if((elem=temp[i])){matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem)}}}if(seed){if(postFinder||preFilter){if(postFinder){temp=[];i=matcherOut.length;while(i--){if((elem=matcherOut[i])){temp.push((matcherIn[i]=elem))}}postFinder(null,(matcherOut=[]),temp,xml)}i=matcherOut.length;while(i--){if((elem=matcherOut[i])&&(temp=postFinder?indexOf(seed,elem):preMap[i])>-1){seed[temp]=!(results[temp]=elem)}}}}else{matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut);if(postFinder){postFinder(null,results,matcherOut,xml)}else{push.apply(results,matcherOut)}}})}function matcherFromTokens(tokens){var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,true),matchAnyContext=addCombinator(function(elem){return indexOf(checkContext,elem)>-1},implicitRelative,true),matchers=[function(elem,context,xml){var ret=(!leadingRelative&&(xml||context!==outermostContext))||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml));checkContext=null;return ret}];for(;i<len;i++){if((matcher=Expr.relative[tokens[i].type])){matchers=[addCombinator(elementMatcher(matchers),matcher)]}else{matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches);if(matcher[expando]){j=++i;for(;j<len;j++){if(Expr.relative[tokens[j].type]){break}}return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1).concat({value:tokens[i-2].type===" "?"*":""})).replace(rtrim,"$1"),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens((tokens=tokens.slice(j))),j<len&&toSelector(tokens))}matchers.push(matcher)}}return elementMatcher(matchers)}function matcherFromGroupMatchers(elementMatchers,setMatchers){var bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i="0",unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find.TAG("*",outermost),dirrunsUnique=(dirruns+=contextBackup==null?1:Math.random()||0.1),len=elems.length;if(outermost){outermostContext=context===document||context||outermost}for(;i!==len&&(elem=elems[i])!=null;i++){if(byElement&&elem){j=0;if(!context&&elem.ownerDocument!==document){setDocument(elem);xml=!documentIsHTML}while((matcher=elementMatchers[j++])){if(matcher(elem,context||document,xml)){results.push(elem);break}}if(outermost){dirruns=dirrunsUnique}}if(bySet){if((elem=!matcher&&elem)){matchedCount--}if(seed){unmatched.push(elem)}}}matchedCount+=i;if(bySet&&i!==matchedCount){j=0;while((matcher=setMatchers[j++])){matcher(unmatched,setMatched,context,xml)}if(seed){if(matchedCount>0){while(i--){if(!(unmatched[i]||setMatched[i])){setMatched[i]=pop.call(results)}}}setMatched=condense(setMatched)}push.apply(results,setMatched);if(outermost&&!seed&&setMatched.length>0&&(matchedCount+setMatchers.length)>1){Sizzle.uniqueSort(results)}}if(outermost){dirruns=dirrunsUnique;outermostContext=contextBackup}return unmatched};return bySet?markFunction(superMatcher):superMatcher}compile=Sizzle.compile=function(selector,match){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){if(!match){match=tokenize(selector)}i=match.length;while(i--){cached=matcherFromTokens(match[i]);if(cached[expando]){setMatchers.push(cached)}else{elementMatchers.push(cached)}}cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers));cached.selector=selector}return cached};select=Sizzle.select=function(selector,context,results,seed){var i,tokens,token,type,find,compiled=typeof selector==="function"&&selector,match=!seed&&tokenize((selector=compiled.selector||selector));results=results||[];if(match.length===1){tokens=match[0]=match[0].slice(0);if(tokens.length>2&&(token=tokens[0]).type==="ID"&&support.getById&&context.nodeType===9&&documentIsHTML&&Expr.relative[tokens[1].type]){context=(Expr.find.ID(token.matches[0].replace(runescape,funescape),context)||[])[0];if(!context){return results}else{if(compiled){context=context.parentNode}}selector=selector.slice(tokens.shift().value.length)}i=matchExpr.needsContext.test(selector)?0:tokens.length;while(i--){token=tokens[i];if(Expr.relative[(type=token.type)]){break}if((find=Expr.find[type])){if((seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context))){tokens.splice(i,1);selector=seed.length&&toSelector(tokens);if(!selector){push.apply(results,seed);return results}break}}}}(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,!context||rsibling.test(selector)&&testContext(context.parentNode)||context);return results};support.sortStable=expando.split("").sort(sortOrder).join("")===expando;support.detectDuplicates=!!hasDuplicate;setDocument();support.sortDetached=assert(function(div1){return div1.compareDocumentPosition(document.createElement("div"))&1});if(!assert(function(div){div.innerHTML="<a href='#'></a>";return div.firstChild.getAttribute("href")==="#"})){addHandle("type|href|height|width",function(elem,name,isXML){if(!isXML){return elem.getAttribute(name,name.toLowerCase()==="type"?1:2)}})}if(!support.attributes||!assert(function(div){div.innerHTML="<input/>";div.firstChild.setAttribute("value","");return div.firstChild.getAttribute("value")===""})){addHandle("value",function(elem,name,isXML){if(!isXML&&elem.nodeName.toLowerCase()==="input"){return elem.defaultValue}})}if(!assert(function(div){return div.getAttribute("disabled")==null})){addHandle(booleans,function(elem,name,isXML){var val;if(!isXML){return elem[name]===true?name.toLowerCase():(val=elem.getAttributeNode(name))&&val.specified?val.value:null}})}return Sizzle})(window);jQuery.find=Sizzle;jQuery.expr=Sizzle.selectors;jQuery.expr[":"]=jQuery.expr.pseudos;jQuery.uniqueSort=jQuery.unique=Sizzle.uniqueSort;jQuery.text=Sizzle.getText;jQuery.isXMLDoc=Sizzle.isXML;jQuery.contains=Sizzle.contains;var dir=function(elem,dir,until){var matched=[],truncate=until!==undefined;while((elem=elem[dir])&&elem.nodeType!==9){if(elem.nodeType===1){if(truncate&&jQuery(elem).is(until)){break}matched.push(elem)}}return matched};var siblings=function(n,elem){var matched=[];for(;n;n=n.nextSibling){if(n.nodeType===1&&n!==elem){matched.push(n)}}return matched};var rneedsContext=jQuery.expr.match.needsContext;var rsingleTag=(/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/);var risSimple=/^.[^:#\[\.,]*$/;function winnow(elements,qualifier,not){if(jQuery.isFunction(qualifier)){return jQuery.grep(elements,function(elem,i){return !!qualifier.call(elem,i,elem)!==not})}if(qualifier.nodeType){return jQuery.grep(elements,function(elem){return(elem===qualifier)!==not})}if(typeof qualifier==="string"){if(risSimple.test(qualifier)){return jQuery.filter(qualifier,elements,not)}qualifier=jQuery.filter(qualifier,elements)}return jQuery.grep(elements,function(elem){return(indexOf.call(qualifier,elem)>-1)!==not})}jQuery.filter=function(expr,elems,not){var elem=elems[0];if(not){expr=":not("+expr+")"}return elems.length===1&&elem.nodeType===1?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return elem.nodeType===1}))};jQuery.fn.extend({find:function(selector){var i,len=this.length,ret=[],self=this;if(typeof selector!=="string"){return this.pushStack(jQuery(selector).filter(function(){for(i=0;i<len;i++){if(jQuery.contains(self[i],this)){return true}}}))}for(i=0;i<len;i++){jQuery.find(selector,self[i],ret)}ret=this.pushStack(len>1?jQuery.unique(ret):ret);ret.selector=this.selector?this.selector+" "+selector:selector;return ret},filter:function(selector){return this.pushStack(winnow(this,selector||[],false))},not:function(selector){return this.pushStack(winnow(this,selector||[],true))},is:function(selector){return !!winnow(this,typeof selector==="string"&&rneedsContext.test(selector)?jQuery(selector):selector||[],false).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,init=jQuery.fn.init=function(selector,context,root){var match,elem;if(!selector){return this}root=root||rootjQuery;if(typeof selector==="string"){if(selector[0]==="<"&&selector[selector.length-1]===">"&&selector.length>=3){match=[null,selector,null]}else{match=rquickExpr.exec(selector)}if(match&&(match[1]||!context)){if(match[1]){context=context instanceof jQuery?context[0]:context;jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,true));if(rsingleTag.test(match[1])&&jQuery.isPlainObject(context)){for(match in context){if(jQuery.isFunction(this[match])){this[match](context[match])}else{this.attr(match,context[match])}}}return this}else{elem=document.getElementById(match[2]);if(elem&&elem.parentNode){this.length=1;this[0]=elem}this.context=document;this.selector=selector;return this}}else{if(!context||context.jquery){return(context||root).find(selector)}else{return this.constructor(context).find(selector)}}}else{if(selector.nodeType){this.context=this[0]=selector;this.length=1;return this}else{if(jQuery.isFunction(selector)){return root.ready!==undefined?root.ready(selector):selector(jQuery)}}}if(selector.selector!==undefined){this.selector=selector.selector;this.context=selector.context}return jQuery.makeArray(selector,this)};init.prototype=jQuery.fn;rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:true,contents:true,next:true,prev:true};jQuery.fn.extend({has:function(target){var targets=jQuery(target,this),l=targets.length;return this.filter(function(){var i=0;for(;i<l;i++){if(jQuery.contains(this,targets[i])){return true}}})},closest:function(selectors,context){var cur,i=0,l=this.length,matched=[],pos=rneedsContext.test(selectors)||typeof selectors!=="string"?jQuery(selectors,context||this.context):0;for(;i<l;i++){for(cur=this[i];cur&&cur!==context;cur=cur.parentNode){if(cur.nodeType<11&&(pos?pos.index(cur)>-1:cur.nodeType===1&&jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break}}}return this.pushStack(matched.length>1?jQuery.uniqueSort(matched):matched)},index:function(elem){if(!elem){return(this[0]&&this[0].parentNode)?this.first().prevAll().length:-1}if(typeof elem==="string"){return indexOf.call(jQuery(elem),this[0])}return indexOf.call(this,elem.jquery?elem[0]:elem)},add:function(selector,context){return this.pushStack(jQuery.uniqueSort(jQuery.merge(this.get(),jQuery(selector,context))))},addBack:function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector))}});function sibling(cur,dir){while((cur=cur[dir])&&cur.nodeType!==1){}return cur}jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&parent.nodeType!==11?parent:null},parents:function(elem){return dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return dir(elem,"nextSibling")},prevAll:function(elem){return dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return dir(elem,"previousSibling",until)},siblings:function(elem){return siblings((elem.parentNode||{}).firstChild,elem)},children:function(elem){return siblings(elem.firstChild)},contents:function(elem){return elem.contentDocument||jQuery.merge([],elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var matched=jQuery.map(this,fn,until);if(name.slice(-5)!=="Until"){selector=until}if(selector&&typeof selector==="string"){matched=jQuery.filter(selector,matched)}if(this.length>1){if(!guaranteedUnique[name]){jQuery.uniqueSort(matched)}if(rparentsprev.test(name)){matched.reverse()}}return this.pushStack(matched)}});var rnotwhite=(/\S+/g);function createOptions(options){var object={};jQuery.each(options.match(rnotwhite)||[],function(_,flag){object[flag]=true});return object}jQuery.Callbacks=function(options){options=typeof options==="string"?createOptions(options):jQuery.extend({},options);var firing,memory,fired,locked,list=[],queue=[],firingIndex=-1,fire=function(){locked=options.once;fired=firing=true;for(;queue.length;firingIndex=-1){memory=queue.shift();while(++firingIndex<list.length){if(list[firingIndex].apply(memory[0],memory[1])===false&&options.stopOnFalse){firingIndex=list.length;memory=false}}}if(!options.memory){memory=false}firing=false;if(locked){if(memory){list=[]}else{list=""}}},self={add:function(){if(list){if(memory&&!firing){firingIndex=list.length-1;queue.push(memory)}(function add(args){jQuery.each(args,function(_,arg){if(jQuery.isFunction(arg)){if(!options.unique||!self.has(arg)){list.push(arg)}}else{if(arg&&arg.length&&jQuery.type(arg)!=="string"){add(arg)}}})})(arguments);if(memory&&!firing){fire()}}return this},remove:function(){jQuery.each(arguments,function(_,arg){var index;while((index=jQuery.inArray(arg,list,index))>-1){list.splice(index,1);if(index<=firingIndex){firingIndex--}}});return this},has:function(fn){return fn?jQuery.inArray(fn,list)>-1:list.length>0},empty:function(){if(list){list=[]}return this},disable:function(){locked=queue=[];list=memory="";return this},disabled:function(){return !list},lock:function(){locked=queue=[];if(!memory){list=memory=""}return this},locked:function(){return !!locked},fireWith:function(context,args){if(!locked){args=args||[];args=[context,args.slice?args.slice():args];queue.push(args);if(!firing){fire()}}return this},fire:function(){self.fireWith(this,arguments);return this},fired:function(){return !!fired}};return self};jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state},always:function(){deferred.done(arguments).fail(arguments);return this},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);if(returned&&jQuery.isFunction(returned.promise)){returned.promise().progress(newDefer.notify).done(newDefer.resolve).fail(newDefer.reject)}else{newDefer[tuple[0]+"With"](this===promise?newDefer.promise():this,fn?[returned]:arguments)}})});fns=null}).promise()},promise:function(obj){return obj!=null?jQuery.extend(obj,promise):promise}},deferred={};promise.pipe=promise.then;jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add;if(stateString){list.add(function(){state=stateString},tuples[i^1][2].disable,tuples[2][2].lock)}deferred[tuple[0]]=function(){deferred[tuple[0]+"With"](this===deferred?promise:this,arguments);return this};deferred[tuple[0]+"With"]=list.fireWith});promise.promise(deferred);if(func){func.call(deferred,deferred)}return deferred},when:function(subordinate){var i=0,resolveValues=slice.call(arguments),length=resolveValues.length,remaining=length!==1||(subordinate&&jQuery.isFunction(subordinate.promise))?length:0,deferred=remaining===1?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this;values[i]=arguments.length>1?slice.call(arguments):value;if(values===progressValues){deferred.notifyWith(contexts,values)}else{if(!(--remaining)){deferred.resolveWith(contexts,values)}}}},progressValues,progressContexts,resolveContexts;if(length>1){progressValues=new Array(length);progressContexts=new Array(length);resolveContexts=new Array(length);for(;i<length;i++){if(resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)){resolveValues[i].promise().progress(updateFunc(i,progressContexts,progressValues)).done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject)}else{--remaining}}}if(!remaining){deferred.resolveWith(resolveContexts,resolveValues)}return deferred.promise()}});var readyList;jQuery.fn.ready=function(fn){jQuery.ready.promise().done(fn);return this};jQuery.extend({isReady:false,readyWait:1,holdReady:function(hold){if(hold){jQuery.readyWait++}else{jQuery.ready(true)}},ready:function(wait){if(wait===true?--jQuery.readyWait:jQuery.isReady){return}jQuery.isReady=true;if(wait!==true&&--jQuery.readyWait>0){return}readyList.resolveWith(document,[jQuery]);if(jQuery.fn.triggerHandler){jQuery(document).triggerHandler("ready");jQuery(document).off("ready")}}});function completed(){document.removeEventListener("DOMContentLoaded",completed);window.removeEventListener("load",completed);jQuery.ready()}jQuery.ready.promise=function(obj){if(!readyList){readyList=jQuery.Deferred();if(document.readyState==="complete"||(document.readyState!=="loading"&&!document.documentElement.doScroll)){window.setTimeout(jQuery.ready)}else{document.addEventListener("DOMContentLoaded",completed);window.addEventListener("load",completed)}}return readyList.promise(obj)};jQuery.ready.promise();var access=function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,len=elems.length,bulk=key==null;if(jQuery.type(key)==="object"){chainable=true;for(i in key){access(elems,fn,i,key[i],true,emptyGet,raw)}}else{if(value!==undefined){chainable=true;if(!jQuery.isFunction(value)){raw=true}if(bulk){if(raw){fn.call(elems,value);fn=null}else{bulk=fn;fn=function(elem,key,value){return bulk.call(jQuery(elem),value)}}}if(fn){for(;i<len;i++){fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)))}}}}return chainable?elems:bulk?fn.call(elems):len?fn(elems[0],key):emptyGet};var acceptData=function(owner){return owner.nodeType===1||owner.nodeType===9||!(+owner.nodeType)};function Data(){this.expando=jQuery.expando+Data.uid++}Data.uid=1;Data.prototype={register:function(owner,initial){var value=initial||{};if(owner.nodeType){owner[this.expando]=value}else{Object.defineProperty(owner,this.expando,{value:value,writable:true,configurable:true})}return owner[this.expando]},cache:function(owner){if(!acceptData(owner)){return{}}var value=owner[this.expando];if(!value){value={};if(acceptData(owner)){if(owner.nodeType){owner[this.expando]=value}else{Object.defineProperty(owner,this.expando,{value:value,configurable:true})}}}return value},set:function(owner,data,value){var prop,cache=this.cache(owner);if(typeof data==="string"){cache[data]=value}else{for(prop in data){cache[prop]=data[prop]}}return cache},get:function(owner,key){return key===undefined?this.cache(owner):owner[this.expando]&&owner[this.expando][key]},access:function(owner,key,value){var stored;if(key===undefined||((key&&typeof key==="string")&&value===undefined)){stored=this.get(owner,key);return stored!==undefined?stored:this.get(owner,jQuery.camelCase(key))}this.set(owner,key,value);return value!==undefined?value:key},remove:function(owner,key){var i,name,camel,cache=owner[this.expando];if(cache===undefined){return}if(key===undefined){this.register(owner)}else{if(jQuery.isArray(key)){name=key.concat(key.map(jQuery.camelCase))}else{camel=jQuery.camelCase(key);if(key in cache){name=[key,camel]}else{name=camel;name=name in cache?[name]:(name.match(rnotwhite)||[])}}i=name.length;while(i--){delete cache[name[i]]}}if(key===undefined||jQuery.isEmptyObject(cache)){if(owner.nodeType){owner[this.expando]=undefined}else{delete owner[this.expando]}}},hasData:function(owner){var cache=owner[this.expando];return cache!==undefined&&!jQuery.isEmptyObject(cache)}};var dataPriv=new Data();var dataUser=new Data();var rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/[A-Z]/g;function dataAttr(elem,key,data){var name;if(data===undefined&&elem.nodeType===1){name="data-"+key.replace(rmultiDash,"-$&").toLowerCase();data=elem.getAttribute(name);if(typeof data==="string"){try{data=data==="true"?true:data==="false"?false:data==="null"?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data}catch(e){}dataUser.set(elem,key,data)}else{data=undefined}}return data}jQuery.extend({hasData:function(elem){return dataUser.hasData(elem)||dataPriv.hasData(elem)},data:function(elem,name,data){return dataUser.access(elem,name,data)},removeData:function(elem,name){dataUser.remove(elem,name)},_data:function(elem,name,data){return dataPriv.access(elem,name,data)},_removeData:function(elem,name){dataPriv.remove(elem,name)}});jQuery.fn.extend({data:function(key,value){var i,name,data,elem=this[0],attrs=elem&&elem.attributes;if(key===undefined){if(this.length){data=dataUser.get(elem);if(elem.nodeType===1&&!dataPriv.get(elem,"hasDataAttrs")){i=attrs.length;while(i--){if(attrs[i]){name=attrs[i].name;if(name.indexOf("data-")===0){name=jQuery.camelCase(name.slice(5));dataAttr(elem,name,data[name])}}}dataPriv.set(elem,"hasDataAttrs",true)}}return data}if(typeof key==="object"){return this.each(function(){dataUser.set(this,key)})}return access(this,function(value){var data,camelKey;if(elem&&value===undefined){data=dataUser.get(elem,key)||dataUser.get(elem,key.replace(rmultiDash,"-$&").toLowerCase());if(data!==undefined){return data}camelKey=jQuery.camelCase(key);data=dataUser.get(elem,camelKey);if(data!==undefined){return data}data=dataAttr(elem,camelKey,undefined);if(data!==undefined){return data}return}camelKey=jQuery.camelCase(key);this.each(function(){var data=dataUser.get(this,camelKey);dataUser.set(this,camelKey,value);if(key.indexOf("-")>-1&&data!==undefined){dataUser.set(this,key,value)}})},null,value,arguments.length>1,null,true)},removeData:function(key){return this.each(function(){dataUser.remove(this,key)})}});jQuery.extend({queue:function(elem,type,data){var queue;if(elem){type=(type||"fx")+"queue";queue=dataPriv.get(elem,type);if(data){if(!queue||jQuery.isArray(data)){queue=dataPriv.access(elem,type,jQuery.makeArray(data))}else{queue.push(data)}}return queue||[]}},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type)};if(fn==="inprogress"){fn=queue.shift();startLength--}if(fn){if(type==="fx"){queue.unshift("inprogress")}delete hooks.stop;fn.call(elem,next,hooks)}if(!startLength&&hooks){hooks.empty.fire()}},_queueHooks:function(elem,type){var key=type+"queueHooks";return dataPriv.get(elem,key)||dataPriv.access(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){dataPriv.remove(elem,[type+"queue",key])})})}});jQuery.fn.extend({queue:function(type,data){var setter=2;if(typeof type!=="string"){data=type;type="fx";setter--}if(arguments.length<setter){return jQuery.queue(this[0],type)}return data===undefined?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type);if(type==="fx"&&queue[0]!=="inprogress"){jQuery.dequeue(this,type)}})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){if(!(--count)){defer.resolveWith(elements,[elements])}};if(typeof type!=="string"){obj=type;type=undefined}type=type||"fx";while(i--){tmp=dataPriv.get(elements[i],type+"queueHooks");if(tmp&&tmp.empty){count++;tmp.empty.add(resolve)}}resolve();return defer.promise(obj)}});var pnum=(/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/).source;var rcssNum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i");var cssExpand=["Top","Right","Bottom","Left"];var isHidden=function(elem,el){elem=el||elem;return jQuery.css(elem,"display")==="none"||!jQuery.contains(elem.ownerDocument,elem)};function adjustCSS(elem,prop,valueParts,tween){var adjusted,scale=1,maxIterations=20,currentValue=tween?function(){return tween.cur()}:function(){return jQuery.css(elem,prop,"")},initial=currentValue(),unit=valueParts&&valueParts[3]||(jQuery.cssNumber[prop]?"":"px"),initialInUnit=(jQuery.cssNumber[prop]||unit!=="px"&&+initial)&&rcssNum.exec(jQuery.css(elem,prop));if(initialInUnit&&initialInUnit[3]!==unit){unit=unit||initialInUnit[3];valueParts=valueParts||[];initialInUnit=+initial||1;do{scale=scale||".5";initialInUnit=initialInUnit/scale;jQuery.style(elem,prop,initialInUnit+unit)}while(scale!==(scale=currentValue()/initial)&&scale!==1&&--maxIterations)}if(valueParts){initialInUnit=+initialInUnit||+initial||0;adjusted=valueParts[1]?initialInUnit+(valueParts[1]+1)*valueParts[2]:+valueParts[2];if(tween){tween.unit=unit;tween.start=initialInUnit;tween.end=adjusted}}return adjusted}var rcheckableType=(/^(?:checkbox|radio)$/i);var rtagName=(/<([\w:-]+)/);var rscriptType=(/^$|\/(?:java|ecma)script/i);var wrapMap={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;function getAll(context,tag){var ret=typeof context.getElementsByTagName!=="undefined"?context.getElementsByTagName(tag||"*"):typeof context.querySelectorAll!=="undefined"?context.querySelectorAll(tag||"*"):[];return tag===undefined||tag&&jQuery.nodeName(context,tag)?jQuery.merge([context],ret):ret}function setGlobalEval(elems,refElements){var i=0,l=elems.length;for(;i<l;i++){dataPriv.set(elems[i],"globalEval",!refElements||dataPriv.get(refElements[i],"globalEval"))}}var rhtml=/<|&#?\w+;/;function buildFragment(elems,context,scripts,selection,ignored){var elem,tmp,tag,wrap,contains,j,fragment=context.createDocumentFragment(),nodes=[],i=0,l=elems.length;for(;i<l;i++){elem=elems[i];if(elem||elem===0){if(jQuery.type(elem)==="object"){jQuery.merge(nodes,elem.nodeType?[elem]:elem)}else{if(!rhtml.test(elem)){nodes.push(context.createTextNode(elem))}else{tmp=tmp||fragment.appendChild(context.createElement("div"));tag=(rtagName.exec(elem)||["",""])[1].toLowerCase();wrap=wrapMap[tag]||wrapMap._default;tmp.innerHTML=wrap[1]+jQuery.htmlPrefilter(elem)+wrap[2];j=wrap[0];while(j--){tmp=tmp.lastChild}jQuery.merge(nodes,tmp.childNodes);tmp=fragment.firstChild;tmp.textContent=""}}}}fragment.textContent="";i=0;while((elem=nodes[i++])){if(selection&&jQuery.inArray(elem,selection)>-1){if(ignored){ignored.push(elem)}continue}contains=jQuery.contains(elem.ownerDocument,elem);tmp=getAll(fragment.appendChild(elem),"script");if(contains){setGlobalEval(tmp)}if(scripts){j=0;while((elem=tmp[j++])){if(rscriptType.test(elem.type||"")){scripts.push(elem)}}}}return fragment}(function(){var fragment=document.createDocumentFragment(),div=fragment.appendChild(document.createElement("div")),input=document.createElement("input");input.setAttribute("type","radio");input.setAttribute("checked","checked");input.setAttribute("name","t");div.appendChild(input);support.checkClone=div.cloneNode(true).cloneNode(true).lastChild.checked;div.innerHTML="<textarea>x</textarea>";support.noCloneChecked=!!div.cloneNode(true).lastChild.defaultValue})();var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,rtypenamespace=/^([^.]*)(?:\.(.+)|)/;function returnTrue(){return true}function returnFalse(){return false}function safeActiveElement(){try{return document.activeElement}catch(err){}}function on(elem,types,selector,data,fn,one){var origFn,type;if(typeof types==="object"){if(typeof selector!=="string"){data=data||selector;selector=undefined}for(type in types){on(elem,type,selector,data,types[type],one)}return elem}if(data==null&&fn==null){fn=selector;data=selector=undefined}else{if(fn==null){if(typeof selector==="string"){fn=data;data=undefined}else{fn=data;data=selector;selector=undefined}}}if(fn===false){fn=returnFalse}else{if(!fn){return elem}}if(one===1){origFn=fn;fn=function(event){jQuery().off(event);return origFn.apply(this,arguments)};fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)}return elem.each(function(){jQuery.event.add(this,types,fn,data,selector)})}jQuery.event={global:{},add:function(elem,types,handler,data,selector){var handleObjIn,eventHandle,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.get(elem);if(!elemData){return}if(handler.handler){handleObjIn=handler;handler=handleObjIn.handler;selector=handleObjIn.selector}if(!handler.guid){handler.guid=jQuery.guid++}if(!(events=elemData.events)){events=elemData.events={}}if(!(eventHandle=elemData.handle)){eventHandle=elemData.handle=function(e){return typeof jQuery!=="undefined"&&jQuery.event.triggered!==e.type?jQuery.event.dispatch.apply(elem,arguments):undefined}}types=(types||"").match(rnotwhite)||[""];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();if(!type){continue}special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;special=jQuery.event.special[type]||{};handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn);if(!(handlers=events[type])){handlers=events[type]=[];handlers.delegateCount=0;if(!special.setup||special.setup.call(elem,data,namespaces,eventHandle)===false){if(elem.addEventListener){elem.addEventListener(type,eventHandle)}}}if(special.add){special.add.call(elem,handleObj);if(!handleObj.handler.guid){handleObj.handler.guid=handler.guid}}if(selector){handlers.splice(handlers.delegateCount++,0,handleObj)}else{handlers.push(handleObj)}jQuery.event.global[type]=true}},remove:function(elem,types,handler,selector,mappedTypes){var j,origCount,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.hasData(elem)&&dataPriv.get(elem);if(!elemData||!(events=elemData.events)){return}types=(types||"").match(rnotwhite)||[""];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();if(!type){for(type in events){jQuery.event.remove(elem,type+types[t],handler,selector,true)}continue}special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;handlers=events[type]||[];tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)");origCount=j=handlers.length;while(j--){handleObj=handlers[j];if((mappedTypes||origType===handleObj.origType)&&(!handler||handler.guid===handleObj.guid)&&(!tmp||tmp.test(handleObj.namespace))&&(!selector||selector===handleObj.selector||selector==="**"&&handleObj.selector)){handlers.splice(j,1);if(handleObj.selector){handlers.delegateCount--}if(special.remove){special.remove.call(elem,handleObj)}}}if(origCount&&!handlers.length){if(!special.teardown||special.teardown.call(elem,namespaces,elemData.handle)===false){jQuery.removeEvent(elem,type,elemData.handle)}delete events[type]}}if(jQuery.isEmptyObject(events)){dataPriv.remove(elem,"handle events")}},dispatch:function(event){event=jQuery.event.fix(event);var i,j,ret,matched,handleObj,handlerQueue=[],args=slice.call(arguments),handlers=(dataPriv.get(this,"events")||{})[event.type]||[],special=jQuery.event.special[event.type]||{};args[0]=event;event.delegateTarget=this;if(special.preDispatch&&special.preDispatch.call(this,event)===false){return}handlerQueue=jQuery.event.handlers.call(this,event,handlers);i=0;while((matched=handlerQueue[i++])&&!event.isPropagationStopped()){event.currentTarget=matched.elem;j=0;while((handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped()){if(!event.rnamespace||event.rnamespace.test(handleObj.namespace)){event.handleObj=handleObj;event.data=handleObj.data;ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args);if(ret!==undefined){if((event.result=ret)===false){event.preventDefault();event.stopPropagation()}}}}}if(special.postDispatch){special.postDispatch.call(this,event)}return event.result},handlers:function(event,handlers){var i,matches,sel,handleObj,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&(event.type!=="click"||isNaN(event.button)||event.button<1)){for(;cur!==this;cur=cur.parentNode||this){if(cur.nodeType===1&&(cur.disabled!==true||event.type!=="click")){matches=[];for(i=0;i<delegateCount;i++){handleObj=handlers[i];sel=handleObj.selector+" ";if(matches[sel]===undefined){matches[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>-1:jQuery.find(sel,this,null,[cur]).length}if(matches[sel]){matches.push(handleObj)}}if(matches.length){handlerQueue.push({elem:cur,handlers:matches})}}}}if(delegateCount<handlers.length){handlerQueue.push({elem:this,handlers:handlers.slice(delegateCount)})}return handlerQueue},props:("altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which").split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){if(event.which==null){event.which=original.charCode!=null?original.charCode:original.keyCode}return event}},mouseHooks:{props:("button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement").split(" "),filter:function(event,original){var eventDoc,doc,body,button=original.button;if(event.pageX==null&&original.clientX!=null){eventDoc=event.target.ownerDocument||document;doc=eventDoc.documentElement;body=eventDoc.body;event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}if(!event.which&&button!==undefined){event.which=(button&1?1:(button&2?3:(button&4?2:0)))}return event}},fix:function(event){if(event[jQuery.expando]){return event}var i,prop,copy,type=event.type,originalEvent=event,fixHook=this.fixHooks[type];if(!fixHook){this.fixHooks[type]=fixHook=rmouseEvent.test(type)?this.mouseHooks:rkeyEvent.test(type)?this.keyHooks:{}}copy=fixHook.props?this.props.concat(fixHook.props):this.props;event=new jQuery.Event(originalEvent);i=copy.length;while(i--){prop=copy[i];event[prop]=originalEvent[prop]}if(!event.target){event.target=document}if(event.target.nodeType===3){event.target=event.target.parentNode}return fixHook.filter?fixHook.filter(event,originalEvent):event},special:{load:{noBubble:true},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus){this.focus();return false}},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur){this.blur();return false}},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&jQuery.nodeName(this,"input")){this.click();return false}},_default:function(event){return jQuery.nodeName(event.target,"a")}},beforeunload:{postDispatch:function(event){if(event.result!==undefined&&event.originalEvent){event.originalEvent.returnValue=event.result}}}}};jQuery.removeEvent=function(elem,type,handle){if(elem.removeEventListener){elem.removeEventListener(type,handle)}};jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event)){return new jQuery.Event(src,props)}if(src&&src.type){this.originalEvent=src;this.type=src.type;this.isDefaultPrevented=src.defaultPrevented||src.defaultPrevented===undefined&&src.returnValue===false?returnTrue:returnFalse}else{this.type=src}if(props){jQuery.extend(this,props)}this.timeStamp=src&&src.timeStamp||jQuery.now();this[jQuery.expando]=true};jQuery.Event.prototype={constructor:jQuery.Event,isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,isSimulated:false,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue;if(e&&!this.isSimulated){e.preventDefault()}},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue;if(e&&!this.isSimulated){e.stopPropagation()}},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue;if(e&&!this.isSimulated){e.stopImmediatePropagation()}this.stopPropagation()}};jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;if(!related||(related!==target&&!jQuery.contains(target,related))){event.type=handleObj.origType;ret=handleObj.handler.apply(this,arguments);event.type=fix}return ret}}});jQuery.fn.extend({on:function(types,selector,data,fn){return on(this,types,selector,data,fn)},one:function(types,selector,data,fn){return on(this,types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj){handleObj=types.handleObj;jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler);return this}if(typeof types==="object"){for(type in types){this.off(type,selector,types[type])}return this}if(selector===false||typeof selector==="function"){fn=selector;selector=undefined}if(fn===false){fn=returnFalse}return this.each(function(){jQuery.event.remove(this,types,fn,selector)})}});var rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,rnoInnerhtml=/<script|<style|<link/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function manipulationTarget(elem,content){return jQuery.nodeName(elem,"table")&&jQuery.nodeName(content.nodeType!==11?content:content.firstChild,"tr")?elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody")):elem}function disableScript(elem){elem.type=(elem.getAttribute("type")!==null)+"/"+elem.type;return elem}function restoreScript(elem){var match=rscriptTypeMasked.exec(elem.type);if(match){elem.type=match[1]}else{elem.removeAttribute("type")}return elem}function cloneCopyEvent(src,dest){var i,l,type,pdataOld,pdataCur,udataOld,udataCur,events;if(dest.nodeType!==1){return}if(dataPriv.hasData(src)){pdataOld=dataPriv.access(src);pdataCur=dataPriv.set(dest,pdataOld);events=pdataOld.events;if(events){delete pdataCur.handle;pdataCur.events={};for(type in events){for(i=0,l=events[type].length;i<l;i++){jQuery.event.add(dest,type,events[type][i])}}}}if(dataUser.hasData(src)){udataOld=dataUser.access(src);udataCur=jQuery.extend({},udataOld);dataUser.set(dest,udataCur)}}function fixInput(src,dest){var nodeName=dest.nodeName.toLowerCase();if(nodeName==="input"&&rcheckableType.test(src.type)){dest.checked=src.checked}else{if(nodeName==="input"||nodeName==="textarea"){dest.defaultValue=src.defaultValue}}}function domManip(collection,args,callback,ignored){args=concat.apply([],args);var fragment,first,scripts,hasScripts,node,doc,i=0,l=collection.length,iNoClone=l-1,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||(l>1&&typeof value==="string"&&!support.checkClone&&rchecked.test(value))){return collection.each(function(index){var self=collection.eq(index);if(isFunction){args[0]=value.call(this,index,self.html())}domManip(self,args,callback,ignored)})}if(l){fragment=buildFragment(args,collection[0].ownerDocument,false,collection,ignored);first=fragment.firstChild;if(fragment.childNodes.length===1){fragment=first}if(first||ignored){scripts=jQuery.map(getAll(fragment,"script"),disableScript);hasScripts=scripts.length;for(;i<l;i++){node=fragment;if(i!==iNoClone){node=jQuery.clone(node,true,true);if(hasScripts){jQuery.merge(scripts,getAll(node,"script"))}}callback.call(collection[i],node,i)}if(hasScripts){doc=scripts[scripts.length-1].ownerDocument;jQuery.map(scripts,restoreScript);for(i=0;i<hasScripts;i++){node=scripts[i];if(rscriptType.test(node.type||"")&&!dataPriv.access(node,"globalEval")&&jQuery.contains(doc,node)){if(node.src){if(jQuery._evalUrl){jQuery._evalUrl(node.src)}}else{jQuery.globalEval(node.textContent.replace(rcleanScript,""))}}}}}}return collection}function remove(elem,selector,keepData){var node,nodes=selector?jQuery.filter(selector,elem):elem,i=0;for(;(node=nodes[i])!=null;i++){if(!keepData&&node.nodeType===1){jQuery.cleanData(getAll(node))}if(node.parentNode){if(keepData&&jQuery.contains(node.ownerDocument,node)){setGlobalEval(getAll(node,"script"))}node.parentNode.removeChild(node)}}return elem}jQuery.extend({htmlPrefilter:function(html){return html.replace(rxhtmlTag,"<$1></$2>")},clone:function(elem,dataAndEvents,deepDataAndEvents){var i,l,srcElements,destElements,clone=elem.cloneNode(true),inPage=jQuery.contains(elem.ownerDocument,elem);if(!support.noCloneChecked&&(elem.nodeType===1||elem.nodeType===11)&&!jQuery.isXMLDoc(elem)){destElements=getAll(clone);srcElements=getAll(elem);for(i=0,l=srcElements.length;i<l;i++){fixInput(srcElements[i],destElements[i])}}if(dataAndEvents){if(deepDataAndEvents){srcElements=srcElements||getAll(elem);destElements=destElements||getAll(clone);for(i=0,l=srcElements.length;i<l;i++){cloneCopyEvent(srcElements[i],destElements[i])}}else{cloneCopyEvent(elem,clone)}}destElements=getAll(clone,"script");if(destElements.length>0){setGlobalEval(destElements,!inPage&&getAll(elem,"script"))}return clone},cleanData:function(elems){var data,elem,type,special=jQuery.event.special,i=0;for(;(elem=elems[i])!==undefined;i++){if(acceptData(elem)){if((data=elem[dataPriv.expando])){if(data.events){for(type in data.events){if(special[type]){jQuery.event.remove(elem,type)}else{jQuery.removeEvent(elem,type,data.handle)}}}elem[dataPriv.expando]=undefined}if(elem[dataUser.expando]){elem[dataUser.expando]=undefined}}}}});jQuery.fn.extend({domManip:domManip,detach:function(selector){return remove(this,selector,true)},remove:function(selector){return remove(this,selector)},text:function(value){return access(this,function(value){return value===undefined?jQuery.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.textContent=value}})},null,value,arguments.length)},append:function(){return domManip(this,arguments,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var target=manipulationTarget(this,elem);target.appendChild(elem)}})},prepend:function(){return domManip(this,arguments,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild)}})},before:function(){return domManip(this,arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this)}})},after:function(){return domManip(this,arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this.nextSibling)}})},empty:function(){var elem,i=0;for(;(elem=this[i])!=null;i++){if(elem.nodeType===1){jQuery.cleanData(getAll(elem,false));elem.textContent=""}}return this},clone:function(dataAndEvents,deepDataAndEvents){dataAndEvents=dataAndEvents==null?false:dataAndEvents;deepDataAndEvents=deepDataAndEvents==null?dataAndEvents:deepDataAndEvents;return this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(value===undefined&&elem.nodeType===1){return elem.innerHTML}if(typeof value==="string"&&!rnoInnerhtml.test(value)&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=jQuery.htmlPrefilter(value);try{for(;i<l;i++){elem=this[i]||{};if(elem.nodeType===1){jQuery.cleanData(getAll(elem,false));elem.innerHTML=value}}elem=0}catch(e){}}if(elem){this.empty().append(value)}},null,value,arguments.length)},replaceWith:function(){var ignored=[];return domManip(this,arguments,function(elem){var parent=this.parentNode;if(jQuery.inArray(this,ignored)<0){jQuery.cleanData(getAll(this));if(parent){parent.replaceChild(elem,this)}}},ignored)}});jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var elems,ret=[],insert=jQuery(selector),last=insert.length-1,i=0;for(;i<=last;i++){elems=i===last?this:this.clone(true);jQuery(insert[i])[original](elems);push.apply(ret,elems.get())}return this.pushStack(ret)}});var iframe,elemdisplay={HTML:"block",BODY:"block"};function actualDisplay(name,doc){var elem=jQuery(doc.createElement(name)).appendTo(doc.body),display=jQuery.css(elem[0],"display");elem.detach();return display}function defaultDisplay(nodeName){var doc=document,display=elemdisplay[nodeName];if(!display){display=actualDisplay(nodeName,doc);if(display==="none"||!display){iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(doc.documentElement);doc=iframe[0].contentDocument;doc.write();doc.close();display=actualDisplay(nodeName,doc);iframe.detach()}elemdisplay[nodeName]=display}return display}var rmargin=(/^margin/);var rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i");var getStyles=function(elem){var view=elem.ownerDocument.defaultView;if(!view||!view.opener){view=window}return view.getComputedStyle(elem)};var swap=function(elem,options,callback,args){var ret,name,old={};for(name in options){old[name]=elem.style[name];elem.style[name]=options[name]}ret=callback.apply(elem,args||[]);for(name in options){elem.style[name]=old[name]}return ret};var documentElement=document.documentElement;(function(){var pixelPositionVal,boxSizingReliableVal,pixelMarginRightVal,reliableMarginLeftVal,container=document.createElement("div"),div=document.createElement("div");if(!div.style){return}div.style.backgroundClip="content-box";div.cloneNode(true).style.backgroundClip="";support.clearCloneStyle=div.style.backgroundClip==="content-box";container.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute";container.appendChild(div);function computeStyleTests(){div.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";div.innerHTML="";documentElement.appendChild(container);var divStyle=window.getComputedStyle(div);pixelPositionVal=divStyle.top!=="1%";reliableMarginLeftVal=divStyle.marginLeft==="2px";boxSizingReliableVal=divStyle.width==="4px";div.style.marginRight="50%";pixelMarginRightVal=divStyle.marginRight==="4px";documentElement.removeChild(container)}jQuery.extend(support,{pixelPosition:function(){computeStyleTests();return pixelPositionVal},boxSizingReliable:function(){if(boxSizingReliableVal==null){computeStyleTests()}return boxSizingReliableVal},pixelMarginRight:function(){if(boxSizingReliableVal==null){computeStyleTests()}return pixelMarginRightVal},reliableMarginLeft:function(){if(boxSizingReliableVal==null){computeStyleTests()}return reliableMarginLeftVal},reliableMarginRight:function(){var ret,marginDiv=div.appendChild(document.createElement("div"));marginDiv.style.cssText=div.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0";marginDiv.style.marginRight=marginDiv.style.width="0";div.style.width="1px";documentElement.appendChild(container);ret=!parseFloat(window.getComputedStyle(marginDiv).marginRight);documentElement.removeChild(container);div.removeChild(marginDiv);return ret}})})();function curCSS(elem,name,computed){var width,minWidth,maxWidth,ret,style=elem.style;computed=computed||getStyles(elem);ret=computed?computed.getPropertyValue(name)||computed[name]:undefined;if((ret===""||ret===undefined)&&!jQuery.contains(elem.ownerDocument,elem)){ret=jQuery.style(elem,name)}if(computed){if(!support.pixelMarginRight()&&rnumnonpx.test(ret)&&rmargin.test(name)){width=style.width;minWidth=style.minWidth;maxWidth=style.maxWidth;style.minWidth=style.maxWidth=style.width=ret;ret=computed.width;style.width=width;style.minWidth=minWidth;style.maxWidth=maxWidth}}return ret!==undefined?ret+"":ret}function addGetHookIf(conditionFn,hookFn){return{get:function(){if(conditionFn()){delete this.get;return}return(this.get=hookFn).apply(this,arguments)}}}var rdisplayswap=/^(none|table(?!-c[ea]).+)/,cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:"0",fontWeight:"400"},cssPrefixes=["Webkit","O","Moz","ms"],emptyStyle=document.createElement("div").style;function vendorPropName(name){if(name in emptyStyle){return name}var capName=name[0].toUpperCase()+name.slice(1),i=cssPrefixes.length;while(i--){name=cssPrefixes[i]+capName;if(name in emptyStyle){return name}}}function setPositiveNumber(elem,value,subtract){var matches=rcssNum.exec(value);return matches?Math.max(0,matches[2]-(subtract||0))+(matches[3]||"px"):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){var i=extra===(isBorderBox?"border":"content")?4:name==="width"?1:0,val=0;for(;i<4;i+=2){if(extra==="margin"){val+=jQuery.css(elem,extra+cssExpand[i],true,styles)}if(isBorderBox){if(extra==="content"){val-=jQuery.css(elem,"padding"+cssExpand[i],true,styles)}if(extra!=="margin"){val-=jQuery.css(elem,"border"+cssExpand[i]+"Width",true,styles)}}else{val+=jQuery.css(elem,"padding"+cssExpand[i],true,styles);if(extra!=="padding"){val+=jQuery.css(elem,"border"+cssExpand[i]+"Width",true,styles)}}}return val}function getWidthOrHeight(elem,name,extra){var valueIsBorderBox=true,val=name==="width"?elem.offsetWidth:elem.offsetHeight,styles=getStyles(elem),isBorderBox=jQuery.css(elem,"boxSizing",false,styles)==="border-box";if(val<=0||val==null){val=curCSS(elem,name,styles);if(val<0||val==null){val=elem.style[name]}if(rnumnonpx.test(val)){return val}valueIsBorderBox=isBorderBox&&(support.boxSizingReliable()||val===elem.style[name]);val=parseFloat(val)||0}return(val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles))+"px"}function showHide(elements,show){var display,elem,hidden,values=[],index=0,length=elements.length;for(;index<length;index++){elem=elements[index];if(!elem.style){continue}values[index]=dataPriv.get(elem,"olddisplay");display=elem.style.display;if(show){if(!values[index]&&display==="none"){elem.style.display=""}if(elem.style.display===""&&isHidden(elem)){values[index]=dataPriv.access(elem,"olddisplay",defaultDisplay(elem.nodeName))}}else{hidden=isHidden(elem);if(display!=="none"||!hidden){dataPriv.set(elem,"olddisplay",hidden?display:jQuery.css(elem,"display"))}}}for(index=0;index<length;index++){elem=elements[index];if(!elem.style){continue}if(!show||elem.style.display==="none"||elem.style.display===""){elem.style.display=show?values[index]||"":"none"}}return elements}jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return ret===""?"1":ret}}}},cssNumber:{animationIterationCount:true,columnCount:true,fillOpacity:true,flexGrow:true,flexShrink:true,fontWeight:true,lineHeight:true,opacity:true,order:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":"cssFloat"},style:function(elem,name,value,extra){if(!elem||elem.nodeType===3||elem.nodeType===8||!elem.style){return}var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(origName)||origName);hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(value!==undefined){type=typeof value;if(type==="string"&&(ret=rcssNum.exec(value))&&ret[1]){value=adjustCSS(elem,name,ret);type="number"}if(value==null||value!==value){return}if(type==="number"){value+=ret&&ret[3]||(jQuery.cssNumber[origName]?"":"px")}if(!support.clearCloneStyle&&value===""&&name.indexOf("background")===0){style[name]="inherit"}if(!hooks||!("set" in hooks)||(value=hooks.set(elem,value,extra))!==undefined){style[name]=value}}else{if(hooks&&"get" in hooks&&(ret=hooks.get(elem,false,extra))!==undefined){return ret}return style[name]}},css:function(elem,name,extra,styles){var val,num,hooks,origName=jQuery.camelCase(name);name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(origName)||origName);hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(hooks&&"get" in hooks){val=hooks.get(elem,true,extra)}if(val===undefined){val=curCSS(elem,name,styles)}if(val==="normal"&&name in cssNormalTransform){val=cssNormalTransform[name]}if(extra===""||extra){num=parseFloat(val);return extra===true||isFinite(num)?num||0:val}return val}});jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){if(computed){return rdisplayswap.test(jQuery.css(elem,"display"))&&elem.offsetWidth===0?swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)}):getWidthOrHeight(elem,name,extra)}},set:function(elem,value,extra){var matches,styles=extra&&getStyles(elem),subtract=extra&&augmentWidthOrHeight(elem,name,extra,jQuery.css(elem,"boxSizing",false,styles)==="border-box",styles);if(subtract&&(matches=rcssNum.exec(value))&&(matches[3]||"px")!=="px"){elem.style[name]=value;value=jQuery.css(elem,name)}return setPositiveNumber(elem,value,subtract)}}});jQuery.cssHooks.marginLeft=addGetHookIf(support.reliableMarginLeft,function(elem,computed){if(computed){return(parseFloat(curCSS(elem,"marginLeft"))||elem.getBoundingClientRect().left-swap(elem,{marginLeft:0},function(){return elem.getBoundingClientRect().left}))+"px"}});jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(elem,computed){if(computed){return swap(elem,{display:"inline-block"},curCSS,[elem,"marginRight"])}});jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){var i=0,expanded={},parts=typeof value==="string"?value.split(" "):[value];for(;i<4;i++){expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0]}return expanded}};if(!rmargin.test(prefix)){jQuery.cssHooks[prefix+suffix].set=setPositiveNumber}});jQuery.fn.extend({css:function(name,value){return access(this,function(elem,name,value){var styles,len,map={},i=0;if(jQuery.isArray(name)){styles=getStyles(elem);len=name.length;for(;i<len;i++){map[name[i]]=jQuery.css(elem,name[i],false,styles)}return map}return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,arguments.length>1)},show:function(){return showHide(this,true)},hide:function(){return showHide(this)},toggle:function(state){if(typeof state==="boolean"){return state?this.show():this.hide()}return this.each(function(){if(isHidden(this)){jQuery(this).show()}else{jQuery(this).hide()}})}});function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}jQuery.Tween=Tween;Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem;this.prop=prop;this.easing=easing||jQuery.easing._default;this.options=options;this.start=this.now=this.cur();this.end=end;this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];if(this.options.duration){this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration)}else{this.pos=eased=percent}this.now=(this.end-this.start)*eased+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(hooks&&hooks.set){hooks.set(this)}else{Tween.propHooks._default.set(this)}return this}};Tween.prototype.init.prototype=Tween.prototype;Tween.propHooks={_default:{get:function(tween){var result;if(tween.elem.nodeType!==1||tween.elem[tween.prop]!=null&&tween.elem.style[tween.prop]==null){return tween.elem[tween.prop]}result=jQuery.css(tween.elem,tween.prop,"");return !result||result==="auto"?0:result},set:function(tween){if(jQuery.fx.step[tween.prop]){jQuery.fx.step[tween.prop](tween)}else{if(tween.elem.nodeType===1&&(tween.elem.style[jQuery.cssProps[tween.prop]]!=null||jQuery.cssHooks[tween.prop])){jQuery.style(tween.elem,tween.prop,tween.now+tween.unit)}else{tween.elem[tween.prop]=tween.now}}}}};Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){if(tween.elem.nodeType&&tween.elem.parentNode){tween.elem[tween.prop]=tween.now}}};jQuery.easing={linear:function(p){return p},swing:function(p){return 0.5-Math.cos(p*Math.PI)/2},_default:"swing"};jQuery.fx=Tween.prototype.init;jQuery.fx.step={};var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rrun=/queueHooks$/;function createFxNow(){window.setTimeout(function(){fxNow=undefined});return(fxNow=jQuery.now())}function genFx(type,includeWidth){var which,i=0,attrs={height:type};includeWidth=includeWidth?1:0;for(;i<4;i+=2-includeWidth){which=cssExpand[i];attrs["margin"+which]=attrs["padding"+which]=type}if(includeWidth){attrs.opacity=attrs.width=type}return attrs}function createTween(value,prop,animation){var tween,collection=(Animation.tweeners[prop]||[]).concat(Animation.tweeners["*"]),index=0,length=collection.length;for(;index<length;index++){if((tween=collection[index].call(animation,prop,value))){return tween}}}function defaultPrefilter(elem,props,opts){var prop,value,toggle,tween,hooks,oldfire,display,checkDisplay,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHidden(elem),dataShow=dataPriv.get(elem,"fxshow");if(!opts.queue){hooks=jQuery._queueHooks(elem,"fx");if(hooks.unqueued==null){hooks.unqueued=0;oldfire=hooks.empty.fire;hooks.empty.fire=function(){if(!hooks.unqueued){oldfire()}}}hooks.unqueued++;anim.always(function(){anim.always(function(){hooks.unqueued--;if(!jQuery.queue(elem,"fx").length){hooks.empty.fire()}})})}if(elem.nodeType===1&&("height" in props||"width" in props)){opts.overflow=[style.overflow,style.overflowX,style.overflowY];display=jQuery.css(elem,"display");checkDisplay=display==="none"?dataPriv.get(elem,"olddisplay")||defaultDisplay(elem.nodeName):display;if(checkDisplay==="inline"&&jQuery.css(elem,"float")==="none"){style.display="inline-block"}}if(opts.overflow){style.overflow="hidden";anim.always(function(){style.overflow=opts.overflow[0];style.overflowX=opts.overflow[1];style.overflowY=opts.overflow[2]})}for(prop in props){value=props[prop];if(rfxtypes.exec(value)){delete props[prop];toggle=toggle||value==="toggle";if(value===(hidden?"hide":"show")){if(value==="show"&&dataShow&&dataShow[prop]!==undefined){hidden=true}else{continue}}orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop)}else{display=undefined}}if(!jQuery.isEmptyObject(orig)){if(dataShow){if("hidden" in dataShow){hidden=dataShow.hidden}}else{dataShow=dataPriv.access(elem,"fxshow",{})}if(toggle){dataShow.hidden=!hidden}if(hidden){jQuery(elem).show()}else{anim.done(function(){jQuery(elem).hide()})}anim.done(function(){var prop;dataPriv.remove(elem,"fxshow");for(prop in orig){jQuery.style(elem,prop,orig[prop])}});for(prop in orig){tween=createTween(hidden?dataShow[prop]:0,prop,anim);if(!(prop in dataShow)){dataShow[prop]=tween.start;if(hidden){tween.end=tween.start;tween.start=prop==="width"||prop==="height"?1:0}}}}else{if((display==="none"?defaultDisplay(elem.nodeName):display)==="inline"){style.display=display}}}function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props){name=jQuery.camelCase(index);easing=specialEasing[name];value=props[index];if(jQuery.isArray(value)){easing=value[1];value=props[index]=value[0]}if(index!==name){props[name]=value;delete props[index]}hooks=jQuery.cssHooks[name];if(hooks&&"expand" in hooks){value=hooks.expand(value);delete props[name];for(index in value){if(!(index in props)){props[index]=value[index];specialEasing[index]=easing}}}else{specialEasing[name]=easing}}}function Animation(elem,properties,options){var result,stopped,index=0,length=Animation.prefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){if(stopped){return false}var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;for(;index<length;index++){animation.tweens[index].run(percent)}deferred.notifyWith(elem,[animation,percent,remaining]);if(percent<1&&length){return remaining}else{deferred.resolveWith(elem,[animation]);return false}},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(true,{specialEasing:{},easing:jQuery.easing._default},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);animation.tweens.push(tween);return tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped){return this}stopped=true;for(;index<length;index++){animation.tweens[index].run(1)}if(gotoEnd){deferred.notifyWith(elem,[animation,1,0]);deferred.resolveWith(elem,[animation,gotoEnd])}else{deferred.rejectWith(elem,[animation,gotoEnd])}return this}}),props=animation.props;propFilter(props,animation.opts.specialEasing);for(;index<length;index++){result=Animation.prefilters[index].call(animation,elem,props,animation.opts);if(result){if(jQuery.isFunction(result.stop)){jQuery._queueHooks(animation.elem,animation.opts.queue).stop=jQuery.proxy(result.stop,result)}return result}}jQuery.map(props,createTween,animation);if(jQuery.isFunction(animation.opts.start)){animation.opts.start.call(elem,animation)}jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue}));return animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)}jQuery.Animation=jQuery.extend(Animation,{tweeners:{"*":[function(prop,value){var tween=this.createTween(prop,value);adjustCSS(tween.elem,prop,rcssNum.exec(value),tween);return tween}]},tweener:function(props,callback){if(jQuery.isFunction(props)){callback=props;props=["*"]}else{props=props.match(rnotwhite)}var prop,index=0,length=props.length;for(;index<length;index++){prop=props[index];Animation.tweeners[prop]=Animation.tweeners[prop]||[];Animation.tweeners[prop].unshift(callback)}},prefilters:[defaultPrefilter],prefilter:function(callback,prepend){if(prepend){Animation.prefilters.unshift(callback)}else{Animation.prefilters.push(callback)}}});jQuery.speed=function(speed,easing,fn){var opt=speed&&typeof speed==="object"?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};opt.duration=jQuery.fx.off?0:typeof opt.duration==="number"?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default;if(opt.queue==null||opt.queue===true){opt.queue="fx"}opt.old=opt.complete;opt.complete=function(){if(jQuery.isFunction(opt.old)){opt.old.call(this)}if(opt.queue){jQuery.dequeue(this,opt.queue)}};return opt};jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);if(empty||dataPriv.get(this,"finish")){anim.stop(true)}};doAnimation.finish=doAnimation;return empty||optall.queue===false?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop;stop(gotoEnd)};if(typeof type!=="string"){gotoEnd=clearQueue;clearQueue=type;type=undefined}if(clearQueue&&type!==false){this.queue(type||"fx",[])}return this.each(function(){var dequeue=true,index=type!=null&&type+"queueHooks",timers=jQuery.timers,data=dataPriv.get(this);if(index){if(data[index]&&data[index].stop){stopQueue(data[index])}}else{for(index in data){if(data[index]&&data[index].stop&&rrun.test(index)){stopQueue(data[index])}}}for(index=timers.length;index--;){if(timers[index].elem===this&&(type==null||timers[index].queue===type)){timers[index].anim.stop(gotoEnd);dequeue=false;timers.splice(index,1)}}if(dequeue||!gotoEnd){jQuery.dequeue(this,type)}})},finish:function(type){if(type!==false){type=type||"fx"}return this.each(function(){var index,data=dataPriv.get(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;data.finish=true;jQuery.queue(this,type,[]);if(hooks&&hooks.stop){hooks.stop.call(this,true)}for(index=timers.length;index--;){if(timers[index].elem===this&&timers[index].queue===type){timers[index].anim.stop(true);timers.splice(index,1)}}for(index=0;index<length;index++){if(queue[index]&&queue[index].finish){queue[index].finish.call(this)}}delete data.finish})}});jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return speed==null||typeof speed==="boolean"?cssFn.apply(this,arguments):this.animate(genFx(name,true),speed,easing,callback)}});jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}});jQuery.timers=[];jQuery.fx.tick=function(){var timer,i=0,timers=jQuery.timers;fxNow=jQuery.now();for(;i<timers.length;i++){timer=timers[i];if(!timer()&&timers[i]===timer){timers.splice(i--,1)}}if(!timers.length){jQuery.fx.stop()}fxNow=undefined};jQuery.fx.timer=function(timer){jQuery.timers.push(timer);if(timer()){jQuery.fx.start()}else{jQuery.timers.pop()}};jQuery.fx.interval=13;jQuery.fx.start=function(){if(!timerId){timerId=window.setInterval(jQuery.fx.tick,jQuery.fx.interval)}};jQuery.fx.stop=function(){window.clearInterval(timerId);timerId=null};jQuery.fx.speeds={slow:600,fast:200,_default:400};jQuery.fn.delay=function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||"fx";return this.queue(type,function(next,hooks){var timeout=window.setTimeout(next,time);hooks.stop=function(){window.clearTimeout(timeout)}})};(function(){var input=document.createElement("input"),select=document.createElement("select"),opt=select.appendChild(document.createElement("option"));input.type="checkbox";support.checkOn=input.value!=="";support.optSelected=opt.selected;select.disabled=true;support.optDisabled=!opt.disabled;input=document.createElement("input");input.value="t";input.type="radio";support.radioValue=input.value==="t"})();var boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(name,value){return access(this,jQuery.attr,name,value,arguments.length>1)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})}});jQuery.extend({attr:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(nType===3||nType===8||nType===2){return}if(typeof elem.getAttribute==="undefined"){return jQuery.prop(elem,name,value)}if(nType!==1||!jQuery.isXMLDoc(elem)){name=name.toLowerCase();hooks=jQuery.attrHooks[name]||(jQuery.expr.match.bool.test(name)?boolHook:undefined)}if(value!==undefined){if(value===null){jQuery.removeAttr(elem,name);return}if(hooks&&"set" in hooks&&(ret=hooks.set(elem,value,name))!==undefined){return ret}elem.setAttribute(name,value+"");return value}if(hooks&&"get" in hooks&&(ret=hooks.get(elem,name))!==null){return ret}ret=jQuery.find.attr(elem,name);return ret==null?undefined:ret},attrHooks:{type:{set:function(elem,value){if(!support.radioValue&&value==="radio"&&jQuery.nodeName(elem,"input")){var val=elem.value;elem.setAttribute("type",value);if(val){elem.value=val}return value}}}},removeAttr:function(elem,value){var name,propName,i=0,attrNames=value&&value.match(rnotwhite);if(attrNames&&elem.nodeType===1){while((name=attrNames[i++])){propName=jQuery.propFix[name]||name;if(jQuery.expr.match.bool.test(name)){elem[propName]=false}elem.removeAttribute(name)}}}});boolHook={set:function(elem,value,name){if(value===false){jQuery.removeAttr(elem,name)}else{elem.setAttribute(name,name)}return name}};jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(i,name){var getter=attrHandle[name]||jQuery.find.attr;attrHandle[name]=function(elem,name,isXML){var ret,handle;if(!isXML){handle=attrHandle[name];attrHandle[name]=ret;ret=getter(elem,name,isXML)!=null?name.toLowerCase():null;attrHandle[name]=handle}return ret}});var rfocusable=/^(?:input|select|textarea|button)$/i,rclickable=/^(?:a|area)$/i;jQuery.fn.extend({prop:function(name,value){return access(this,jQuery.prop,name,value,arguments.length>1)},removeProp:function(name){return this.each(function(){delete this[jQuery.propFix[name]||name]})}});jQuery.extend({prop:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(nType===3||nType===8||nType===2){return}if(nType!==1||!jQuery.isXMLDoc(elem)){name=jQuery.propFix[name]||name;hooks=jQuery.propHooks[name]}if(value!==undefined){if(hooks&&"set" in hooks&&(ret=hooks.set(elem,value,name))!==undefined){return ret}return(elem[name]=value)}if(hooks&&"get" in hooks&&(ret=hooks.get(elem,name))!==null){return ret}return elem[name]},propHooks:{tabIndex:{get:function(elem){var tabindex=jQuery.find.attr(elem,"tabindex");return tabindex?parseInt(tabindex,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});if(!support.optSelected){jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;if(parent&&parent.parentNode){parent.parentNode.selectedIndex}return null},set:function(elem){var parent=elem.parentNode;if(parent){parent.selectedIndex;if(parent.parentNode){parent.parentNode.selectedIndex}}}}}jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this});var rclass=/[\t\r\n\f]/g;function getClass(elem){return elem.getAttribute&&elem.getAttribute("class")||""}jQuery.fn.extend({addClass:function(value){var classes,elem,cur,curValue,clazz,j,finalValue,i=0;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).addClass(value.call(this,j,getClass(this)))})}if(typeof value==="string"&&value){classes=value.match(rnotwhite)||[];while((elem=this[i++])){curValue=getClass(elem);cur=elem.nodeType===1&&(" "+curValue+" ").replace(rclass," ");if(cur){j=0;while((clazz=classes[j++])){if(cur.indexOf(" "+clazz+" ")<0){cur+=clazz+" "}}finalValue=jQuery.trim(cur);if(curValue!==finalValue){elem.setAttribute("class",finalValue)}}}}return this},removeClass:function(value){var classes,elem,cur,curValue,clazz,j,finalValue,i=0;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).removeClass(value.call(this,j,getClass(this)))})}if(!arguments.length){return this.attr("class","")}if(typeof value==="string"&&value){classes=value.match(rnotwhite)||[];while((elem=this[i++])){curValue=getClass(elem);cur=elem.nodeType===1&&(" "+curValue+" ").replace(rclass," ");if(cur){j=0;while((clazz=classes[j++])){while(cur.indexOf(" "+clazz+" ")>-1){cur=cur.replace(" "+clazz+" "," ")}}finalValue=jQuery.trim(cur);if(curValue!==finalValue){elem.setAttribute("class",finalValue)}}}}return this},toggleClass:function(value,stateVal){var type=typeof value;if(typeof stateVal==="boolean"&&type==="string"){return stateVal?this.addClass(value):this.removeClass(value)}if(jQuery.isFunction(value)){return this.each(function(i){jQuery(this).toggleClass(value.call(this,i,getClass(this),stateVal),stateVal)})}return this.each(function(){var className,i,self,classNames;if(type==="string"){i=0;self=jQuery(this);classNames=value.match(rnotwhite)||[];while((className=classNames[i++])){if(self.hasClass(className)){self.removeClass(className)}else{self.addClass(className)}}}else{if(value===undefined||type==="boolean"){className=getClass(this);if(className){dataPriv.set(this,"__className__",className)}if(this.setAttribute){this.setAttribute("class",className||value===false?"":dataPriv.get(this,"__className__")||"")}}}})},hasClass:function(selector){var className,elem,i=0;className=" "+selector+" ";while((elem=this[i++])){if(elem.nodeType===1&&(" "+getClass(elem)+" ").replace(rclass," ").indexOf(className)>-1){return true}}return false}});var rreturn=/\r/g,rspaces=/[\x20\t\r\n\f]+/g;jQuery.fn.extend({val:function(value){var hooks,ret,isFunction,elem=this[0];if(!arguments.length){if(elem){hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()];if(hooks&&"get" in hooks&&(ret=hooks.get(elem,"value"))!==undefined){return ret}ret=elem.value;return typeof ret==="string"?ret.replace(rreturn,""):ret==null?"":ret}return}isFunction=jQuery.isFunction(value);return this.each(function(i){var val;if(this.nodeType!==1){return}if(isFunction){val=value.call(this,i,jQuery(this).val())}else{val=value}if(val==null){val=""}else{if(typeof val==="number"){val+=""}else{if(jQuery.isArray(val)){val=jQuery.map(val,function(value){return value==null?"":value+""})}}}hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!hooks||!("set" in hooks)||hooks.set(this,val,"value")===undefined){this.value=val}})}});jQuery.extend({valHooks:{option:{get:function(elem){var val=jQuery.find.attr(elem,"value");return val!=null?val:jQuery.trim(jQuery.text(elem)).replace(rspaces," ")}},select:{get:function(elem){var value,option,options=elem.options,index=elem.selectedIndex,one=elem.type==="select-one"||index<0,values=one?null:[],max=one?index+1:options.length,i=index<0?max:one?index:0;for(;i<max;i++){option=options[i];if((option.selected||i===index)&&(support.optDisabled?!option.disabled:option.getAttribute("disabled")===null)&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,"optgroup"))){value=jQuery(option).val();if(one){return value}values.push(value)}}return values},set:function(elem,value){var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;while(i--){option=options[i];if(option.selected=jQuery.inArray(jQuery.valHooks.option.get(option),values)>-1){optionSet=true}}if(!optionSet){elem.selectedIndex=-1}return values}}}});jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(elem,value){if(jQuery.isArray(value)){return(elem.checked=jQuery.inArray(jQuery(elem).val(),value)>-1)}}};if(!support.checkOn){jQuery.valHooks[this].get=function(elem){return elem.getAttribute("value")===null?"on":elem.value}}});var rfocusMorph=/^(?:focusinfocus|focusoutblur)$/;jQuery.extend(jQuery.event,{trigger:function(event,data,elem,onlyHandlers){var i,cur,tmp,bubbleType,ontype,handle,special,eventPath=[elem||document],type=hasOwn.call(event,"type")?event.type:event,namespaces=hasOwn.call(event,"namespace")?event.namespace.split("."):[];cur=tmp=elem=elem||document;if(elem.nodeType===3||elem.nodeType===8){return}if(rfocusMorph.test(type+jQuery.event.triggered)){return}if(type.indexOf(".")>-1){namespaces=type.split(".");type=namespaces.shift();namespaces.sort()}ontype=type.indexOf(":")<0&&"on"+type;event=event[jQuery.expando]?event:new jQuery.Event(type,typeof event==="object"&&event);event.isTrigger=onlyHandlers?2:3;event.namespace=namespaces.join(".");event.rnamespace=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;event.result=undefined;if(!event.target){event.target=elem}data=data==null?[event]:jQuery.makeArray(data,[event]);special=jQuery.event.special[type]||{};if(!onlyHandlers&&special.trigger&&special.trigger.apply(elem,data)===false){return}if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){bubbleType=special.delegateType||type;if(!rfocusMorph.test(bubbleType+type)){cur=cur.parentNode}for(;cur;cur=cur.parentNode){eventPath.push(cur);tmp=cur}if(tmp===(elem.ownerDocument||document)){eventPath.push(tmp.defaultView||tmp.parentWindow||window)}}i=0;while((cur=eventPath[i++])&&!event.isPropagationStopped()){event.type=i>1?bubbleType:special.bindType||type;handle=(dataPriv.get(cur,"events")||{})[event.type]&&dataPriv.get(cur,"handle");if(handle){handle.apply(cur,data)}handle=ontype&&cur[ontype];if(handle&&handle.apply&&acceptData(cur)){event.result=handle.apply(cur,data);if(event.result===false){event.preventDefault()}}}event.type=type;if(!onlyHandlers&&!event.isDefaultPrevented()){if((!special._default||special._default.apply(eventPath.pop(),data)===false)&&acceptData(elem)){if(ontype&&jQuery.isFunction(elem[type])&&!jQuery.isWindow(elem)){tmp=elem[ontype];if(tmp){elem[ontype]=null}jQuery.event.triggered=type;elem[type]();jQuery.event.triggered=undefined;if(tmp){elem[ontype]=tmp}}}}return event.result},simulate:function(type,elem,event){var e=jQuery.extend(new jQuery.Event(),event,{type:type,isSimulated:true});jQuery.event.trigger(e,null,elem)}});jQuery.fn.extend({trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){var elem=this[0];if(elem){return jQuery.event.trigger(type,data,elem,true)}}});jQuery.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu").split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)}});jQuery.fn.extend({hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)}});support.focusin="onfocusin" in window;if(!support.focusin){jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event))};jQuery.event.special[fix]={setup:function(){var doc=this.ownerDocument||this,attaches=dataPriv.access(doc,fix);if(!attaches){doc.addEventListener(orig,handler,true)}dataPriv.access(doc,fix,(attaches||0)+1)},teardown:function(){var doc=this.ownerDocument||this,attaches=dataPriv.access(doc,fix)-1;if(!attaches){doc.removeEventListener(orig,handler,true);dataPriv.remove(doc,fix)}else{dataPriv.access(doc,fix,attaches)}}}})}var location=window.location;var nonce=jQuery.now();var rquery=(/\?/);jQuery.parseJSON=function(data){return JSON.parse(data+"")};jQuery.parseXML=function(data){var xml;if(!data||typeof data!=="string"){return null}try{xml=(new window.DOMParser()).parseFromString(data,"text/xml")}catch(e){xml=undefined}if(!xml||xml.getElementsByTagName("parsererror").length){jQuery.error("Invalid XML: "+data)}return xml};var rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/mg,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,prefilters={},transports={},allTypes="*/".concat("*"),originAnchor=document.createElement("a");originAnchor.href=location.href;function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){if(typeof dataTypeExpression!=="string"){func=dataTypeExpression;dataTypeExpression="*"}var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(func)){while((dataType=dataTypes[i++])){if(dataType[0]==="+"){dataType=dataType.slice(1)||"*";(structure[dataType]=structure[dataType]||[]).unshift(func)}else{(structure[dataType]=structure[dataType]||[]).push(func)}}}}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){var inspected={},seekingTransport=(structure===transports);function inspect(dataType){var selected;inspected[dataType]=true;jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);if(typeof dataTypeOrTransport==="string"&&!seekingTransport&&!inspected[dataTypeOrTransport]){options.dataTypes.unshift(dataTypeOrTransport);inspect(dataTypeOrTransport);return false}else{if(seekingTransport){return !(selected=dataTypeOrTransport)}}});return selected}return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*")}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src){if(src[key]!==undefined){(flatOptions[key]?target:(deep||(deep={})))[key]=src[key]}}if(deep){jQuery.extend(true,target,deep)}return target}function ajaxHandleResponses(s,jqXHR,responses){var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes;while(dataTypes[0]==="*"){dataTypes.shift();if(ct===undefined){ct=s.mimeType||jqXHR.getResponseHeader("Content-Type")}}if(ct){for(type in contents){if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}}}if(dataTypes[0] in responses){finalDataType=dataTypes[0]}else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}if(!firstDataType){firstDataType=type}}finalDataType=finalDataType||firstDataType}if(finalDataType){if(finalDataType!==dataTypes[0]){dataTypes.unshift(finalDataType)}return responses[finalDataType]}}function ajaxConvert(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1]){for(conv in s.converters){converters[conv.toLowerCase()]=s.converters[conv]}}current=dataTypes.shift();while(current){if(s.responseFields[current]){jqXHR[s.responseFields[current]]=response}if(!prev&&isSuccess&&s.dataFilter){response=s.dataFilter(response,s.dataType)}prev=current;current=dataTypes.shift();if(current){if(current==="*"){current=prev}else{if(prev!=="*"&&prev!==current){conv=converters[prev+" "+current]||converters["* "+current];if(!conv){for(conv2 in converters){tmp=conv2.split(" ");if(tmp[1]===current){conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]];if(conv){if(conv===true){conv=converters[conv2]}else{if(converters[conv2]!==true){current=tmp[0];dataTypes.unshift(tmp[1])}}break}}}}if(conv!==true){if(conv&&s["throws"]){response=conv(response)}else{try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current}}}}}}}}return{state:"success",data:response}}jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:location.href,type:"GET",isLocal:rlocalProtocol.test(location.protocol),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":true,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){if(typeof url==="object"){options=url;url=undefined}options=options||{};var transport,cacheURL,responseHeadersString,responseHeaders,timeoutTimer,urlAnchor,fireGlobals,i,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(state===2){if(!responseHeaders){responseHeaders={};while((match=rheaders.exec(responseHeadersString))){responseHeaders[match[1].toLowerCase()]=match[2]}}match=responseHeaders[key.toLowerCase()]}return match==null?null:match},getAllResponseHeaders:function(){return state===2?responseHeadersString:null},setRequestHeader:function(name,value){var lname=name.toLowerCase();if(!state){name=requestHeadersNames[lname]=requestHeadersNames[lname]||name;requestHeaders[name]=value}return this},overrideMimeType:function(type){if(!state){s.mimeType=type}return this},statusCode:function(map){var code;if(map){if(state<2){for(code in map){statusCode[code]=[statusCode[code],map[code]]}}else{jqXHR.always(map[jqXHR.status])}}return this},abort:function(statusText){var finalText=statusText||strAbort;if(transport){transport.abort(finalText)}done(0,finalText);return this}};deferred.promise(jqXHR).complete=completeDeferred.add;jqXHR.success=jqXHR.done;jqXHR.error=jqXHR.fail;s.url=((url||s.url||location.href)+"").replace(rhash,"").replace(rprotocol,location.protocol+"//");s.type=options.method||options.type||s.method||s.type;s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().match(rnotwhite)||[""];if(s.crossDomain==null){urlAnchor=document.createElement("a");try{urlAnchor.href=s.url;urlAnchor.href=urlAnchor.href;s.crossDomain=originAnchor.protocol+"//"+originAnchor.host!==urlAnchor.protocol+"//"+urlAnchor.host}catch(e){s.crossDomain=true}}if(s.data&&s.processData&&typeof s.data!=="string"){s.data=jQuery.param(s.data,s.traditional)}inspectPrefiltersOrTransports(prefilters,s,options,jqXHR);if(state===2){return jqXHR}fireGlobals=jQuery.event&&s.global;if(fireGlobals&&jQuery.active++===0){jQuery.event.trigger("ajaxStart")}s.type=s.type.toUpperCase();s.hasContent=!rnoContent.test(s.type);cacheURL=s.url;if(!s.hasContent){if(s.data){cacheURL=(s.url+=(rquery.test(cacheURL)?"&":"?")+s.data);delete s.data}if(s.cache===false){s.url=rts.test(cacheURL)?cacheURL.replace(rts,"$1_="+nonce++):cacheURL+(rquery.test(cacheURL)?"&":"?")+"_="+nonce++}}if(s.ifModified){if(jQuery.lastModified[cacheURL]){jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL])}if(jQuery.etag[cacheURL]){jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL])}}if(s.data&&s.hasContent&&s.contentType!==false||options.contentType){jqXHR.setRequestHeader("Content-Type",s.contentType)}jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+(s.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers){jqXHR.setRequestHeader(i,s.headers[i])}if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===false||state===2)){return jqXHR.abort()}strAbort="abort";for(i in {success:1,error:1,complete:1}){jqXHR[i](s[i])}transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR);if(!transport){done(-1,"No Transport")}else{jqXHR.readyState=1;if(fireGlobals){globalEventContext.trigger("ajaxSend",[jqXHR,s])}if(state===2){return jqXHR}if(s.async&&s.timeout>0){timeoutTimer=window.setTimeout(function(){jqXHR.abort("timeout")},s.timeout)}try{state=1;transport.send(requestHeaders,done)}catch(e){if(state<2){done(-1,e)}else{throw e}}}function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;if(state===2){return}state=2;if(timeoutTimer){window.clearTimeout(timeoutTimer)}transport=undefined;responseHeadersString=headers||"";jqXHR.readyState=status>0?4:0;isSuccess=status>=200&&status<300||status===304;if(responses){response=ajaxHandleResponses(s,jqXHR,responses)}response=ajaxConvert(s,response,jqXHR,isSuccess);if(isSuccess){if(s.ifModified){modified=jqXHR.getResponseHeader("Last-Modified");if(modified){jQuery.lastModified[cacheURL]=modified}modified=jqXHR.getResponseHeader("etag");if(modified){jQuery.etag[cacheURL]=modified}}if(status===204||s.type==="HEAD"){statusText="nocontent"}else{if(status===304){statusText="notmodified"}else{statusText=response.state;success=response.data;error=response.error;isSuccess=!error}}}else{error=statusText;if(status||!statusText){statusText="error";if(status<0){status=0}}}jqXHR.status=status;jqXHR.statusText=(nativeStatusText||statusText)+"";if(isSuccess){deferred.resolveWith(callbackContext,[success,statusText,jqXHR])}else{deferred.rejectWith(callbackContext,[jqXHR,statusText,error])}jqXHR.statusCode(statusCode);statusCode=undefined;if(fireGlobals){globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error])}completeDeferred.fireWith(callbackContext,[jqXHR,statusText]);if(fireGlobals){globalEventContext.trigger("ajaxComplete",[jqXHR,s]);if(!(--jQuery.active)){jQuery.event.trigger("ajaxStop")}}}return jqXHR},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script")}});jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data=undefined}return jQuery.ajax(jQuery.extend({url:url,type:method,dataType:type,data:data,success:callback},jQuery.isPlainObject(url)&&url))}});jQuery._evalUrl=function(url){return jQuery.ajax({url:url,type:"GET",dataType:"script",async:false,global:false,"throws":true})};jQuery.fn.extend({wrapAll:function(html){var wrap;if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapAll(html.call(this,i))})}if(this[0]){wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){wrap.insertBefore(this[0])}wrap.map(function(){var elem=this;while(elem.firstElementChild){elem=elem.firstElementChild}return elem}).append(this)}return this},wrapInner:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapInner(html.call(this,i))})}return this.each(function(){var self=jQuery(this),contents=self.contents();if(contents.length){contents.wrapAll(html)}else{self.append(html)}})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){if(!jQuery.nodeName(this,"body")){jQuery(this).replaceWith(this.childNodes)}}).end()}});jQuery.expr.filters.hidden=function(elem){return !jQuery.expr.filters.visible(elem)};jQuery.expr.filters.visible=function(elem){return elem.offsetWidth>0||elem.offsetHeight>0||elem.getClientRects().length>0};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj)){jQuery.each(obj,function(i,v){if(traditional||rbracket.test(prefix)){add(prefix,v)}else{buildParams(prefix+"["+(typeof v==="object"&&v!=null?i:"")+"]",v,traditional,add)}})}else{if(!traditional&&jQuery.type(obj)==="object"){for(name in obj){buildParams(prefix+"["+name+"]",obj[name],traditional,add)}}else{add(prefix,obj)}}}jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():(value==null?"":value);s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};if(traditional===undefined){traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional}if(jQuery.isArray(a)||(a.jquery&&!jQuery.isPlainObject(a))){jQuery.each(a,function(){add(this.name,this.value)})}else{for(prefix in a){buildParams(prefix,a[prefix],traditional,add)}}return s.join("&").replace(r20,"+")};jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type))}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:jQuery.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}});jQuery.ajaxSettings.xhr=function(){try{return new window.XMLHttpRequest()}catch(e){}};var xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();support.cors=!!xhrSupported&&("withCredentials" in xhrSupported);support.ajax=xhrSupported=!!xhrSupported;jQuery.ajaxTransport(function(options){var callback,errorCallback;if(support.cors||xhrSupported&&!options.crossDomain){return{send:function(headers,complete){var i,xhr=options.xhr();xhr.open(options.type,options.url,options.async,options.username,options.password);if(options.xhrFields){for(i in options.xhrFields){xhr[i]=options.xhrFields[i]}}if(options.mimeType&&xhr.overrideMimeType){xhr.overrideMimeType(options.mimeType)}if(!options.crossDomain&&!headers["X-Requested-With"]){headers["X-Requested-With"]="XMLHttpRequest"}for(i in headers){xhr.setRequestHeader(i,headers[i])}callback=function(type){return function(){if(callback){callback=errorCallback=xhr.onload=xhr.onerror=xhr.onabort=xhr.onreadystatechange=null;if(type==="abort"){xhr.abort()}else{if(type==="error"){if(typeof xhr.status!=="number"){complete(0,"error")}else{complete(xhr.status,xhr.statusText)}}else{complete(xhrSuccessStatus[xhr.status]||xhr.status,xhr.statusText,(xhr.responseType||"text")!=="text"||typeof xhr.responseText!=="string"?{binary:xhr.response}:{text:xhr.responseText},xhr.getAllResponseHeaders())}}}}};xhr.onload=callback();errorCallback=xhr.onerror=callback("error");if(xhr.onabort!==undefined){xhr.onabort=errorCallback}else{xhr.onreadystatechange=function(){if(xhr.readyState===4){window.setTimeout(function(){if(callback){errorCallback()}})}}}callback=callback("abort");try{xhr.send(options.hasContent&&options.data||null)}catch(e){if(callback){throw e}}},abort:function(){if(callback){callback()}}}}});jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(text){jQuery.globalEval(text);return text}}});jQuery.ajaxPrefilter("script",function(s){if(s.cache===undefined){s.cache=false}if(s.crossDomain){s.type="GET"}});jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,callback;return{send:function(_,complete){script=jQuery("<script>").prop({charset:s.scriptCharset,src:s.url}).on("load error",callback=function(evt){script.remove();callback=null;if(evt){complete(evt.type==="error"?404:200,evt.type)}});document.head.appendChild(script[0])},abort:function(){if(callback){callback()}}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||(jQuery.expando+"_"+(nonce++));this[callback]=true;return callback}});jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=s.jsonp!==false&&(rjsonp.test(s.url)?"url":typeof s.data==="string"&&(s.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&rjsonp.test(s.data)&&"data");if(jsonProp||s.dataTypes[0]==="jsonp"){callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback;if(jsonProp){s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName)}else{if(s.jsonp!==false){s.url+=(rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName}}s.converters["script json"]=function(){if(!responseContainer){jQuery.error(callbackName+" was not called")}return responseContainer[0]};s.dataTypes[0]="json";overwritten=window[callbackName];window[callbackName]=function(){responseContainer=arguments};jqXHR.always(function(){if(overwritten===undefined){jQuery(window).removeProp(callbackName)}else{window[callbackName]=overwritten}if(s[callbackName]){s.jsonpCallback=originalSettings.jsonpCallback;oldCallbacks.push(callbackName)}if(responseContainer&&jQuery.isFunction(overwritten)){overwritten(responseContainer[0])}responseContainer=overwritten=undefined});return"script"}});jQuery.parseHTML=function(data,context,keepScripts){if(!data||typeof data!=="string"){return null}if(typeof context==="boolean"){keepScripts=context;context=false}context=context||document;var parsed=rsingleTag.exec(data),scripts=!keepScripts&&[];if(parsed){return[context.createElement(parsed[1])]}parsed=buildFragment([data],context,scripts);if(scripts&&scripts.length){jQuery(scripts).remove()}return jQuery.merge([],parsed.childNodes)};var _load=jQuery.fn.load;jQuery.fn.load=function(url,params,callback){if(typeof url!=="string"&&_load){return _load.apply(this,arguments)}var selector,type,response,self=this,off=url.indexOf(" ");if(off>-1){selector=jQuery.trim(url.slice(off));url=url.slice(0,off)}if(jQuery.isFunction(params)){callback=params;params=undefined}else{if(params&&typeof params==="object"){type="POST"}}if(self.length>0){jQuery.ajax({url:url,type:type||"GET",dataType:"html",data:params}).done(function(responseText){response=arguments;self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText)}).always(callback&&function(jqXHR,status){self.each(function(){callback.apply(this,response||[jqXHR.responseText,status,jqXHR])})})}return this};jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,type){jQuery.fn[type]=function(fn){return this.on(type,fn)}});jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length};function getWindow(elem){return jQuery.isWindow(elem)?elem:elem.nodeType===9&&elem.defaultView}jQuery.offset={setOffset:function(elem,options,i){var curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,calculatePosition,position=jQuery.css(elem,"position"),curElem=jQuery(elem),props={};if(position==="static"){elem.style.position="relative"}curOffset=curElem.offset();curCSSTop=jQuery.css(elem,"top");curCSSLeft=jQuery.css(elem,"left");calculatePosition=(position==="absolute"||position==="fixed")&&(curCSSTop+curCSSLeft).indexOf("auto")>-1;if(calculatePosition){curPosition=curElem.position();curTop=curPosition.top;curLeft=curPosition.left}else{curTop=parseFloat(curCSSTop)||0;curLeft=parseFloat(curCSSLeft)||0}if(jQuery.isFunction(options)){options=options.call(elem,i,jQuery.extend({},curOffset))}if(options.top!=null){props.top=(options.top-curOffset.top)+curTop}if(options.left!=null){props.left=(options.left-curOffset.left)+curLeft}if("using" in options){options.using.call(elem,props)}else{curElem.css(props)}}};jQuery.fn.extend({offset:function(options){if(arguments.length){return options===undefined?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)})}var docElem,win,elem=this[0],box={top:0,left:0},doc=elem&&elem.ownerDocument;if(!doc){return}docElem=doc.documentElement;if(!jQuery.contains(docElem,elem)){return box}box=elem.getBoundingClientRect();win=getWindow(doc);return{top:box.top+win.pageYOffset-docElem.clientTop,left:box.left+win.pageXOffset-docElem.clientLeft}},position:function(){if(!this[0]){return}var offsetParent,offset,elem=this[0],parentOffset={top:0,left:0};if(jQuery.css(elem,"position")==="fixed"){offset=elem.getBoundingClientRect()}else{offsetParent=this.offsetParent();offset=this.offset();if(!jQuery.nodeName(offsetParent[0],"html")){parentOffset=offsetParent.offset()}parentOffset.top+=jQuery.css(offsetParent[0],"borderTopWidth",true);parentOffset.left+=jQuery.css(offsetParent[0],"borderLeftWidth",true)}return{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",true),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",true)}},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent;while(offsetParent&&jQuery.css(offsetParent,"position")==="static"){offsetParent=offsetParent.offsetParent}return offsetParent||documentElement})}});jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top="pageYOffset"===prop;jQuery.fn[method]=function(val){return access(this,function(elem,method,val){var win=getWindow(elem);if(val===undefined){return win?win[prop]:elem[method]}if(win){win.scrollTo(!top?val:win.pageXOffset,top?val:win.pageYOffset)}else{elem[method]=val}},method,val,arguments.length)}});jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,function(elem,computed){if(computed){computed=curCSS(elem,prop);return rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed}})});jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||typeof margin!=="boolean"),extra=defaultExtra||(margin===true||value===true?"margin":"border");return access(this,function(elem,type,value){var doc;if(jQuery.isWindow(elem)){return elem.document.documentElement["client"+name]}if(elem.nodeType===9){doc=elem.documentElement;return Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])}return value===undefined?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:undefined,chainable,null)}})});jQuery.fn.extend({bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return arguments.length===1?this.off(selector,"**"):this.off(types,selector||"**",fn)},size:function(){return this.length}});jQuery.fn.andSelf=jQuery.fn.addBack;if(typeof define==="function"&&define.amd){define("jquery",[],function(){return jQuery})}var _jQuery=window.jQuery,_$=window.$;jQuery.noConflict=function(deep){if(window.$===jQuery){window.$=_$}if(deep&&window.jQuery===jQuery){window.jQuery=_jQuery}return jQuery};if(!noGlobal){window.jQuery=window.$=jQuery}return jQuery}))}
/*! jQuery UI - v1.12.1 - 2016-09-14
* http://jqueryui.com
* Includes: widget.js, position.js, data.js, disable-selection.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js, focusable.js, form-reset-mixin.js, jquery-1-7.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/draggable.js, widgets/droppable.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/resizable.js, widgets/selectable.js, widgets/selectmenu.js, widgets/slider.js, widgets/sortable.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(am){am.ui=am.ui||{};var y=am.ui.version="1.12.1";
/*!
 * jQuery UI Widget 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;var I=0;var an=Array.prototype.slice;am.cleanData=(function(ax){return function(ay){var aA,aB,az;for(az=0;(aB=ay[az])!=null;az++){try{aA=am._data(aB,"events");if(aA&&aA.remove){am(aB).triggerHandler("remove")}}catch(aC){}}ax(ay)}})(am.cleanData);am.widget=function(ax,ay,aF){var aD,aA,aE;var az={};var aC=ax.split(".")[0];ax=ax.split(".")[1];var aB=aC+"-"+ax;if(!aF){aF=ay;ay=am.Widget}if(am.isArray(aF)){aF=am.extend.apply(null,[{}].concat(aF))}am.expr[":"][aB.toLowerCase()]=function(aG){return !!am.data(aG,aB)};am[aC]=am[aC]||{};aD=am[aC][ax];aA=am[aC][ax]=function(aG,aH){if(!this._createWidget){return new aA(aG,aH)}if(arguments.length){this._createWidget(aG,aH)}};am.extend(aA,aD,{version:aF.version,_proto:am.extend({},aF),_childConstructors:[]});aE=new ay();aE.options=am.widget.extend({},aE.options);am.each(aF,function(aH,aG){if(!am.isFunction(aG)){az[aH]=aG;return}az[aH]=(function(){function aI(){return ay.prototype[aH].apply(this,arguments)}function aJ(aK){return ay.prototype[aH].apply(this,aK)}return function(){var aM=this._super;var aK=this._superApply;var aL;this._super=aI;this._superApply=aJ;aL=aG.apply(this,arguments);this._super=aM;this._superApply=aK;return aL}})()});aA.prototype=am.widget.extend(aE,{widgetEventPrefix:aD?(aE.widgetEventPrefix||ax):ax},az,{constructor:aA,namespace:aC,widgetName:ax,widgetFullName:aB});if(aD){am.each(aD._childConstructors,function(aH,aI){var aG=aI.prototype;am.widget(aG.namespace+"."+aG.widgetName,aA,aI._proto)});delete aD._childConstructors}else{ay._childConstructors.push(aA)}am.widget.bridge(ax,aA);return aA};am.widget.extend=function(aC){var ay=an.call(arguments,1);var aB=0;var ax=ay.length;var az;var aA;for(;aB<ax;aB++){for(az in ay[aB]){aA=ay[aB][az];if(ay[aB].hasOwnProperty(az)&&aA!==undefined){if(am.isPlainObject(aA)){aC[az]=am.isPlainObject(aC[az])?am.widget.extend({},aC[az],aA):am.widget.extend({},aA)}else{aC[az]=aA}}}}return aC};am.widget.bridge=function(ay,ax){var az=ax.prototype.widgetFullName||ay;am.fn[ay]=function(aC){var aA=typeof aC==="string";var aB=an.call(arguments,1);var aD=this;if(aA){if(!this.length&&aC==="instance"){aD=undefined}else{this.each(function(){var aF;var aE=am.data(this,az);if(aC==="instance"){aD=aE;return false}if(!aE){return am.error("cannot call methods on "+ay+" prior to initialization; attempted to call method '"+aC+"'")}if(!am.isFunction(aE[aC])||aC.charAt(0)==="_"){return am.error("no such method '"+aC+"' for "+ay+" widget instance")}aF=aE[aC].apply(aE,aB);if(aF!==aE&&aF!==undefined){aD=aF&&aF.jquery?aD.pushStack(aF.get()):aF;return false}})}}else{if(aB.length){aC=am.widget.extend.apply(null,[aC].concat(aB))}this.each(function(){var aE=am.data(this,az);if(aE){aE.option(aC||{});if(aE._init){aE._init()}}else{am.data(this,az,new ax(aC,this))}})}return aD}};am.Widget=function(){};am.Widget._childConstructors=[];am.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:false,create:null},_createWidget:function(ax,ay){ay=am(ay||this.defaultElement||this)[0];this.element=am(ay);this.uuid=I++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=am();this.hoverable=am();this.focusable=am();this.classesElementLookup={};if(ay!==this){am.data(ay,this.widgetFullName,this);this._on(true,this.element,{remove:function(az){if(az.target===ay){this.destroy()}}});this.document=am(ay.style?ay.ownerDocument:ay.document||ay);this.window=am(this.document[0].defaultView||this.document[0].parentWindow)}this.options=am.widget.extend({},this.options,this._getCreateOptions(),ax);this._create();if(this.options.disabled){this._setOptionDisabled(this.options.disabled)}this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:am.noop,_create:am.noop,_init:am.noop,destroy:function(){var ax=this;this._destroy();am.each(this.classesElementLookup,function(ay,az){ax._removeClass(az,ay)});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace)},_destroy:am.noop,widget:function(){return this.element},option:function(aA,aB){var ax=aA;var aC;var az;var ay;if(arguments.length===0){return am.widget.extend({},this.options)}if(typeof aA==="string"){ax={};aC=aA.split(".");aA=aC.shift();if(aC.length){az=ax[aA]=am.widget.extend({},this.options[aA]);for(ay=0;ay<aC.length-1;ay++){az[aC[ay]]=az[aC[ay]]||{};az=az[aC[ay]]}aA=aC.pop();if(arguments.length===1){return az[aA]===undefined?null:az[aA]}az[aA]=aB}else{if(arguments.length===1){return this.options[aA]===undefined?null:this.options[aA]}ax[aA]=aB}}this._setOptions(ax);return this},_setOptions:function(ax){var ay;for(ay in ax){this._setOption(ay,ax[ay])}return this},_setOption:function(ax,ay){if(ax==="classes"){this._setOptionClasses(ay)}this.options[ax]=ay;if(ax==="disabled"){this._setOptionDisabled(ay)}return this},_setOptionClasses:function(aA){var ax,az,ay;for(ax in aA){ay=this.classesElementLookup[ax];if(aA[ax]===this.options.classes[ax]||!ay||!ay.length){continue}az=am(ay.get());this._removeClass(ay,ax);az.addClass(this._classes({element:az,keys:ax,classes:aA,add:true}))}},_setOptionDisabled:function(ax){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!ax);if(ax){this._removeClass(this.hoverable,null,"ui-state-hover");this._removeClass(this.focusable,null,"ui-state-focus")}},enable:function(){return this._setOptions({disabled:false})},disable:function(){return this._setOptions({disabled:true})},_classes:function(ax){var ay=[];var az=this;ax=am.extend({element:this.element,classes:this.options.classes||{}},ax);function aA(aC,aE){var aD,aB;for(aB=0;aB<aC.length;aB++){aD=az.classesElementLookup[aC[aB]]||am();if(ax.add){aD=am(am.unique(aD.get().concat(ax.element.get())))}else{aD=am(aD.not(ax.element).get())}az.classesElementLookup[aC[aB]]=aD;ay.push(aC[aB]);if(aE&&ax.classes[aC[aB]]){ay.push(ax.classes[aC[aB]])}}}this._on(ax.element,{remove:"_untrackClassesElement"});if(ax.keys){aA(ax.keys.match(/\S+/g)||[],true)}if(ax.extra){aA(ax.extra.match(/\S+/g)||[])}return ay.join(" ")},_untrackClassesElement:function(ay){var ax=this;am.each(ax.classesElementLookup,function(az,aA){if(am.inArray(ay.target,aA)!==-1){ax.classesElementLookup[az]=am(aA.not(ay.target).get())}})},_removeClass:function(ay,az,ax){return this._toggleClass(ay,az,ax,false)},_addClass:function(ay,az,ax){return this._toggleClass(ay,az,ax,true)},_toggleClass:function(aA,aB,ax,aC){aC=(typeof aC==="boolean")?aC:ax;var ay=(typeof aA==="string"||aA===null),az={extra:ay?aB:ax,keys:ay?aA:aB,element:ay?this.element:aA,add:aC};az.element.toggleClass(this._classes(az),aC);return this},_on:function(aA,az,ay){var aB;var ax=this;if(typeof aA!=="boolean"){ay=az;az=aA;aA=false}if(!ay){ay=az;az=this.element;aB=this.widget()}else{az=aB=am(az);this.bindings=this.bindings.add(az)}am.each(ay,function(aH,aG){function aE(){if(!aA&&(ax.options.disabled===true||am(this).hasClass("ui-state-disabled"))){return}return(typeof aG==="string"?ax[aG]:aG).apply(ax,arguments)}if(typeof aG!=="string"){aE.guid=aG.guid=aG.guid||aE.guid||am.guid++}var aF=aH.match(/^([\w:-]*)\s*(.*)$/);var aD=aF[1]+ax.eventNamespace;var aC=aF[2];if(aC){aB.on(aD,aC,aE)}else{az.on(aD,aE)}})},_off:function(ay,ax){ax=(ax||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;ay.off(ax).off(ax);this.bindings=am(this.bindings.not(ay).get());this.focusable=am(this.focusable.not(ay).get());this.hoverable=am(this.hoverable.not(ay).get())},_delay:function(aA,az){function ay(){return(typeof aA==="string"?ax[aA]:aA).apply(ax,arguments)}var ax=this;return setTimeout(ay,az||0)},_hoverable:function(ax){this.hoverable=this.hoverable.add(ax);this._on(ax,{mouseenter:function(ay){this._addClass(am(ay.currentTarget),null,"ui-state-hover")},mouseleave:function(ay){this._removeClass(am(ay.currentTarget),null,"ui-state-hover")}})},_focusable:function(ax){this.focusable=this.focusable.add(ax);this._on(ax,{focusin:function(ay){this._addClass(am(ay.currentTarget),null,"ui-state-focus")},focusout:function(ay){this._removeClass(am(ay.currentTarget),null,"ui-state-focus")}})},_trigger:function(ax,ay,az){var aC,aB;var aA=this.options[ax];az=az||{};ay=am.Event(ay);ay.type=(ax===this.widgetEventPrefix?ax:this.widgetEventPrefix+ax).toLowerCase();ay.target=this.element[0];aB=ay.originalEvent;if(aB){for(aC in aB){if(!(aC in ay)){ay[aC]=aB[aC]}}}this.element.trigger(ay,az);return !(am.isFunction(aA)&&aA.apply(this.element[0],[ay].concat(az))===false||ay.isDefaultPrevented())}};am.each({show:"fadeIn",hide:"fadeOut"},function(ay,ax){am.Widget.prototype["_"+ay]=function(aB,aA,aD){if(typeof aA==="string"){aA={effect:aA}}var aC;var az=!aA?ay:aA===true||typeof aA==="number"?ax:aA.effect||ax;aA=aA||{};if(typeof aA==="number"){aA={duration:aA}}aC=!am.isEmptyObject(aA);aA.complete=aD;if(aA.delay){aB.delay(aA.delay)}if(aC&&am.effects&&am.effects.effect[az]){aB[ay](aA)}else{if(az!==ay&&aB[az]){aB[az](aA.duration,aA.easing,aD)}else{aB.queue(function(aE){am(this)[ay]();if(aD){aD.call(aB[0])}aE()})}}}});var l=am.widget;
/*!
 * jQuery UI Position 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
(function(){var aE,aF=Math.max,aI=Math.abs,az=/left|center|right/,aC=/top|center|bottom/,ax=/[\+\-]\d+(\.[\d]+)?%?/,aG=/^\w+/,ay=/%$/,aB=am.fn.position;function aH(aL,aK,aJ){return[parseFloat(aL[0])*(ay.test(aL[0])?aK/100:1),parseFloat(aL[1])*(ay.test(aL[1])?aJ/100:1)]}function aD(aJ,aK){return parseInt(am.css(aJ,aK),10)||0}function aA(aK){var aJ=aK[0];if(aJ.nodeType===9){return{width:aK.width(),height:aK.height(),offset:{top:0,left:0}}}if(am.isWindow(aJ)){return{width:aK.width(),height:aK.height(),offset:{top:aK.scrollTop(),left:aK.scrollLeft()}}}if(aJ.preventDefault){return{width:0,height:0,offset:{top:aJ.pageY,left:aJ.pageX}}}return{width:aK.outerWidth(),height:aK.outerHeight(),offset:aK.offset()}}am.position={scrollbarWidth:function(){if(aE!==undefined){return aE}var aK,aJ,aM=am("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),aL=aM.children()[0];am("body").append(aM);aK=aL.offsetWidth;aM.css("overflow","scroll");aJ=aL.offsetWidth;if(aK===aJ){aJ=aM[0].clientWidth}aM.remove();return(aE=aK-aJ)},getScrollInfo:function(aN){var aM=aN.isWindow||aN.isDocument?"":aN.element.css("overflow-x"),aL=aN.isWindow||aN.isDocument?"":aN.element.css("overflow-y"),aK=aM==="scroll"||(aM==="auto"&&aN.width<aN.element[0].scrollWidth),aJ=aL==="scroll"||(aL==="auto"&&aN.height<aN.element[0].scrollHeight);return{width:aJ?am.position.scrollbarWidth():0,height:aK?am.position.scrollbarWidth():0}},getWithinInfo:function(aL){var aM=am(aL||window),aJ=am.isWindow(aM[0]),aN=!!aM[0]&&aM[0].nodeType===9,aK=!aJ&&!aN;return{element:aM,isWindow:aJ,isDocument:aN,offset:aK?am(aL).offset():{left:0,top:0},scrollLeft:aM.scrollLeft(),scrollTop:aM.scrollTop(),width:aM.outerWidth(),height:aM.outerHeight()}}};am.fn.position=function(aT){if(!aT||!aT.of){return aB.apply(this,arguments)}aT=am.extend({},aT);var aU,aQ,aO,aS,aN,aJ,aP=am(aT.of),aM=am.position.getWithinInfo(aT.within),aK=am.position.getScrollInfo(aM),aR=(aT.collision||"flip").split(" "),aL={};aJ=aA(aP);if(aP[0].preventDefault){aT.at="left top"}aQ=aJ.width;aO=aJ.height;aS=aJ.offset;aN=am.extend({},aS);am.each(["my","at"],function(){var aX=(aT[this]||"").split(" "),aW,aV;if(aX.length===1){aX=az.test(aX[0])?aX.concat(["center"]):aC.test(aX[0])?["center"].concat(aX):["center","center"]}aX[0]=az.test(aX[0])?aX[0]:"center";aX[1]=aC.test(aX[1])?aX[1]:"center";aW=ax.exec(aX[0]);aV=ax.exec(aX[1]);aL[this]=[aW?aW[0]:0,aV?aV[0]:0];aT[this]=[aG.exec(aX[0])[0],aG.exec(aX[1])[0]]});if(aR.length===1){aR[1]=aR[0]}if(aT.at[0]==="right"){aN.left+=aQ}else{if(aT.at[0]==="center"){aN.left+=aQ/2}}if(aT.at[1]==="bottom"){aN.top+=aO}else{if(aT.at[1]==="center"){aN.top+=aO/2}}aU=aH(aL.at,aQ,aO);aN.left+=aU[0];aN.top+=aU[1];return this.each(function(){var aW,a5,aY=am(this),a0=aY.outerWidth(),aX=aY.outerHeight(),aZ=aD(this,"marginLeft"),aV=aD(this,"marginTop"),a4=a0+aZ+aD(this,"marginRight")+aK.width,a3=aX+aV+aD(this,"marginBottom")+aK.height,a1=am.extend({},aN),a2=aH(aL.my,aY.outerWidth(),aY.outerHeight());if(aT.my[0]==="right"){a1.left-=a0}else{if(aT.my[0]==="center"){a1.left-=a0/2}}if(aT.my[1]==="bottom"){a1.top-=aX}else{if(aT.my[1]==="center"){a1.top-=aX/2}}a1.left+=a2[0];a1.top+=a2[1];aW={marginLeft:aZ,marginTop:aV};am.each(["left","top"],function(a7,a6){if(am.ui.position[aR[a7]]){am.ui.position[aR[a7]][a6](a1,{targetWidth:aQ,targetHeight:aO,elemWidth:a0,elemHeight:aX,collisionPosition:aW,collisionWidth:a4,collisionHeight:a3,offset:[aU[0]+a2[0],aU[1]+a2[1]],my:aT.my,at:aT.at,within:aM,elem:aY})}});if(aT.using){a5=function(a9){var bb=aS.left-a1.left,a8=bb+aQ-a0,ba=aS.top-a1.top,a7=ba+aO-aX,a6={target:{element:aP,left:aS.left,top:aS.top,width:aQ,height:aO},element:{element:aY,left:a1.left,top:a1.top,width:a0,height:aX},horizontal:a8<0?"left":bb>0?"right":"center",vertical:a7<0?"top":ba>0?"bottom":"middle"};if(aQ<a0&&aI(bb+a8)<aQ){a6.horizontal="center"}if(aO<aX&&aI(ba+a7)<aO){a6.vertical="middle"}if(aF(aI(bb),aI(a8))>aF(aI(ba),aI(a7))){a6.important="horizontal"}else{a6.important="vertical"}aT.using.call(this,a9,a6)}}aY.offset(am.extend(a1,{using:a5}))})};am.ui.position={fit:{left:function(aN,aM){var aL=aM.within,aP=aL.isWindow?aL.scrollLeft:aL.offset.left,aR=aL.width,aO=aN.left-aM.collisionPosition.marginLeft,aQ=aP-aO,aK=aO+aM.collisionWidth-aR-aP,aJ;if(aM.collisionWidth>aR){if(aQ>0&&aK<=0){aJ=aN.left+aQ+aM.collisionWidth-aR-aP;aN.left+=aQ-aJ}else{if(aK>0&&aQ<=0){aN.left=aP}else{if(aQ>aK){aN.left=aP+aR-aM.collisionWidth}else{aN.left=aP}}}}else{if(aQ>0){aN.left+=aQ}else{if(aK>0){aN.left-=aK}else{aN.left=aF(aN.left-aO,aN.left)}}}},top:function(aM,aL){var aK=aL.within,aQ=aK.isWindow?aK.scrollTop:aK.offset.top,aR=aL.within.height,aO=aM.top-aL.collisionPosition.marginTop,aP=aQ-aO,aN=aO+aL.collisionHeight-aR-aQ,aJ;if(aL.collisionHeight>aR){if(aP>0&&aN<=0){aJ=aM.top+aP+aL.collisionHeight-aR-aQ;aM.top+=aP-aJ}else{if(aN>0&&aP<=0){aM.top=aQ}else{if(aP>aN){aM.top=aQ+aR-aL.collisionHeight}else{aM.top=aQ}}}}else{if(aP>0){aM.top+=aP}else{if(aN>0){aM.top-=aN}else{aM.top=aF(aM.top-aO,aM.top)}}}}},flip:{left:function(aP,aO){var aN=aO.within,aT=aN.offset.left+aN.scrollLeft,aW=aN.width,aL=aN.isWindow?aN.scrollLeft:aN.offset.left,aQ=aP.left-aO.collisionPosition.marginLeft,aU=aQ-aL,aK=aQ+aO.collisionWidth-aW-aL,aS=aO.my[0]==="left"?-aO.elemWidth:aO.my[0]==="right"?aO.elemWidth:0,aV=aO.at[0]==="left"?aO.targetWidth:aO.at[0]==="right"?-aO.targetWidth:0,aM=-2*aO.offset[0],aJ,aR;if(aU<0){aJ=aP.left+aS+aV+aM+aO.collisionWidth-aW-aT;if(aJ<0||aJ<aI(aU)){aP.left+=aS+aV+aM}}else{if(aK>0){aR=aP.left-aO.collisionPosition.marginLeft+aS+aV+aM-aL;if(aR>0||aI(aR)<aK){aP.left+=aS+aV+aM}}}},top:function(aO,aN){var aM=aN.within,aV=aM.offset.top+aM.scrollTop,aW=aM.height,aJ=aM.isWindow?aM.scrollTop:aM.offset.top,aQ=aO.top-aN.collisionPosition.marginTop,aS=aQ-aJ,aP=aQ+aN.collisionHeight-aW-aJ,aT=aN.my[1]==="top",aR=aT?-aN.elemHeight:aN.my[1]==="bottom"?aN.elemHeight:0,aX=aN.at[1]==="top"?aN.targetHeight:aN.at[1]==="bottom"?-aN.targetHeight:0,aL=-2*aN.offset[1],aU,aK;if(aS<0){aK=aO.top+aR+aX+aL+aN.collisionHeight-aW-aV;if(aK<0||aK<aI(aS)){aO.top+=aR+aX+aL}}else{if(aP>0){aU=aO.top-aN.collisionPosition.marginTop+aR+aX+aL-aJ;if(aU>0||aI(aU)<aP){aO.top+=aR+aX+aL}}}}},flipfit:{left:function(){am.ui.position.flip.left.apply(this,arguments);am.ui.position.fit.left.apply(this,arguments)},top:function(){am.ui.position.flip.top.apply(this,arguments);am.ui.position.fit.top.apply(this,arguments)}}}})();var aj=am.ui.position;
/*!
 * jQuery UI :data 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;var q=am.extend(am.expr[":"],{data:am.expr.createPseudo?am.expr.createPseudo(function(ax){return function(ay){return !!am.data(ay,ax)}}):function(az,ay,ax){return !!am.data(az,ax[3])}});
/*!
 * jQuery UI Disable Selection 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;var m=am.fn.extend({disableSelection:(function(){var ax="onselectstart" in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(ax+".ui-disableSelection",function(ay){ay.preventDefault()})}})(),enableSelection:function(){return this.off(".ui-disableSelection")}});
/*!
 * jQuery UI Effects 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;var t="ui-effects-",af="ui-effects-style",ar="ui-effects-animated",b=am;am.effects={effect:{}};
/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
(function(aL,aA){var aH="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",aE=/^([\-+])=\s*(\d+\.?\d*)/,aD=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(aM){return[aM[1],aM[2],aM[3],aM[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(aM){return[aM[1]*2.55,aM[2]*2.55,aM[3]*2.55,aM[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(aM){return[parseInt(aM[1],16),parseInt(aM[2],16),parseInt(aM[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(aM){return[parseInt(aM[1]+aM[1],16),parseInt(aM[2]+aM[2],16),parseInt(aM[3]+aM[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(aM){return[aM[1],aM[2]/100,aM[3]/100,aM[4]]}}],aB=aL.Color=function(aN,aO,aM,aP){return new aL.Color.fn.parse(aN,aO,aM,aP)},aG={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},aK={"byte":{floor:true,max:255},percent:{max:1},degrees:{mod:360,floor:true}},aJ=aB.support={},ay=aL("<p>")[0],ax,aI=aL.each;ay.style.cssText="background-color:rgba(1,1,1,.5)";aJ.rgba=ay.style.backgroundColor.indexOf("rgba")>-1;aI(aG,function(aM,aN){aN.cache="_"+aM;aN.props.alpha={idx:3,type:"percent",def:1}});function aF(aN,aP,aO){var aM=aK[aP.type]||{};if(aN==null){return(aO||!aP.def)?null:aP.def}aN=aM.floor?~~aN:parseFloat(aN);if(isNaN(aN)){return aP.def}if(aM.mod){return(aN+aM.mod)%aM.mod}return 0>aN?0:aM.max<aN?aM.max:aN}function aC(aM){var aO=aB(),aN=aO._rgba=[];aM=aM.toLowerCase();aI(aD,function(aT,aU){var aR,aS=aU.re.exec(aM),aQ=aS&&aU.parse(aS),aP=aU.space||"rgba";if(aQ){aR=aO[aP](aQ);aO[aG[aP].cache]=aR[aG[aP].cache];aN=aO._rgba=aR._rgba;return false}});if(aN.length){if(aN.join()==="0,0,0,0"){aL.extend(aN,ax.transparent)}return aO}return ax[aM]}aB.fn=aL.extend(aB.prototype,{parse:function(aS,aQ,aM,aR){if(aS===aA){this._rgba=[null,null,null,null];return this}if(aS.jquery||aS.nodeType){aS=aL(aS).css(aQ);aQ=aA}var aP=this,aO=aL.type(aS),aN=this._rgba=[];if(aQ!==aA){aS=[aS,aQ,aM,aR];aO="array"}if(aO==="string"){return this.parse(aC(aS)||ax._default)}if(aO==="array"){aI(aG.rgba.props,function(aT,aU){aN[aU.idx]=aF(aS[aU.idx],aU)});return this}if(aO==="object"){if(aS instanceof aB){aI(aG,function(aT,aU){if(aS[aU.cache]){aP[aU.cache]=aS[aU.cache].slice()}})}else{aI(aG,function(aU,aV){var aT=aV.cache;aI(aV.props,function(aW,aX){if(!aP[aT]&&aV.to){if(aW==="alpha"||aS[aW]==null){return}aP[aT]=aV.to(aP._rgba)}aP[aT][aX.idx]=aF(aS[aW],aX,true)});if(aP[aT]&&aL.inArray(null,aP[aT].slice(0,3))<0){aP[aT][3]=1;if(aV.from){aP._rgba=aV.from(aP[aT])}}})}return this}},is:function(aO){var aM=aB(aO),aP=true,aN=this;aI(aG,function(aQ,aS){var aT,aR=aM[aS.cache];if(aR){aT=aN[aS.cache]||aS.to&&aS.to(aN._rgba)||[];aI(aS.props,function(aU,aV){if(aR[aV.idx]!=null){aP=(aR[aV.idx]===aT[aV.idx]);return aP}})}return aP});return aP},_space:function(){var aM=[],aN=this;aI(aG,function(aO,aP){if(aN[aP.cache]){aM.push(aO)}});return aM.pop()},transition:function(aN,aT){var aO=aB(aN),aP=aO._space(),aQ=aG[aP],aR=this.alpha()===0?aB("transparent"):this,aS=aR[aQ.cache]||aQ.to(aR._rgba),aM=aS.slice();aO=aO[aQ.cache];aI(aQ.props,function(aX,aZ){var aW=aZ.idx,aV=aS[aW],aU=aO[aW],aY=aK[aZ.type]||{};if(aU===null){return}if(aV===null){aM[aW]=aU}else{if(aY.mod){if(aU-aV>aY.mod/2){aV+=aY.mod}else{if(aV-aU>aY.mod/2){aV-=aY.mod}}}aM[aW]=aF((aU-aV)*aT+aV,aZ)}});return this[aP](aM)},blend:function(aP){if(this._rgba[3]===1){return this}var aO=this._rgba.slice(),aN=aO.pop(),aM=aB(aP)._rgba;return aB(aL.map(aO,function(aQ,aR){return(1-aN)*aM[aR]+aN*aQ}))},toRgbaString:function(){var aN="rgba(",aM=aL.map(this._rgba,function(aO,aP){return aO==null?(aP>2?1:0):aO});if(aM[3]===1){aM.pop();aN="rgb("}return aN+aM.join()+")"},toHslaString:function(){var aN="hsla(",aM=aL.map(this.hsla(),function(aO,aP){if(aO==null){aO=aP>2?1:0}if(aP&&aP<3){aO=Math.round(aO*100)+"%"}return aO});if(aM[3]===1){aM.pop();aN="hsl("}return aN+aM.join()+")"},toHexString:function(aM){var aN=this._rgba.slice(),aO=aN.pop();if(aM){aN.push(~~(aO*255))}return"#"+aL.map(aN,function(aP){aP=(aP||0).toString(16);return aP.length===1?"0"+aP:aP}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}});aB.fn.parse.prototype=aB.fn;function az(aO,aN,aM){aM=(aM+1)%1;if(aM*6<1){return aO+(aN-aO)*aM*6}if(aM*2<1){return aN}if(aM*3<2){return aO+(aN-aO)*((2/3)-aM)*6}return aO}aG.hsla.to=function(aO){if(aO[0]==null||aO[1]==null||aO[2]==null){return[null,null,null,aO[3]]}var aM=aO[0]/255,aR=aO[1]/255,aS=aO[2]/255,aU=aO[3],aT=Math.max(aM,aR,aS),aP=Math.min(aM,aR,aS),aV=aT-aP,aW=aT+aP,aN=aW*0.5,aQ,aX;if(aP===aT){aQ=0}else{if(aM===aT){aQ=(60*(aR-aS)/aV)+360}else{if(aR===aT){aQ=(60*(aS-aM)/aV)+120}else{aQ=(60*(aM-aR)/aV)+240}}}if(aV===0){aX=0}else{if(aN<=0.5){aX=aV/aW}else{aX=aV/(2-aW)}}return[Math.round(aQ)%360,aX,aN,aU==null?1:aU]};aG.hsla.from=function(aQ){if(aQ[0]==null||aQ[1]==null||aQ[2]==null){return[null,null,null,aQ[3]]}var aP=aQ[0]/360,aO=aQ[1],aN=aQ[2],aM=aQ[3],aR=aN<=0.5?aN*(1+aO):aN+aO-aN*aO,aS=2*aN-aR;return[Math.round(az(aS,aR,aP+(1/3))*255),Math.round(az(aS,aR,aP)*255),Math.round(az(aS,aR,aP-(1/3))*255),aM]};aI(aG,function(aN,aP){var aO=aP.props,aM=aP.cache,aR=aP.to,aQ=aP.from;aB.fn[aN]=function(aW){if(aR&&!this[aM]){this[aM]=aR(this._rgba)}if(aW===aA){return this[aM].slice()}var aT,aV=aL.type(aW),aS=(aV==="array"||aV==="object")?aW:arguments,aU=this[aM].slice();aI(aO,function(aX,aZ){var aY=aS[aV==="object"?aX:aZ.idx];if(aY==null){aY=aU[aZ.idx]}aU[aZ.idx]=aF(aY,aZ)});if(aQ){aT=aB(aQ(aU));aT[aM]=aU;return aT}else{return aB(aU)}};aI(aO,function(aS,aT){if(aB.fn[aS]){return}aB.fn[aS]=function(aX){var aZ=aL.type(aX),aW=(aS==="alpha"?(this._hsla?"hsla":"rgba"):aN),aV=this[aW](),aY=aV[aT.idx],aU;if(aZ==="undefined"){return aY}if(aZ==="function"){aX=aX.call(this,aY);aZ=aL.type(aX)}if(aX==null&&aT.empty){return this}if(aZ==="string"){aU=aE.exec(aX);if(aU){aX=aY+parseFloat(aU[2])*(aU[1]==="+"?1:-1)}}aV[aT.idx]=aX;return this[aW](aV)}})});aB.hook=function(aN){var aM=aN.split(" ");aI(aM,function(aO,aP){aL.cssHooks[aP]={set:function(aT,aU){var aR,aS,aQ="";if(aU!=="transparent"&&(aL.type(aU)!=="string"||(aR=aC(aU)))){aU=aB(aR||aU);if(!aJ.rgba&&aU._rgba[3]!==1){aS=aP==="backgroundColor"?aT.parentNode:aT;while((aQ===""||aQ==="transparent")&&aS&&aS.style){try{aQ=aL.css(aS,"backgroundColor");aS=aS.parentNode}catch(aV){}}aU=aU.blend(aQ&&aQ!=="transparent"?aQ:"_default")}aU=aU.toRgbaString()}try{aT.style[aP]=aU}catch(aV){}}};aL.fx.step[aP]=function(aQ){if(!aQ.colorInit){aQ.start=aB(aQ.elem,aP);aQ.end=aB(aQ.end);aQ.colorInit=true}aL.cssHooks[aP].set(aQ.elem,aQ.start.transition(aQ.end,aQ.pos))}})};aB.hook(aH);aL.cssHooks.borderColor={expand:function(aN){var aM={};aI(["Top","Right","Bottom","Left"],function(aP,aO){aM["border"+aO+"Color"]=aN});return aM}};ax=aL.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(b);(function(){var ay=["add","remove","toggle"],az={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};am.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(aB,aC){am.fx.step[aC]=function(aD){if(aD.end!=="none"&&!aD.setAttr||aD.pos===1&&!aD.setAttr){b.style(aD.elem,aC,aD.end);aD.setAttr=true}}});function aA(aF){var aC,aB,aD=aF.ownerDocument.defaultView?aF.ownerDocument.defaultView.getComputedStyle(aF,null):aF.currentStyle,aE={};if(aD&&aD.length&&aD[0]&&aD[aD[0]]){aB=aD.length;while(aB--){aC=aD[aB];if(typeof aD[aC]==="string"){aE[am.camelCase(aC)]=aD[aC]}}}else{for(aC in aD){if(typeof aD[aC]==="string"){aE[aC]=aD[aC]}}}return aE}function ax(aB,aD){var aF={},aC,aE;for(aC in aD){aE=aD[aC];if(aB[aC]!==aE){if(!az[aC]){if(am.fx.step[aC]||!isNaN(parseFloat(aE))){aF[aC]=aE}}}}return aF}if(!am.fn.addBack){am.fn.addBack=function(aB){return this.add(aB==null?this.prevObject:this.prevObject.filter(aB))}}am.effects.animateClass=function(aB,aC,aF,aE){var aD=am.speed(aC,aF,aE);return this.queue(function(){var aI=am(this),aG=aI.attr("class")||"",aH,aJ=aD.children?aI.find("*").addBack():aI;aJ=aJ.map(function(){var aK=am(this);return{el:aK,start:aA(this)}});aH=function(){am.each(ay,function(aK,aL){if(aB[aL]){aI[aL+"Class"](aB[aL])}})};aH();aJ=aJ.map(function(){this.end=aA(this.el[0]);this.diff=ax(this.start,this.end);return this});aI.attr("class",aG);aJ=aJ.map(function(){var aM=this,aK=am.Deferred(),aL=am.extend({},aD,{queue:false,complete:function(){aK.resolve(aM)}});this.el.animate(this.diff,aL);return aK.promise()});am.when.apply(am,aJ.get()).done(function(){aH();am.each(arguments,function(){var aK=this.el;am.each(this.diff,function(aL){aK.css(aL,"")})});aD.complete.call(aI[0])})})};am.fn.extend({addClass:(function(aB){return function(aD,aC,aF,aE){return aC?am.effects.animateClass.call(this,{add:aD},aC,aF,aE):aB.apply(this,arguments)}})(am.fn.addClass),removeClass:(function(aB){return function(aD,aC,aF,aE){return arguments.length>1?am.effects.animateClass.call(this,{remove:aD},aC,aF,aE):aB.apply(this,arguments)}})(am.fn.removeClass),toggleClass:(function(aB){return function(aE,aD,aC,aG,aF){if(typeof aD==="boolean"||aD===undefined){if(!aC){return aB.apply(this,arguments)}else{return am.effects.animateClass.call(this,(aD?{add:aE}:{remove:aE}),aC,aG,aF)}}else{return am.effects.animateClass.call(this,{toggle:aE},aD,aC,aG)}}})(am.fn.toggleClass),switchClass:function(aB,aD,aC,aF,aE){return am.effects.animateClass.call(this,{add:aD,remove:aB},aC,aF,aE)}})})();(function(){if(am.expr&&am.expr.filters&&am.expr.filters.animated){am.expr.filters.animated=(function(aA){return function(aB){return !!am(aB).data(ar)||aA(aB)}})(am.expr.filters.animated)}if(am.uiBackCompat!==false){am.extend(am.effects,{save:function(aB,aD){var aA=0,aC=aD.length;for(;aA<aC;aA++){if(aD[aA]!==null){aB.data(t+aD[aA],aB[0].style[aD[aA]])}}},restore:function(aB,aE){var aD,aA=0,aC=aE.length;for(;aA<aC;aA++){if(aE[aA]!==null){aD=aB.data(t+aE[aA]);aB.css(aE[aA],aD)}}},setMode:function(aA,aB){if(aB==="toggle"){aB=aA.is(":hidden")?"show":"hide"}return aB},createWrapper:function(aB){if(aB.parent().is(".ui-effects-wrapper")){return aB.parent()}var aC={width:aB.outerWidth(true),height:aB.outerHeight(true),"float":aB.css("float")},aF=am("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),aA={width:aB.width(),height:aB.height()},aE=document.activeElement;try{aE.id}catch(aD){aE=document.body}aB.wrap(aF);if(aB[0]===aE||am.contains(aB[0],aE)){am(aE).trigger("focus")}aF=aB.parent();if(aB.css("position")==="static"){aF.css({position:"relative"});aB.css({position:"relative"})}else{am.extend(aC,{position:aB.css("position"),zIndex:aB.css("z-index")});am.each(["top","left","bottom","right"],function(aG,aH){aC[aH]=aB.css(aH);if(isNaN(parseInt(aC[aH],10))){aC[aH]="auto"}});aB.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}aB.css(aA);return aF.css(aC).show()},removeWrapper:function(aA){var aB=document.activeElement;if(aA.parent().is(".ui-effects-wrapper")){aA.parent().replaceWith(aA);if(aA[0]===aB||am.contains(aA[0],aB)){am(aB).trigger("focus")}}return aA}})}am.extend(am.effects,{version:"1.12.1",define:function(aA,aC,aB){if(!aB){aB=aC;aC="effect"}am.effects.effect[aA]=aB;am.effects.effect[aA].mode=aC;return aB},scaledDimensions:function(aB,aC,aD){if(aC===0){return{height:0,width:0,outerHeight:0,outerWidth:0}}var aA=aD!=="horizontal"?((aC||100)/100):1,aE=aD!=="vertical"?((aC||100)/100):1;return{height:aB.height()*aE,width:aB.width()*aA,outerHeight:aB.outerHeight()*aE,outerWidth:aB.outerWidth()*aA}},clipToBox:function(aA){return{width:aA.clip.right-aA.clip.left,height:aA.clip.bottom-aA.clip.top,left:aA.clip.left,top:aA.clip.top}},unshift:function(aB,aD,aC){var aA=aB.queue();if(aD>1){aA.splice.apply(aA,[1,0].concat(aA.splice(aD,aC)))}aB.dequeue()},saveStyle:function(aA){aA.data(af,aA[0].style.cssText)},restoreStyle:function(aA){aA[0].style.cssText=aA.data(af)||"";aA.removeData(af)},mode:function(aA,aC){var aB=aA.is(":hidden");if(aC==="toggle"){aC=aB?"show":"hide"}if(aB?aC==="hide":aC==="show"){aC="none"}return aC},getBaseline:function(aB,aC){var aD,aA;switch(aB[0]){case"top":aD=0;break;case"middle":aD=0.5;break;case"bottom":aD=1;break;default:aD=aB[0]/aC.height}switch(aB[1]){case"left":aA=0;break;case"center":aA=0.5;break;case"right":aA=1;break;default:aA=aB[1]/aC.width}return{x:aA,y:aD}},createPlaceholder:function(aB){var aD,aC=aB.css("position"),aA=aB.position();aB.css({marginTop:aB.css("marginTop"),marginBottom:aB.css("marginBottom"),marginLeft:aB.css("marginLeft"),marginRight:aB.css("marginRight")}).outerWidth(aB.outerWidth()).outerHeight(aB.outerHeight());if(/^(static|relative)/.test(aC)){aC="absolute";aD=am("<"+aB[0].nodeName+">").insertAfter(aB).css({display:/^(inline|ruby)/.test(aB.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:aB.css("marginTop"),marginBottom:aB.css("marginBottom"),marginLeft:aB.css("marginLeft"),marginRight:aB.css("marginRight"),"float":aB.css("float")}).outerWidth(aB.outerWidth()).outerHeight(aB.outerHeight()).addClass("ui-effects-placeholder");aB.data(t+"placeholder",aD)}aB.css({position:aC,left:aA.left,top:aA.top});return aD},removePlaceholder:function(aA){var aC=t+"placeholder",aB=aA.data(aC);if(aB){aB.remove();aA.removeData(aC)}},cleanUp:function(aA){am.effects.restoreStyle(aA);am.effects.removePlaceholder(aA)},setTransition:function(aB,aD,aA,aC){aC=aC||{};am.each(aD,function(aF,aE){var aG=aB.cssUnit(aE);if(aG[0]>0){aC[aE]=aG[0]*aA+aG[1]}});return aC}});function ay(aB,aA,aC,aD){if(am.isPlainObject(aB)){aA=aB;aB=aB.effect}aB={effect:aB};if(aA==null){aA={}}if(am.isFunction(aA)){aD=aA;aC=null;aA={}}if(typeof aA==="number"||am.fx.speeds[aA]){aD=aC;aC=aA;aA={}}if(am.isFunction(aC)){aD=aC;aC=null}if(aA){am.extend(aB,aA)}aC=aC||aA.duration;aB.duration=am.fx.off?0:typeof aC==="number"?aC:aC in am.fx.speeds?am.fx.speeds[aC]:am.fx.speeds._default;aB.complete=aD||aA.complete;return aB}function az(aA){if(!aA||typeof aA==="number"||am.fx.speeds[aA]){return true}if(typeof aA==="string"&&!am.effects.effect[aA]){return true}if(am.isFunction(aA)){return true}if(typeof aA==="object"&&!aA.effect){return true}return false}am.fn.extend({effect:function(){var aI=ay.apply(this,arguments),aH=am.effects.effect[aI.effect],aE=aH.mode,aG=aI.queue,aD=aG||"fx",aA=aI.complete,aF=aI.mode,aB=[],aJ=function(aM){var aL=am(this),aK=am.effects.mode(aL,aF)||aE;aL.data(ar,true);aB.push(aK);if(aE&&(aK==="show"||(aK===aE&&aK==="hide"))){aL.show()}if(!aE||aK!=="none"){am.effects.saveStyle(aL)}if(am.isFunction(aM)){aM()}};if(am.fx.off||!aH){if(aF){return this[aF](aI.duration,aA)}else{return this.each(function(){if(aA){aA.call(this)}})}}function aC(aM){var aN=am(this);function aL(){aN.removeData(ar);am.effects.cleanUp(aN);if(aI.mode==="hide"){aN.hide()}aK()}function aK(){if(am.isFunction(aA)){aA.call(aN[0])}if(am.isFunction(aM)){aM()}}aI.mode=aB.shift();if(am.uiBackCompat!==false&&!aE){if(aN.is(":hidden")?aF==="hide":aF==="show"){aN[aF]();aK()}else{aH.call(aN[0],aI,aK)}}else{if(aI.mode==="none"){aN[aF]();aK()}else{aH.call(aN[0],aI,aL)}}}return aG===false?this.each(aJ).each(aC):this.queue(aD,aJ).queue(aD,aC)},show:(function(aA){return function(aC){if(az(aC)){return aA.apply(this,arguments)}else{var aB=ay.apply(this,arguments);aB.mode="show";return this.effect.call(this,aB)}}})(am.fn.show),hide:(function(aA){return function(aC){if(az(aC)){return aA.apply(this,arguments)}else{var aB=ay.apply(this,arguments);aB.mode="hide";return this.effect.call(this,aB)}}})(am.fn.hide),toggle:(function(aA){return function(aC){if(az(aC)||typeof aC==="boolean"){return aA.apply(this,arguments)}else{var aB=ay.apply(this,arguments);aB.mode="toggle";return this.effect.call(this,aB)}}})(am.fn.toggle),cssUnit:function(aA){var aB=this.css(aA),aC=[];am.each(["em","px","%","pt"],function(aD,aE){if(aB.indexOf(aE)>0){aC=[parseFloat(aB),aE]}});return aC},cssClip:function(aA){if(aA){return this.css("clip","rect("+aA.top+"px "+aA.right+"px "+aA.bottom+"px "+aA.left+"px)")}return ax(this.css("clip"),this)},transfer:function(aL,aD){var aF=am(this),aH=am(aL.to),aK=aH.css("position")==="fixed",aG=am("body"),aI=aK?aG.scrollTop():0,aJ=aK?aG.scrollLeft():0,aA=aH.offset(),aC={top:aA.top-aI,left:aA.left-aJ,height:aH.innerHeight(),width:aH.innerWidth()},aE=aF.offset(),aB=am("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(aL.className).css({top:aE.top-aI,left:aE.left-aJ,height:aF.innerHeight(),width:aF.innerWidth(),position:aK?"fixed":"absolute"}).animate(aC,aL.duration,aL.easing,function(){aB.remove();if(am.isFunction(aD)){aD()}})}});function ax(aF,aC){var aE=aC.outerWidth(),aD=aC.outerHeight(),aB=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,aA=aB.exec(aF)||["",0,aE,aD,0];return{top:parseFloat(aA[1])||0,right:aA[2]==="auto"?aE:parseFloat(aA[2]),bottom:aA[3]==="auto"?aD:parseFloat(aA[3]),left:parseFloat(aA[4])||0}}am.fx.step.clip=function(aA){if(!aA.clipInit){aA.start=am(aA.elem).cssClip();if(typeof aA.end==="string"){aA.end=ax(aA.end,aA.elem)}aA.clipInit=true}am(aA.elem).cssClip({top:aA.pos*(aA.end.top-aA.start.top)+aA.start.top,right:aA.pos*(aA.end.right-aA.start.right)+aA.start.right,bottom:aA.pos*(aA.end.bottom-aA.start.bottom)+aA.start.bottom,left:aA.pos*(aA.end.left-aA.start.left)+aA.start.left})}})();(function(){var ax={};am.each(["Quad","Cubic","Quart","Quint","Expo"],function(az,ay){ax[ay]=function(aA){return Math.pow(aA,az+2)}});am.extend(ax,{Sine:function(ay){return 1-Math.cos(ay*Math.PI/2)},Circ:function(ay){return 1-Math.sqrt(1-ay*ay)},Elastic:function(ay){return ay===0||ay===1?ay:-Math.pow(2,8*(ay-1))*Math.sin(((ay-1)*80-7.5)*Math.PI/15)},Back:function(ay){return ay*ay*(3*ay-2)},Bounce:function(aA){var ay,az=4;while(aA<((ay=Math.pow(2,--az))-1)/11){}return 1/Math.pow(4,3-az)-7.5625*Math.pow((ay*3-2)/22-aA,2)}});am.each(ax,function(az,ay){am.easing["easeIn"+az]=ay;am.easing["easeOut"+az]=function(aA){return 1-ay(1-aA)};am.easing["easeInOut"+az]=function(aA){return aA<0.5?ay(aA*2)/2:1-ay(aA*-2+2)/2}})})();var H=am.effects;
/*!
 * jQuery UI Effects Blind 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;var E=am.effects.define("blind","hide",function(az,ax){var aC={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},aA=am(this),aB=az.direction||"up",aE=aA.cssClip(),ay={clip:am.extend({},aE)},aD=am.effects.createPlaceholder(aA);ay.clip[aC[aB][0]]=ay.clip[aC[aB][1]];if(az.mode==="show"){aA.cssClip(ay.clip);if(aD){aD.css(am.effects.clipToBox(ay))}ay.clip=aE}if(aD){aD.animate(am.effects.clipToBox(ay),az.duration,az.easing)}aA.animate(ay,{queue:false,duration:az.duration,easing:az.easing,complete:ax})});
/*!
 * jQuery UI Effects Bounce 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;var z=am.effects.define("bounce",function(ay,aF){var aB,aJ,aM,ax=am(this),aE=ay.mode,aD=aE==="hide",aN=aE==="show",aO=ay.direction||"up",az=ay.distance,aC=ay.times||5,aP=aC*2+(aN||aD?1:0),aL=ay.duration/aP,aH=ay.easing,aA=(aO==="up"||aO==="down")?"top":"left",aG=(aO==="up"||aO==="left"),aK=0,aI=ax.queue().length;am.effects.createPlaceholder(ax);aM=ax.css(aA);if(!az){az=ax[aA==="top"?"outerHeight":"outerWidth"]()/3}if(aN){aJ={opacity:1};aJ[aA]=aM;ax.css("opacity",0).css(aA,aG?-az*2:az*2).animate(aJ,aL,aH)}if(aD){az=az/Math.pow(2,aC-1)}aJ={};aJ[aA]=aM;for(;aK<aC;aK++){aB={};aB[aA]=(aG?"-=":"+=")+az;ax.animate(aB,aL,aH).animate(aJ,aL,aH);az=aD?az*2:az/2}if(aD){aB={opacity:0};aB[aA]=(aG?"-=":"+=")+az;ax.animate(aB,aL,aH)}ax.queue(aF);am.effects.unshift(ax,aI,aP+1)});
/*!
 * jQuery UI Effects Clip 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;var ag=am.effects.define("clip","hide",function(aF,aB){var ay,az={},aC=am(this),aE=aF.direction||"vertical",aD=aE==="both",ax=aD||aE==="horizontal",aA=aD||aE==="vertical";ay=aC.cssClip();az.clip={top:aA?(ay.bottom-ay.top)/2:ay.top,right:ax?(ay.right-ay.left)/2:ay.right,bottom:aA?(ay.bottom-ay.top)/2:ay.bottom,left:ax?(ay.right-ay.left)/2:ay.left};am.effects.createPlaceholder(aC);if(aF.mode==="show"){aC.cssClip(az.clip);az.clip=ay}aC.animate(az,{queue:false,duration:aF.duration,easing:aF.easing,complete:aB})});
/*!
 * jQuery UI Effects Drop 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;var X=am.effects.define("drop","hide",function(aH,aA){var ax,aB=am(this),aD=aH.mode,aF=aD==="show",aE=aH.direction||"left",ay=(aE==="up"||aE==="down")?"top":"left",aG=(aE==="up"||aE==="left")?"-=":"+=",aC=(aG==="+=")?"-=":"+=",az={opacity:0};am.effects.createPlaceholder(aB);ax=aH.distance||aB[ay==="top"?"outerHeight":"outerWidth"](true)/2;az[ay]=aG+ax;if(aF){aB.css(az);az[ay]=aC+ax;az.opacity=1}aB.animate(az,{queue:false,duration:aH.duration,easing:aH.easing,complete:aA})});
/*!
 * jQuery UI Effects Explode 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;var av=am.effects.define("explode","hide",function(ay,aK){var aN,aM,aA,aI,aH,aF,aE=ay.pieces?Math.round(Math.sqrt(ay.pieces)):3,az=aE,ax=am(this),aG=ay.mode,aO=aG==="show",aC=ax.show().css("visibility","hidden").offset(),aL=Math.ceil(ax.outerWidth()/az),aJ=Math.ceil(ax.outerHeight()/aE),aD=[];function aP(){aD.push(this);if(aD.length===aE*az){aB()}}for(aN=0;aN<aE;aN++){aI=aC.top+aN*aJ;aF=aN-(aE-1)/2;for(aM=0;aM<az;aM++){aA=aC.left+aM*aL;aH=aM-(az-1)/2;ax.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-aM*aL,top:-aN*aJ}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:aL,height:aJ,left:aA+(aO?aH*aL:0),top:aI+(aO?aF*aJ:0),opacity:aO?0:1}).animate({left:aA+(aO?0:aH*aL),top:aI+(aO?0:aF*aJ),opacity:aO?1:0},ay.duration||500,ay.easing,aP)}}function aB(){ax.css({visibility:"visible"});am(aD).remove();aK()}});
/*!
 * jQuery UI Effects Fade 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;var aw=am.effects.define("fade","toggle",function(az,ay){var ax=az.mode==="show";am(this).css("opacity",ax?0:1).animate({opacity:ax?1:0},{queue:false,duration:az.duration,easing:az.easing,complete:ay})});
/*!
 * jQuery UI Effects Fold 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;var u=am.effects.define("fold","hide",function(aN,aC){var aD=am(this),aE=aN.mode,aK=aE==="show",aF=aE==="hide",aM=aN.size||15,aG=/([0-9]+)%/.exec(aM),aL=!!aN.horizFirst,aA=aL?["right","bottom"]:["bottom","right"],aB=aN.duration/2,aJ=am.effects.createPlaceholder(aD),ay=aD.cssClip(),aI={clip:am.extend({},ay)},aH={clip:am.extend({},ay)},ax=[ay[aA[0]],ay[aA[1]]],az=aD.queue().length;if(aG){aM=parseInt(aG[1],10)/100*ax[aF?0:1]}aI.clip[aA[0]]=aM;aH.clip[aA[0]]=aM;aH.clip[aA[1]]=0;if(aK){aD.cssClip(aH.clip);if(aJ){aJ.css(am.effects.clipToBox(aH))}aH.clip=ay}aD.queue(function(aO){if(aJ){aJ.animate(am.effects.clipToBox(aI),aB,aN.easing).animate(am.effects.clipToBox(aH),aB,aN.easing)}aO()}).animate(aI,aB,aN.easing).animate(aH,aB,aN.easing).queue(aC);am.effects.unshift(aD,az,4)});
/*!
 * jQuery UI Effects Highlight 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;var J=am.effects.define("highlight","show",function(ay,ax){var az=am(this),aA={backgroundColor:az.css("backgroundColor")};if(ay.mode==="hide"){aA.opacity=0}am.effects.saveStyle(az);az.css({backgroundImage:"none",backgroundColor:ay.color||"#ffff99"}).animate(aA,{queue:false,duration:ay.duration,easing:ay.easing,complete:ax})});
/*!
 * jQuery UI Effects Size 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;var U=am.effects.define("size",function(aA,aG){var aE,aF,aK,ax=am(this),aC=["fontSize"],aL=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],az=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],aD=aA.mode,aJ=aD!=="effect",aO=aA.scale||"both",aM=aA.origin||["middle","center"],aN=ax.css("position"),aB=ax.position(),aH=am.effects.scaledDimensions(ax),aI=aA.from||aH,ay=aA.to||am.effects.scaledDimensions(ax,0);am.effects.createPlaceholder(ax);if(aD==="show"){aK=aI;aI=ay;ay=aK}aF={from:{y:aI.height/aH.height,x:aI.width/aH.width},to:{y:ay.height/aH.height,x:ay.width/aH.width}};if(aO==="box"||aO==="both"){if(aF.from.y!==aF.to.y){aI=am.effects.setTransition(ax,aL,aF.from.y,aI);ay=am.effects.setTransition(ax,aL,aF.to.y,ay)}if(aF.from.x!==aF.to.x){aI=am.effects.setTransition(ax,az,aF.from.x,aI);ay=am.effects.setTransition(ax,az,aF.to.x,ay)}}if(aO==="content"||aO==="both"){if(aF.from.y!==aF.to.y){aI=am.effects.setTransition(ax,aC,aF.from.y,aI);ay=am.effects.setTransition(ax,aC,aF.to.y,ay)}}if(aM){aE=am.effects.getBaseline(aM,aH);aI.top=(aH.outerHeight-aI.outerHeight)*aE.y+aB.top;aI.left=(aH.outerWidth-aI.outerWidth)*aE.x+aB.left;ay.top=(aH.outerHeight-ay.outerHeight)*aE.y+aB.top;ay.left=(aH.outerWidth-ay.outerWidth)*aE.x+aB.left}ax.css(aI);if(aO==="content"||aO==="both"){aL=aL.concat(["marginTop","marginBottom"]).concat(aC);az=az.concat(["marginLeft","marginRight"]);ax.find("*[width]").each(function(){var aS=am(this),aP=am.effects.scaledDimensions(aS),aR={height:aP.height*aF.from.y,width:aP.width*aF.from.x,outerHeight:aP.outerHeight*aF.from.y,outerWidth:aP.outerWidth*aF.from.x},aQ={height:aP.height*aF.to.y,width:aP.width*aF.to.x,outerHeight:aP.height*aF.to.y,outerWidth:aP.width*aF.to.x};if(aF.from.y!==aF.to.y){aR=am.effects.setTransition(aS,aL,aF.from.y,aR);aQ=am.effects.setTransition(aS,aL,aF.to.y,aQ)}if(aF.from.x!==aF.to.x){aR=am.effects.setTransition(aS,az,aF.from.x,aR);aQ=am.effects.setTransition(aS,az,aF.to.x,aQ)}if(aJ){am.effects.saveStyle(aS)}aS.css(aR);aS.animate(aQ,aA.duration,aA.easing,function(){if(aJ){am.effects.restoreStyle(aS)}})})}ax.animate(ay,{queue:false,duration:aA.duration,easing:aA.easing,complete:function(){var aP=ax.offset();if(ay.opacity===0){ax.css("opacity",aI.opacity)}if(!aJ){ax.css("position",aN==="static"?"relative":aN).offset(aP);am.effects.saveStyle(ax)}aG()}})});
/*!
 * jQuery UI Effects Scale 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;var P=am.effects.define("scale",function(ay,ax){var az=am(this),aC=ay.mode,aA=parseInt(ay.percent,10)||(parseInt(ay.percent,10)===0?0:(aC!=="effect"?0:100)),aB=am.extend(true,{from:am.effects.scaledDimensions(az),to:am.effects.scaledDimensions(az,aA,ay.direction||"both"),origin:ay.origin||["middle","center"]},ay);if(ay.fade){aB.from.opacity=1;aB.to.opacity=0}am.effects.effect.size.call(this,aB,ax)});
/*!
 * jQuery UI Effects Puff 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;var A=am.effects.define("puff","hide",function(ay,ax){var az=am.extend(true,{},ay,{fade:true,percent:parseInt(ay.percent,10)||150});am.effects.effect.scale.call(this,az,ax)});
/*!
 * jQuery UI Effects Pulsate 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;var x=am.effects.define("pulsate","show",function(aI,az){var aB=am(this),aC=aI.mode,aG=aC==="show",aD=aC==="hide",aH=aG||aD,aE=((aI.times||5)*2)+(aH?1:0),ay=aI.duration/aE,aF=0,aA=1,ax=aB.queue().length;if(aG||!aB.is(":visible")){aB.css("opacity",0).show();aF=1}for(;aA<aE;aA++){aB.animate({opacity:aF},ay,aI.easing);aF=1-aF}aB.animate({opacity:aF},ay,aI.easing);aB.queue(az);am.effects.unshift(aB,ax,aE+1)});
/*!
 * jQuery UI Effects Shake 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;var al=am.effects.define("shake",function(aL,aE){var aF=1,aG=am(this),aI=aL.direction||"left",ax=aL.distance||20,ay=aL.times||3,aJ=ay*2+1,aC=Math.round(aL.duration/aJ),aB=(aI==="up"||aI==="down")?"top":"left",az=(aI==="up"||aI==="left"),aD={},aK={},aH={},aA=aG.queue().length;am.effects.createPlaceholder(aG);aD[aB]=(az?"-=":"+=")+ax;aK[aB]=(az?"+=":"-=")+ax*2;aH[aB]=(az?"-=":"+=")+ax*2;aG.animate(aD,aC,aL.easing);for(;aF<ay;aF++){aG.animate(aK,aC,aL.easing).animate(aH,aC,aL.easing)}aG.animate(aK,aC,aL.easing).animate(aD,aC/2,aL.easing).queue(aE);am.effects.unshift(aG,aA,aJ+1)});
/*!
 * jQuery UI Effects Slide 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;var ak=am.effects.define("slide","show",function(aI,aE){var aB,ay,aF=am(this),az={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},aG=aI.mode,aH=aI.direction||"left",aC=(aH==="up"||aH==="down")?"top":"left",aA=(aH==="up"||aH==="left"),ax=aI.distance||aF[aC==="top"?"outerHeight":"outerWidth"](true),aD={};am.effects.createPlaceholder(aF);aB=aF.cssClip();ay=aF.position()[aC];aD[aC]=(aA?-1:1)*ax+ay;aD.clip=aF.cssClip();aD.clip[az[aH][1]]=aD.clip[az[aH][0]];if(aG==="show"){aF.cssClip(aD.clip);aF.css(aC,aD[aC]);aD.clip=aB;aD[aC]=ay}aF.animate(aD,{queue:false,duration:aI.duration,easing:aI.easing,complete:aE})});
/*!
 * jQuery UI Effects Transfer 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;var H;if(am.uiBackCompat!==false){H=am.effects.define("transfer",function(ay,ax){am(this).transfer(ay,ax)})}var N=H;
/*!
 * jQuery UI Focusable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;am.ui.focusable=function(aA,ay){var aD,aB,az,aC,ax,aE=aA.nodeName.toLowerCase();if("area"===aE){aD=aA.parentNode;aB=aD.name;if(!aA.href||!aB||aD.nodeName.toLowerCase()!=="map"){return false}az=am("img[usemap='#"+aB+"']");return az.length>0&&az.is(":visible")}if(/^(input|select|textarea|button|object)$/.test(aE)){aC=!aA.disabled;if(aC){ax=am(aA).closest("fieldset")[0];if(ax){aC=!ax.disabled}}}else{if("a"===aE){aC=aA.href||ay}else{aC=ay}}return aC&&am(aA).is(":visible")&&o(am(aA))};function o(ay){var ax=ay.css("visibility");while(ax==="inherit"){ay=ay.parent();ax=ay.css("visibility")}return ax!=="hidden"}am.extend(am.expr[":"],{focusable:function(ax){return am.ui.focusable(ax,am.attr(ax,"tabindex")!=null)}});var au=am.ui.focusable;var i=am.fn.form=function(){return typeof this[0].form==="string"?this.closest("form"):am(this[0].form)};
/*!
 * jQuery UI Form Reset Mixin 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;var O=am.ui.formResetMixin={_formResetHandler:function(){var ax=am(this);setTimeout(function(){var ay=ax.data("ui-form-reset-instances");am.each(ay,function(){this.refresh()})})},_bindFormResetHandler:function(){this.form=this.element.form();if(!this.form.length){return}var ax=this.form.data("ui-form-reset-instances")||[];if(!ax.length){this.form.on("reset.ui-form-reset",this._formResetHandler)}ax.push(this);this.form.data("ui-form-reset-instances",ax)},_unbindFormResetHandler:function(){if(!this.form.length){return}var ax=this.form.data("ui-form-reset-instances");ax.splice(am.inArray(this,ax),1);if(ax.length){this.form.data("ui-form-reset-instances",ax)}else{this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};
/*!
 * jQuery UI Support for jQuery core 1.7.x 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 */
;if(am.fn.jquery.substring(0,3)==="1.7"){am.each(["Width","Height"],function(az,ax){var ay=ax==="Width"?["Left","Right"]:["Top","Bottom"],aA=ax.toLowerCase(),aC={innerWidth:am.fn.innerWidth,innerHeight:am.fn.innerHeight,outerWidth:am.fn.outerWidth,outerHeight:am.fn.outerHeight};function aB(aF,aE,aD,aG){am.each(ay,function(){aE-=parseFloat(am.css(aF,"padding"+this))||0;if(aD){aE-=parseFloat(am.css(aF,"border"+this+"Width"))||0}if(aG){aE-=parseFloat(am.css(aF,"margin"+this))||0}});return aE}am.fn["inner"+ax]=function(aD){if(aD===undefined){return aC["inner"+ax].call(this)}return this.each(function(){am(this).css(aA,aB(this,aD)+"px")})};am.fn["outer"+ax]=function(aD,aE){if(typeof aD!=="number"){return aC["outer"+ax].call(this,aD)}return this.each(function(){am(this).css(aA,aB(this,aD,true,aE)+"px")})}});am.fn.addBack=function(ax){return this.add(ax==null?this.prevObject:this.prevObject.filter(ax))}}
/*!
 * jQuery UI Keycode 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;var n=am.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};var h=am.ui.escapeSelector=(function(){var ax=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g;return function(ay){return ay.replace(ax,"\\$1")}})();
/*!
 * jQuery UI Labels 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;var ao=am.fn.labels=function(){var ay,ax,aB,aA,az;if(this[0].labels&&this[0].labels.length){return this.pushStack(this[0].labels)}aA=this.eq(0).parents("label");aB=this.attr("id");if(aB){ay=this.eq(0).parents().last();az=ay.add(ay.length?ay.siblings():this.siblings());ax="label[for='"+am.ui.escapeSelector(aB)+"']";aA=aA.add(az.find(ax).addBack(ax))}return this.pushStack(aA)};
/*!
 * jQuery UI Scroll Parent 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;var ab=am.fn.scrollParent=function(az){var ay=this.css("position"),ax=ay==="absolute",aA=az?/(auto|scroll|hidden)/:/(auto|scroll)/,aB=this.parents().filter(function(){var aC=am(this);if(ax&&aC.css("position")==="static"){return false}return aA.test(aC.css("overflow")+aC.css("overflow-y")+aC.css("overflow-x"))}).eq(0);return ay==="fixed"||!aB.length?am(this[0].ownerDocument||document):aB};
/*!
 * jQuery UI Tabbable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;var f=am.extend(am.expr[":"],{tabbable:function(az){var ay=am.attr(az,"tabindex"),ax=ay!=null;return(!ax||ay>=0)&&am.ui.focusable(az,ax)}});
/*!
 * jQuery UI Unique ID 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;var ac=am.fn.extend({uniqueId:(function(){var ax=0;return function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++ax)}})}})(),removeUniqueId:function(){return this.each(function(){if(/^ui-id-\d+$/.test(this.id)){am(this).removeAttr("id")}})}});
/*!
 * jQuery UI Accordion 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;var d=am.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:false,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var ax=this.options;this.prevShow=this.prevHide=am();this._addClass("ui-accordion","ui-widget ui-helper-reset");this.element.attr("role","tablist");if(!ax.collapsible&&(ax.active===false||ax.active==null)){ax.active=0}this._processPanels();if(ax.active<0){ax.active+=this.headers.length}this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:!this.active.length?am():this.active.next()}},_createIcons:function(){var az,ay,ax=this.options.icons;if(ax){az=am("<span>");this._addClass(az,"ui-accordion-header-icon","ui-icon "+ax.header);az.prependTo(this.headers);ay=this.active.children(".ui-accordion-header-icon");this._removeClass(ay,ax.header)._addClass(ay,null,ax.activeHeader)._addClass(this.headers,"ui-accordion-icons")}},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons");this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var ax;this.element.removeAttr("role");this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId();this._destroyIcons();ax=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId();if(this.options.heightStyle!=="content"){ax.css("height","")}},_setOption:function(ax,ay){if(ax==="active"){this._activate(ay);return}if(ax==="event"){if(this.options.event){this._off(this.headers,this.options.event)}this._setupEvents(ay)}this._super(ax,ay);if(ax==="collapsible"&&!ay&&this.options.active===false){this._activate(0)}if(ax==="icons"){this._destroyIcons();if(ay){this._createIcons()}}},_setOptionDisabled:function(ax){this._super(ax);this.element.attr("aria-disabled",ax);this._toggleClass(null,"ui-state-disabled",!!ax);this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!ax)},_keydown:function(aA){if(aA.altKey||aA.ctrlKey){return}var aB=am.ui.keyCode,az=this.headers.length,ax=this.headers.index(aA.target),ay=false;switch(aA.keyCode){case aB.RIGHT:case aB.DOWN:ay=this.headers[(ax+1)%az];break;case aB.LEFT:case aB.UP:ay=this.headers[(ax-1+az)%az];break;case aB.SPACE:case aB.ENTER:this._eventHandler(aA);break;case aB.HOME:ay=this.headers[0];break;case aB.END:ay=this.headers[az-1];break}if(ay){am(aA.target).attr("tabIndex",-1);am(ay).attr("tabIndex",0);am(ay).trigger("focus");aA.preventDefault()}},_panelKeyDown:function(ax){if(ax.keyCode===am.ui.keyCode.UP&&ax.ctrlKey){am(ax.currentTarget).prev().trigger("focus")}},refresh:function(){var ax=this.options;this._processPanels();if((ax.active===false&&ax.collapsible===true)||!this.headers.length){ax.active=false;this.active=am()}else{if(ax.active===false){this._activate(0)}else{if(this.active.length&&!am.contains(this.element[0],this.active[0])){if(this.headers.length===this.headers.find(".ui-state-disabled").length){ax.active=false;this.active=am()}else{this._activate(Math.max(0,ax.active-1))}}else{ax.active=this.headers.index(this.active)}}}this._destroyIcons();this._refresh()},_processPanels:function(){var ay=this.headers,ax=this.panels;this.headers=this.element.find(this.options.header);this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default");this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide();this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content");if(ax){this._off(ay.not(this.headers));this._off(ax.not(this.panels))}},_refresh:function(){var aA,ay=this.options,ax=ay.heightStyle,az=this.element.parent();this.active=this._findActive(ay.active);this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed");this._addClass(this.active.next(),"ui-accordion-content-active");this.active.next().show();this.headers.attr("role","tab").each(function(){var aE=am(this),aD=aE.uniqueId().attr("id"),aB=aE.next(),aC=aB.uniqueId().attr("id");aE.attr("aria-controls",aC);aB.attr("aria-labelledby",aD)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();if(!this.active.length){this.headers.eq(0).attr("tabIndex",0)}else{this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"})}this._createIcons();this._setupEvents(ay.event);if(ax==="fill"){aA=az.height();this.element.siblings(":visible").each(function(){var aC=am(this),aB=aC.css("position");if(aB==="absolute"||aB==="fixed"){return}aA-=aC.outerHeight(true)});this.headers.each(function(){aA-=am(this).outerHeight(true)});this.headers.next().each(function(){am(this).height(Math.max(0,aA-am(this).innerHeight()+am(this).height()))}).css("overflow","auto")}else{if(ax==="auto"){aA=0;this.headers.next().each(function(){var aB=am(this).is(":visible");if(!aB){am(this).show()}aA=Math.max(aA,am(this).css("height","").height());if(!aB){am(this).hide()}}).height(aA)}}},_activate:function(ax){var ay=this._findActive(ax)[0];if(ay===this.active[0]){return}ay=ay||this.active[0];this._eventHandler({target:ay,currentTarget:ay,preventDefault:am.noop})},_findActive:function(ax){return typeof ax==="number"?this.headers.eq(ax):am()},_setupEvents:function(ay){var ax={keydown:"_keydown"};if(ay){am.each(ay.split(" "),function(aA,az){ax[az]="_eventHandler"})}this._off(this.headers.add(this.headers.next()));this._on(this.headers,ax);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(ay){var az,aA,aH=this.options,aC=this.active,aD=am(ay.currentTarget),aF=aD[0]===aC[0],aB=aF&&aH.collapsible,ax=aB?am():aD.next(),aE=aC.next(),aG={oldHeader:aC,oldPanel:aE,newHeader:aB?am():aD,newPanel:ax};ay.preventDefault();if((aF&&!aH.collapsible)||(this._trigger("beforeActivate",ay,aG)===false)){return}aH.active=aB?false:this.headers.index(aD);this.active=aF?am():aD;this._toggle(aG);this._removeClass(aC,"ui-accordion-header-active","ui-state-active");if(aH.icons){az=aC.children(".ui-accordion-header-icon");this._removeClass(az,null,aH.icons.activeHeader)._addClass(az,null,aH.icons.header)}if(!aF){this._removeClass(aD,"ui-accordion-header-collapsed")._addClass(aD,"ui-accordion-header-active","ui-state-active");if(aH.icons){aA=aD.children(".ui-accordion-header-icon");this._removeClass(aA,null,aH.icons.header)._addClass(aA,null,aH.icons.activeHeader)}this._addClass(aD.next(),"ui-accordion-content-active")}},_toggle:function(az){var ax=az.newPanel,ay=this.prevShow.length?this.prevShow:az.oldPanel;this.prevShow.add(this.prevHide).stop(true,true);this.prevShow=ax;this.prevHide=ay;if(this.options.animate){this._animate(ax,ay,az)}else{ay.hide();ax.show();this._toggleComplete(az)}ay.attr({"aria-hidden":"true"});ay.prev().attr({"aria-selected":"false","aria-expanded":"false"});if(ax.length&&ay.length){ay.prev().attr({tabIndex:-1,"aria-expanded":"false"})}else{if(ax.length){this.headers.filter(function(){return parseInt(am(this).attr("tabIndex"),10)===0}).attr("tabIndex",-1)}}ax.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(ax,aG,aC){var aF,aE,aB,aD=this,aH=0,aA=ax.css("box-sizing"),aI=ax.length&&(!aG.length||(ax.index()<aG.index())),az=this.options.animate||{},aJ=aI&&az.down||az,ay=function(){aD._toggleComplete(aC)};if(typeof aJ==="number"){aB=aJ}if(typeof aJ==="string"){aE=aJ}aE=aE||aJ.easing||az.easing;aB=aB||aJ.duration||az.duration;if(!aG.length){return ax.animate(this.showProps,aB,aE,ay)}if(!ax.length){return aG.animate(this.hideProps,aB,aE,ay)}aF=ax.show().outerHeight();aG.animate(this.hideProps,{duration:aB,easing:aE,step:function(aK,aL){aL.now=Math.round(aK)}});ax.hide().animate(this.showProps,{duration:aB,easing:aE,complete:ay,step:function(aK,aL){aL.now=Math.round(aK);if(aL.prop!=="height"){if(aA==="content-box"){aH+=aL.now}}else{if(aD.options.heightStyle!=="content"){aL.now=Math.round(aF-aG.outerHeight()-aH);aH=0}}}})},_toggleComplete:function(az){var ax=az.oldPanel,ay=ax.prev();this._removeClass(ax,"ui-accordion-content-active");this._removeClass(ay,"ui-accordion-header-active")._addClass(ay,"ui-accordion-header-collapsed");if(ax.length){ax.parent()[0].className=ax.parent()[0].className}this._trigger("activate",null,az)}});var j=am.ui.safeActiveElement=function(ax){var az;try{az=ax.activeElement}catch(ay){az=ax.body}if(!az){az=ax.body}if(!az.nodeName){az=ax.body}return az};
/*!
 * jQuery UI Menu 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;var p=am.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=false;this.element.uniqueId().attr({role:this.options.role,tabIndex:0});this._addClass("ui-menu","ui-widget ui-widget-content");this._on({"mousedown .ui-menu-item":function(ax){ax.preventDefault()},"click .ui-menu-item":function(ax){var az=am(ax.target);var ay=am(am.ui.safeActiveElement(this.document[0]));if(!this.mouseHandled&&az.not(".ui-state-disabled").length){this.select(ax);if(!ax.isPropagationStopped()){this.mouseHandled=true}if(az.has(".ui-menu").length){this.expand(ax)}else{if(!this.element.is(":focus")&&ay.closest(".ui-menu").length){this.element.trigger("focus",[true]);if(this.active&&this.active.parents(".ui-menu").length===1){clearTimeout(this.timer)}}}}},"mouseenter .ui-menu-item":function(ax){if(this.previousFilter){return}var ay=am(ax.target).closest(".ui-menu-item"),az=am(ax.currentTarget);if(ay[0]!==az[0]){return}this._removeClass(az.siblings().children(".ui-state-active"),null,"ui-state-active");this.focus(ax,az)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(az,ax){var ay=this.active||this.element.find(this.options.items).eq(0);if(!ax){this.focus(az,ay)}},blur:function(ax){this._delay(function(){var ay=!am.contains(this.element[0],am.ui.safeActiveElement(this.document[0]));if(ay){this.collapseAll(ax)}})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(ax){if(this._closeOnDocumentClick(ax)){this.collapseAll(ax)}this.mouseHandled=false}})},_destroy:function(){var ay=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),ax=ay.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show();ax.children().each(function(){var az=am(this);if(az.data("ui-menu-submenu-caret")){az.remove()}})},_keydown:function(aB){var ay,aA,aC,az,ax=true;switch(aB.keyCode){case am.ui.keyCode.PAGE_UP:this.previousPage(aB);break;case am.ui.keyCode.PAGE_DOWN:this.nextPage(aB);break;case am.ui.keyCode.HOME:this._move("first","first",aB);break;case am.ui.keyCode.END:this._move("last","last",aB);break;case am.ui.keyCode.UP:this.previous(aB);break;case am.ui.keyCode.DOWN:this.next(aB);break;case am.ui.keyCode.LEFT:this.collapse(aB);break;case am.ui.keyCode.RIGHT:if(this.active&&!this.active.is(".ui-state-disabled")){this.expand(aB)}break;case am.ui.keyCode.ENTER:case am.ui.keyCode.SPACE:this._activate(aB);break;case am.ui.keyCode.ESCAPE:this.collapse(aB);break;default:ax=false;aA=this.previousFilter||"";az=false;aC=aB.keyCode>=96&&aB.keyCode<=105?(aB.keyCode-96).toString():String.fromCharCode(aB.keyCode);clearTimeout(this.filterTimer);if(aC===aA){az=true}else{aC=aA+aC}ay=this._filterMenuItems(aC);ay=az&&ay.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):ay;if(!ay.length){aC=String.fromCharCode(aB.keyCode);ay=this._filterMenuItems(aC)}if(ay.length){this.focus(aB,ay);this.previousFilter=aC;this.filterTimer=this._delay(function(){delete this.previousFilter},1000)}else{delete this.previousFilter}}if(ax){aB.preventDefault()}},_activate:function(ax){if(this.active&&!this.active.is(".ui-state-disabled")){if(this.active.children("[aria-haspopup='true']").length){this.expand(ax)}else{this.select(ax)}}},refresh:function(){var aE,az,aC,aA,ax,aD=this,aB=this.options.icons.submenu,ay=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length);aC=ay.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var aH=am(this),aF=aH.prev(),aG=am("<span>").data("ui-menu-submenu-caret",true);aD._addClass(aG,"ui-menu-icon","ui-icon "+aB);aF.attr("aria-haspopup","true").prepend(aG);aH.attr("aria-labelledby",aF.attr("id"))});this._addClass(aC,"ui-menu","ui-widget ui-widget-content ui-front");aE=ay.add(this.element);az=aE.find(this.options.items);az.not(".ui-menu-item").each(function(){var aF=am(this);if(aD._isDivider(aF)){aD._addClass(aF,"ui-menu-divider","ui-widget-content")}});aA=az.not(".ui-menu-item, .ui-menu-divider");ax=aA.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()});this._addClass(aA,"ui-menu-item")._addClass(ax,"ui-menu-item-wrapper");az.filter(".ui-state-disabled").attr("aria-disabled","true");if(this.active&&!am.contains(this.element[0],this.active[0])){this.blur()}},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(ay,az){if(ay==="icons"){var ax=this.element.find(".ui-menu-icon");this._removeClass(ax,null,this.options.icons.submenu)._addClass(ax,null,az.submenu)}this._super(ay,az)},_setOptionDisabled:function(ax){this._super(ax);this.element.attr("aria-disabled",String(ax));this._toggleClass(null,"ui-state-disabled",!!ax)},focus:function(az,ay){var aB,aA,ax;this.blur(az,az&&az.type==="focus");this._scrollIntoView(ay);this.active=ay.first();aA=this.active.children(".ui-menu-item-wrapper");this._addClass(aA,null,"ui-state-active");if(this.options.role){this.element.attr("aria-activedescendant",aA.attr("id"))}ax=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper");this._addClass(ax,null,"ui-state-active");if(az&&az.type==="keydown"){this._close()}else{this.timer=this._delay(function(){this._close()},this.delay)}aB=ay.children(".ui-menu");if(aB.length&&az&&(/^mouse/.test(az.type))){this._startOpening(aB)}this.activeMenu=ay.parent();this._trigger("focus",az,{item:ay})},_scrollIntoView:function(aA){var aD,az,aB,ax,ay,aC;if(this._hasScroll()){aD=parseFloat(am.css(this.activeMenu[0],"borderTopWidth"))||0;az=parseFloat(am.css(this.activeMenu[0],"paddingTop"))||0;aB=aA.offset().top-this.activeMenu.offset().top-aD-az;ax=this.activeMenu.scrollTop();ay=this.activeMenu.height();aC=aA.outerHeight();if(aB<0){this.activeMenu.scrollTop(ax+aB)}else{if(aB+aC>ay){this.activeMenu.scrollTop(ax+aB-ay+aC)}}}},blur:function(ay,ax){if(!ax){clearTimeout(this.timer)}if(!this.active){return}this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active");this._trigger("blur",ay,{item:this.active});this.active=null},_startOpening:function(ax){clearTimeout(this.timer);if(ax.attr("aria-hidden")!=="true"){return}this.timer=this._delay(function(){this._close();this._open(ax)},this.delay)},_open:function(ay){var ax=am.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(ay.parents(".ui-menu")).hide().attr("aria-hidden","true");ay.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(ax)},collapseAll:function(ay,ax){clearTimeout(this.timer);this.timer=this._delay(function(){var az=ax?this.element:am(ay&&ay.target).closest(this.element.find(".ui-menu"));if(!az.length){az=this.element}this._close(az);this.blur(ay);this._removeClass(az.find(".ui-state-active"),null,"ui-state-active");this.activeMenu=az},this.delay)},_close:function(ax){if(!ax){ax=this.active?this.active.parent():this.element}ax.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(ax){return !am(ax.target).closest(".ui-menu").length},_isDivider:function(ax){return !/[^\-\u2014\u2013\s]/.test(ax.text())},collapse:function(ay){var ax=this.active&&this.active.parent().closest(".ui-menu-item",this.element);if(ax&&ax.length){this._close();this.focus(ay,ax)}},expand:function(ay){var ax=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();if(ax&&ax.length){this._open(ax.parent());this._delay(function(){this.focus(ay,ax)})}},next:function(ax){this._move("next","first",ax)},previous:function(ax){this._move("prev","last",ax)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(aA,ay,az){var ax;if(this.active){if(aA==="first"||aA==="last"){ax=this.active[aA==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1)}else{ax=this.active[aA+"All"](".ui-menu-item").eq(0)}}if(!ax||!ax.length||!this.active){ax=this.activeMenu.find(this.options.items)[ay]()}this.focus(az,ax)},nextPage:function(az){var ay,aA,ax;if(!this.active){this.next(az);return}if(this.isLastItem()){return}if(this._hasScroll()){aA=this.active.offset().top;ax=this.element.height();this.active.nextAll(".ui-menu-item").each(function(){ay=am(this);return ay.offset().top-aA-ax<0});this.focus(az,ay)}else{this.focus(az,this.activeMenu.find(this.options.items)[!this.active?"first":"last"]())}},previousPage:function(az){var ay,aA,ax;if(!this.active){this.next(az);return}if(this.isFirstItem()){return}if(this._hasScroll()){aA=this.active.offset().top;ax=this.element.height();this.active.prevAll(".ui-menu-item").each(function(){ay=am(this);return ay.offset().top-aA+ax>0});this.focus(az,ay)}else{this.focus(az,this.activeMenu.find(this.options.items).first())}},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(ax){this.active=this.active||am(ax.target).closest(".ui-menu-item");var ay={item:this.active};if(!this.active.has(".ui-menu").length){this.collapseAll(ax,true)}this._trigger("select",ax,ay)},_filterMenuItems:function(az){var ax=az.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),ay=new RegExp("^"+ax,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return ay.test(am.trim(am(this).children(".ui-menu-item-wrapper").text()))})}});
/*!
 * jQuery UI Autocomplete 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;am.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var az,ax,aA,aC=this.element[0].nodeName.toLowerCase(),aB=aC==="textarea",ay=aC==="input";this.isMultiLine=aB||!ay&&this._isContentEditable(this.element);this.valueMethod=this.element[aB||ay?"val":"text"];this.isNewMenu=true;this._addClass("ui-autocomplete-input");this.element.attr("autocomplete","off");this._on(this.element,{keydown:function(aD){if(this.element.prop("readOnly")){az=true;aA=true;ax=true;return}az=false;aA=false;ax=false;var aE=am.ui.keyCode;switch(aD.keyCode){case aE.PAGE_UP:az=true;this._move("previousPage",aD);break;case aE.PAGE_DOWN:az=true;this._move("nextPage",aD);break;case aE.UP:az=true;this._keyEvent("previous",aD);break;case aE.DOWN:az=true;this._keyEvent("next",aD);break;case aE.ENTER:if(this.menu.active){az=true;aD.preventDefault();this.menu.select(aD)}break;case aE.TAB:if(this.menu.active){this.menu.select(aD)}break;case aE.ESCAPE:if(this.menu.element.is(":visible")){if(!this.isMultiLine){this._value(this.term)}this.close(aD);aD.preventDefault()}break;default:ax=true;this._searchTimeout(aD);break}},keypress:function(aD){if(az){az=false;if(!this.isMultiLine||this.menu.element.is(":visible")){aD.preventDefault()}return}if(ax){return}var aE=am.ui.keyCode;switch(aD.keyCode){case aE.PAGE_UP:this._move("previousPage",aD);break;case aE.PAGE_DOWN:this._move("nextPage",aD);break;case aE.UP:this._keyEvent("previous",aD);break;case aE.DOWN:this._keyEvent("next",aD);break}},input:function(aD){if(aA){aA=false;aD.preventDefault();return}this._searchTimeout(aD)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(aD){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching);this.close(aD);this._change(aD)}});this._initSource();this.menu=am("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance");this._addClass(this.menu.element,"ui-autocomplete","ui-front");this._on(this.menu.element,{mousedown:function(aD){aD.preventDefault();this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;if(this.element[0]!==am.ui.safeActiveElement(this.document[0])){this.element.trigger("focus")}})},menufocus:function(aF,aG){var aD,aE;if(this.isNewMenu){this.isNewMenu=false;if(aF.originalEvent&&/^mouse/.test(aF.originalEvent.type)){this.menu.blur();this.document.one("mousemove",function(){am(aF.target).trigger(aF.originalEvent)});return}}aE=aG.item.data("ui-autocomplete-item");if(false!==this._trigger("focus",aF,{item:aE})){if(aF.originalEvent&&/^key/.test(aF.originalEvent.type)){this._value(aE.value)}}aD=aG.item.attr("aria-label")||aE.value;if(aD&&am.trim(aD).length){this.liveRegion.children().hide();am("<div>").text(aD).appendTo(this.liveRegion)}},menuselect:function(aF,aG){var aE=aG.item.data("ui-autocomplete-item"),aD=this.previous;if(this.element[0]!==am.ui.safeActiveElement(this.document[0])){this.element.trigger("focus");this.previous=aD;this._delay(function(){this.previous=aD;this.selectedItem=aE})}if(false!==this._trigger("select",aF,{item:aE})){this._value(aE.value)}this.term=this._value();this.close(aF);this.selectedItem=aE}});this.liveRegion=am("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(ax,ay){this._super(ax,ay);if(ax==="source"){this._initSource()}if(ax==="appendTo"){this.menu.element.appendTo(this._appendTo())}if(ax==="disabled"&&ay&&this.xhr){this.xhr.abort()}},_isEventTargetInWidget:function(ax){var ay=this.menu.element[0];return ax.target===this.element[0]||ax.target===ay||am.contains(ay,ax.target)},_closeOnClickOutside:function(ax){if(!this._isEventTargetInWidget(ax)){this.close()}},_appendTo:function(){var ax=this.options.appendTo;if(ax){ax=ax.jquery||ax.nodeType?am(ax):this.document.find(ax).eq(0)}if(!ax||!ax[0]){ax=this.element.closest(".ui-front, dialog")}if(!ax.length){ax=this.document[0].body}return ax},_initSource:function(){var az,ax,ay=this;if(am.isArray(this.options.source)){az=this.options.source;this.source=function(aB,aA){aA(am.ui.autocomplete.filter(az,aB.term))}}else{if(typeof this.options.source==="string"){ax=this.options.source;this.source=function(aB,aA){if(ay.xhr){ay.xhr.abort()}ay.xhr=am.ajax({url:ax,data:aB,dataType:"json",success:function(aC){aA(aC)},error:function(){aA([])}})}}else{this.source=this.options.source}}},_searchTimeout:function(ax){clearTimeout(this.searching);this.searching=this._delay(function(){var az=this.term===this._value(),ay=this.menu.element.is(":visible"),aA=ax.altKey||ax.ctrlKey||ax.metaKey||ax.shiftKey;if(!az||(az&&!ay&&!aA)){this.selectedItem=null;this.search(null,ax)}},this.options.delay)},search:function(ay,ax){ay=ay!=null?ay:this._value();this.term=this._value();if(ay.length<this.options.minLength){return this.close(ax)}if(this._trigger("search",ax)===false){return}return this._search(ay)},_search:function(ax){this.pending++;this._addClass("ui-autocomplete-loading");this.cancelSearch=false;this.source({term:ax},this._response())},_response:function(){var ax=++this.requestIndex;return am.proxy(function(ay){if(ax===this.requestIndex){this.__response(ay)}this.pending--;if(!this.pending){this._removeClass("ui-autocomplete-loading")}},this)},__response:function(ax){if(ax){ax=this._normalize(ax)}this._trigger("response",null,{content:ax});if(!this.options.disabled&&ax&&ax.length&&!this.cancelSearch){this._suggest(ax);this._trigger("open")}else{this._close()}},close:function(ax){this.cancelSearch=true;this._close(ax)},_close:function(ax){this._off(this.document,"mousedown");if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.blur();this.isNewMenu=true;this._trigger("close",ax)}},_change:function(ax){if(this.previous!==this._value()){this._trigger("change",ax,{item:this.selectedItem})}},_normalize:function(ax){if(ax.length&&ax[0].label&&ax[0].value){return ax}return am.map(ax,function(ay){if(typeof ay==="string"){return{label:ay,value:ay}}return am.extend({},ay,{label:ay.label||ay.value,value:ay.value||ay.label})})},_suggest:function(ax){var ay=this.menu.element.empty();this._renderMenu(ay,ax);this.isNewMenu=true;this.menu.refresh();ay.show();this._resizeMenu();ay.position(am.extend({of:this.element},this.options.position));if(this.options.autoFocus){this.menu.next()}this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var ax=this.menu.element;ax.outerWidth(Math.max(ax.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(ay,ax){var az=this;am.each(ax,function(aA,aB){az._renderItemData(ay,aB)})},_renderItemData:function(ax,ay){return this._renderItem(ax,ay).data("ui-autocomplete-item",ay)},_renderItem:function(ax,ay){return am("<li>").append(am("<div>").text(ay.label)).appendTo(ax)},_move:function(ay,ax){if(!this.menu.element.is(":visible")){this.search(null,ax);return}if(this.menu.isFirstItem()&&/^previous/.test(ay)||this.menu.isLastItem()&&/^next/.test(ay)){if(!this.isMultiLine){this._value(this.term)}this.menu.blur();return}this.menu[ay](ax)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(ay,ax){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(ay,ax);ax.preventDefault()}},_isContentEditable:function(ay){if(!ay.length){return false}var ax=ay.prop("contentEditable");if(ax==="inherit"){return this._isContentEditable(ay.parent())}return ax==="true"}});am.extend(am.ui.autocomplete,{escapeRegex:function(ax){return ax.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(az,ax){var ay=new RegExp(am.ui.autocomplete.escapeRegex(ax),"i");return am.grep(az,function(aA){return ay.test(aA.label||aA.value||aA)})}});am.widget("ui.autocomplete",am.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(ax){return ax+(ax>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(ay){var ax;this._superApply(arguments);if(this.options.disabled||this.cancelSearch){return}if(ay&&ay.length){ax=this.options.messages.results(ay.length)}else{ax=this.options.messages.noResults}this.liveRegion.children().hide();am("<div>").text(ax).appendTo(this.liveRegion)}});var ap=am.ui.autocomplete;
/*!
 * jQuery UI Controlgroup 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;var g=/ui-corner-([a-z]){2,6}/g;var v=am.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:true,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar");this.refresh()},_destroy:function(){this._callChildMethod("destroy");this.childWidgets.removeData("ui-controlgroup-data");this.element.removeAttr("role");if(this.options.items.controlgroupLabel){this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()}},_initWidgets:function(){var ay=this,ax=[];am.each(this.options.items,function(aB,az){var aC;var aA={};if(!az){return}if(aB==="controlgroupLabel"){aC=ay.element.find(az);aC.each(function(){var aD=am(this);if(aD.children(".ui-controlgroup-label-contents").length){return}aD.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")});ay._addClass(aC,null,"ui-widget ui-widget-content ui-state-default");ax=ax.concat(aC.get());return}if(!am.fn[aB]){return}if(ay["_"+aB+"Options"]){aA=ay["_"+aB+"Options"]("middle")}else{aA={classes:{}}}ay.element.find(az).each(function(){var aE=am(this);var aD=aE[aB]("instance");var aF=am.widget.extend({},aA);if(aB==="button"&&aE.parent(".ui-spinner").length){return}if(!aD){aD=aE[aB]()[aB]("instance")}if(aD){aF.classes=ay._resolveClassesValues(aF.classes,aD)}aE[aB](aF);var aG=aE[aB]("widget");am.data(aG[0],"ui-controlgroup-data",aD?aD:aE[aB]("instance"));ax.push(aG[0])})});this.childWidgets=am(am.unique(ax));this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(ax){this.childWidgets.each(function(){var ay=am(this),az=ay.data("ui-controlgroup-data");if(az&&az[ax]){az[ax]()}})},_updateCornerClass:function(az,ay){var ax="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all";var aA=this._buildSimpleOptions(ay,"label").classes.label;this._removeClass(az,null,ax);this._addClass(az,null,aA)},_buildSimpleOptions:function(ay,az){var aA=this.options.direction==="vertical";var ax={classes:{}};ax.classes[az]={middle:"",first:"ui-corner-"+(aA?"top":"left"),last:"ui-corner-"+(aA?"bottom":"right"),only:"ui-corner-all"}[ay];return ax},_spinnerOptions:function(ax){var ay=this._buildSimpleOptions(ax,"ui-spinner");ay.classes["ui-spinner-up"]="";ay.classes["ui-spinner-down"]="";return ay},_buttonOptions:function(ax){return this._buildSimpleOptions(ax,"ui-button")},_checkboxradioOptions:function(ax){return this._buildSimpleOptions(ax,"ui-checkboxradio-label")},_selectmenuOptions:function(ax){var ay=this.options.direction==="vertical";return{width:ay?"auto":false,classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(ay?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(ay?"top":"left")},last:{"ui-selectmenu-button-open":ay?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(ay?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[ax]}},_resolveClassesValues:function(az,ay){var ax={};am.each(az,function(aA){var aB=ay.options.classes[aA]||"";aB=am.trim(aB.replace(g,""));ax[aA]=(aB+" "+az[aA]).replace(/\s+/g," ")});return ax},_setOption:function(ax,ay){if(ax==="direction"){this._removeClass("ui-controlgroup-"+this.options.direction)}this._super(ax,ay);if(ax==="disabled"){this._callChildMethod(ay?"disable":"enable");return}this.refresh()},refresh:function(){var ax,ay=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction);if(this.options.direction==="horizontal"){this._addClass(null,"ui-helper-clearfix")}this._initWidgets();ax=this.childWidgets;if(this.options.onlyVisible){ax=ax.filter(":visible")}if(ax.length){am.each(["first","last"],function(aB,aC){var az=ax[aC]().data("ui-controlgroup-data");if(az&&ay["_"+az.widgetName+"Options"]){var aA=ay["_"+az.widgetName+"Options"](ax.length===1?"only":aC);aA.classes=ay._resolveClassesValues(aA.classes,az);az.element[az.widgetName](aA)}else{ay._updateCornerClass(ax[aC](),aC)}});this._callChildMethod("refresh")}}});
/*!
 * jQuery UI Checkboxradio 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;am.widget("ui.checkboxradio",[am.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:true,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var ay,aA;var az=this;var ax=this._super()||{};this._readType();aA=this.element.labels();this.label=am(aA[aA.length-1]);if(!this.label.length){am.error("No label found for checkboxradio widget")}this.originalLabel="";this.label.contents().not(this.element[0]).each(function(){az.originalLabel+=this.nodeType===3?am(this).text():this.outerHTML});if(this.originalLabel){ax.label=this.originalLabel}ay=this.element[0].disabled;if(ay!=null){ax.disabled=ay}return ax},_create:function(){var ax=this.element[0].checked;this._bindFormResetHandler();if(this.options.disabled==null){this.options.disabled=this.element[0].disabled}this._setOption("disabled",this.options.disabled);this._addClass("ui-checkboxradio","ui-helper-hidden-accessible");this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget");if(this.type==="radio"){this._addClass(this.label,"ui-checkboxradio-radio-label")}if(this.options.label&&this.options.label!==this.originalLabel){this._updateLabel()}else{if(this.originalLabel){this.options.label=this.originalLabel}}this._enhance();if(ax){this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active");if(this.icon){this._addClass(this.icon,null,"ui-state-hover")}}this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var ax=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type;if(ax!=="input"||!/radio|checkbox/.test(this.type)){am.error("Can't create checkboxradio on element.nodeName="+ax+" and element.type="+this.type)}},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var az;var ax=this.element[0].name;var ay="input[name='"+am.ui.escapeSelector(ax)+"']";if(!ax){return am([])}if(this.form.length){az=am(this.form[0].elements).filter(ay)}else{az=am(ay).filter(function(){return am(this).form().length===0})}return az.not(this.element)},_toggleClasses:function(){var ax=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",ax);if(this.options.icon&&this.type==="checkbox"){this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",ax)._toggleClass(this.icon,null,"ui-icon-blank",!ax)}if(this.type==="radio"){this._getRadioGroup().each(function(){var ay=am(this).checkboxradio("instance");if(ay){ay._removeClass(ay.label,"ui-checkboxradio-checked","ui-state-active")}})}},_destroy:function(){this._unbindFormResetHandler();if(this.icon){this.icon.remove();this.iconSpace.remove()}},_setOption:function(ax,ay){if(ax==="label"&&!ay){return}this._super(ax,ay);if(ax==="disabled"){this._toggleClass(this.label,null,"ui-state-disabled",ay);this.element[0].disabled=ay;return}this.refresh()},_updateIcon:function(ay){var ax="ui-icon ui-icon-background ";if(this.options.icon){if(!this.icon){this.icon=am("<span>");this.iconSpace=am("<span> </span>");this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")}if(this.type==="checkbox"){ax+=ay?"ui-icon-check ui-state-checked":"ui-icon-blank";this._removeClass(this.icon,null,ay?"ui-icon-blank":"ui-icon-check")}else{ax+="ui-icon-blank"}this._addClass(this.icon,"ui-checkboxradio-icon",ax);if(!ay){this._removeClass(this.icon,null,"ui-icon-check ui-state-checked")}this.icon.prependTo(this.label).after(this.iconSpace)}else{if(this.icon!==undefined){this.icon.remove();this.iconSpace.remove();delete this.icon}}},_updateLabel:function(){var ax=this.label.contents().not(this.element[0]);if(this.icon){ax=ax.not(this.icon[0])}if(this.iconSpace){ax=ax.not(this.iconSpace[0])}ax.remove();this.label.append(this.options.label)},refresh:function(){var ay=this.element[0].checked,ax=this.element[0].disabled;this._updateIcon(ay);this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",ay);if(this.options.label!==null){this._updateLabel()}if(ax!==this.options.disabled){this._setOptions({disabled:ax})}}}]);var aq=am.ui.checkboxradio;
/*!
 * jQuery UI Button 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;am.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:true},_getCreateOptions:function(){var ay,ax=this._super()||{};this.isInput=this.element.is("input");ay=this.element[0].disabled;if(ay!=null){ax.disabled=ay}this.originalLabel=this.isInput?this.element.val():this.element.html();if(this.originalLabel){ax.label=this.originalLabel}return ax},_create:function(){if(!this.option.showLabel&!this.options.icon){this.options.showLabel=true}if(this.options.disabled==null){this.options.disabled=this.element[0].disabled||false}this.hasTitle=!!this.element.attr("title");if(this.options.label&&this.options.label!==this.originalLabel){if(this.isInput){this.element.val(this.options.label)}else{this.element.html(this.options.label)}}this._addClass("ui-button","ui-widget");this._setOption("disabled",this.options.disabled);this._enhance();if(this.element.is("a")){this._on({keyup:function(ax){if(ax.keyCode===am.ui.keyCode.SPACE){ax.preventDefault();if(this.element[0].click){this.element[0].click()}else{this.element.trigger("click")}}}})}},_enhance:function(){if(!this.element.is("button")){this.element.attr("role","button")}if(this.options.icon){this._updateIcon("icon",this.options.icon);this._updateTooltip()}},_updateTooltip:function(){this.title=this.element.attr("title");if(!this.options.showLabel&&!this.title){this.element.attr("title",this.options.label)}},_updateIcon:function(az,aB){var ay=az!=="iconPosition",ax=ay?this.options.iconPosition:aB,aA=ax==="top"||ax==="bottom";if(!this.icon){this.icon=am("<span>");this._addClass(this.icon,"ui-button-icon","ui-icon");if(!this.options.showLabel){this._addClass("ui-button-icon-only")}}else{if(ay){this._removeClass(this.icon,null,this.options.icon)}}if(ay){this._addClass(this.icon,null,aB)}this._attachIcon(ax);if(aA){this._addClass(this.icon,null,"ui-widget-icon-block");if(this.iconSpace){this.iconSpace.remove()}}else{if(!this.iconSpace){this.iconSpace=am("<span> </span>");this._addClass(this.iconSpace,"ui-button-icon-space")}this._removeClass(this.icon,null,"ui-wiget-icon-block");this._attachIconSpace(ax)}},_destroy:function(){this.element.removeAttr("role");if(this.icon){this.icon.remove()}if(this.iconSpace){this.iconSpace.remove()}if(!this.hasTitle){this.element.removeAttr("title")}},_attachIconSpace:function(ax){this.icon[/^(?:end|bottom)/.test(ax)?"before":"after"](this.iconSpace)},_attachIcon:function(ax){this.element[/^(?:end|bottom)/.test(ax)?"append":"prepend"](this.icon)},_setOptions:function(ay){var az=ay.showLabel===undefined?this.options.showLabel:ay.showLabel,ax=ay.icon===undefined?this.options.icon:ay.icon;if(!az&&!ax){ay.showLabel=true}this._super(ay)},_setOption:function(ax,ay){if(ax==="icon"){if(ay){this._updateIcon(ax,ay)}else{if(this.icon){this.icon.remove();if(this.iconSpace){this.iconSpace.remove()}}}}if(ax==="iconPosition"){this._updateIcon(ax,ay)}if(ax==="showLabel"){this._toggleClass("ui-button-icon-only",null,!ay);this._updateTooltip()}if(ax==="label"){if(this.isInput){this.element.val(ay)}else{this.element.html(ay);if(this.icon){this._attachIcon(this.options.iconPosition);this._attachIconSpace(this.options.iconPosition)}}}this._super(ax,ay);if(ax==="disabled"){this._toggleClass(null,"ui-state-disabled",ay);this.element[0].disabled=ay;if(ay){this.element.blur()}}},refresh:function(){var ax=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");if(ax!==this.options.disabled){this._setOptions({disabled:ax})}this._updateTooltip()}});if(am.uiBackCompat!==false){am.widget("ui.button",am.ui.button,{options:{text:true,icons:{primary:null,secondary:null}},_create:function(){if(this.options.showLabel&&!this.options.text){this.options.showLabel=this.options.text}if(!this.options.showLabel&&this.options.text){this.options.text=this.options.showLabel}if(!this.options.icon&&(this.options.icons.primary||this.options.icons.secondary)){if(this.options.icons.primary){this.options.icon=this.options.icons.primary}else{this.options.icon=this.options.icons.secondary;this.options.iconPosition="end"}}else{if(this.options.icon){this.options.icons.primary=this.options.icon}}this._super()},_setOption:function(ax,ay){if(ax==="text"){this._super("showLabel",ay);return}if(ax==="showLabel"){this.options.text=ay}if(ax==="icon"){this.options.icons.primary=ay}if(ax==="icons"){if(ay.primary){this._super("icon",ay.primary);this._super("iconPosition","beginning")}else{if(ay.secondary){this._super("icon",ay.secondary);this._super("iconPosition","end")}}}this._superApply(arguments)}});am.fn.button=(function(ax){return function(){if(!this.length||(this.length&&this[0].tagName!=="INPUT")||(this.length&&this[0].tagName==="INPUT"&&(this.attr("type")!=="checkbox"&&this.attr("type")!=="radio"))){return ax.apply(this,arguments)}if(!am.ui.checkboxradio){am.error("Checkboxradio widget missing")}if(arguments.length===0){return this.checkboxradio({icon:false})}return this.checkboxradio.apply(this,arguments)}})(am.fn.button);am.fn.buttonset=function(){if(!am.ui.controlgroup){am.error("Controlgroup widget missing")}if(arguments[0]==="option"&&arguments[1]==="items"&&arguments[2]){return this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]])}if(arguments[0]==="option"&&arguments[1]==="items"){return this.controlgroup.apply(this,[arguments[0],"items.button"])}if(typeof arguments[0]==="object"&&arguments[0].items){arguments[0].items={button:arguments[0].items}}return this.controlgroup.apply(this,arguments)}}var C=am.ui.button;
/*!
 * jQuery UI Datepicker 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;am.extend(am.ui,{datepicker:{version:"1.12.1"}});var at;function ah(ay){var ax,az;while(ay.length&&ay[0]!==document){ax=ay.css("position");if(ax==="absolute"||ax==="relative"||ax==="fixed"){az=parseInt(ay.css("zIndex"),10);if(!isNaN(az)&&az!==0){return az}}ay=ay.parent()}return 0}function Q(){this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false};am.extend(this._defaults,this.regional[""]);this.regional.en=am.extend(true,{},this.regional[""]);this.regional["en-US"]=am.extend(true,{},this.regional.en);this.dpDiv=Z(am("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}am.extend(Q.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(ax){F(this._defaults,ax||{});return this},_attachDatepicker:function(aA,ax){var aB,az,ay;aB=aA.nodeName.toLowerCase();az=(aB==="div"||aB==="span");if(!aA.id){this.uuid+=1;aA.id="dp"+this.uuid}ay=this._newInst(am(aA),az);ay.settings=am.extend({},ax||{});if(aB==="input"){this._connectDatepicker(aA,ay)}else{if(az){this._inlineDatepicker(aA,ay)}}},_newInst:function(ay,ax){var az=ay[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:az,input:ay,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:ax,dpDiv:(!ax?this.dpDiv:Z(am("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")))}},_connectDatepicker:function(az,ay){var ax=am(az);ay.append=am([]);ay.trigger=am([]);if(ax.hasClass(this.markerClassName)){return}this._attachments(ax,ay);ax.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp);this._autoSize(ay);am.data(az,"datepicker",ay);if(ay.settings.disabled){this._disableDatepicker(az)}},_attachments:function(az,aC){var ay,aB,ax,aD=this._get(aC,"appendText"),aA=this._get(aC,"isRTL");if(aC.append){aC.append.remove()}if(aD){aC.append=am("<span class='"+this._appendClass+"'>"+aD+"</span>");az[aA?"before":"after"](aC.append)}az.off("focus",this._showDatepicker);if(aC.trigger){aC.trigger.remove()}ay=this._get(aC,"showOn");if(ay==="focus"||ay==="both"){az.on("focus",this._showDatepicker)}if(ay==="button"||ay==="both"){aB=this._get(aC,"buttonText");ax=this._get(aC,"buttonImage");aC.trigger=am(this._get(aC,"buttonImageOnly")?am("<img/>").addClass(this._triggerClass).attr({src:ax,alt:aB,title:aB}):am("<button type='button'></button>").addClass(this._triggerClass).html(!ax?aB:am("<img/>").attr({src:ax,alt:aB,title:aB})));az[aA?"before":"after"](aC.trigger);aC.trigger.on("click",function(){if(am.datepicker._datepickerShowing&&am.datepicker._lastInput===az[0]){am.datepicker._hideDatepicker()}else{if(am.datepicker._datepickerShowing&&am.datepicker._lastInput!==az[0]){am.datepicker._hideDatepicker();am.datepicker._showDatepicker(az[0])}else{am.datepicker._showDatepicker(az[0])}}return false})}},_autoSize:function(aD){if(this._get(aD,"autoSize")&&!aD.inline){var aA,ay,az,aC,aB=new Date(2009,12-1,20),ax=this._get(aD,"dateFormat");if(ax.match(/[DM]/)){aA=function(aE){ay=0;az=0;for(aC=0;aC<aE.length;aC++){if(aE[aC].length>ay){ay=aE[aC].length;az=aC}}return az};aB.setMonth(aA(this._get(aD,(ax.match(/MM/)?"monthNames":"monthNamesShort"))));aB.setDate(aA(this._get(aD,(ax.match(/DD/)?"dayNames":"dayNamesShort")))+20-aB.getDay())}aD.input.attr("size",this._formatDate(aD,aB).length)}},_inlineDatepicker:function(ay,ax){var az=am(ay);if(az.hasClass(this.markerClassName)){return}az.addClass(this.markerClassName).append(ax.dpDiv);am.data(ay,"datepicker",ax);this._setDate(ax,this._getDefaultDate(ax),true);this._updateDatepicker(ax);this._updateAlternate(ax);if(ax.settings.disabled){this._disableDatepicker(ay)}ax.dpDiv.css("display","block")},_dialogDatepicker:function(aE,ay,aC,az,aD){var ax,aH,aB,aG,aF,aA=this._dialogInst;if(!aA){this.uuid+=1;ax="dp"+this.uuid;this._dialogInput=am("<input type='text' id='"+ax+"' style='position: absolute; top: -100px; width: 0px;'/>");this._dialogInput.on("keydown",this._doKeyDown);am("body").append(this._dialogInput);aA=this._dialogInst=this._newInst(this._dialogInput,false);aA.settings={};am.data(this._dialogInput[0],"datepicker",aA)}F(aA.settings,az||{});ay=(ay&&ay.constructor===Date?this._formatDate(aA,ay):ay);this._dialogInput.val(ay);this._pos=(aD?(aD.length?aD:[aD.pageX,aD.pageY]):null);if(!this._pos){aH=document.documentElement.clientWidth;aB=document.documentElement.clientHeight;aG=document.documentElement.scrollLeft||document.body.scrollLeft;aF=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[(aH/2)-100+aG,(aB/2)-150+aF]}this._dialogInput.css("left",(this._pos[0]+20)+"px").css("top",this._pos[1]+"px");aA.settings.onSelect=aC;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if(am.blockUI){am.blockUI(this.dpDiv)}am.data(this._dialogInput[0],"datepicker",aA);return this},_destroyDatepicker:function(az){var aA,ax=am(az),ay=am.data(az,"datepicker");if(!ax.hasClass(this.markerClassName)){return}aA=az.nodeName.toLowerCase();am.removeData(az,"datepicker");if(aA==="input"){ay.append.remove();ay.trigger.remove();ax.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)}else{if(aA==="div"||aA==="span"){ax.removeClass(this.markerClassName).empty()}}if(at===ay){at=null}},_enableDatepicker:function(aA){var aB,az,ax=am(aA),ay=am.data(aA,"datepicker");if(!ax.hasClass(this.markerClassName)){return}aB=aA.nodeName.toLowerCase();if(aB==="input"){aA.disabled=false;ay.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else{if(aB==="div"||aB==="span"){az=ax.children("."+this._inlineClass);az.children().removeClass("ui-state-disabled");az.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",false)}}this._disabledInputs=am.map(this._disabledInputs,function(aC){return(aC===aA?null:aC)})},_disableDatepicker:function(aA){var aB,az,ax=am(aA),ay=am.data(aA,"datepicker");if(!ax.hasClass(this.markerClassName)){return}aB=aA.nodeName.toLowerCase();if(aB==="input"){aA.disabled=true;ay.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else{if(aB==="div"||aB==="span"){az=ax.children("."+this._inlineClass);az.children().addClass("ui-state-disabled");az.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",true)}}this._disabledInputs=am.map(this._disabledInputs,function(aC){return(aC===aA?null:aC)});this._disabledInputs[this._disabledInputs.length]=aA},_isDisabledDatepicker:function(ay){if(!ay){return false}for(var ax=0;ax<this._disabledInputs.length;ax++){if(this._disabledInputs[ax]===ay){return true}}return false},_getInst:function(ay){try{return am.data(ay,"datepicker")}catch(ax){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(aD,ay,aC){var az,ax,aB,aE,aA=this._getInst(aD);if(arguments.length===2&&typeof ay==="string"){return(ay==="defaults"?am.extend({},am.datepicker._defaults):(aA?(ay==="all"?am.extend({},aA.settings):this._get(aA,ay)):null))}az=ay||{};if(typeof ay==="string"){az={};az[ay]=aC}if(aA){if(this._curInst===aA){this._hideDatepicker()}ax=this._getDateDatepicker(aD,true);aB=this._getMinMaxDate(aA,"min");aE=this._getMinMaxDate(aA,"max");F(aA.settings,az);if(aB!==null&&az.dateFormat!==undefined&&az.minDate===undefined){aA.settings.minDate=this._formatDate(aA,aB)}if(aE!==null&&az.dateFormat!==undefined&&az.maxDate===undefined){aA.settings.maxDate=this._formatDate(aA,aE)}if("disabled" in az){if(az.disabled){this._disableDatepicker(aD)}else{this._enableDatepicker(aD)}}this._attachments(am(aD),aA);this._autoSize(aA);this._setDate(aA,ax);this._updateAlternate(aA);this._updateDatepicker(aA)}},_changeDatepicker:function(az,ax,ay){this._optionDatepicker(az,ax,ay)},_refreshDatepicker:function(ay){var ax=this._getInst(ay);if(ax){this._updateDatepicker(ax)}},_setDateDatepicker:function(az,ax){var ay=this._getInst(az);if(ay){this._setDate(ay,ax);this._updateDatepicker(ay);this._updateAlternate(ay)}},_getDateDatepicker:function(az,ax){var ay=this._getInst(az);if(ay&&!ay.inline){this._setDateFromField(ay,ax)}return(ay?this._getDate(ay):null)},_doKeyDown:function(aA){var ay,ax,aC,aB=am.datepicker._getInst(aA.target),aD=true,az=aB.dpDiv.is(".ui-datepicker-rtl");aB._keyEvent=true;if(am.datepicker._datepickerShowing){switch(aA.keyCode){case 9:am.datepicker._hideDatepicker();aD=false;break;case 13:aC=am("td."+am.datepicker._dayOverClass+":not(."+am.datepicker._currentClass+")",aB.dpDiv);if(aC[0]){am.datepicker._selectDay(aA.target,aB.selectedMonth,aB.selectedYear,aC[0])}ay=am.datepicker._get(aB,"onSelect");if(ay){ax=am.datepicker._formatDate(aB);ay.apply((aB.input?aB.input[0]:null),[ax,aB])}else{am.datepicker._hideDatepicker()}return false;case 27:am.datepicker._hideDatepicker();break;case 33:am.datepicker._adjustDate(aA.target,(aA.ctrlKey?-am.datepicker._get(aB,"stepBigMonths"):-am.datepicker._get(aB,"stepMonths")),"M");break;case 34:am.datepicker._adjustDate(aA.target,(aA.ctrlKey?+am.datepicker._get(aB,"stepBigMonths"):+am.datepicker._get(aB,"stepMonths")),"M");break;case 35:if(aA.ctrlKey||aA.metaKey){am.datepicker._clearDate(aA.target)}aD=aA.ctrlKey||aA.metaKey;break;case 36:if(aA.ctrlKey||aA.metaKey){am.datepicker._gotoToday(aA.target)}aD=aA.ctrlKey||aA.metaKey;break;case 37:if(aA.ctrlKey||aA.metaKey){am.datepicker._adjustDate(aA.target,(az?+1:-1),"D")}aD=aA.ctrlKey||aA.metaKey;if(aA.originalEvent.altKey){am.datepicker._adjustDate(aA.target,(aA.ctrlKey?-am.datepicker._get(aB,"stepBigMonths"):-am.datepicker._get(aB,"stepMonths")),"M")}break;case 38:if(aA.ctrlKey||aA.metaKey){am.datepicker._adjustDate(aA.target,-7,"D")}aD=aA.ctrlKey||aA.metaKey;break;case 39:if(aA.ctrlKey||aA.metaKey){am.datepicker._adjustDate(aA.target,(az?-1:+1),"D")}aD=aA.ctrlKey||aA.metaKey;if(aA.originalEvent.altKey){am.datepicker._adjustDate(aA.target,(aA.ctrlKey?+am.datepicker._get(aB,"stepBigMonths"):+am.datepicker._get(aB,"stepMonths")),"M")}break;case 40:if(aA.ctrlKey||aA.metaKey){am.datepicker._adjustDate(aA.target,+7,"D")}aD=aA.ctrlKey||aA.metaKey;break;default:aD=false}}else{if(aA.keyCode===36&&aA.ctrlKey){am.datepicker._showDatepicker(this)}else{aD=false}}if(aD){aA.preventDefault();aA.stopPropagation()}},_doKeyPress:function(az){var ay,ax,aA=am.datepicker._getInst(az.target);if(am.datepicker._get(aA,"constrainInput")){ay=am.datepicker._possibleChars(am.datepicker._get(aA,"dateFormat"));ax=String.fromCharCode(az.charCode==null?az.keyCode:az.charCode);return az.ctrlKey||az.metaKey||(ax<" "||!ay||ay.indexOf(ax)>-1)}},_doKeyUp:function(az){var ax,aA=am.datepicker._getInst(az.target);if(aA.input.val()!==aA.lastVal){try{ax=am.datepicker.parseDate(am.datepicker._get(aA,"dateFormat"),(aA.input?aA.input.val():null),am.datepicker._getFormatConfig(aA));if(ax){am.datepicker._setDateFromField(aA);am.datepicker._updateAlternate(aA);am.datepicker._updateDatepicker(aA)}}catch(ay){}}return true},_showDatepicker:function(ay){ay=ay.target||ay;if(ay.nodeName.toLowerCase()!=="input"){ay=am("input",ay.parentNode)[0]}if(am.datepicker._isDisabledDatepicker(ay)||am.datepicker._lastInput===ay){return}var aA,aE,az,aC,aD,ax,aB;aA=am.datepicker._getInst(ay);if(am.datepicker._curInst&&am.datepicker._curInst!==aA){am.datepicker._curInst.dpDiv.stop(true,true);if(aA&&am.datepicker._datepickerShowing){am.datepicker._hideDatepicker(am.datepicker._curInst.input[0])}}aE=am.datepicker._get(aA,"beforeShow");az=aE?aE.apply(ay,[ay,aA]):{};if(az===false){return}F(aA.settings,az);aA.lastVal=null;am.datepicker._lastInput=ay;am.datepicker._setDateFromField(aA);if(am.datepicker._inDialog){ay.value=""}if(!am.datepicker._pos){am.datepicker._pos=am.datepicker._findPos(ay);am.datepicker._pos[1]+=ay.offsetHeight}aC=false;am(ay).parents().each(function(){aC|=am(this).css("position")==="fixed";return !aC});aD={left:am.datepicker._pos[0],top:am.datepicker._pos[1]};am.datepicker._pos=null;aA.dpDiv.empty();aA.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});am.datepicker._updateDatepicker(aA);aD=am.datepicker._checkOffset(aA,aD,aC);aA.dpDiv.css({position:(am.datepicker._inDialog&&am.blockUI?"static":(aC?"fixed":"absolute")),display:"none",left:aD.left+"px",top:aD.top+"px"});if(!aA.inline){ax=am.datepicker._get(aA,"showAnim");aB=am.datepicker._get(aA,"duration");aA.dpDiv.css("z-index",ah(am(ay))+1);am.datepicker._datepickerShowing=true;if(am.effects&&am.effects.effect[ax]){aA.dpDiv.show(ax,am.datepicker._get(aA,"showOptions"),aB)}else{aA.dpDiv[ax||"show"](ax?aB:null)}if(am.datepicker._shouldFocusInput(aA)){aA.input.trigger("focus")}am.datepicker._curInst=aA}},_updateDatepicker:function(aA){this.maxRows=4;at=aA;aA.dpDiv.empty().append(this._generateHTML(aA));this._attachHandlers(aA);var aC,ax=this._getNumberOfMonths(aA),aB=ax[1],az=17,ay=aA.dpDiv.find("."+this._dayOverClass+" a");if(ay.length>0){K.apply(ay.get(0))}aA.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");if(aB>1){aA.dpDiv.addClass("ui-datepicker-multi-"+aB).css("width",(az*aB)+"em")}aA.dpDiv[(ax[0]!==1||ax[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi");aA.dpDiv[(this._get(aA,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");if(aA===am.datepicker._curInst&&am.datepicker._datepickerShowing&&am.datepicker._shouldFocusInput(aA)){aA.input.trigger("focus")}if(aA.yearshtml){aC=aA.yearshtml;setTimeout(function(){if(aC===aA.yearshtml&&aA.yearshtml){aA.dpDiv.find("select.ui-datepicker-year:first").replaceWith(aA.yearshtml)}aC=aA.yearshtml=null},0)}},_shouldFocusInput:function(ax){return ax.input&&ax.input.is(":visible")&&!ax.input.is(":disabled")&&!ax.input.is(":focus")},_checkOffset:function(aC,aA,az){var aB=aC.dpDiv.outerWidth(),aF=aC.dpDiv.outerHeight(),aE=aC.input?aC.input.outerWidth():0,ax=aC.input?aC.input.outerHeight():0,aD=document.documentElement.clientWidth+(az?0:am(document).scrollLeft()),ay=document.documentElement.clientHeight+(az?0:am(document).scrollTop());aA.left-=(this._get(aC,"isRTL")?(aB-aE):0);aA.left-=(az&&aA.left===aC.input.offset().left)?am(document).scrollLeft():0;aA.top-=(az&&aA.top===(aC.input.offset().top+ax))?am(document).scrollTop():0;aA.left-=Math.min(aA.left,(aA.left+aB>aD&&aD>aB)?Math.abs(aA.left+aB-aD):0);aA.top-=Math.min(aA.top,(aA.top+aF>ay&&ay>aF)?Math.abs(aF+ax):0);return aA},_findPos:function(aA){var ax,az=this._getInst(aA),ay=this._get(az,"isRTL");while(aA&&(aA.type==="hidden"||aA.nodeType!==1||am.expr.filters.hidden(aA))){aA=aA[ay?"previousSibling":"nextSibling"]}ax=am(aA).offset();return[ax.left,ax.top]},_hideDatepicker:function(az){var ay,aC,aB,ax,aA=this._curInst;if(!aA||(az&&aA!==am.data(az,"datepicker"))){return}if(this._datepickerShowing){ay=this._get(aA,"showAnim");aC=this._get(aA,"duration");aB=function(){am.datepicker._tidyDialog(aA)};if(am.effects&&(am.effects.effect[ay]||am.effects[ay])){aA.dpDiv.hide(ay,am.datepicker._get(aA,"showOptions"),aC,aB)}else{aA.dpDiv[(ay==="slideDown"?"slideUp":(ay==="fadeIn"?"fadeOut":"hide"))]((ay?aC:null),aB)}if(!ay){aB()}this._datepickerShowing=false;ax=this._get(aA,"onClose");if(ax){ax.apply((aA.input?aA.input[0]:null),[(aA.input?aA.input.val():""),aA])}this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if(am.blockUI){am.unblockUI();am("body").append(this.dpDiv)}}this._inDialog=false}},_tidyDialog:function(ax){ax.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(ay){if(!am.datepicker._curInst){return}var ax=am(ay.target),az=am.datepicker._getInst(ax[0]);if(((ax[0].id!==am.datepicker._mainDivId&&ax.parents("#"+am.datepicker._mainDivId).length===0&&!ax.hasClass(am.datepicker.markerClassName)&&!ax.closest("."+am.datepicker._triggerClass).length&&am.datepicker._datepickerShowing&&!(am.datepicker._inDialog&&am.blockUI)))||(ax.hasClass(am.datepicker.markerClassName)&&am.datepicker._curInst!==az)){am.datepicker._hideDatepicker()}},_adjustDate:function(aB,aA,az){var ay=am(aB),ax=this._getInst(ay[0]);if(this._isDisabledDatepicker(ay[0])){return}this._adjustInstDate(ax,aA+(az==="M"?this._get(ax,"showCurrentAtPos"):0),az);this._updateDatepicker(ax)},_gotoToday:function(aA){var ax,az=am(aA),ay=this._getInst(az[0]);if(this._get(ay,"gotoCurrent")&&ay.currentDay){ay.selectedDay=ay.currentDay;ay.drawMonth=ay.selectedMonth=ay.currentMonth;ay.drawYear=ay.selectedYear=ay.currentYear}else{ax=new Date();ay.selectedDay=ax.getDate();ay.drawMonth=ay.selectedMonth=ax.getMonth();ay.drawYear=ay.selectedYear=ax.getFullYear()}this._notifyChange(ay);this._adjustDate(az)},_selectMonthYear:function(aB,ax,aA){var az=am(aB),ay=this._getInst(az[0]);ay["selected"+(aA==="M"?"Month":"Year")]=ay["draw"+(aA==="M"?"Month":"Year")]=parseInt(ax.options[ax.selectedIndex].value,10);this._notifyChange(ay);this._adjustDate(az)},_selectDay:function(aC,aA,ax,aB){var ay,az=am(aC);if(am(aB).hasClass(this._unselectableClass)||this._isDisabledDatepicker(az[0])){return}ay=this._getInst(az[0]);ay.selectedDay=ay.currentDay=am("a",aB).html();ay.selectedMonth=ay.currentMonth=aA;ay.selectedYear=ay.currentYear=ax;this._selectDate(aC,this._formatDate(ay,ay.currentDay,ay.currentMonth,ay.currentYear))},_clearDate:function(ay){var ax=am(ay);this._selectDate(ax,"")},_selectDate:function(aB,ax){var ay,aA=am(aB),az=this._getInst(aA[0]);ax=(ax!=null?ax:this._formatDate(az));if(az.input){az.input.val(ax)}this._updateAlternate(az);ay=this._get(az,"onSelect");if(ay){ay.apply((az.input?az.input[0]:null),[ax,az])}else{if(az.input){az.input.trigger("change")}}if(az.inline){this._updateDatepicker(az)}else{this._hideDatepicker();this._lastInput=az.input[0];if(typeof(az.input[0])!=="object"){az.input.trigger("focus")}this._lastInput=null}},_updateAlternate:function(aB){var aA,az,ax,ay=this._get(aB,"altField");if(ay){aA=this._get(aB,"altFormat")||this._get(aB,"dateFormat");az=this._getDate(aB);ax=this.formatDate(aA,az,this._getFormatConfig(aB));am(ay).val(ax)}},noWeekends:function(ay){var ax=ay.getDay();return[(ax>0&&ax<6),""]},iso8601Week:function(ax){var ay,az=new Date(ax.getTime());az.setDate(az.getDate()+4-(az.getDay()||7));ay=az.getTime();az.setMonth(0);az.setDate(1);return Math.floor(Math.round((ay-az)/86400000)/7)+1},parseDate:function(aN,aI,aP){if(aN==null||aI==null){throw"Invalid arguments"}aI=(typeof aI==="object"?aI.toString():aI+"");if(aI===""){return null}var aA,aK,ay,aO=0,aD=(aP?aP.shortYearCutoff:null)||this._defaults.shortYearCutoff,az=(typeof aD!=="string"?aD:new Date().getFullYear()%100+parseInt(aD,10)),aG=(aP?aP.dayNamesShort:null)||this._defaults.dayNamesShort,aR=(aP?aP.dayNames:null)||this._defaults.dayNames,ax=(aP?aP.monthNamesShort:null)||this._defaults.monthNamesShort,aB=(aP?aP.monthNames:null)||this._defaults.monthNames,aC=-1,aS=-1,aM=-1,aF=-1,aL=false,aQ,aH=function(aU){var aV=(aA+1<aN.length&&aN.charAt(aA+1)===aU);if(aV){aA++}return aV},aT=function(aW){var aU=aH(aW),aX=(aW==="@"?14:(aW==="!"?20:(aW==="y"&&aU?4:(aW==="o"?3:2)))),aZ=(aW==="y"?aX:1),aY=new RegExp("^\\d{"+aZ+","+aX+"}"),aV=aI.substring(aO).match(aY);if(!aV){throw"Missing number at position "+aO}aO+=aV[0].length;return parseInt(aV[0],10)},aE=function(aV,aW,aY){var aU=-1,aX=am.map(aH(aV)?aY:aW,function(a0,aZ){return[[aZ,a0]]}).sort(function(a0,aZ){return -(a0[1].length-aZ[1].length)});am.each(aX,function(a0,a1){var aZ=a1[1];if(aI.substr(aO,aZ.length).toLowerCase()===aZ.toLowerCase()){aU=a1[0];aO+=aZ.length;return false}});if(aU!==-1){return aU+1}else{throw"Unknown name at position "+aO}},aJ=function(){if(aI.charAt(aO)!==aN.charAt(aA)){throw"Unexpected literal at position "+aO}aO++};for(aA=0;aA<aN.length;aA++){if(aL){if(aN.charAt(aA)==="'"&&!aH("'")){aL=false}else{aJ()}}else{switch(aN.charAt(aA)){case"d":aM=aT("d");break;case"D":aE("D",aG,aR);break;case"o":aF=aT("o");break;case"m":aS=aT("m");break;case"M":aS=aE("M",ax,aB);break;case"y":aC=aT("y");break;case"@":aQ=new Date(aT("@"));aC=aQ.getFullYear();aS=aQ.getMonth()+1;aM=aQ.getDate();break;case"!":aQ=new Date((aT("!")-this._ticksTo1970)/10000);aC=aQ.getFullYear();aS=aQ.getMonth()+1;aM=aQ.getDate();break;case"'":if(aH("'")){aJ()}else{aL=true}break;default:aJ()}}}if(aO<aI.length){ay=aI.substr(aO);if(!/^\s+/.test(ay)){throw"Extra/unparsed characters found in date: "+ay}}if(aC===-1){aC=new Date().getFullYear()}else{if(aC<100){aC+=new Date().getFullYear()-new Date().getFullYear()%100+(aC<=az?0:-100)}}if(aF>-1){aS=1;aM=aF;do{aK=this._getDaysInMonth(aC,aS-1);if(aM<=aK){break}aS++;aM-=aK}while(true)}aQ=this._daylightSavingAdjust(new Date(aC,aS-1,aM));if(aQ.getFullYear()!==aC||aQ.getMonth()+1!==aS||aQ.getDate()!==aM){throw"Invalid date"}return aQ},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*10000000),formatDate:function(aG,aA,aB){if(!aA){return""}var aI,aJ=(aB?aB.dayNamesShort:null)||this._defaults.dayNamesShort,ay=(aB?aB.dayNames:null)||this._defaults.dayNames,aE=(aB?aB.monthNamesShort:null)||this._defaults.monthNamesShort,aC=(aB?aB.monthNames:null)||this._defaults.monthNames,aH=function(aK){var aL=(aI+1<aG.length&&aG.charAt(aI+1)===aK);if(aL){aI++}return aL},ax=function(aM,aN,aK){var aL=""+aN;if(aH(aM)){while(aL.length<aK){aL="0"+aL}}return aL},aD=function(aK,aM,aL,aN){return(aH(aK)?aN[aM]:aL[aM])},az="",aF=false;if(aA){for(aI=0;aI<aG.length;aI++){if(aF){if(aG.charAt(aI)==="'"&&!aH("'")){aF=false}else{az+=aG.charAt(aI)}}else{switch(aG.charAt(aI)){case"d":az+=ax("d",aA.getDate(),2);break;case"D":az+=aD("D",aA.getDay(),aJ,ay);break;case"o":az+=ax("o",Math.round((new Date(aA.getFullYear(),aA.getMonth(),aA.getDate()).getTime()-new Date(aA.getFullYear(),0,0).getTime())/86400000),3);break;case"m":az+=ax("m",aA.getMonth()+1,2);break;case"M":az+=aD("M",aA.getMonth(),aE,aC);break;case"y":az+=(aH("y")?aA.getFullYear():(aA.getFullYear()%100<10?"0":"")+aA.getFullYear()%100);break;case"@":az+=aA.getTime();break;case"!":az+=aA.getTime()*10000+this._ticksTo1970;break;case"'":if(aH("'")){az+="'"}else{aF=true}break;default:az+=aG.charAt(aI)}}}}return az},_possibleChars:function(aB){var aA,az="",ay=false,ax=function(aC){var aD=(aA+1<aB.length&&aB.charAt(aA+1)===aC);if(aD){aA++}return aD};for(aA=0;aA<aB.length;aA++){if(ay){if(aB.charAt(aA)==="'"&&!ax("'")){ay=false}else{az+=aB.charAt(aA)}}else{switch(aB.charAt(aA)){case"d":case"m":case"y":case"@":az+="0123456789";break;case"D":case"M":return null;case"'":if(ax("'")){az+="'"}else{ay=true}break;default:az+=aB.charAt(aA)}}}return az},_get:function(ay,ax){return ay.settings[ax]!==undefined?ay.settings[ax]:this._defaults[ax]},_setDateFromField:function(aC,az){if(aC.input.val()===aC.lastVal){return}var ax=this._get(aC,"dateFormat"),aE=aC.lastVal=aC.input?aC.input.val():null,aD=this._getDefaultDate(aC),ay=aD,aA=this._getFormatConfig(aC);try{ay=this.parseDate(ax,aE,aA)||aD}catch(aB){aE=(az?"":aE)}aC.selectedDay=ay.getDate();aC.drawMonth=aC.selectedMonth=ay.getMonth();aC.drawYear=aC.selectedYear=ay.getFullYear();aC.currentDay=(aE?ay.getDate():0);aC.currentMonth=(aE?ay.getMonth():0);aC.currentYear=(aE?ay.getFullYear():0);this._adjustInstDate(aC)},_getDefaultDate:function(ax){return this._restrictMinMax(ax,this._determineDate(ax,this._get(ax,"defaultDate"),new Date()))},_determineDate:function(aB,ay,aC){var aA=function(aE){var aD=new Date();aD.setDate(aD.getDate()+aE);return aD},az=function(aK){try{return am.datepicker.parseDate(am.datepicker._get(aB,"dateFormat"),aK,am.datepicker._getFormatConfig(aB))}catch(aJ){}var aE=(aK.toLowerCase().match(/^c/)?am.datepicker._getDate(aB):null)||new Date(),aF=aE.getFullYear(),aI=aE.getMonth(),aD=aE.getDate(),aH=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,aG=aH.exec(aK);while(aG){switch(aG[2]||"d"){case"d":case"D":aD+=parseInt(aG[1],10);break;case"w":case"W":aD+=parseInt(aG[1],10)*7;break;case"m":case"M":aI+=parseInt(aG[1],10);aD=Math.min(aD,am.datepicker._getDaysInMonth(aF,aI));break;case"y":case"Y":aF+=parseInt(aG[1],10);aD=Math.min(aD,am.datepicker._getDaysInMonth(aF,aI));break}aG=aH.exec(aK)}return new Date(aF,aI,aD)},ax=(ay==null||ay===""?aC:(typeof ay==="string"?az(ay):(typeof ay==="number"?(isNaN(ay)?aC:aA(ay)):new Date(ay.getTime()))));ax=(ax&&ax.toString()==="Invalid Date"?aC:ax);if(ax){ax.setHours(0);ax.setMinutes(0);ax.setSeconds(0);ax.setMilliseconds(0)}return this._daylightSavingAdjust(ax)},_daylightSavingAdjust:function(ax){if(!ax){return null}ax.setHours(ax.getHours()>12?ax.getHours()+2:0);return ax},_setDate:function(aD,aA,aC){var ax=!aA,az=aD.selectedMonth,aB=aD.selectedYear,ay=this._restrictMinMax(aD,this._determineDate(aD,aA,new Date()));aD.selectedDay=aD.currentDay=ay.getDate();aD.drawMonth=aD.selectedMonth=aD.currentMonth=ay.getMonth();aD.drawYear=aD.selectedYear=aD.currentYear=ay.getFullYear();if((az!==aD.selectedMonth||aB!==aD.selectedYear)&&!aC){this._notifyChange(aD)}this._adjustInstDate(aD);if(aD.input){aD.input.val(ax?"":this._formatDate(aD))}},_getDate:function(ay){var ax=(!ay.currentYear||(ay.input&&ay.input.val()==="")?null:this._daylightSavingAdjust(new Date(ay.currentYear,ay.currentMonth,ay.currentDay)));return ax},_attachHandlers:function(ay){var ax=this._get(ay,"stepMonths"),az="#"+ay.id.replace(/\\\\/g,"\\");ay.dpDiv.find("[data-handler]").map(function(){var aA={prev:function(){am.datepicker._adjustDate(az,-ax,"M")},next:function(){am.datepicker._adjustDate(az,+ax,"M")},hide:function(){am.datepicker._hideDatepicker()},today:function(){am.datepicker._gotoToday(az)},selectDay:function(){am.datepicker._selectDay(az,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return false},selectMonth:function(){am.datepicker._selectMonthYear(az,this,"M");return false},selectYear:function(){am.datepicker._selectMonthYear(az,this,"Y");return false}};am(this).on(this.getAttribute("data-event"),aA[this.getAttribute("data-handler")])})},_generateHTML:function(bd){var aQ,aP,a8,a0,aB,bh,bb,a4,bk,aY,bo,aI,aK,aJ,ay,bg,aG,aT,bj,a6,bp,aS,aX,aH,aC,a9,a2,a5,a3,aF,aV,aL,bc,bf,aA,bi,bm,a1,aM,be=new Date(),aR=this._daylightSavingAdjust(new Date(be.getFullYear(),be.getMonth(),be.getDate())),bl=this._get(bd,"isRTL"),bn=this._get(bd,"showButtonPanel"),a7=this._get(bd,"hideIfNoPrevNext"),aW=this._get(bd,"navigationAsDateFormat"),aN=this._getNumberOfMonths(bd),aE=this._get(bd,"showCurrentAtPos"),aZ=this._get(bd,"stepMonths"),aU=(aN[0]!==1||aN[1]!==1),az=this._daylightSavingAdjust((!bd.currentDay?new Date(9999,9,9):new Date(bd.currentYear,bd.currentMonth,bd.currentDay))),aD=this._getMinMaxDate(bd,"min"),aO=this._getMinMaxDate(bd,"max"),ax=bd.drawMonth-aE,ba=bd.drawYear;if(ax<0){ax+=12;ba--}if(aO){aQ=this._daylightSavingAdjust(new Date(aO.getFullYear(),aO.getMonth()-(aN[0]*aN[1])+1,aO.getDate()));aQ=(aD&&aQ<aD?aD:aQ);while(this._daylightSavingAdjust(new Date(ba,ax,1))>aQ){ax--;if(ax<0){ax=11;ba--}}}bd.drawMonth=ax;bd.drawYear=ba;aP=this._get(bd,"prevText");aP=(!aW?aP:this.formatDate(aP,this._daylightSavingAdjust(new Date(ba,ax-aZ,1)),this._getFormatConfig(bd)));a8=(this._canAdjustMonth(bd,-1,ba,ax)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+aP+"'><span class='ui-icon ui-icon-circle-triangle-"+(bl?"e":"w")+"'>"+aP+"</span></a>":(a7?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+aP+"'><span class='ui-icon ui-icon-circle-triangle-"+(bl?"e":"w")+"'>"+aP+"</span></a>"));a0=this._get(bd,"nextText");a0=(!aW?a0:this.formatDate(a0,this._daylightSavingAdjust(new Date(ba,ax+aZ,1)),this._getFormatConfig(bd)));aB=(this._canAdjustMonth(bd,+1,ba,ax)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+a0+"'><span class='ui-icon ui-icon-circle-triangle-"+(bl?"w":"e")+"'>"+a0+"</span></a>":(a7?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+a0+"'><span class='ui-icon ui-icon-circle-triangle-"+(bl?"w":"e")+"'>"+a0+"</span></a>"));bh=this._get(bd,"currentText");bb=(this._get(bd,"gotoCurrent")&&bd.currentDay?az:aR);bh=(!aW?bh:this.formatDate(bh,bb,this._getFormatConfig(bd)));a4=(!bd.inline?"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(bd,"closeText")+"</button>":"");bk=(bn)?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(bl?a4:"")+(this._isInRange(bd,bb)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+bh+"</button>":"")+(bl?"":a4)+"</div>":"";aY=parseInt(this._get(bd,"firstDay"),10);aY=(isNaN(aY)?0:aY);bo=this._get(bd,"showWeek");aI=this._get(bd,"dayNames");aK=this._get(bd,"dayNamesMin");aJ=this._get(bd,"monthNames");ay=this._get(bd,"monthNamesShort");bg=this._get(bd,"beforeShowDay");aG=this._get(bd,"showOtherMonths");aT=this._get(bd,"selectOtherMonths");bj=this._getDefaultDate(bd);a6="";for(aS=0;aS<aN[0];aS++){aX="";this.maxRows=4;for(aH=0;aH<aN[1];aH++){aC=this._daylightSavingAdjust(new Date(ba,ax,bd.selectedDay));a9=" ui-corner-all";a2="";if(aU){a2+="<div class='ui-datepicker-group";if(aN[1]>1){switch(aH){case 0:a2+=" ui-datepicker-group-first";a9=" ui-corner-"+(bl?"right":"left");break;case aN[1]-1:a2+=" ui-datepicker-group-last";a9=" ui-corner-"+(bl?"left":"right");break;default:a2+=" ui-datepicker-group-middle";a9="";break}}a2+="'>"}a2+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+a9+"'>"+(/all|left/.test(a9)&&aS===0?(bl?aB:a8):"")+(/all|right/.test(a9)&&aS===0?(bl?a8:aB):"")+this._generateMonthYearHeader(bd,ax,ba,aD,aO,aS>0||aH>0,aJ,ay)+"</div><table class='ui-datepicker-calendar'><thead><tr>";a5=(bo?"<th class='ui-datepicker-week-col'>"+this._get(bd,"weekHeader")+"</th>":"");for(bp=0;bp<7;bp++){a3=(bp+aY)%7;a5+="<th scope='col'"+((bp+aY+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+aI[a3]+"'>"+aK[a3]+"</span></th>"}a2+=a5+"</tr></thead><tbody>";aF=this._getDaysInMonth(ba,ax);if(ba===bd.selectedYear&&ax===bd.selectedMonth){bd.selectedDay=Math.min(bd.selectedDay,aF)}aV=(this._getFirstDayOfMonth(ba,ax)-aY+7)%7;aL=Math.ceil((aV+aF)/7);bc=(aU?this.maxRows>aL?this.maxRows:aL:aL);this.maxRows=bc;bf=this._daylightSavingAdjust(new Date(ba,ax,1-aV));for(aA=0;aA<bc;aA++){a2+="<tr>";bi=(!bo?"":"<td class='ui-datepicker-week-col'>"+this._get(bd,"calculateWeek")(bf)+"</td>");for(bp=0;bp<7;bp++){bm=(bg?bg.apply((bd.input?bd.input[0]:null),[bf]):[true,""]);a1=(bf.getMonth()!==ax);aM=(a1&&!aT)||!bm[0]||(aD&&bf<aD)||(aO&&bf>aO);bi+="<td class='"+((bp+aY+6)%7>=5?" ui-datepicker-week-end":"")+(a1?" ui-datepicker-other-month":"")+((bf.getTime()===aC.getTime()&&ax===bd.selectedMonth&&bd._keyEvent)||(bj.getTime()===bf.getTime()&&bj.getTime()===aC.getTime())?" "+this._dayOverClass:"")+(aM?" "+this._unselectableClass+" ui-state-disabled":"")+(a1&&!aG?"":" "+bm[1]+(bf.getTime()===az.getTime()?" "+this._currentClass:"")+(bf.getTime()===aR.getTime()?" ui-datepicker-today":""))+"'"+((!a1||aG)&&bm[2]?" title='"+bm[2].replace(/'/g,"&#39;")+"'":"")+(aM?"":" data-handler='selectDay' data-event='click' data-month='"+bf.getMonth()+"' data-year='"+bf.getFullYear()+"'")+">"+(a1&&!aG?"&#xa0;":(aM?"<span class='ui-state-default'>"+bf.getDate()+"</span>":"<a class='ui-state-default"+(bf.getTime()===aR.getTime()?" ui-state-highlight":"")+(bf.getTime()===az.getTime()?" ui-state-active":"")+(a1?" ui-priority-secondary":"")+"' href='#'>"+bf.getDate()+"</a>"))+"</td>";bf.setDate(bf.getDate()+1);bf=this._daylightSavingAdjust(bf)}a2+=bi+"</tr>"}ax++;if(ax>11){ax=0;ba++}a2+="</tbody></table>"+(aU?"</div>"+((aN[0]>0&&aH===aN[1]-1)?"<div class='ui-datepicker-row-break'></div>":""):"");aX+=a2}a6+=aX}a6+=bk;bd._keyEvent=false;return a6},_generateMonthYearHeader:function(aB,az,aJ,aD,aH,aK,aF,ax){var aO,ay,aP,aM,aC,aL,aI,aE,aA=this._get(aB,"changeMonth"),aQ=this._get(aB,"changeYear"),aR=this._get(aB,"showMonthAfterYear"),aG="<div class='ui-datepicker-title'>",aN="";if(aK||!aA){aN+="<span class='ui-datepicker-month'>"+aF[az]+"</span>"}else{aO=(aD&&aD.getFullYear()===aJ);ay=(aH&&aH.getFullYear()===aJ);aN+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(aP=0;aP<12;aP++){if((!aO||aP>=aD.getMonth())&&(!ay||aP<=aH.getMonth())){aN+="<option value='"+aP+"'"+(aP===az?" selected='selected'":"")+">"+ax[aP]+"</option>"}}aN+="</select>"}if(!aR){aG+=aN+(aK||!(aA&&aQ)?"&#xa0;":"")}if(!aB.yearshtml){aB.yearshtml="";if(aK||!aQ){aG+="<span class='ui-datepicker-year'>"+aJ+"</span>"}else{aM=this._get(aB,"yearRange").split(":");aC=new Date().getFullYear();aL=function(aT){var aS=(aT.match(/c[+\-].*/)?aJ+parseInt(aT.substring(1),10):(aT.match(/[+\-].*/)?aC+parseInt(aT,10):parseInt(aT,10)));return(isNaN(aS)?aC:aS)};aI=aL(aM[0]);aE=Math.max(aI,aL(aM[1]||""));aI=(aD?Math.max(aI,aD.getFullYear()):aI);aE=(aH?Math.min(aE,aH.getFullYear()):aE);aB.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";for(;aI<=aE;aI++){aB.yearshtml+="<option value='"+aI+"'"+(aI===aJ?" selected='selected'":"")+">"+aI+"</option>"}aB.yearshtml+="</select>";aG+=aB.yearshtml;aB.yearshtml=null}}aG+=this._get(aB,"yearSuffix");if(aR){aG+=(aK||!(aA&&aQ)?"&#xa0;":"")+aN}aG+="</div>";return aG},_adjustInstDate:function(aA,aD,aC){var az=aA.selectedYear+(aC==="Y"?aD:0),aB=aA.selectedMonth+(aC==="M"?aD:0),ax=Math.min(aA.selectedDay,this._getDaysInMonth(az,aB))+(aC==="D"?aD:0),ay=this._restrictMinMax(aA,this._daylightSavingAdjust(new Date(az,aB,ax)));aA.selectedDay=ay.getDate();aA.drawMonth=aA.selectedMonth=ay.getMonth();aA.drawYear=aA.selectedYear=ay.getFullYear();if(aC==="M"||aC==="Y"){this._notifyChange(aA)}},_restrictMinMax:function(aA,ay){var az=this._getMinMaxDate(aA,"min"),aB=this._getMinMaxDate(aA,"max"),ax=(az&&ay<az?az:ay);return(aB&&ax>aB?aB:ax)},_notifyChange:function(ay){var ax=this._get(ay,"onChangeMonthYear");if(ax){ax.apply((ay.input?ay.input[0]:null),[ay.selectedYear,ay.selectedMonth+1,ay])}},_getNumberOfMonths:function(ay){var ax=this._get(ay,"numberOfMonths");return(ax==null?[1,1]:(typeof ax==="number"?[1,ax]:ax))},_getMinMaxDate:function(ay,ax){return this._determineDate(ay,this._get(ay,ax+"Date"),null)},_getDaysInMonth:function(ax,ay){return 32-this._daylightSavingAdjust(new Date(ax,ay,32)).getDate()},_getFirstDayOfMonth:function(ax,ay){return new Date(ax,ay,1).getDay()},_canAdjustMonth:function(aA,aC,az,aB){var ax=this._getNumberOfMonths(aA),ay=this._daylightSavingAdjust(new Date(az,aB+(aC<0?aC:ax[0]*ax[1]),1));if(aC<0){ay.setDate(this._getDaysInMonth(ay.getFullYear(),ay.getMonth()))}return this._isInRange(aA,ay)},_isInRange:function(aB,az){var ay,aE,aA=this._getMinMaxDate(aB,"min"),ax=this._getMinMaxDate(aB,"max"),aF=null,aC=null,aD=this._get(aB,"yearRange");if(aD){ay=aD.split(":");aE=new Date().getFullYear();aF=parseInt(ay[0],10);aC=parseInt(ay[1],10);if(ay[0].match(/[+\-].*/)){aF+=aE}if(ay[1].match(/[+\-].*/)){aC+=aE}}return((!aA||az.getTime()>=aA.getTime())&&(!ax||az.getTime()<=ax.getTime())&&(!aF||az.getFullYear()>=aF)&&(!aC||az.getFullYear()<=aC))},_getFormatConfig:function(ax){var ay=this._get(ax,"shortYearCutoff");ay=(typeof ay!=="string"?ay:new Date().getFullYear()%100+parseInt(ay,10));return{shortYearCutoff:ay,dayNamesShort:this._get(ax,"dayNamesShort"),dayNames:this._get(ax,"dayNames"),monthNamesShort:this._get(ax,"monthNamesShort"),monthNames:this._get(ax,"monthNames")}},_formatDate:function(aA,ax,aB,az){if(!ax){aA.currentDay=aA.selectedDay;aA.currentMonth=aA.selectedMonth;aA.currentYear=aA.selectedYear}var ay=(ax?(typeof ax==="object"?ax:this._daylightSavingAdjust(new Date(az,aB,ax))):this._daylightSavingAdjust(new Date(aA.currentYear,aA.currentMonth,aA.currentDay)));return this.formatDate(this._get(aA,"dateFormat"),ay,this._getFormatConfig(aA))}});function Z(ay){var ax="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return ay.on("mouseout",ax,function(){am(this).removeClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){am(this).removeClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!==-1){am(this).removeClass("ui-datepicker-next-hover")}}).on("mouseover",ax,K)}function K(){if(!am.datepicker._isDisabledDatepicker(at.inline?at.dpDiv.parent()[0]:at.input[0])){am(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");am(this).addClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){am(this).addClass("ui-datepicker-prev-hover")}if(this.className.indexOf("ui-datepicker-next")!==-1){am(this).addClass("ui-datepicker-next-hover")}}}function F(az,ay){am.extend(az,ay);for(var ax in ay){if(ay[ax]==null){az[ax]=ay[ax]}}return az}am.fn.datepicker=function(ay){if(!this.length){return this}if(!am.datepicker.initialized){am(document).on("mousedown",am.datepicker._checkExternalClick);am.datepicker.initialized=true}if(am("#"+am.datepicker._mainDivId).length===0){am("body").append(am.datepicker.dpDiv)}var ax=Array.prototype.slice.call(arguments,1);if(typeof ay==="string"&&(ay==="isDisabled"||ay==="getDate"||ay==="widget")){return am.datepicker["_"+ay+"Datepicker"].apply(am.datepicker,[this[0]].concat(ax))}if(ay==="option"&&arguments.length===2&&typeof arguments[1]==="string"){return am.datepicker["_"+ay+"Datepicker"].apply(am.datepicker,[this[0]].concat(ax))}return this.each(function(){typeof ay==="string"?am.datepicker["_"+ay+"Datepicker"].apply(am.datepicker,[this].concat(ax)):am.datepicker._attachDatepicker(this,ay)})};am.datepicker=new Q();am.datepicker.initialized=false;am.datepicker.uuid=new Date().getTime();am.datepicker.version="1.12.1";var k=am.datepicker;var L=am.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());
/*!
 * jQuery UI Mouse 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;var ad=false;am(document).on("mouseup",function(){ad=false});var a=am.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var ax=this;this.element.on("mousedown."+this.widgetName,function(ay){return ax._mouseDown(ay)}).on("click."+this.widgetName,function(ay){if(true===am.data(ay.target,ax.widgetName+".preventClickEvent")){am.removeData(ay.target,ax.widgetName+".preventClickEvent");ay.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.off("."+this.widgetName);if(this._mouseMoveDelegate){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function(az){if(ad){return}this._mouseMoved=false;(this._mouseStarted&&this._mouseUp(az));this._mouseDownEvent=az;var ay=this,aA=(az.which===1),ax=(typeof this.options.cancel==="string"&&az.target.nodeName?am(az.target).closest(this.options.cancel).length:false);if(!aA||ax||!this._mouseCapture(az)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){ay.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(az)&&this._mouseDelayMet(az)){this._mouseStarted=(this._mouseStart(az)!==false);if(!this._mouseStarted){az.preventDefault();return true}}if(true===am.data(az.target,this.widgetName+".preventClickEvent")){am.removeData(az.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(aB){return ay._mouseMove(aB)};this._mouseUpDelegate=function(aB){return ay._mouseUp(aB)};this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate);az.preventDefault();ad=true;return true},_mouseMove:function(ax){if(this._mouseMoved){if(am.ui.ie&&(!document.documentMode||document.documentMode<9)&&!ax.button){return this._mouseUp(ax)}else{if(!ax.which){if(ax.originalEvent.altKey||ax.originalEvent.ctrlKey||ax.originalEvent.metaKey||ax.originalEvent.shiftKey){this.ignoreMissingWhich=true}else{if(!this.ignoreMissingWhich){return this._mouseUp(ax)}}}}}if(ax.which||ax.button){this._mouseMoved=true}if(this._mouseStarted){this._mouseDrag(ax);return ax.preventDefault()}if(this._mouseDistanceMet(ax)&&this._mouseDelayMet(ax)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,ax)!==false);(this._mouseStarted?this._mouseDrag(ax):this._mouseUp(ax))}return !this._mouseStarted},_mouseUp:function(ax){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(ax.target===this._mouseDownEvent.target){am.data(ax.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(ax)}if(this._mouseDelayTimer){clearTimeout(this._mouseDelayTimer);delete this._mouseDelayTimer}this.ignoreMissingWhich=false;ad=false;ax.preventDefault()},_mouseDistanceMet:function(ax){return(Math.max(Math.abs(this._mouseDownEvent.pageX-ax.pageX),Math.abs(this._mouseDownEvent.pageY-ax.pageY))>=this.options.distance)},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}});var G=am.ui.plugin={add:function(ay,az,aB){var ax,aA=am.ui[ay].prototype;for(ax in aB){aA.plugins[ax]=aA.plugins[ax]||[];aA.plugins[ax].push([az,aB[ax]])}},call:function(ax,aA,az,ay){var aB,aC=ax.plugins[aA];if(!aC){return}if(!ay&&(!ax.element[0].parentNode||ax.element[0].parentNode.nodeType===11)){return}for(aB=0;aB<aC.length;aB++){if(ax.options[aC[aB][0]]){aC[aB][1].apply(ax.element,az)}}}};var c=am.ui.safeBlur=function(ax){if(ax&&ax.nodeName.toLowerCase()!=="body"){am(ax).trigger("blur")}};
/*!
 * jQuery UI Draggable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;am.widget("ui.draggable",am.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original"){this._setPositionRelative()}if(this.options.addClasses){this._addClass("ui-draggable")}this._setHandleClassName();this._mouseInit()},_setOption:function(ax,ay){this._super(ax,ay);if(ax==="handle"){this._removeHandleClassName();this._setHandleClassName()}},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging")){this.destroyOnClear=true;return}this._removeHandleClassName();this._mouseDestroy()},_mouseCapture:function(ax){var ay=this.options;if(this.helper||ay.disabled||am(ax.target).closest(".ui-resizable-handle").length>0){return false}this.handle=this._getHandle(ax);if(!this.handle){return false}this._blurActiveElement(ax);this._blockFrames(ay.iframeFix===true?"iframe":ay.iframeFix);return true},_blockFrames:function(ax){this.iframeBlocks=this.document.find(ax).map(function(){var ay=am(this);return am("<div>").css("position","absolute").appendTo(ay.parent()).outerWidth(ay.outerWidth()).outerHeight(ay.outerHeight()).offset(ay.offset())[0]})},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks}},_blurActiveElement:function(ay){var ax=am.ui.safeActiveElement(this.document[0]),az=am(ay.target);if(az.closest(ax).length){return}am.ui.safeBlur(ax)},_mouseStart:function(ax){var ay=this.options;this.helper=this._createHelper(ax);this._addClass(this.helper,"ui-draggable-dragging");this._cacheHelperProportions();if(am.ui.ddmanager){am.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent(true);this.offsetParent=this.helper.offsetParent();this.hasFixedAncestor=this.helper.parents().filter(function(){return am(this).css("position")==="fixed"}).length>0;this.positionAbs=this.element.offset();this._refreshOffsets(ax);this.originalPosition=this.position=this._generatePosition(ax,false);this.originalPageX=ax.pageX;this.originalPageY=ax.pageY;(ay.cursorAt&&this._adjustOffsetFromHelper(ay.cursorAt));this._setContainment();if(this._trigger("start",ax)===false){this._clear();return false}this._cacheHelperProportions();if(am.ui.ddmanager&&!ay.dropBehaviour){am.ui.ddmanager.prepareOffsets(this,ax)}this._mouseDrag(ax,true);if(am.ui.ddmanager){am.ui.ddmanager.dragStart(this,ax)}return true},_refreshOffsets:function(ax){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:false,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:ax.pageX-this.offset.left,top:ax.pageY-this.offset.top}},_mouseDrag:function(ax,az){if(this.hasFixedAncestor){this.offset.parent=this._getParentOffset()}this.position=this._generatePosition(ax,true);this.positionAbs=this._convertPositionTo("absolute");if(!az){var ay=this._uiHash();if(this._trigger("drag",ax,ay)===false){this._mouseUp(new am.Event("mouseup",ax));return false}this.position=ay.position}this.helper[0].style.left=this.position.left+"px";this.helper[0].style.top=this.position.top+"px";if(am.ui.ddmanager){am.ui.ddmanager.drag(this,ax)}return false},_mouseStop:function(ay){var ax=this,az=false;if(am.ui.ddmanager&&!this.options.dropBehaviour){az=am.ui.ddmanager.drop(this,ay)}if(this.dropped){az=this.dropped;this.dropped=false}if((this.options.revert==="invalid"&&!az)||(this.options.revert==="valid"&&az)||this.options.revert===true||(am.isFunction(this.options.revert)&&this.options.revert.call(this.element,az))){am(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(ax._trigger("stop",ay)!==false){ax._clear()}})}else{if(this._trigger("stop",ay)!==false){this._clear()}}return false},_mouseUp:function(ax){this._unblockFrames();if(am.ui.ddmanager){am.ui.ddmanager.dragStop(this,ax)}if(this.handleElement.is(ax.target)){this.element.trigger("focus")}return am.ui.mouse.prototype._mouseUp.call(this,ax)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp(new am.Event("mouseup",{target:this.element[0]}))}else{this._clear()}return this},_getHandle:function(ax){return this.options.handle?!!am(ax.target).closest(this.element.find(this.options.handle)).length:true},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(ay){var aA=this.options,az=am.isFunction(aA.helper),ax=az?am(aA.helper.apply(this.element[0],[ay])):(aA.helper==="clone"?this.element.clone().removeAttr("id"):this.element);if(!ax.parents("body").length){ax.appendTo((aA.appendTo==="parent"?this.element[0].parentNode:aA.appendTo))}if(az&&ax[0]===this.element[0]){this._setPositionRelative()}if(ax[0]!==this.element[0]&&!(/(fixed|absolute)/).test(ax.css("position"))){ax.css("position","absolute")}return ax},_setPositionRelative:function(){if(!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative"}},_adjustOffsetFromHelper:function(ax){if(typeof ax==="string"){ax=ax.split(" ")}if(am.isArray(ax)){ax={left:+ax[0],top:+ax[1]||0}}if("left" in ax){this.offset.click.left=ax.left+this.margins.left}if("right" in ax){this.offset.click.left=this.helperProportions.width-ax.right+this.margins.left}if("top" in ax){this.offset.click.top=ax.top+this.margins.top}if("bottom" in ax){this.offset.click.top=this.helperProportions.height-ax.bottom+this.margins.top}},_isRootNode:function(ax){return(/(html|body)/i).test(ax.tagName)||ax===this.document[0]},_getParentOffset:function(){var ay=this.offsetParent.offset(),ax=this.document[0];if(this.cssPosition==="absolute"&&this.scrollParent[0]!==ax&&am.contains(this.scrollParent[0],this.offsetParent[0])){ay.left+=this.scrollParent.scrollLeft();ay.top+=this.scrollParent.scrollTop()}if(this._isRootNode(this.offsetParent[0])){ay={top:0,left:0}}return{top:ay.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:ay.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition!=="relative"){return{top:0,left:0}}var ax=this.element.position(),ay=this._isRootNode(this.scrollParent[0]);return{top:ax.top-(parseInt(this.helper.css("top"),10)||0)+(!ay?this.scrollParent.scrollTop():0),left:ax.left-(parseInt(this.helper.css("left"),10)||0)+(!ay?this.scrollParent.scrollLeft():0)}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var ay,aB,az,aA=this.options,ax=this.document[0];this.relativeContainer=null;if(!aA.containment){this.containment=null;return}if(aA.containment==="window"){this.containment=[am(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,am(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,am(window).scrollLeft()+am(window).width()-this.helperProportions.width-this.margins.left,am(window).scrollTop()+(am(window).height()||ax.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(aA.containment==="document"){this.containment=[0,0,am(ax).width()-this.helperProportions.width-this.margins.left,(am(ax).height()||ax.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(aA.containment.constructor===Array){this.containment=aA.containment;return}if(aA.containment==="parent"){aA.containment=this.helper[0].parentNode}aB=am(aA.containment);az=aB[0];if(!az){return}ay=/(scroll|auto)/.test(aB.css("overflow"));this.containment=[(parseInt(aB.css("borderLeftWidth"),10)||0)+(parseInt(aB.css("paddingLeft"),10)||0),(parseInt(aB.css("borderTopWidth"),10)||0)+(parseInt(aB.css("paddingTop"),10)||0),(ay?Math.max(az.scrollWidth,az.offsetWidth):az.offsetWidth)-(parseInt(aB.css("borderRightWidth"),10)||0)-(parseInt(aB.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(ay?Math.max(az.scrollHeight,az.offsetHeight):az.offsetHeight)-(parseInt(aB.css("borderBottomWidth"),10)||0)-(parseInt(aB.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relativeContainer=aB},_convertPositionTo:function(ay,aA){if(!aA){aA=this.position}var ax=ay==="absolute"?1:-1,az=this._isRootNode(this.scrollParent[0]);return{top:(aA.top+this.offset.relative.top*ax+this.offset.parent.top*ax-((this.cssPosition==="fixed"?-this.offset.scroll.top:(az?0:this.offset.scroll.top))*ax)),left:(aA.left+this.offset.relative.left*ax+this.offset.parent.left*ax-((this.cssPosition==="fixed"?-this.offset.scroll.left:(az?0:this.offset.scroll.left))*ax))}},_generatePosition:function(ay,aE){var ax,aF,aG,aA,az=this.options,aD=this._isRootNode(this.scrollParent[0]),aC=ay.pageX,aB=ay.pageY;if(!aD||!this.offset.scroll){this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}}if(aE){if(this.containment){if(this.relativeContainer){aF=this.relativeContainer.offset();ax=[this.containment[0]+aF.left,this.containment[1]+aF.top,this.containment[2]+aF.left,this.containment[3]+aF.top]}else{ax=this.containment}if(ay.pageX-this.offset.click.left<ax[0]){aC=ax[0]+this.offset.click.left}if(ay.pageY-this.offset.click.top<ax[1]){aB=ax[1]+this.offset.click.top}if(ay.pageX-this.offset.click.left>ax[2]){aC=ax[2]+this.offset.click.left}if(ay.pageY-this.offset.click.top>ax[3]){aB=ax[3]+this.offset.click.top}}if(az.grid){aG=az.grid[1]?this.originalPageY+Math.round((aB-this.originalPageY)/az.grid[1])*az.grid[1]:this.originalPageY;aB=ax?((aG-this.offset.click.top>=ax[1]||aG-this.offset.click.top>ax[3])?aG:((aG-this.offset.click.top>=ax[1])?aG-az.grid[1]:aG+az.grid[1])):aG;aA=az.grid[0]?this.originalPageX+Math.round((aC-this.originalPageX)/az.grid[0])*az.grid[0]:this.originalPageX;aC=ax?((aA-this.offset.click.left>=ax[0]||aA-this.offset.click.left>ax[2])?aA:((aA-this.offset.click.left>=ax[0])?aA-az.grid[0]:aA+az.grid[0])):aA}if(az.axis==="y"){aC=this.originalPageX}if(az.axis==="x"){aB=this.originalPageY}}return{top:(aB-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.offset.scroll.top:(aD?0:this.offset.scroll.top))),left:(aC-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.offset.scroll.left:(aD?0:this.offset.scroll.left)))}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false;if(this.destroyOnClear){this.destroy()}},_trigger:function(ax,ay,az){az=az||this._uiHash();am.ui.plugin.call(this,ax,[ay,az,this],true);if(/^(drag|start|stop)/.test(ax)){this.positionAbs=this._convertPositionTo("absolute");az.offset=this.positionAbs}return am.Widget.prototype._trigger.call(this,ax,ay,az)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});am.ui.plugin.add("draggable","connectToSortable",{start:function(az,aA,ax){var ay=am.extend({},aA,{item:ax.element});ax.sortables=[];am(ax.options.connectToSortable).each(function(){var aB=am(this).sortable("instance");if(aB&&!aB.options.disabled){ax.sortables.push(aB);aB.refreshPositions();aB._trigger("activate",az,ay)}})},stop:function(az,aA,ax){var ay=am.extend({},aA,{item:ax.element});ax.cancelHelperRemoval=false;am.each(ax.sortables,function(){var aB=this;if(aB.isOver){aB.isOver=0;ax.cancelHelperRemoval=true;aB.cancelHelperRemoval=false;aB._storedCSS={position:aB.placeholder.css("position"),top:aB.placeholder.css("top"),left:aB.placeholder.css("left")};aB._mouseStop(az);aB.options.helper=aB.options._helper}else{aB.cancelHelperRemoval=true;aB._trigger("deactivate",az,ay)}})},drag:function(ay,az,ax){am.each(ax.sortables,function(){var aA=false,aB=this;aB.positionAbs=ax.positionAbs;aB.helperProportions=ax.helperProportions;aB.offset.click=ax.offset.click;if(aB._intersectsWith(aB.containerCache)){aA=true;am.each(ax.sortables,function(){this.positionAbs=ax.positionAbs;this.helperProportions=ax.helperProportions;this.offset.click=ax.offset.click;if(this!==aB&&this._intersectsWith(this.containerCache)&&am.contains(aB.element[0],this.element[0])){aA=false}return aA})}if(aA){if(!aB.isOver){aB.isOver=1;ax._parent=az.helper.parent();aB.currentItem=az.helper.appendTo(aB.element).data("ui-sortable-item",true);aB.options._helper=aB.options.helper;aB.options.helper=function(){return az.helper[0]};ay.target=aB.currentItem[0];aB._mouseCapture(ay,true);aB._mouseStart(ay,true,true);aB.offset.click.top=ax.offset.click.top;aB.offset.click.left=ax.offset.click.left;aB.offset.parent.left-=ax.offset.parent.left-aB.offset.parent.left;aB.offset.parent.top-=ax.offset.parent.top-aB.offset.parent.top;ax._trigger("toSortable",ay);ax.dropped=aB.element;am.each(ax.sortables,function(){this.refreshPositions()});ax.currentItem=ax.element;aB.fromOutside=ax}if(aB.currentItem){aB._mouseDrag(ay);az.position=aB.position}}else{if(aB.isOver){aB.isOver=0;aB.cancelHelperRemoval=true;aB.options._revert=aB.options.revert;aB.options.revert=false;aB._trigger("out",ay,aB._uiHash(aB));aB._mouseStop(ay,true);aB.options.revert=aB.options._revert;aB.options.helper=aB.options._helper;if(aB.placeholder){aB.placeholder.remove()}az.helper.appendTo(ax._parent);ax._refreshOffsets(ay);az.position=ax._generatePosition(ay,true);ax._trigger("fromSortable",ay);ax.dropped=false;am.each(ax.sortables,function(){this.refreshPositions()})}}})}});am.ui.plugin.add("draggable","cursor",{start:function(az,aA,ax){var ay=am("body"),aB=ax.options;if(ay.css("cursor")){aB._cursor=ay.css("cursor")}ay.css("cursor",aB.cursor)},stop:function(ay,az,ax){var aA=ax.options;if(aA._cursor){am("body").css("cursor",aA._cursor)}}});am.ui.plugin.add("draggable","opacity",{start:function(az,aA,ax){var ay=am(aA.helper),aB=ax.options;if(ay.css("opacity")){aB._opacity=ay.css("opacity")}ay.css("opacity",aB.opacity)},stop:function(ay,az,ax){var aA=ax.options;if(aA._opacity){am(az.helper).css("opacity",aA._opacity)}}});am.ui.plugin.add("draggable","scroll",{start:function(ay,az,ax){if(!ax.scrollParentNotHidden){ax.scrollParentNotHidden=ax.helper.scrollParent(false)}if(ax.scrollParentNotHidden[0]!==ax.document[0]&&ax.scrollParentNotHidden[0].tagName!=="HTML"){ax.overflowOffset=ax.scrollParentNotHidden.offset()}},drag:function(aA,aB,az){var aC=az.options,ay=false,aD=az.scrollParentNotHidden[0],ax=az.document[0];if(aD!==ax&&aD.tagName!=="HTML"){if(!aC.axis||aC.axis!=="x"){if((az.overflowOffset.top+aD.offsetHeight)-aA.pageY<aC.scrollSensitivity){aD.scrollTop=ay=aD.scrollTop+aC.scrollSpeed}else{if(aA.pageY-az.overflowOffset.top<aC.scrollSensitivity){aD.scrollTop=ay=aD.scrollTop-aC.scrollSpeed}}}if(!aC.axis||aC.axis!=="y"){if((az.overflowOffset.left+aD.offsetWidth)-aA.pageX<aC.scrollSensitivity){aD.scrollLeft=ay=aD.scrollLeft+aC.scrollSpeed}else{if(aA.pageX-az.overflowOffset.left<aC.scrollSensitivity){aD.scrollLeft=ay=aD.scrollLeft-aC.scrollSpeed}}}}else{if(!aC.axis||aC.axis!=="x"){if(aA.pageY-am(ax).scrollTop()<aC.scrollSensitivity){ay=am(ax).scrollTop(am(ax).scrollTop()-aC.scrollSpeed)}else{if(am(window).height()-(aA.pageY-am(ax).scrollTop())<aC.scrollSensitivity){ay=am(ax).scrollTop(am(ax).scrollTop()+aC.scrollSpeed)}}}if(!aC.axis||aC.axis!=="y"){if(aA.pageX-am(ax).scrollLeft()<aC.scrollSensitivity){ay=am(ax).scrollLeft(am(ax).scrollLeft()-aC.scrollSpeed)}else{if(am(window).width()-(aA.pageX-am(ax).scrollLeft())<aC.scrollSensitivity){ay=am(ax).scrollLeft(am(ax).scrollLeft()+aC.scrollSpeed)}}}}if(ay!==false&&am.ui.ddmanager&&!aC.dropBehaviour){am.ui.ddmanager.prepareOffsets(az,aA)}}});am.ui.plugin.add("draggable","snap",{start:function(ay,az,ax){var aA=ax.options;ax.snapElements=[];am(aA.snap.constructor!==String?(aA.snap.items||":data(ui-draggable)"):aA.snap).each(function(){var aC=am(this),aB=aC.offset();if(this!==ax.element[0]){ax.snapElements.push({item:this,width:aC.outerWidth(),height:aC.outerHeight(),top:aB.top,left:aB.left})}})},drag:function(aJ,aG,aA){var ax,aO,aC,aD,aI,aF,aE,aP,aK,aB,aH=aA.options,aN=aH.snapTolerance,aM=aG.offset.left,aL=aM+aA.helperProportions.width,az=aG.offset.top,ay=az+aA.helperProportions.height;for(aK=aA.snapElements.length-1;aK>=0;aK--){aI=aA.snapElements[aK].left-aA.margins.left;aF=aI+aA.snapElements[aK].width;aE=aA.snapElements[aK].top-aA.margins.top;aP=aE+aA.snapElements[aK].height;if(aL<aI-aN||aM>aF+aN||ay<aE-aN||az>aP+aN||!am.contains(aA.snapElements[aK].item.ownerDocument,aA.snapElements[aK].item)){if(aA.snapElements[aK].snapping){(aA.options.snap.release&&aA.options.snap.release.call(aA.element,aJ,am.extend(aA._uiHash(),{snapItem:aA.snapElements[aK].item})))}aA.snapElements[aK].snapping=false;continue}if(aH.snapMode!=="inner"){ax=Math.abs(aE-ay)<=aN;aO=Math.abs(aP-az)<=aN;aC=Math.abs(aI-aL)<=aN;aD=Math.abs(aF-aM)<=aN;if(ax){aG.position.top=aA._convertPositionTo("relative",{top:aE-aA.helperProportions.height,left:0}).top}if(aO){aG.position.top=aA._convertPositionTo("relative",{top:aP,left:0}).top}if(aC){aG.position.left=aA._convertPositionTo("relative",{top:0,left:aI-aA.helperProportions.width}).left}if(aD){aG.position.left=aA._convertPositionTo("relative",{top:0,left:aF}).left}}aB=(ax||aO||aC||aD);if(aH.snapMode!=="outer"){ax=Math.abs(aE-az)<=aN;aO=Math.abs(aP-ay)<=aN;aC=Math.abs(aI-aM)<=aN;aD=Math.abs(aF-aL)<=aN;if(ax){aG.position.top=aA._convertPositionTo("relative",{top:aE,left:0}).top}if(aO){aG.position.top=aA._convertPositionTo("relative",{top:aP-aA.helperProportions.height,left:0}).top}if(aC){aG.position.left=aA._convertPositionTo("relative",{top:0,left:aI}).left}if(aD){aG.position.left=aA._convertPositionTo("relative",{top:0,left:aF-aA.helperProportions.width}).left}}if(!aA.snapElements[aK].snapping&&(ax||aO||aC||aD||aB)){(aA.options.snap.snap&&aA.options.snap.snap.call(aA.element,aJ,am.extend(aA._uiHash(),{snapItem:aA.snapElements[aK].item})))}aA.snapElements[aK].snapping=(ax||aO||aC||aD||aB)}}});am.ui.plugin.add("draggable","stack",{start:function(az,aA,ax){var ay,aC=ax.options,aB=am.makeArray(am(aC.stack)).sort(function(aE,aD){return(parseInt(am(aE).css("zIndex"),10)||0)-(parseInt(am(aD).css("zIndex"),10)||0)});if(!aB.length){return}ay=parseInt(am(aB[0]).css("zIndex"),10)||0;am(aB).each(function(aD){am(this).css("zIndex",ay+aD)});this.css("zIndex",(ay+aB.length))}});am.ui.plugin.add("draggable","zIndex",{start:function(az,aA,ax){var ay=am(aA.helper),aB=ax.options;if(ay.css("zIndex")){aB._zIndex=ay.css("zIndex")}ay.css("zIndex",aB.zIndex)},stop:function(ay,az,ax){var aA=ax.options;if(aA._zIndex){am(az.helper).css("zIndex",aA._zIndex)}}});var w=am.ui.draggable;
/*!
 * jQuery UI Resizable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;am.widget("ui.resizable",am.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(ax){return parseFloat(ax)||0},_isNumber:function(ax){return !isNaN(parseFloat(ax))},_hasScroll:function(aA,ay){if(am(aA).css("overflow")==="hidden"){return false}var ax=(ay&&ay==="left")?"scrollLeft":"scrollTop",az=false;if(aA[ax]>0){return true}aA[ax]=1;az=(aA[ax]>0);aA[ax]=0;return az},_create:function(){var ay,az=this.options,ax=this;this._addClass("ui-resizable");am.extend(this,{_aspectRatio:!!(az.aspectRatio),aspectRatio:az.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:az.helper||az.ghost||az.animate?az.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)){this.element.wrap(am("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance"));this.elementIsWrapper=true;ay={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")};this.element.css(ay);this.originalElement.css("margin",0);this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css(ay);this._proportionallyResize()}this._setupHandles();if(az.autoHide){am(this.element).on("mouseenter",function(){if(az.disabled){return}ax._removeClass("ui-resizable-autohide");ax._handles.show()}).on("mouseleave",function(){if(az.disabled){return}if(!ax.resizing){ax._addClass("ui-resizable-autohide");ax._handles.hide()}})}this._mouseInit()},_destroy:function(){this._mouseDestroy();var ay,ax=function(az){am(az).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){ax(this.element);ay=this.element;this.originalElement.css({position:ay.css("position"),width:ay.outerWidth(),height:ay.outerHeight(),top:ay.css("top"),left:ay.css("left")}).insertAfter(ay);ay.remove()}this.originalElement.css("resize",this.originalResizeStyle);ax(this.originalElement);return this},_setOption:function(ax,ay){this._super(ax,ay);switch(ax){case"handles":this._removeHandles();this._setupHandles();break;default:break}},_setupHandles:function(){var aC=this.options,aB,ay,aD,ax,az,aA=this;this.handles=aC.handles||(!am(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});this._handles=am();if(this.handles.constructor===String){if(this.handles==="all"){this.handles="n,e,s,w,se,sw,ne,nw"}aD=this.handles.split(",");this.handles={};for(ay=0;ay<aD.length;ay++){aB=am.trim(aD[ay]);ax="ui-resizable-"+aB;az=am("<div>");this._addClass(az,"ui-resizable-handle "+ax);az.css({zIndex:aC.zIndex});this.handles[aB]=".ui-resizable-"+aB;this.element.append(az)}}this._renderAxis=function(aI){var aF,aG,aE,aH;aI=aI||this.element;for(aF in this.handles){if(this.handles[aF].constructor===String){this.handles[aF]=this.element.children(this.handles[aF]).first().show()}else{if(this.handles[aF].jquery||this.handles[aF].nodeType){this.handles[aF]=am(this.handles[aF]);this._on(this.handles[aF],{mousedown:aA._mouseDown})}}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)){aG=am(this.handles[aF],this.element);aH=/sw|ne|nw|se|n|s/.test(aF)?aG.outerHeight():aG.outerWidth();aE=["padding",/ne|nw|n/.test(aF)?"Top":/se|sw|s/.test(aF)?"Bottom":/^e$/.test(aF)?"Right":"Left"].join("");aI.css(aE,aH);this._proportionallyResize()}this._handles=this._handles.add(this.handles[aF])}};this._renderAxis(this.element);this._handles=this._handles.add(this.element.find(".ui-resizable-handle"));this._handles.disableSelection();this._handles.on("mouseover",function(){if(!aA.resizing){if(this.className){az=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}aA.axis=az&&az[1]?az[1]:"se"}});if(aC.autoHide){this._handles.hide();this._addClass("ui-resizable-autohide")}},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(az){var ay,aA,ax=false;for(ay in this.handles){aA=am(this.handles[ay])[0];if(aA===az.target||am.contains(aA,az.target)){ax=true}}return !this.options.disabled&&ax},_mouseStart:function(ay){var aC,az,aB,aA=this.options,ax=this.element;this.resizing=true;this._renderProxy();aC=this._num(this.helper.css("left"));az=this._num(this.helper.css("top"));if(aA.containment){aC+=am(aA.containment).scrollLeft()||0;az+=am(aA.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:aC,top:az};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:ax.width(),height:ax.height()};this.originalSize=this._helper?{width:ax.outerWidth(),height:ax.outerHeight()}:{width:ax.width(),height:ax.height()};this.sizeDiff={width:ax.outerWidth()-ax.width(),height:ax.outerHeight()-ax.height()};this.originalPosition={left:aC,top:az};this.originalMousePosition={left:ay.pageX,top:ay.pageY};this.aspectRatio=(typeof aA.aspectRatio==="number")?aA.aspectRatio:((this.originalSize.width/this.originalSize.height)||1);aB=am(".ui-resizable-"+this.axis).css("cursor");am("body").css("cursor",aB==="auto"?this.axis+"-resize":aB);this._addClass("ui-resizable-resizing");this._propagate("start",ay);return true},_mouseDrag:function(aC){var aD,aB,aE=this.originalMousePosition,ay=this.axis,az=(aC.pageX-aE.left)||0,ax=(aC.pageY-aE.top)||0,aA=this._change[ay];this._updatePrevProperties();if(!aA){return false}aD=aA.apply(this,[aC,az,ax]);this._updateVirtualBoundaries(aC.shiftKey);if(this._aspectRatio||aC.shiftKey){aD=this._updateRatio(aD,aC)}aD=this._respectSize(aD,aC);this._updateCache(aD);this._propagate("resize",aC);aB=this._applyChanges();if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize()}if(!am.isEmptyObject(aB)){this._updatePrevProperties();this._trigger("resize",aC,this.ui());this._applyChanges()}return false},_mouseStop:function(aA){this.resizing=false;var az,ax,ay,aD,aG,aC,aF,aB=this.options,aE=this;if(this._helper){az=this._proportionallyResizeElements;ax=az.length&&(/textarea/i).test(az[0].nodeName);ay=ax&&this._hasScroll(az[0],"left")?0:aE.sizeDiff.height;aD=ax?0:aE.sizeDiff.width;aG={width:(aE.helper.width()-aD),height:(aE.helper.height()-ay)};aC=(parseFloat(aE.element.css("left"))+(aE.position.left-aE.originalPosition.left))||null;aF=(parseFloat(aE.element.css("top"))+(aE.position.top-aE.originalPosition.top))||null;if(!aB.animate){this.element.css(am.extend(aG,{top:aF,left:aC}))}aE.helper.height(aE.size.height);aE.helper.width(aE.size.width);if(this._helper&&!aB.animate){this._proportionallyResize()}}am("body").css("cursor","auto");this._removeClass("ui-resizable-resizing");this._propagate("stop",aA);if(this._helper){this.helper.remove()}return false},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var ax={};if(this.position.top!==this.prevPosition.top){ax.top=this.position.top+"px"}if(this.position.left!==this.prevPosition.left){ax.left=this.position.left+"px"}if(this.size.width!==this.prevSize.width){ax.width=this.size.width+"px"}if(this.size.height!==this.prevSize.height){ax.height=this.size.height+"px"}this.helper.css(ax);return ax},_updateVirtualBoundaries:function(az){var aB,aA,ay,aD,ax,aC=this.options;ax={minWidth:this._isNumber(aC.minWidth)?aC.minWidth:0,maxWidth:this._isNumber(aC.maxWidth)?aC.maxWidth:Infinity,minHeight:this._isNumber(aC.minHeight)?aC.minHeight:0,maxHeight:this._isNumber(aC.maxHeight)?aC.maxHeight:Infinity};if(this._aspectRatio||az){aB=ax.minHeight*this.aspectRatio;ay=ax.minWidth/this.aspectRatio;aA=ax.maxHeight*this.aspectRatio;aD=ax.maxWidth/this.aspectRatio;if(aB>ax.minWidth){ax.minWidth=aB}if(ay>ax.minHeight){ax.minHeight=ay}if(aA<ax.maxWidth){ax.maxWidth=aA}if(aD<ax.maxHeight){ax.maxHeight=aD}}this._vBoundaries=ax},_updateCache:function(ax){this.offset=this.helper.offset();if(this._isNumber(ax.left)){this.position.left=ax.left}if(this._isNumber(ax.top)){this.position.top=ax.top}if(this._isNumber(ax.height)){this.size.height=ax.height}if(this._isNumber(ax.width)){this.size.width=ax.width}},_updateRatio:function(az){var aA=this.position,ay=this.size,ax=this.axis;if(this._isNumber(az.height)){az.width=(az.height*this.aspectRatio)}else{if(this._isNumber(az.width)){az.height=(az.width/this.aspectRatio)}}if(ax==="sw"){az.left=aA.left+(ay.width-az.width);az.top=null}if(ax==="nw"){az.top=aA.top+(ay.height-az.height);az.left=aA.left+(ay.width-az.width)}return az},_respectSize:function(aC){var az=this._vBoundaries,aF=this.axis,aH=this._isNumber(aC.width)&&az.maxWidth&&(az.maxWidth<aC.width),aD=this._isNumber(aC.height)&&az.maxHeight&&(az.maxHeight<aC.height),aA=this._isNumber(aC.width)&&az.minWidth&&(az.minWidth>aC.width),aG=this._isNumber(aC.height)&&az.minHeight&&(az.minHeight>aC.height),ay=this.originalPosition.left+this.originalSize.width,aE=this.originalPosition.top+this.originalSize.height,aB=/sw|nw|w/.test(aF),ax=/nw|ne|n/.test(aF);if(aA){aC.width=az.minWidth}if(aG){aC.height=az.minHeight}if(aH){aC.width=az.maxWidth}if(aD){aC.height=az.maxHeight}if(aA&&aB){aC.left=ay-az.minWidth}if(aH&&aB){aC.left=ay-az.maxWidth}if(aG&&ax){aC.top=aE-az.minHeight}if(aD&&ax){aC.top=aE-az.maxHeight}if(!aC.width&&!aC.height&&!aC.left&&aC.top){aC.top=null}else{if(!aC.width&&!aC.height&&!aC.top&&aC.left){aC.left=null}}return aC},_getPaddingPlusBorderDimensions:function(az){var ay=0,aA=[],aB=[az.css("borderTopWidth"),az.css("borderRightWidth"),az.css("borderBottomWidth"),az.css("borderLeftWidth")],ax=[az.css("paddingTop"),az.css("paddingRight"),az.css("paddingBottom"),az.css("paddingLeft")];for(;ay<4;ay++){aA[ay]=(parseFloat(aB[ay])||0);aA[ay]+=(parseFloat(ax[ay])||0)}return{height:aA[0]+aA[2],width:aA[1]+aA[3]}},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length){return}var az,ay=0,ax=this.helper||this.element;for(;ay<this._proportionallyResizeElements.length;ay++){az=this._proportionallyResizeElements[ay];if(!this.outerDimensions){this.outerDimensions=this._getPaddingPlusBorderDimensions(az)}az.css({height:(ax.height()-this.outerDimensions.height)||0,width:(ax.width()-this.outerDimensions.width)||0})}},_renderProxy:function(){var ax=this.element,ay=this.options;this.elementOffset=ax.offset();if(this._helper){this.helper=this.helper||am("<div style='overflow:hidden;'></div>");this._addClass(this.helper,this._helper);this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++ay.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(ay,ax){return{width:this.originalSize.width+ax}},w:function(az,ax){var ay=this.originalSize,aA=this.originalPosition;return{left:aA.left+ax,width:ay.width-ax}},n:function(aA,ay,ax){var az=this.originalSize,aB=this.originalPosition;return{top:aB.top+ax,height:az.height-ax}},s:function(az,ay,ax){return{height:this.originalSize.height+ax}},se:function(az,ay,ax){return am.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[az,ay,ax]))},sw:function(az,ay,ax){return am.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[az,ay,ax]))},ne:function(az,ay,ax){return am.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[az,ay,ax]))},nw:function(az,ay,ax){return am.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[az,ay,ax]))}},_propagate:function(ay,ax){am.ui.plugin.call(this,ay,[ax,this.ui()]);(ay!=="resize"&&this._trigger(ay,ax,this.ui()))},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});am.ui.plugin.add("resizable","animate",{stop:function(aA){var aF=am(this).resizable("instance"),aC=aF.options,az=aF._proportionallyResizeElements,ax=az.length&&(/textarea/i).test(az[0].nodeName),ay=ax&&aF._hasScroll(az[0],"left")?0:aF.sizeDiff.height,aE=ax?0:aF.sizeDiff.width,aB={width:(aF.size.width-aE),height:(aF.size.height-ay)},aD=(parseFloat(aF.element.css("left"))+(aF.position.left-aF.originalPosition.left))||null,aG=(parseFloat(aF.element.css("top"))+(aF.position.top-aF.originalPosition.top))||null;aF.element.animate(am.extend(aB,aG&&aD?{top:aG,left:aD}:{}),{duration:aC.animateDuration,easing:aC.animateEasing,step:function(){var aH={width:parseFloat(aF.element.css("width")),height:parseFloat(aF.element.css("height")),top:parseFloat(aF.element.css("top")),left:parseFloat(aF.element.css("left"))};if(az&&az.length){am(az[0]).css({width:aH.width,height:aH.height})}aF._updateCache(aH);aF._propagate("resize",aA)}})}});am.ui.plugin.add("resizable","containment",{start:function(){var aF,az,aH,ax,aE,aA,aI,aG=am(this).resizable("instance"),aD=aG.options,aC=aG.element,ay=aD.containment,aB=(ay instanceof am)?ay.get(0):(/parent/.test(ay))?aC.parent().get(0):ay;if(!aB){return}aG.containerElement=am(aB);if(/document/.test(ay)||ay===document){aG.containerOffset={left:0,top:0};aG.containerPosition={left:0,top:0};aG.parentData={element:am(document),left:0,top:0,width:am(document).width(),height:am(document).height()||document.body.parentNode.scrollHeight}}else{aF=am(aB);az=[];am(["Top","Right","Left","Bottom"]).each(function(aK,aJ){az[aK]=aG._num(aF.css("padding"+aJ))});aG.containerOffset=aF.offset();aG.containerPosition=aF.position();aG.containerSize={height:(aF.innerHeight()-az[3]),width:(aF.innerWidth()-az[1])};aH=aG.containerOffset;ax=aG.containerSize.height;aE=aG.containerSize.width;aA=(aG._hasScroll(aB,"left")?aB.scrollWidth:aE);aI=(aG._hasScroll(aB)?aB.scrollHeight:ax);aG.parentData={element:aB,left:aH.left,top:aH.top,width:aA,height:aI}}},resize:function(ay){var aE,aJ,aD,aB,aF=am(this).resizable("instance"),aA=aF.options,aH=aF.containerOffset,aG=aF.position,aI=aF._aspectRatio||ay.shiftKey,ax={top:0,left:0},az=aF.containerElement,aC=true;if(az[0]!==document&&(/static/).test(az.css("position"))){ax=aH}if(aG.left<(aF._helper?aH.left:0)){aF.size.width=aF.size.width+(aF._helper?(aF.position.left-aH.left):(aF.position.left-ax.left));if(aI){aF.size.height=aF.size.width/aF.aspectRatio;aC=false}aF.position.left=aA.helper?aH.left:0}if(aG.top<(aF._helper?aH.top:0)){aF.size.height=aF.size.height+(aF._helper?(aF.position.top-aH.top):aF.position.top);if(aI){aF.size.width=aF.size.height*aF.aspectRatio;aC=false}aF.position.top=aF._helper?aH.top:0}aD=aF.containerElement.get(0)===aF.element.parent().get(0);aB=/relative|absolute/.test(aF.containerElement.css("position"));if(aD&&aB){aF.offset.left=aF.parentData.left+aF.position.left;aF.offset.top=aF.parentData.top+aF.position.top}else{aF.offset.left=aF.element.offset().left;aF.offset.top=aF.element.offset().top}aE=Math.abs(aF.sizeDiff.width+(aF._helper?aF.offset.left-ax.left:(aF.offset.left-aH.left)));aJ=Math.abs(aF.sizeDiff.height+(aF._helper?aF.offset.top-ax.top:(aF.offset.top-aH.top)));if(aE+aF.size.width>=aF.parentData.width){aF.size.width=aF.parentData.width-aE;if(aI){aF.size.height=aF.size.width/aF.aspectRatio;aC=false}}if(aJ+aF.size.height>=aF.parentData.height){aF.size.height=aF.parentData.height-aJ;if(aI){aF.size.width=aF.size.height*aF.aspectRatio;aC=false}}if(!aC){aF.position.left=aF.prevPosition.left;aF.position.top=aF.prevPosition.top;aF.size.width=aF.prevSize.width;aF.size.height=aF.prevSize.height}},stop:function(){var aC=am(this).resizable("instance"),ay=aC.options,aD=aC.containerOffset,ax=aC.containerPosition,az=aC.containerElement,aA=am(aC.helper),aF=aA.offset(),aE=aA.outerWidth()-aC.sizeDiff.width,aB=aA.outerHeight()-aC.sizeDiff.height;if(aC._helper&&!ay.animate&&(/relative/).test(az.css("position"))){am(this).css({left:aF.left-ax.left-aD.left,width:aE,height:aB})}if(aC._helper&&!ay.animate&&(/static/).test(az.css("position"))){am(this).css({left:aF.left-ax.left-aD.left,width:aE,height:aB})}}});am.ui.plugin.add("resizable","alsoResize",{start:function(){var ax=am(this).resizable("instance"),ay=ax.options;am(ay.alsoResize).each(function(){var az=am(this);az.data("ui-resizable-alsoresize",{width:parseFloat(az.width()),height:parseFloat(az.height()),left:parseFloat(az.css("left")),top:parseFloat(az.css("top"))})})},resize:function(ay,aA){var ax=am(this).resizable("instance"),aB=ax.options,az=ax.originalSize,aD=ax.originalPosition,aC={height:(ax.size.height-az.height)||0,width:(ax.size.width-az.width)||0,top:(ax.position.top-aD.top)||0,left:(ax.position.left-aD.left)||0};am(aB.alsoResize).each(function(){var aG=am(this),aH=am(this).data("ui-resizable-alsoresize"),aF={},aE=aG.parents(aA.originalElement[0]).length?["width","height"]:["width","height","top","left"];am.each(aE,function(aI,aK){var aJ=(aH[aK]||0)+(aC[aK]||0);if(aJ&&aJ>=0){aF[aK]=aJ||null}});aG.css(aF)})},stop:function(){am(this).removeData("ui-resizable-alsoresize")}});am.ui.plugin.add("resizable","ghost",{start:function(){var ay=am(this).resizable("instance"),ax=ay.size;ay.ghost=ay.originalElement.clone();ay.ghost.css({opacity:0.25,display:"block",position:"relative",height:ax.height,width:ax.width,margin:0,left:0,top:0});ay._addClass(ay.ghost,"ui-resizable-ghost");if(am.uiBackCompat!==false&&typeof ay.options.ghost==="string"){ay.ghost.addClass(this.options.ghost)}ay.ghost.appendTo(ay.helper)},resize:function(){var ax=am(this).resizable("instance");if(ax.ghost){ax.ghost.css({position:"relative",height:ax.size.height,width:ax.size.width})}},stop:function(){var ax=am(this).resizable("instance");if(ax.ghost&&ax.helper){ax.helper.get(0).removeChild(ax.ghost.get(0))}}});am.ui.plugin.add("resizable","grid",{resize:function(){var aA,aF=am(this).resizable("instance"),aJ=aF.options,aD=aF.size,aE=aF.originalSize,aG=aF.originalPosition,aO=aF.axis,ax=typeof aJ.grid==="number"?[aJ.grid,aJ.grid]:aJ.grid,aM=(ax[0]||1),aL=(ax[1]||1),aC=Math.round((aD.width-aE.width)/aM)*aM,aB=Math.round((aD.height-aE.height)/aL)*aL,aH=aE.width+aC,aK=aE.height+aB,az=aJ.maxWidth&&(aJ.maxWidth<aH),aI=aJ.maxHeight&&(aJ.maxHeight<aK),aN=aJ.minWidth&&(aJ.minWidth>aH),ay=aJ.minHeight&&(aJ.minHeight>aK);aJ.grid=ax;if(aN){aH+=aM}if(ay){aK+=aL}if(az){aH-=aM}if(aI){aK-=aL}if(/^(se|s|e)$/.test(aO)){aF.size.width=aH;aF.size.height=aK}else{if(/^(ne)$/.test(aO)){aF.size.width=aH;aF.size.height=aK;aF.position.top=aG.top-aB}else{if(/^(sw)$/.test(aO)){aF.size.width=aH;aF.size.height=aK;aF.position.left=aG.left-aC}else{if(aK-aL<=0||aH-aM<=0){aA=aF._getPaddingPlusBorderDimensions(this)}if(aK-aL>0){aF.size.height=aK;aF.position.top=aG.top-aB}else{aK=aL-aA.height;aF.size.height=aK;aF.position.top=aG.top+aE.height-aK}if(aH-aM>0){aF.size.width=aH;aF.position.left=aG.left-aC}else{aH=aM-aA.width;aF.size.width=aH;aF.position.left=aG.left+aE.width-aH}}}}}});var B=am.ui.resizable;
/*!
 * jQuery UI Dialog 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;am.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:true,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:true,closeText:"Close",draggable:true,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",of:window,collision:"fit",using:function(ay){var ax=am(this).css(ay).offset().top;if(ax<0){am(this).css("top",ay.top-ax)}}},resizable:true,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},resizableRelatedOptions:{maxHeight:true,maxWidth:true,minHeight:true,minWidth:true},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");if(this.options.title==null&&this.originalTitle!=null){this.options.title=this.originalTitle}if(this.options.disabled){this.options.disabled=false}this._createWrapper();this.element.show().removeAttr("title").appendTo(this.uiDialog);this._addClass("ui-dialog-content","ui-widget-content");this._createTitlebar();this._createButtonPane();if(this.options.draggable&&am.fn.draggable){this._makeDraggable()}if(this.options.resizable&&am.fn.resizable){this._makeResizable()}this._isOpen=false;this._trackFocus()},_init:function(){if(this.options.autoOpen){this.open()}},_appendTo:function(){var ax=this.options.appendTo;if(ax&&(ax.jquery||ax.nodeType)){return am(ax)}return this.document.find(ax||"body").eq(0)},_destroy:function(){var ay,ax=this.originalPosition;this._untrackInstance();this._destroyOverlay();this.element.removeUniqueId().css(this.originalCss).detach();this.uiDialog.remove();if(this.originalTitle){this.element.attr("title",this.originalTitle)}ay=ax.parent.children().eq(ax.index);if(ay.length&&ay[0]!==this.element[0]){ay.before(this.element)}else{ax.parent.append(this.element)}},widget:function(){return this.uiDialog},disable:am.noop,enable:am.noop,close:function(ay){var ax=this;if(!this._isOpen||this._trigger("beforeClose",ay)===false){return}this._isOpen=false;this._focusedElement=null;this._destroyOverlay();this._untrackInstance();if(!this.opener.filter(":focusable").trigger("focus").length){am.ui.safeBlur(am.ui.safeActiveElement(this.document[0]))}this._hide(this.uiDialog,this.options.hide,function(){ax._trigger("close",ay)})},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(aB,ax){var aA=false,az=this.uiDialog.siblings(".ui-front:visible").map(function(){return +am(this).css("z-index")}).get(),ay=Math.max.apply(null,az);if(ay>=+this.uiDialog.css("z-index")){this.uiDialog.css("z-index",ay+1);aA=true}if(aA&&!ax){this._trigger("focus",aB)}return aA},open:function(){var ax=this;if(this._isOpen){if(this._moveToTop()){this._focusTabbable()}return}this._isOpen=true;this.opener=am(am.ui.safeActiveElement(this.document[0]));this._size();this._position();this._createOverlay();this._moveToTop(null,true);if(this.overlay){this.overlay.css("z-index",this.uiDialog.css("z-index")-1)}this._show(this.uiDialog,this.options.show,function(){ax._focusTabbable();ax._trigger("focus")});this._makeFocusTarget();this._trigger("open")},_focusTabbable:function(){var ax=this._focusedElement;if(!ax){ax=this.element.find("[autofocus]")}if(!ax.length){ax=this.element.find(":tabbable")}if(!ax.length){ax=this.uiDialogButtonPane.find(":tabbable")}if(!ax.length){ax=this.uiDialogTitlebarClose.filter(":tabbable")}if(!ax.length){ax=this.uiDialog}ax.eq(0).trigger("focus")},_keepFocus:function(ax){function ay(){var aA=am.ui.safeActiveElement(this.document[0]),az=this.uiDialog[0]===aA||am.contains(this.uiDialog[0],aA);if(!az){this._focusTabbable()}}ax.preventDefault();ay.call(this);this._delay(ay)},_createWrapper:function(){this.uiDialog=am("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front");this._on(this.uiDialog,{keydown:function(az){if(this.options.closeOnEscape&&!az.isDefaultPrevented()&&az.keyCode&&az.keyCode===am.ui.keyCode.ESCAPE){az.preventDefault();this.close(az);return}if(az.keyCode!==am.ui.keyCode.TAB||az.isDefaultPrevented()){return}var ay=this.uiDialog.find(":tabbable"),aA=ay.filter(":first"),ax=ay.filter(":last");if((az.target===ax[0]||az.target===this.uiDialog[0])&&!az.shiftKey){this._delay(function(){aA.trigger("focus")});az.preventDefault()}else{if((az.target===aA[0]||az.target===this.uiDialog[0])&&az.shiftKey){this._delay(function(){ax.trigger("focus")});az.preventDefault()}}},mousedown:function(ax){if(this._moveToTop(ax)){this._focusTabbable()}}});if(!this.element.find("[aria-describedby]").length){this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})}},_createTitlebar:function(){var ax;this.uiDialogTitlebar=am("<div>");this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix");this._on(this.uiDialogTitlebar,{mousedown:function(ay){if(!am(ay.target).closest(".ui-dialog-titlebar-close")){this.uiDialog.trigger("focus")}}});this.uiDialogTitlebarClose=am("<button type='button'></button>").button({label:am("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:false}).appendTo(this.uiDialogTitlebar);this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close");this._on(this.uiDialogTitlebarClose,{click:function(ay){ay.preventDefault();this.close(ay)}});ax=am("<span>").uniqueId().prependTo(this.uiDialogTitlebar);this._addClass(ax,"ui-dialog-title");this._title(ax);this.uiDialogTitlebar.prependTo(this.uiDialog);this.uiDialog.attr({"aria-labelledby":ax.attr("id")})},_title:function(ax){if(this.options.title){ax.text(this.options.title)}else{ax.html("&#160;")}},_createButtonPane:function(){this.uiDialogButtonPane=am("<div>");this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix");this.uiButtonSet=am("<div>").appendTo(this.uiDialogButtonPane);this._addClass(this.uiButtonSet,"ui-dialog-buttonset");this._createButtons()},_createButtons:function(){var ay=this,ax=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();if(am.isEmptyObject(ax)||(am.isArray(ax)&&!ax.length)){this._removeClass(this.uiDialog,"ui-dialog-buttons");return}am.each(ax,function(az,aA){var aB,aC;aA=am.isFunction(aA)?{click:aA,text:az}:aA;aA=am.extend({type:"button"},aA);aB=aA.click;aC={icon:aA.icon,iconPosition:aA.iconPosition,showLabel:aA.showLabel,icons:aA.icons,text:aA.text};delete aA.click;delete aA.icon;delete aA.iconPosition;delete aA.showLabel;delete aA.icons;if(typeof aA.text==="boolean"){delete aA.text}am("<button></button>",aA).button(aC).appendTo(ay.uiButtonSet).on("click",function(){aB.apply(ay.element[0],arguments)})});this._addClass(this.uiDialog,"ui-dialog-buttons");this.uiDialogButtonPane.appendTo(this.uiDialog)},_makeDraggable:function(){var az=this,ay=this.options;function ax(aA){return{position:aA.position,offset:aA.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(aA,aB){az._addClass(am(this),"ui-dialog-dragging");az._blockFrames();az._trigger("dragStart",aA,ax(aB))},drag:function(aA,aB){az._trigger("drag",aA,ax(aB))},stop:function(aA,aB){var aD=aB.offset.left-az.document.scrollLeft(),aC=aB.offset.top-az.document.scrollTop();ay.position={my:"left top",at:"left"+(aD>=0?"+":"")+aD+" top"+(aC>=0?"+":"")+aC,of:az.window};az._removeClass(am(this),"ui-dialog-dragging");az._unblockFrames();az._trigger("dragStop",aA,ax(aB))}})},_makeResizable:function(){var aC=this,aA=this.options,aB=aA.resizable,ax=this.uiDialog.css("position"),az=typeof aB==="string"?aB:"n,e,s,w,se,sw,ne,nw";function ay(aD){return{originalPosition:aD.originalPosition,originalSize:aD.originalSize,position:aD.position,size:aD.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:aA.maxWidth,maxHeight:aA.maxHeight,minWidth:aA.minWidth,minHeight:this._minHeight(),handles:az,start:function(aD,aE){aC._addClass(am(this),"ui-dialog-resizing");aC._blockFrames();aC._trigger("resizeStart",aD,ay(aE))},resize:function(aD,aE){aC._trigger("resize",aD,ay(aE))},stop:function(aD,aE){var aH=aC.uiDialog.offset(),aG=aH.left-aC.document.scrollLeft(),aF=aH.top-aC.document.scrollTop();aA.height=aC.uiDialog.height();aA.width=aC.uiDialog.width();aA.position={my:"left top",at:"left"+(aG>=0?"+":"")+aG+" top"+(aF>=0?"+":"")+aF,of:aC.window};aC._removeClass(am(this),"ui-dialog-resizing");aC._unblockFrames();aC._trigger("resizeStop",aD,ay(aE))}}).css("position",ax)},_trackFocus:function(){this._on(this.widget(),{focusin:function(ax){this._makeFocusTarget();this._focusedElement=am(ax.target)}})},_makeFocusTarget:function(){this._untrackInstance();this._trackingInstances().unshift(this)},_untrackInstance:function(){var ay=this._trackingInstances(),ax=am.inArray(this,ay);if(ax!==-1){ay.splice(ax,1)}},_trackingInstances:function(){var ax=this.document.data("ui-dialog-instances");if(!ax){ax=[];this.document.data("ui-dialog-instances",ax)}return ax},_minHeight:function(){var ax=this.options;return ax.height==="auto"?ax.minHeight:Math.min(ax.minHeight,ax.height)},_position:function(){var ax=this.uiDialog.is(":visible");if(!ax){this.uiDialog.show()}this.uiDialog.position(this.options.position);if(!ax){this.uiDialog.hide()}},_setOptions:function(az){var aA=this,ay=false,ax={};am.each(az,function(aB,aC){aA._setOption(aB,aC);if(aB in aA.sizeRelatedOptions){ay=true}if(aB in aA.resizableRelatedOptions){ax[aB]=aC}});if(ay){this._size();this._position()}if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option",ax)}},_setOption:function(az,aA){var ay,aB,ax=this.uiDialog;if(az==="disabled"){return}this._super(az,aA);if(az==="appendTo"){this.uiDialog.appendTo(this._appendTo())}if(az==="buttons"){this._createButtons()}if(az==="closeText"){this.uiDialogTitlebarClose.button({label:am("<a>").text(""+this.options.closeText).html()})}if(az==="draggable"){ay=ax.is(":data(ui-draggable)");if(ay&&!aA){ax.draggable("destroy")}if(!ay&&aA){this._makeDraggable()}}if(az==="position"){this._position()}if(az==="resizable"){aB=ax.is(":data(ui-resizable)");if(aB&&!aA){ax.resizable("destroy")}if(aB&&typeof aA==="string"){ax.resizable("option","handles",aA)}if(!aB&&aA!==false){this._makeResizable()}}if(az==="title"){this._title(this.uiDialogTitlebar.find(".ui-dialog-title"))}},_size:function(){var ax,az,aA,ay=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});if(ay.minWidth>ay.width){ay.width=ay.minWidth}ax=this.uiDialog.css({height:"auto",width:ay.width}).outerHeight();az=Math.max(0,ay.minHeight-ax);aA=typeof ay.maxHeight==="number"?Math.max(0,ay.maxHeight-ax):"none";if(ay.height==="auto"){this.element.css({minHeight:az,maxHeight:aA,height:"auto"})}else{this.element.height(Math.max(0,ay.height-ax))}if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option","minHeight",this._minHeight())}},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var ax=am(this);return am("<div>").css({position:"absolute",width:ax.outerWidth(),height:ax.outerHeight()}).appendTo(ax.parent()).offset(ax.offset())[0]})},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks}},_allowInteraction:function(ax){if(am(ax.target).closest(".ui-dialog").length){return true}return !!am(ax.target).closest(".ui-datepicker").length},_createOverlay:function(){if(!this.options.modal){return}var ax=true;this._delay(function(){ax=false});if(!this.document.data("ui-dialog-overlays")){this._on(this.document,{focusin:function(ay){if(ax){return}if(!this._allowInteraction(ay)){ay.preventDefault();this._trackingInstances()[0]._focusTabbable()}}})}this.overlay=am("<div>").appendTo(this._appendTo());this._addClass(this.overlay,null,"ui-widget-overlay ui-front");this._on(this.overlay,{mousedown:"_keepFocus"});this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)},_destroyOverlay:function(){if(!this.options.modal){return}if(this.overlay){var ax=this.document.data("ui-dialog-overlays")-1;if(!ax){this._off(this.document,"focusin");this.document.removeData("ui-dialog-overlays")}else{this.document.data("ui-dialog-overlays",ax)}this.overlay.remove();this.overlay=null}}});if(am.uiBackCompat!==false){am.widget("ui.dialog",am.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super();this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(ax,ay){if(ax==="dialogClass"){this.uiDialog.removeClass(this.options.dialogClass).addClass(ay)}this._superApply(arguments)}})}var ae=am.ui.dialog;
/*!
 * jQuery UI Droppable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;am.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:true,greedy:false,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var ay,az=this.options,ax=az.accept;this.isover=false;this.isout=true;this.accept=am.isFunction(ax)?ax:function(aA){return aA.is(ax)};this.proportions=function(){if(arguments.length){ay=arguments[0]}else{return ay?ay:ay={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}}};this._addToManager(az.scope);az.addClasses&&this._addClass("ui-droppable")},_addToManager:function(ax){am.ui.ddmanager.droppables[ax]=am.ui.ddmanager.droppables[ax]||[];am.ui.ddmanager.droppables[ax].push(this)},_splice:function(ax){var ay=0;for(;ay<ax.length;ay++){if(ax[ay]===this){ax.splice(ay,1)}}},_destroy:function(){var ax=am.ui.ddmanager.droppables[this.options.scope];this._splice(ax)},_setOption:function(ay,az){if(ay==="accept"){this.accept=am.isFunction(az)?az:function(aA){return aA.is(az)}}else{if(ay==="scope"){var ax=am.ui.ddmanager.droppables[this.options.scope];this._splice(ax);this._addToManager(az)}}this._super(ay,az)},_activate:function(ay){var ax=am.ui.ddmanager.current;this._addActiveClass();if(ax){this._trigger("activate",ay,this.ui(ax))}},_deactivate:function(ay){var ax=am.ui.ddmanager.current;this._removeActiveClass();if(ax){this._trigger("deactivate",ay,this.ui(ax))}},_over:function(ay){var ax=am.ui.ddmanager.current;if(!ax||(ax.currentItem||ax.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],(ax.currentItem||ax.element))){this._addHoverClass();this._trigger("over",ay,this.ui(ax))}},_out:function(ay){var ax=am.ui.ddmanager.current;if(!ax||(ax.currentItem||ax.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],(ax.currentItem||ax.element))){this._removeHoverClass();this._trigger("out",ay,this.ui(ax))}},_drop:function(ay,az){var ax=az||am.ui.ddmanager.current,aA=false;if(!ax||(ax.currentItem||ax.element)[0]===this.element[0]){return false}this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var aB=am(this).droppable("instance");if(aB.options.greedy&&!aB.options.disabled&&aB.options.scope===ax.options.scope&&aB.accept.call(aB.element[0],(ax.currentItem||ax.element))&&s(ax,am.extend(aB,{offset:aB.element.offset()}),aB.options.tolerance,ay)){aA=true;return false}});if(aA){return false}if(this.accept.call(this.element[0],(ax.currentItem||ax.element))){this._removeActiveClass();this._removeHoverClass();this._trigger("drop",ay,this.ui(ax));return this.element}return false},ui:function(ax){return{draggable:(ax.currentItem||ax.element),helper:ax.helper,position:ax.position,offset:ax.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var s=am.ui.intersect=(function(){function ax(az,ay,aA){return(az>=ay)&&(az<(ay+aA))}return function(aJ,aD,aH,az){if(!aD.offset){return false}var aB=(aJ.positionAbs||aJ.position.absolute).left+aJ.margins.left,aG=(aJ.positionAbs||aJ.position.absolute).top+aJ.margins.top,aA=aB+aJ.helperProportions.width,aF=aG+aJ.helperProportions.height,aC=aD.offset.left,aI=aD.offset.top,ay=aC+aD.proportions().width,aE=aI+aD.proportions().height;switch(aH){case"fit":return(aC<=aB&&aA<=ay&&aI<=aG&&aF<=aE);case"intersect":return(aC<aB+(aJ.helperProportions.width/2)&&aA-(aJ.helperProportions.width/2)<ay&&aI<aG+(aJ.helperProportions.height/2)&&aF-(aJ.helperProportions.height/2)<aE);case"pointer":return ax(az.pageY,aI,aD.proportions().height)&&ax(az.pageX,aC,aD.proportions().width);case"touch":return((aG>=aI&&aG<=aE)||(aF>=aI&&aF<=aE)||(aG<aI&&aF>aE))&&((aB>=aC&&aB<=ay)||(aA>=aC&&aA<=ay)||(aB<aC&&aA>ay));default:return false}}})();am.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(aA,aC){var az,ay,ax=am.ui.ddmanager.droppables[aA.options.scope]||[],aB=aC?aC.type:null,aD=(aA.currentItem||aA.element).find(":data(ui-droppable)").addBack();droppablesLoop:for(az=0;az<ax.length;az++){if(ax[az].options.disabled||(aA&&!ax[az].accept.call(ax[az].element[0],(aA.currentItem||aA.element)))){continue}for(ay=0;ay<aD.length;ay++){if(aD[ay]===ax[az].element[0]){ax[az].proportions().height=0;continue droppablesLoop}}ax[az].visible=ax[az].element.css("display")!=="none";if(!ax[az].visible){continue}if(aB==="mousedown"){ax[az]._activate.call(ax[az],aC)}ax[az].offset=ax[az].element.offset();ax[az].proportions({width:ax[az].element[0].offsetWidth,height:ax[az].element[0].offsetHeight})}},drop:function(ax,ay){var az=false;am.each((am.ui.ddmanager.droppables[ax.options.scope]||[]).slice(),function(){if(!this.options){return}if(!this.options.disabled&&this.visible&&s(ax,this,this.options.tolerance,ay)){az=this._drop.call(this,ay)||az}if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],(ax.currentItem||ax.element))){this.isout=true;this.isover=false;this._deactivate.call(this,ay)}});return az},dragStart:function(ax,ay){ax.element.parentsUntil("body").on("scroll.droppable",function(){if(!ax.options.refreshPositions){am.ui.ddmanager.prepareOffsets(ax,ay)}})},drag:function(ax,ay){if(ax.options.refreshPositions){am.ui.ddmanager.prepareOffsets(ax,ay)}am.each(am.ui.ddmanager.droppables[ax.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return}var aC,aA,az,aB=s(ax,this,this.options.tolerance,ay),aD=!aB&&this.isover?"isout":(aB&&!this.isover?"isover":null);if(!aD){return}if(this.options.greedy){aA=this.options.scope;az=this.element.parents(":data(ui-droppable)").filter(function(){return am(this).droppable("instance").options.scope===aA});if(az.length){aC=am(az[0]).droppable("instance");aC.greedyChild=(aD==="isover")}}if(aC&&aD==="isover"){aC.isover=false;aC.isout=true;aC._out.call(aC,ay)}this[aD]=true;this[aD==="isout"?"isover":"isout"]=false;this[aD==="isover"?"_over":"_out"].call(this,ay);if(aC&&aD==="isout"){aC.isout=false;aC.isover=true;aC._over.call(aC,ay)}})},dragStop:function(ax,ay){ax.element.parentsUntil("body").off("scroll.droppable");if(!ax.options.refreshPositions){am.ui.ddmanager.prepareOffsets(ax,ay)}}};if(am.uiBackCompat!==false){am.widget("ui.droppable",am.ui.droppable,{options:{hoverClass:false,activeClass:false},_addActiveClass:function(){this._super();if(this.options.activeClass){this.element.addClass(this.options.activeClass)}},_removeActiveClass:function(){this._super();if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}},_addHoverClass:function(){this._super();if(this.options.hoverClass){this.element.addClass(this.options.hoverClass)}},_removeHoverClass:function(){this._super();if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}}})}var Y=am.ui.droppable;
/*!
 * jQuery UI Progressbar 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;var aa=am.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.attr({role:"progressbar","aria-valuemin":this.min});this._addClass("ui-progressbar","ui-widget ui-widget-content");this.valueDiv=am("<div>").appendTo(this.element);this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header");this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow");this.valueDiv.remove()},value:function(ax){if(ax===undefined){return this.options.value}this.options.value=this._constrainedValue(ax);this._refreshValue()},_constrainedValue:function(ax){if(ax===undefined){ax=this.options.value}this.indeterminate=ax===false;if(typeof ax!=="number"){ax=0}return this.indeterminate?false:Math.min(this.options.max,Math.max(this.min,ax))},_setOptions:function(ax){var ay=ax.value;delete ax.value;this._super(ax);this.options.value=this._constrainedValue(ay);this._refreshValue()},_setOption:function(ax,ay){if(ax==="max"){ay=Math.max(this.min,ay)}this._super(ax,ay)},_setOptionDisabled:function(ax){this._super(ax);this.element.attr("aria-disabled",ax);this._toggleClass(null,"ui-state-disabled",!!ax)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var ay=this.options.value,ax=this._percentage();this.valueDiv.toggle(this.indeterminate||ay>this.min).width(ax.toFixed(0)+"%");this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,ay===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate);if(this.indeterminate){this.element.removeAttr("aria-valuenow");if(!this.overlayDiv){this.overlayDiv=am("<div>").appendTo(this.valueDiv);this._addClass(this.overlayDiv,"ui-progressbar-overlay")}}else{this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":ay});if(this.overlayDiv){this.overlayDiv.remove();this.overlayDiv=null}}if(this.oldValue!==ay){this.oldValue=ay;this._trigger("change")}if(ay===this.options.max){this._trigger("complete")}}});
/*!
 * jQuery UI Selectable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;var r=am.widget("ui.selectable",am.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var ax=this;this._addClass("ui-selectable");this.dragged=false;this.refresh=function(){ax.elementPos=am(ax.element[0]).offset();ax.selectees=am(ax.options.filter,ax.element[0]);ax._addClass(ax.selectees,"ui-selectee");ax.selectees.each(function(){var az=am(this),ay=az.offset(),aA={left:ay.left-ax.elementPos.left,top:ay.top-ax.elementPos.top};am.data(this,"selectable-item",{element:this,$element:az,left:aA.left,top:aA.top,right:aA.left+az.outerWidth(),bottom:aA.top+az.outerHeight(),startselected:false,selected:az.hasClass("ui-selected"),selecting:az.hasClass("ui-selecting"),unselecting:az.hasClass("ui-unselecting")})})};this.refresh();this._mouseInit();this.helper=am("<div>");this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item");this._mouseDestroy()},_mouseStart:function(az){var ay=this,ax=this.options;this.opos=[az.pageX,az.pageY];this.elementPos=am(this.element[0]).offset();if(this.options.disabled){return}this.selectees=am(ax.filter,this.element[0]);this._trigger("start",az);am(ax.appendTo).append(this.helper);this.helper.css({left:az.pageX,top:az.pageY,width:0,height:0});if(ax.autoRefresh){this.refresh()}this.selectees.filter(".ui-selected").each(function(){var aA=am.data(this,"selectable-item");aA.startselected=true;if(!az.metaKey&&!az.ctrlKey){ay._removeClass(aA.$element,"ui-selected");aA.selected=false;ay._addClass(aA.$element,"ui-unselecting");aA.unselecting=true;ay._trigger("unselecting",az,{unselecting:aA.element})}});am(az.target).parents().addBack().each(function(){var aA,aB=am.data(this,"selectable-item");if(aB){aA=(!az.metaKey&&!az.ctrlKey)||!aB.$element.hasClass("ui-selected");ay._removeClass(aB.$element,aA?"ui-unselecting":"ui-selected")._addClass(aB.$element,aA?"ui-selecting":"ui-unselecting");aB.unselecting=!aA;aB.selecting=aA;aB.selected=aA;if(aA){ay._trigger("selecting",az,{selecting:aB.element})}else{ay._trigger("unselecting",az,{unselecting:aB.element})}return false}})},_mouseDrag:function(aE){this.dragged=true;if(this.options.disabled){return}var aB,aD=this,az=this.options,ay=this.opos[0],aC=this.opos[1],ax=aE.pageX,aA=aE.pageY;if(ay>ax){aB=ax;ax=ay;ay=aB}if(aC>aA){aB=aA;aA=aC;aC=aB}this.helper.css({left:ay,top:aC,width:ax-ay,height:aA-aC});this.selectees.each(function(){var aF=am.data(this,"selectable-item"),aG=false,aH={};if(!aF||aF.element===aD.element[0]){return}aH.left=aF.left+aD.elementPos.left;aH.right=aF.right+aD.elementPos.left;aH.top=aF.top+aD.elementPos.top;aH.bottom=aF.bottom+aD.elementPos.top;if(az.tolerance==="touch"){aG=(!(aH.left>ax||aH.right<ay||aH.top>aA||aH.bottom<aC))}else{if(az.tolerance==="fit"){aG=(aH.left>ay&&aH.right<ax&&aH.top>aC&&aH.bottom<aA)}}if(aG){if(aF.selected){aD._removeClass(aF.$element,"ui-selected");aF.selected=false}if(aF.unselecting){aD._removeClass(aF.$element,"ui-unselecting");aF.unselecting=false}if(!aF.selecting){aD._addClass(aF.$element,"ui-selecting");aF.selecting=true;aD._trigger("selecting",aE,{selecting:aF.element})}}else{if(aF.selecting){if((aE.metaKey||aE.ctrlKey)&&aF.startselected){aD._removeClass(aF.$element,"ui-selecting");aF.selecting=false;aD._addClass(aF.$element,"ui-selected");aF.selected=true}else{aD._removeClass(aF.$element,"ui-selecting");aF.selecting=false;if(aF.startselected){aD._addClass(aF.$element,"ui-unselecting");aF.unselecting=true}aD._trigger("unselecting",aE,{unselecting:aF.element})}}if(aF.selected){if(!aE.metaKey&&!aE.ctrlKey&&!aF.startselected){aD._removeClass(aF.$element,"ui-selected");aF.selected=false;aD._addClass(aF.$element,"ui-unselecting");aF.unselecting=true;aD._trigger("unselecting",aE,{unselecting:aF.element})}}}});return false},_mouseStop:function(ay){var ax=this;this.dragged=false;am(".ui-unselecting",this.element[0]).each(function(){var az=am.data(this,"selectable-item");ax._removeClass(az.$element,"ui-unselecting");az.unselecting=false;az.startselected=false;ax._trigger("unselected",ay,{unselected:az.element})});am(".ui-selecting",this.element[0]).each(function(){var az=am.data(this,"selectable-item");ax._removeClass(az.$element,"ui-selecting")._addClass(az.$element,"ui-selected");az.selecting=false;az.selected=true;az.startselected=true;ax._trigger("selected",ay,{selected:az.element})});this._trigger("stop",ay);this.helper.remove();return false}});
/*!
 * jQuery UI Selectmenu 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;var e=am.widget("ui.selectmenu",[am.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:false,change:null,close:null,focus:null,open:null,select:null},_create:function(){var ax=this.element.uniqueId().attr("id");this.ids={element:ax,button:ax+"-button",menu:ax+"-menu"};this._drawButton();this._drawMenu();this._bindFormResetHandler();this._rendered=false;this.menuItems=am()},_drawButton:function(){var ax,az=this,ay=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button);this._on(this.labels,{click:function(aA){this.button.focus();aA.preventDefault()}});this.element.hide();this.button=am("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element);this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget");ax=am("<span>").appendTo(this.button);this._addClass(ax,"ui-selectmenu-icon","ui-icon "+this.options.icons.button);this.buttonItem=this._renderButtonItem(ay).appendTo(this.button);if(this.options.width!==false){this._resizeButton()}this._on(this.button,this._buttonEvents);this.button.one("focusin",function(){if(!az._rendered){az._refreshMenu()}})},_drawMenu:function(){var ax=this;this.menu=am("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu});this.menuWrap=am("<div>").append(this.menu);this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front");this.menuWrap.appendTo(this._appendTo());this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(ay,az){ay.preventDefault();ax._setSelection();ax._select(az.item.data("ui-selectmenu-item"),ay)},focus:function(az,aA){var ay=aA.item.data("ui-selectmenu-item");if(ax.focusIndex!=null&&ay.index!==ax.focusIndex){ax._trigger("focus",az,{item:ay});if(!ax.isOpen){ax._select(ay,az)}}ax.focusIndex=ay.index;ax.button.attr("aria-activedescendant",ax.menuItems.eq(ay.index).attr("id"))}}).menu("instance");this.menuInstance._off(this.menu,"mouseleave");this.menuInstance._closeOnDocumentClick=function(){return false};this.menuInstance._isDivider=function(){return false}},refresh:function(){this._refreshMenu();this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{}));if(this.options.width===null){this._resizeButton()}},_refreshMenu:function(){var ay,ax=this.element.find("option");this.menu.empty();this._parseOptions(ax);this._renderMenu(this.menu,this.items);this.menuInstance.refresh();this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper");this._rendered=true;if(!ax.length){return}ay=this._getSelectedItem();this.menuInstance.focus(null,ay);this._setAria(ay.data("ui-selectmenu-item"));this._setOption("disabled",this.element.prop("disabled"))},open:function(ax){if(this.options.disabled){return}if(!this._rendered){this._refreshMenu()}else{this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active");this.menuInstance.focus(null,this._getSelectedItem())}if(!this.menuItems.length){return}this.isOpen=true;this._toggleAttr();this._resizeMenu();this._position();this._on(this.document,this._documentClick);this._trigger("open",ax)},_position:function(){this.menuWrap.position(am.extend({of:this.button},this.options.position))},close:function(ax){if(!this.isOpen){return}this.isOpen=false;this._toggleAttr();this.range=null;this._off(this.document);this._trigger("close",ax)},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(ay){var ax=am("<span>");this._setText(ax,ay.label);this._addClass(ax,"ui-selectmenu-text");return ax},_renderMenu:function(az,ay){var aA=this,ax="";am.each(ay,function(aC,aD){var aB;if(aD.optgroup!==ax){aB=am("<li>",{text:aD.optgroup});aA._addClass(aB,"ui-selectmenu-optgroup","ui-menu-divider"+(aD.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""));aB.appendTo(az);ax=aD.optgroup}aA._renderItemData(az,aD)})},_renderItemData:function(ax,ay){return this._renderItem(ax,ay).data("ui-selectmenu-item",ay)},_renderItem:function(ay,az){var ax=am("<li>"),aA=am("<div>",{title:az.element.attr("title")});if(az.disabled){this._addClass(ax,null,"ui-state-disabled")}this._setText(aA,az.label);return ax.append(aA).appendTo(ay)},_setText:function(ax,ay){if(ay){ax.text(ay)}else{ax.html("&#160;")}},_move:function(aB,aA){var az,ay,ax=".ui-menu-item";if(this.isOpen){az=this.menuItems.eq(this.focusIndex).parent("li")}else{az=this.menuItems.eq(this.element[0].selectedIndex).parent("li");ax+=":not(.ui-state-disabled)"}if(aB==="first"||aB==="last"){ay=az[aB==="first"?"prevAll":"nextAll"](ax).eq(-1)}else{ay=az[aB+"All"](ax).eq(0)}if(ay.length){this.menuInstance.focus(aA,ay)}},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(ax){this[this.isOpen?"close":"open"](ax)},_setSelection:function(){var ax;if(!this.range){return}if(window.getSelection){ax=window.getSelection();ax.removeAllRanges();ax.addRange(this.range)}else{this.range.select()}this.button.focus()},_documentClick:{mousedown:function(ax){if(!this.isOpen){return}if(!am(ax.target).closest(".ui-selectmenu-menu, #"+am.ui.escapeSelector(this.ids.button)).length){this.close(ax)}}},_buttonEvents:{mousedown:function(){var ax;if(window.getSelection){ax=window.getSelection();if(ax.rangeCount){this.range=ax.getRangeAt(0)}}else{this.range=document.selection.createRange()}},click:function(ax){this._setSelection();this._toggle(ax)},keydown:function(ay){var ax=true;switch(ay.keyCode){case am.ui.keyCode.TAB:case am.ui.keyCode.ESCAPE:this.close(ay);ax=false;break;case am.ui.keyCode.ENTER:if(this.isOpen){this._selectFocusedItem(ay)}break;case am.ui.keyCode.UP:if(ay.altKey){this._toggle(ay)}else{this._move("prev",ay)}break;case am.ui.keyCode.DOWN:if(ay.altKey){this._toggle(ay)}else{this._move("next",ay)}break;case am.ui.keyCode.SPACE:if(this.isOpen){this._selectFocusedItem(ay)}else{this._toggle(ay)}break;case am.ui.keyCode.LEFT:this._move("prev",ay);break;case am.ui.keyCode.RIGHT:this._move("next",ay);break;case am.ui.keyCode.HOME:case am.ui.keyCode.PAGE_UP:this._move("first",ay);break;case am.ui.keyCode.END:case am.ui.keyCode.PAGE_DOWN:this._move("last",ay);break;default:this.menu.trigger(ay);ax=false}if(ax){ay.preventDefault()}}},_selectFocusedItem:function(ay){var ax=this.menuItems.eq(this.focusIndex).parent("li");if(!ax.hasClass("ui-state-disabled")){this._select(ax.data("ui-selectmenu-item"),ay)}},_select:function(ay,ax){var az=this.element[0].selectedIndex;this.element[0].selectedIndex=ay.index;this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(ay));this._setAria(ay);this._trigger("select",ax,{item:ay});if(ay.index!==az){this._trigger("change",ax,{item:ay})}this.close(ax)},_setAria:function(ax){var ay=this.menuItems.eq(ax.index).attr("id");this.button.attr({"aria-labelledby":ay,"aria-activedescendant":ay});this.menu.attr("aria-activedescendant",ay)},_setOption:function(ax,az){if(ax==="icons"){var ay=this.button.find("span.ui-icon");this._removeClass(ay,null,this.options.icons.button)._addClass(ay,null,az.button)}this._super(ax,az);if(ax==="appendTo"){this.menuWrap.appendTo(this._appendTo())}if(ax==="width"){this._resizeButton()}},_setOptionDisabled:function(ax){this._super(ax);this.menuInstance.option("disabled",ax);this.button.attr("aria-disabled",ax);this._toggleClass(this.button,null,"ui-state-disabled",ax);this.element.prop("disabled",ax);if(ax){this.button.attr("tabindex",-1);this.close()}else{this.button.attr("tabindex",0)}},_appendTo:function(){var ax=this.options.appendTo;if(ax){ax=ax.jquery||ax.nodeType?am(ax):this.document.find(ax).eq(0)}if(!ax||!ax[0]){ax=this.element.closest(".ui-front, dialog")}if(!ax.length){ax=this.document[0].body}return ax},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen);this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen);this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var ax=this.options.width;if(ax===false){this.button.css("width","");return}if(ax===null){ax=this.element.show().outerWidth();this.element.hide()}this.button.outerWidth(ax)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var ax=this._super();ax.disabled=this.element.prop("disabled");return ax},_parseOptions:function(ax){var ay=this,az=[];ax.each(function(aA,aB){az.push(ay._parseOption(am(aB),aA))});this.items=az},_parseOption:function(az,ay){var ax=az.parent("optgroup");return{element:az,index:ay,value:az.val(),label:az.text(),optgroup:ax.attr("label")||"",disabled:ax.prop("disabled")||az.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler();this.menuWrap.remove();this.button.remove();this.element.show();this.element.removeUniqueId();this.labels.attr("for",this.ids.element)}}]);
/*!
 * jQuery UI Slider 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;var R=am.widget("ui.slider",am.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:false,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this._calculateNewMax();this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content");this._refresh();this._animateOff=false},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var aA,ax,ay=this.options,aC=this.element.find(".ui-slider-handle"),aB="<span tabindex='0'></span>",az=[];ax=(ay.values&&ay.values.length)||1;if(aC.length>ax){aC.slice(ax).remove();aC=aC.slice(0,ax)}for(aA=aC.length;aA<ax;aA++){az.push(aB)}this.handles=aC.add(am(az.join("")).appendTo(this.element));this._addClass(this.handles,"ui-slider-handle","ui-state-default");this.handle=this.handles.eq(0);this.handles.each(function(aD){am(this).data("ui-slider-handle-index",aD).attr("tabIndex",0)})},_createRange:function(){var ax=this.options;if(ax.range){if(ax.range===true){if(!ax.values){ax.values=[this._valueMin(),this._valueMin()]}else{if(ax.values.length&&ax.values.length!==2){ax.values=[ax.values[0],ax.values[0]]}else{if(am.isArray(ax.values)){ax.values=ax.values.slice(0)}}}}if(!this.range||!this.range.length){this.range=am("<div>").appendTo(this.element);this._addClass(this.range,"ui-slider-range")}else{this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max");this.range.css({left:"",bottom:""})}if(ax.range==="min"||ax.range==="max"){this._addClass(this.range,"ui-slider-range-"+ax.range)}}else{if(this.range){this.range.remove()}this.range=null}},_setupEvents:function(){this._off(this.handles);this._on(this.handles,this._handleEvents);this._hoverable(this.handles);this._focusable(this.handles)},_destroy:function(){this.handles.remove();if(this.range){this.range.remove()}this._mouseDestroy()},_mouseCapture:function(az){var aD,aG,ay,aB,aF,aH,aC,ax,aE=this,aA=this.options;if(aA.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();aD={x:az.pageX,y:az.pageY};aG=this._normValueFromMouse(aD);ay=this._valueMax()-this._valueMin()+1;this.handles.each(function(aI){var aJ=Math.abs(aG-aE.values(aI));if((ay>aJ)||(ay===aJ&&(aI===aE._lastChangedValue||aE.values(aI)===aA.min))){ay=aJ;aB=am(this);aF=aI}});aH=this._start(az,aF);if(aH===false){return false}this._mouseSliding=true;this._handleIndex=aF;this._addClass(aB,null,"ui-state-active");aB.trigger("focus");aC=aB.offset();ax=!am(az.target).parents().addBack().is(".ui-slider-handle");this._clickOffset=ax?{left:0,top:0}:{left:az.pageX-aC.left-(aB.width()/2),top:az.pageY-aC.top-(aB.height()/2)-(parseInt(aB.css("borderTopWidth"),10)||0)-(parseInt(aB.css("borderBottomWidth"),10)||0)+(parseInt(aB.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover")){this._slide(az,aF,aG)}this._animateOff=true;return true},_mouseStart:function(){return true},_mouseDrag:function(az){var ax={x:az.pageX,y:az.pageY},ay=this._normValueFromMouse(ax);this._slide(az,this._handleIndex,ay);return false},_mouseStop:function(ax){this._removeClass(this.handles,null,"ui-state-active");this._mouseSliding=false;this._stop(ax,this._handleIndex);this._change(ax,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){this.orientation=(this.options.orientation==="vertical")?"vertical":"horizontal"},_normValueFromMouse:function(ay){var ax,aB,aA,az,aC;if(this.orientation==="horizontal"){ax=this.elementSize.width;aB=ay.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{ax=this.elementSize.height;aB=ay.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}aA=(aB/ax);if(aA>1){aA=1}if(aA<0){aA=0}if(this.orientation==="vertical"){aA=1-aA}az=this._valueMax()-this._valueMin();aC=this._valueMin()+aA*az;return this._trimAlignValue(aC)},_uiHash:function(az,aA,ax){var ay={handle:this.handles[az],handleIndex:az,value:aA!==undefined?aA:this.value()};if(this._hasMultipleValues()){ay.value=aA!==undefined?aA:this.values(az);ay.values=ax||this.values()}return ay},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(ay,ax){return this._trigger("start",ay,this._uiHash(ax))},_slide:function(aC,aA,az){var aD,ax,aB=this.value(),ay=this.values();if(this._hasMultipleValues()){ax=this.values(aA?0:1);aB=this.values(aA);if(this.options.values.length===2&&this.options.range===true){az=aA===0?Math.min(ax,az):Math.max(ax,az)}ay[aA]=az}if(az===aB){return}aD=this._trigger("slide",aC,this._uiHash(aA,az,ay));if(aD===false){return}if(this._hasMultipleValues()){this.values(aA,az)}else{this.value(az)}},_stop:function(ay,ax){this._trigger("stop",ay,this._uiHash(ax))},_change:function(ay,ax){if(!this._keySliding&&!this._mouseSliding){this._lastChangedValue=ax;this._trigger("change",ay,this._uiHash(ax))}},value:function(ax){if(arguments.length){this.options.value=this._trimAlignValue(ax);this._refreshValue();this._change(null,0);return}return this._value()},values:function(ay,aB){var aA,ax,az;if(arguments.length>1){this.options.values[ay]=this._trimAlignValue(aB);this._refreshValue();this._change(null,ay);return}if(arguments.length){if(am.isArray(arguments[0])){aA=this.options.values;ax=arguments[0];for(az=0;az<aA.length;az+=1){aA[az]=this._trimAlignValue(ax[az]);this._change(null,az)}this._refreshValue()}else{if(this._hasMultipleValues()){return this._values(ay)}else{return this.value()}}}else{return this._values()}},_setOption:function(ay,az){var ax,aA=0;if(ay==="range"&&this.options.range===true){if(az==="min"){this.options.value=this._values(0);this.options.values=null}else{if(az==="max"){this.options.value=this._values(this.options.values.length-1);this.options.values=null}}}if(am.isArray(this.options.values)){aA=this.options.values.length}this._super(ay,az);switch(ay){case"orientation":this._detectOrientation();this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation);this._refreshValue();if(this.options.range){this._refreshRange(az)}this.handles.css(az==="horizontal"?"bottom":"left","");break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(ax=aA-1;ax>=0;ax--){this._change(null,ax)}this._animateOff=false;break;case"step":case"min":case"max":this._animateOff=true;this._calculateNewMax();this._refreshValue();this._animateOff=false;break;case"range":this._animateOff=true;this._refresh();this._animateOff=false;break}},_setOptionDisabled:function(ax){this._super(ax);this._toggleClass(null,"ui-state-disabled",!!ax)},_value:function(){var ax=this.options.value;ax=this._trimAlignValue(ax);return ax},_values:function(ax){var aA,az,ay;if(arguments.length){aA=this.options.values[ax];aA=this._trimAlignValue(aA);return aA}else{if(this._hasMultipleValues()){az=this.options.values.slice();for(ay=0;ay<az.length;ay+=1){az[ay]=this._trimAlignValue(az[ay])}return az}else{return[]}}},_trimAlignValue:function(aA){if(aA<=this._valueMin()){return this._valueMin()}if(aA>=this._valueMax()){return this._valueMax()}var ax=(this.options.step>0)?this.options.step:1,az=(aA-this._valueMin())%ax,ay=aA-az;if(Math.abs(az)*2>=ax){ay+=(az>0)?ax:(-ax)}return parseFloat(ay.toFixed(5))},_calculateNewMax:function(){var ax=this.options.max,ay=this._valueMin(),az=this.options.step,aA=Math.round((ax-ay)/az)*az;ax=aA+ay;if(ax>this.options.max){ax-=az}this.max=parseFloat(ax.toFixed(this._precision()))},_precision:function(){var ax=this._precisionOf(this.options.step);if(this.options.min!==null){ax=Math.max(ax,this._precisionOf(this.options.min))}return ax},_precisionOf:function(ay){var az=ay.toString(),ax=az.indexOf(".");return ax===-1?0:az.length-ax-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(ax){if(ax==="vertical"){this.range.css({width:"",left:""})}if(ax==="horizontal"){this.range.css({height:"",bottom:""})}},_refreshValue:function(){var aC,aB,aF,aD,aG,aA=this.options.range,az=this.options,aE=this,ay=(!this._animateOff)?az.animate:false,ax={};if(this._hasMultipleValues()){this.handles.each(function(aH){aB=(aE.values(aH)-aE._valueMin())/(aE._valueMax()-aE._valueMin())*100;ax[aE.orientation==="horizontal"?"left":"bottom"]=aB+"%";am(this).stop(1,1)[ay?"animate":"css"](ax,az.animate);if(aE.options.range===true){if(aE.orientation==="horizontal"){if(aH===0){aE.range.stop(1,1)[ay?"animate":"css"]({left:aB+"%"},az.animate)}if(aH===1){aE.range[ay?"animate":"css"]({width:(aB-aC)+"%"},{queue:false,duration:az.animate})}}else{if(aH===0){aE.range.stop(1,1)[ay?"animate":"css"]({bottom:(aB)+"%"},az.animate)}if(aH===1){aE.range[ay?"animate":"css"]({height:(aB-aC)+"%"},{queue:false,duration:az.animate})}}}aC=aB})}else{aF=this.value();aD=this._valueMin();aG=this._valueMax();aB=(aG!==aD)?(aF-aD)/(aG-aD)*100:0;ax[this.orientation==="horizontal"?"left":"bottom"]=aB+"%";this.handle.stop(1,1)[ay?"animate":"css"](ax,az.animate);if(aA==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[ay?"animate":"css"]({width:aB+"%"},az.animate)}if(aA==="max"&&this.orientation==="horizontal"){this.range.stop(1,1)[ay?"animate":"css"]({width:(100-aB)+"%"},az.animate)}if(aA==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[ay?"animate":"css"]({height:aB+"%"},az.animate)}if(aA==="max"&&this.orientation==="vertical"){this.range.stop(1,1)[ay?"animate":"css"]({height:(100-aB)+"%"},az.animate)}}},_handleEvents:{keydown:function(aB){var aC,az,ay,aA,ax=am(aB.target).data("ui-slider-handle-index");switch(aB.keyCode){case am.ui.keyCode.HOME:case am.ui.keyCode.END:case am.ui.keyCode.PAGE_UP:case am.ui.keyCode.PAGE_DOWN:case am.ui.keyCode.UP:case am.ui.keyCode.RIGHT:case am.ui.keyCode.DOWN:case am.ui.keyCode.LEFT:aB.preventDefault();if(!this._keySliding){this._keySliding=true;this._addClass(am(aB.target),null,"ui-state-active");aC=this._start(aB,ax);if(aC===false){return}}break}aA=this.options.step;if(this._hasMultipleValues()){az=ay=this.values(ax)}else{az=ay=this.value()}switch(aB.keyCode){case am.ui.keyCode.HOME:ay=this._valueMin();break;case am.ui.keyCode.END:ay=this._valueMax();break;case am.ui.keyCode.PAGE_UP:ay=this._trimAlignValue(az+((this._valueMax()-this._valueMin())/this.numPages));break;case am.ui.keyCode.PAGE_DOWN:ay=this._trimAlignValue(az-((this._valueMax()-this._valueMin())/this.numPages));break;case am.ui.keyCode.UP:case am.ui.keyCode.RIGHT:if(az===this._valueMax()){return}ay=this._trimAlignValue(az+aA);break;case am.ui.keyCode.DOWN:case am.ui.keyCode.LEFT:if(az===this._valueMin()){return}ay=this._trimAlignValue(az-aA);break}this._slide(aB,ax,ay)},keyup:function(ay){var ax=am(ay.target).data("ui-slider-handle-index");if(this._keySliding){this._keySliding=false;this._stop(ay,ax);this._change(ay,ax);this._removeClass(am(ay.target),null,"ui-state-active")}}}});
/*!
 * jQuery UI Sortable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;var V=am.widget("ui.sortable",am.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(ay,ax,az){return(ay>=ax)&&(ay<(ax+az))},_isFloating:function(ax){return(/left|right/).test(ax.css("float"))||(/inline|table-cell/).test(ax.css("display"))},_create:function(){this.containerCache={};this._addClass("ui-sortable");this.refresh();this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=true},_setOption:function(ax,ay){this._super(ax,ay);if(ax==="handle"){this._setHandleClassName()}},_setHandleClassName:function(){var ax=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle");am.each(this.items,function(){ax._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var ax=this.items.length-1;ax>=0;ax--){this.items[ax].item.removeData(this.widgetName+"-item")}return this},_mouseCapture:function(az,aA){var ax=null,aB=false,ay=this;if(this.reverting){return false}if(this.options.disabled||this.options.type==="static"){return false}this._refreshItems(az);am(az.target).parents().each(function(){if(am.data(this,ay.widgetName+"-item")===ay){ax=am(this);return false}});if(am.data(az.target,ay.widgetName+"-item")===ay){ax=am(az.target)}if(!ax){return false}if(this.options.handle&&!aA){am(this.options.handle,ax).find("*").addBack().each(function(){if(this===az.target){aB=true}});if(!aB){return false}}this.currentItem=ax;this._removeCurrentsFromItems();return true},_mouseStart:function(aA,aB,ay){var az,ax,aC=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(aA);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};am.extend(this.offset,{click:{left:aA.pageX-this.offset.left,top:aA.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(aA);this.originalPageX=aA.pageX;this.originalPageY=aA.pageY;(aC.cursorAt&&this._adjustOffsetFromHelper(aC.cursorAt));this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!==this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(aC.containment){this._setContainment()}if(aC.cursor&&aC.cursor!=="auto"){ax=this.document.find("body");this.storedCursor=ax.css("cursor");ax.css("cursor",aC.cursor);this.storedStylesheet=am("<style>*{ cursor: "+aC.cursor+" !important; }</style>").appendTo(ax)}if(aC.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",aC.opacity)}if(aC.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",aC.zIndex)}if(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",aA,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!ay){for(az=this.containers.length-1;az>=0;az--){this.containers[az]._trigger("activate",aA,this._uiHash(this))}}if(am.ui.ddmanager){am.ui.ddmanager.current=this}if(am.ui.ddmanager&&!aC.dropBehaviour){am.ui.ddmanager.prepareOffsets(this,aA)}this.dragging=true;this._addClass(this.helper,"ui-sortable-helper");this._mouseDrag(aA);return true},_mouseDrag:function(aB){var az,aA,ay,aD,aC=this.options,ax=false;this.position=this._generatePosition(aB);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){if(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0].tagName!=="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-aB.pageY<aC.scrollSensitivity){this.scrollParent[0].scrollTop=ax=this.scrollParent[0].scrollTop+aC.scrollSpeed}else{if(aB.pageY-this.overflowOffset.top<aC.scrollSensitivity){this.scrollParent[0].scrollTop=ax=this.scrollParent[0].scrollTop-aC.scrollSpeed}}if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-aB.pageX<aC.scrollSensitivity){this.scrollParent[0].scrollLeft=ax=this.scrollParent[0].scrollLeft+aC.scrollSpeed}else{if(aB.pageX-this.overflowOffset.left<aC.scrollSensitivity){this.scrollParent[0].scrollLeft=ax=this.scrollParent[0].scrollLeft-aC.scrollSpeed}}}else{if(aB.pageY-this.document.scrollTop()<aC.scrollSensitivity){ax=this.document.scrollTop(this.document.scrollTop()-aC.scrollSpeed)}else{if(this.window.height()-(aB.pageY-this.document.scrollTop())<aC.scrollSensitivity){ax=this.document.scrollTop(this.document.scrollTop()+aC.scrollSpeed)}}if(aB.pageX-this.document.scrollLeft()<aC.scrollSensitivity){ax=this.document.scrollLeft(this.document.scrollLeft()-aC.scrollSpeed)}else{if(this.window.width()-(aB.pageX-this.document.scrollLeft())<aC.scrollSensitivity){ax=this.document.scrollLeft(this.document.scrollLeft()+aC.scrollSpeed)}}}if(ax!==false&&am.ui.ddmanager&&!aC.dropBehaviour){am.ui.ddmanager.prepareOffsets(this,aB)}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px"}for(az=this.items.length-1;az>=0;az--){aA=this.items[az];ay=aA.item[0];aD=this._intersectsWithPointer(aA);if(!aD){continue}if(aA.instance!==this.currentContainer){continue}if(ay!==this.currentItem[0]&&this.placeholder[aD===1?"next":"prev"]()[0]!==ay&&!am.contains(this.placeholder[0],ay)&&(this.options.type==="semi-dynamic"?!am.contains(this.element[0],ay):true)){this.direction=aD===1?"down":"up";if(this.options.tolerance==="pointer"||this._intersectsWithSides(aA)){this._rearrange(aB,aA)}else{break}this._trigger("change",aB,this._uiHash());break}}this._contactContainers(aB);if(am.ui.ddmanager){am.ui.ddmanager.drag(this,aB)}this._trigger("sort",aB,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(az,aB){if(!az){return}if(am.ui.ddmanager&&!this.options.dropBehaviour){am.ui.ddmanager.drop(this,az)}if(this.options.revert){var ay=this,aC=this.placeholder.offset(),ax=this.options.axis,aA={};if(!ax||ax==="x"){aA.left=aC.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)}if(!ax||ax==="y"){aA.top=aC.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)}this.reverting=true;am(this.helper).animate(aA,parseInt(this.options.revert,10)||500,function(){ay._clear(az)})}else{this._clear(az,aB)}return false},cancel:function(){if(this.dragging){this._mouseUp(new am.Event("mouseup",{target:null}));if(this.options.helper==="original"){this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper")}else{this.currentItem.show()}for(var ax=this.containers.length-1;ax>=0;ax--){this.containers[ax]._trigger("deactivate",null,this._uiHash(this));if(this.containers[ax].containerCache.over){this.containers[ax]._trigger("out",null,this._uiHash(this));this.containers[ax].containerCache.over=0}}}if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove()}am.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){am(this.domPosition.prev).after(this.currentItem)}else{am(this.domPosition.parent).prepend(this.currentItem)}}return this},serialize:function(az){var ax=this._getItemsAsjQuery(az&&az.connected),ay=[];az=az||{};am(ax).each(function(){var aA=(am(az.item||this).attr(az.attribute||"id")||"").match(az.expression||(/(.+)[\-=_](.+)/));if(aA){ay.push((az.key||aA[1]+"[]")+"="+(az.key&&az.expression?aA[1]:aA[2]))}});if(!ay.length&&az.key){ay.push(az.key+"=")}return ay.join("&")},toArray:function(az){var ax=this._getItemsAsjQuery(az&&az.connected),ay=[];az=az||{};ax.each(function(){ay.push(am(az.item||this).attr(az.attribute||"id")||"")});return ay},_intersectsWith:function(aI){var az=this.positionAbs.left,ay=az+this.helperProportions.width,aG=this.positionAbs.top,aF=aG+this.helperProportions.height,aA=aI.left,ax=aA+aI.width,aJ=aI.top,aE=aJ+aI.height,aK=this.offset.click.top,aD=this.offset.click.left,aC=(this.options.axis==="x")||((aG+aK)>aJ&&(aG+aK)<aE),aH=(this.options.axis==="y")||((az+aD)>aA&&(az+aD)<ax),aB=aC&&aH;if(this.options.tolerance==="pointer"||this.options.forcePointerForContainers||(this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>aI[this.floating?"width":"height"])){return aB}else{return(aA<az+(this.helperProportions.width/2)&&ay-(this.helperProportions.width/2)<ax&&aJ<aG+(this.helperProportions.height/2)&&aF-(this.helperProportions.height/2)<aE)}},_intersectsWithPointer:function(az){var ay,aC,aA=(this.options.axis==="x")||this._isOverAxis(this.positionAbs.top+this.offset.click.top,az.top,az.height),ax=(this.options.axis==="y")||this._isOverAxis(this.positionAbs.left+this.offset.click.left,az.left,az.width),aB=aA&&ax;if(!aB){return false}ay=this._getDragVerticalDirection();aC=this._getDragHorizontalDirection();return this.floating?((aC==="right"||ay==="down")?2:1):(ay&&(ay==="down"?2:1))},_intersectsWithSides:function(aA){var ay=this._isOverAxis(this.positionAbs.top+this.offset.click.top,aA.top+(aA.height/2),aA.height),az=this._isOverAxis(this.positionAbs.left+this.offset.click.left,aA.left+(aA.width/2),aA.width),ax=this._getDragVerticalDirection(),aB=this._getDragHorizontalDirection();if(this.floating&&aB){return((aB==="right"&&az)||(aB==="left"&&!az))}else{return ax&&((ax==="down"&&ay)||(ax==="up"&&!ay))}},_getDragVerticalDirection:function(){var ax=this.positionAbs.top-this.lastPositionAbs.top;return ax!==0&&(ax>0?"down":"up")},_getDragHorizontalDirection:function(){var ax=this.positionAbs.left-this.lastPositionAbs.left;return ax!==0&&(ax>0?"right":"left")},refresh:function(ax){this._refreshItems(ax);this._setHandleClassName();this.refreshPositions();return this},_connectWith:function(){var ax=this.options;return ax.connectWith.constructor===String?[ax.connectWith]:ax.connectWith},_getItemsAsjQuery:function(ax){var az,ay,aE,aB,aC=[],aA=[],aD=this._connectWith();if(aD&&ax){for(az=aD.length-1;az>=0;az--){aE=am(aD[az],this.document[0]);for(ay=aE.length-1;ay>=0;ay--){aB=am.data(aE[ay],this.widgetFullName);if(aB&&aB!==this&&!aB.options.disabled){aA.push([am.isFunction(aB.options.items)?aB.options.items.call(aB.element):am(aB.options.items,aB.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),aB])}}}}aA.push([am.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):am(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);function aF(){aC.push(this)}for(az=aA.length-1;az>=0;az--){aA[az][0].each(aF)}return am(aC)},_removeCurrentsFromItems:function(){var ax=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=am.grep(this.items,function(az){for(var ay=0;ay<ax.length;ay++){if(ax[ay]===az.item[0]){return false}}return true})},_refreshItems:function(ax){this.items=[];this.containers=[this];var aB,az,aG,aC,aF,ay,aI,aH,aD=this.items,aA=[[am.isFunction(this.options.items)?this.options.items.call(this.element[0],ax,{item:this.currentItem}):am(this.options.items,this.element),this]],aE=this._connectWith();if(aE&&this.ready){for(aB=aE.length-1;aB>=0;aB--){aG=am(aE[aB],this.document[0]);for(az=aG.length-1;az>=0;az--){aC=am.data(aG[az],this.widgetFullName);if(aC&&aC!==this&&!aC.options.disabled){aA.push([am.isFunction(aC.options.items)?aC.options.items.call(aC.element[0],ax,{item:this.currentItem}):am(aC.options.items,aC.element),aC]);this.containers.push(aC)}}}}for(aB=aA.length-1;aB>=0;aB--){aF=aA[aB][1];ay=aA[aB][0];for(az=0,aH=ay.length;az<aH;az++){aI=am(ay[az]);aI.data(this.widgetName+"-item",aF);aD.push({item:aI,instance:aF,width:0,height:0,left:0,top:0})}}},refreshPositions:function(ax){this.floating=this.items.length?this.options.axis==="x"||this._isFloating(this.items[0].item):false;if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}var az,aA,ay,aB;for(az=this.items.length-1;az>=0;az--){aA=this.items[az];if(aA.instance!==this.currentContainer&&this.currentContainer&&aA.item[0]!==this.currentItem[0]){continue}ay=this.options.toleranceElement?am(this.options.toleranceElement,aA.item):aA.item;if(!ax){aA.width=ay.outerWidth();aA.height=ay.outerHeight()}aB=ay.offset();aA.left=aB.left;aA.top=aB.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(az=this.containers.length-1;az>=0;az--){aB=this.containers[az].element.offset();this.containers[az].containerCache.left=aB.left;this.containers[az].containerCache.top=aB.top;this.containers[az].containerCache.width=this.containers[az].element.outerWidth();this.containers[az].containerCache.height=this.containers[az].element.outerHeight()}}return this},_createPlaceholder:function(ay){ay=ay||this;var ax,az=ay.options;if(!az.placeholder||az.placeholder.constructor===String){ax=az.placeholder;az.placeholder={element:function(){var aB=ay.currentItem[0].nodeName.toLowerCase(),aA=am("<"+aB+">",ay.document[0]);ay._addClass(aA,"ui-sortable-placeholder",ax||ay.currentItem[0].className)._removeClass(aA,"ui-sortable-helper");if(aB==="tbody"){ay._createTrPlaceholder(ay.currentItem.find("tr").eq(0),am("<tr>",ay.document[0]).appendTo(aA))}else{if(aB==="tr"){ay._createTrPlaceholder(ay.currentItem,aA)}else{if(aB==="img"){aA.attr("src",ay.currentItem.attr("src"))}}}if(!ax){aA.css("visibility","hidden")}return aA},update:function(aA,aB){if(ax&&!az.forcePlaceholderSize){return}if(!aB.height()){aB.height(ay.currentItem.innerHeight()-parseInt(ay.currentItem.css("paddingTop")||0,10)-parseInt(ay.currentItem.css("paddingBottom")||0,10))}if(!aB.width()){aB.width(ay.currentItem.innerWidth()-parseInt(ay.currentItem.css("paddingLeft")||0,10)-parseInt(ay.currentItem.css("paddingRight")||0,10))}}}}ay.placeholder=am(az.placeholder.element.call(ay.element,ay.currentItem));ay.currentItem.after(ay.placeholder);az.placeholder.update(ay,ay.placeholder)},_createTrPlaceholder:function(ay,ax){var az=this;ay.children().each(function(){am("<td>&#160;</td>",az.document[0]).attr("colspan",am(this).attr("colspan")||1).appendTo(ax)})},_contactContainers:function(ax){var aC,aA,aG,aD,aE,aI,aJ,aB,aF,az,ay=null,aH=null;for(aC=this.containers.length-1;aC>=0;aC--){if(am.contains(this.currentItem[0],this.containers[aC].element[0])){continue}if(this._intersectsWith(this.containers[aC].containerCache)){if(ay&&am.contains(this.containers[aC].element[0],ay.element[0])){continue}ay=this.containers[aC];aH=aC}else{if(this.containers[aC].containerCache.over){this.containers[aC]._trigger("out",ax,this._uiHash(this));this.containers[aC].containerCache.over=0}}}if(!ay){return}if(this.containers.length===1){if(!this.containers[aH].containerCache.over){this.containers[aH]._trigger("over",ax,this._uiHash(this));this.containers[aH].containerCache.over=1}}else{aG=10000;aD=null;aF=ay.floating||this._isFloating(this.currentItem);aE=aF?"left":"top";aI=aF?"width":"height";az=aF?"pageX":"pageY";for(aA=this.items.length-1;aA>=0;aA--){if(!am.contains(this.containers[aH].element[0],this.items[aA].item[0])){continue}if(this.items[aA].item[0]===this.currentItem[0]){continue}aJ=this.items[aA].item.offset()[aE];aB=false;if(ax[az]-aJ>this.items[aA][aI]/2){aB=true}if(Math.abs(ax[az]-aJ)<aG){aG=Math.abs(ax[az]-aJ);aD=this.items[aA];this.direction=aB?"up":"down"}}if(!aD&&!this.options.dropOnEmpty){return}if(this.currentContainer===this.containers[aH]){if(!this.currentContainer.containerCache.over){this.containers[aH]._trigger("over",ax,this._uiHash());this.currentContainer.containerCache.over=1}return}aD?this._rearrange(ax,aD,null,true):this._rearrange(ax,null,this.containers[aH].element,true);this._trigger("change",ax,this._uiHash());this.containers[aH]._trigger("change",ax,this._uiHash(this));this.currentContainer=this.containers[aH];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[aH]._trigger("over",ax,this._uiHash(this));this.containers[aH].containerCache.over=1}},_createHelper:function(ay){var az=this.options,ax=am.isFunction(az.helper)?am(az.helper.apply(this.element[0],[ay,this.currentItem])):(az.helper==="clone"?this.currentItem.clone():this.currentItem);if(!ax.parents("body").length){am(az.appendTo!=="parent"?az.appendTo:this.currentItem[0].parentNode)[0].appendChild(ax[0])}if(ax[0]===this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(!ax[0].style.width||az.forceHelperSize){ax.width(this.currentItem.width())}if(!ax[0].style.height||az.forceHelperSize){ax.height(this.currentItem.height())}return ax},_adjustOffsetFromHelper:function(ax){if(typeof ax==="string"){ax=ax.split(" ")}if(am.isArray(ax)){ax={left:+ax[0],top:+ax[1]||0}}if("left" in ax){this.offset.click.left=ax.left+this.margins.left}if("right" in ax){this.offset.click.left=this.helperProportions.width-ax.right+this.margins.left}if("top" in ax){this.offset.click.top=ax.top+this.margins.top}if("bottom" in ax){this.offset.click.top=this.helperProportions.height-ax.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var ax=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==this.document[0]&&am.contains(this.scrollParent[0],this.offsetParent[0])){ax.left+=this.scrollParent.scrollLeft();ax.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]===this.document[0].body||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&am.ui.ie)){ax={top:0,left:0}}return{top:ax.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:ax.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var ax=this.currentItem.position();return{top:ax.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:ax.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var ay,aA,ax,az=this.options;if(az.containment==="parent"){az.containment=this.helper[0].parentNode}if(az.containment==="document"||az.containment==="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,az.containment==="document"?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,(az.containment==="document"?(this.document.height()||document.body.parentNode.scrollHeight):this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(az.containment)){ay=am(az.containment)[0];aA=am(az.containment).offset();ax=(am(ay).css("overflow")!=="hidden");this.containment=[aA.left+(parseInt(am(ay).css("borderLeftWidth"),10)||0)+(parseInt(am(ay).css("paddingLeft"),10)||0)-this.margins.left,aA.top+(parseInt(am(ay).css("borderTopWidth"),10)||0)+(parseInt(am(ay).css("paddingTop"),10)||0)-this.margins.top,aA.left+(ax?Math.max(ay.scrollWidth,ay.offsetWidth):ay.offsetWidth)-(parseInt(am(ay).css("borderLeftWidth"),10)||0)-(parseInt(am(ay).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,aA.top+(ax?Math.max(ay.scrollHeight,ay.offsetHeight):ay.offsetHeight)-(parseInt(am(ay).css("borderTopWidth"),10)||0)-(parseInt(am(ay).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(az,aB){if(!aB){aB=this.position}var ay=az==="absolute"?1:-1,ax=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&am.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,aA=(/(html|body)/i).test(ax[0].tagName);return{top:(aB.top+this.offset.relative.top*ay+this.offset.parent.top*ay-((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(aA?0:ax.scrollTop()))*ay)),left:(aB.left+this.offset.relative.left*ay+this.offset.parent.left*ay-((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():aA?0:ax.scrollLeft())*ay))}},_generatePosition:function(aA){var aC,aB,aD=this.options,az=aA.pageX,ay=aA.pageY,ax=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&am.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,aE=(/(html|body)/i).test(ax[0].tagName);if(this.cssPosition==="relative"&&!(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}if(this.originalPosition){if(this.containment){if(aA.pageX-this.offset.click.left<this.containment[0]){az=this.containment[0]+this.offset.click.left}if(aA.pageY-this.offset.click.top<this.containment[1]){ay=this.containment[1]+this.offset.click.top}if(aA.pageX-this.offset.click.left>this.containment[2]){az=this.containment[2]+this.offset.click.left}if(aA.pageY-this.offset.click.top>this.containment[3]){ay=this.containment[3]+this.offset.click.top}}if(aD.grid){aC=this.originalPageY+Math.round((ay-this.originalPageY)/aD.grid[1])*aD.grid[1];ay=this.containment?((aC-this.offset.click.top>=this.containment[1]&&aC-this.offset.click.top<=this.containment[3])?aC:((aC-this.offset.click.top>=this.containment[1])?aC-aD.grid[1]:aC+aD.grid[1])):aC;aB=this.originalPageX+Math.round((az-this.originalPageX)/aD.grid[0])*aD.grid[0];az=this.containment?((aB-this.offset.click.left>=this.containment[0]&&aB-this.offset.click.left<=this.containment[2])?aB:((aB-this.offset.click.left>=this.containment[0])?aB-aD.grid[0]:aB+aD.grid[0])):aB}}return{top:(ay-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(aE?0:ax.scrollTop())))),left:(az-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():aE?0:ax.scrollLeft())))}},_rearrange:function(aB,aA,ay,az){ay?ay[0].appendChild(this.placeholder[0]):aA.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction==="down"?aA.item[0]:aA.item[0].nextSibling));this.counter=this.counter?++this.counter:1;var ax=this.counter;this._delay(function(){if(ax===this.counter){this.refreshPositions(!az)}})},_clear:function(ay,aA){this.reverting=false;var ax,aB=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(ax in this._storedCSS){if(this._storedCSS[ax]==="auto"||this._storedCSS[ax]==="static"){this._storedCSS[ax]=""}}this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!aA){aB.push(function(aC){this._trigger("receive",aC,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!aA){aB.push(function(aC){this._trigger("update",aC,this._uiHash())})}if(this!==this.currentContainer){if(!aA){aB.push(function(aC){this._trigger("remove",aC,this._uiHash())});aB.push((function(aC){return function(aD){aC._trigger("receive",aD,this._uiHash(this))}}).call(this,this.currentContainer));aB.push((function(aC){return function(aD){aC._trigger("update",aD,this._uiHash(this))}}).call(this,this.currentContainer))}}function az(aE,aC,aD){return function(aF){aD._trigger(aE,aF,aC._uiHash(aC))}}for(ax=this.containers.length-1;ax>=0;ax--){if(!aA){aB.push(az("deactivate",this,this.containers[ax]))}if(this.containers[ax].containerCache.over){aB.push(az("out",this,this.containers[ax]));this.containers[ax].containerCache.over=0}}if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove()}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex)}this.dragging=false;if(!aA){this._trigger("beforeStop",ay,this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(!this.cancelHelperRemoval){if(this.helper[0]!==this.currentItem[0]){this.helper.remove()}this.helper=null}if(!aA){for(ax=0;ax<aB.length;ax++){aB[ax].call(this,ay)}this._trigger("stop",ay,this._uiHash())}this.fromOutside=false;return !this.cancelHelperRemoval},_trigger:function(){if(am.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function(ax){var ay=ax||this;return{helper:ay.helper,placeholder:ay.placeholder||am([]),position:ay.position,originalPosition:ay.originalPosition,offset:ay.positionAbs,item:ay.currentItem,sender:ax?ax.element:null}}});
/*!
 * jQuery UI Spinner 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;function W(ax){return function(){var ay=this.element.val();ax.apply(this,arguments);this._refresh();if(ay!==this.element.val()){this._trigger("change")}}}am.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:true,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);if(this.value()!==""){this._value(this.element.val(),true)}this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var ax=this._super();var ay=this.element;am.each(["min","max","step"],function(az,aA){var aB=ay.attr(aA);if(aB!=null&&aB.length){ax[aA]=aB}});return ax},_events:{keydown:function(ax){if(this._start(ax)&&this._keydown(ax)){ax.preventDefault()}},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(ax){if(this.cancelBlur){delete this.cancelBlur;return}this._stop();this._refresh();if(this.previous!==this.element.val()){this._trigger("change",ax)}},mousewheel:function(ax,ay){if(!ay){return}if(!this.spinning&&!this._start(ax)){return false}this._spin((ay>0?1:-1)*this.options.step,ax);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){if(this.spinning){this._stop(ax)}},100);ax.preventDefault()},"mousedown .ui-spinner-button":function(ay){var ax;ax=this.element[0]===am.ui.safeActiveElement(this.document[0])?this.previous:this.element.val();function az(){var aA=this.element[0]===am.ui.safeActiveElement(this.document[0]);if(!aA){this.element.trigger("focus");this.previous=ax;this._delay(function(){this.previous=ax})}}ay.preventDefault();az.call(this);this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;az.call(this)});if(this._start(ay)===false){return}this._repeat(null,am(ay.currentTarget).hasClass("ui-spinner-up")?1:-1,ay)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(ax){if(!am(ax.currentTarget).hasClass("ui-state-active")){return}if(this._start(ax)===false){return false}this._repeat(null,am(ax.currentTarget).hasClass("ui-spinner-up")?1:-1,ax)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance();this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content");this._addClass("ui-spinner-input");this.element.attr("role","spinbutton");this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",true).button({classes:{"ui-button":""}});this._removeClass(this.buttons,"ui-corner-all");this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up");this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down");this.buttons.first().button({icon:this.options.icons.up,showLabel:false});this.buttons.last().button({icon:this.options.icons.down,showLabel:false});if(this.buttons.height()>Math.ceil(this.uiSpinner.height()*0.5)&&this.uiSpinner.height()>0){this.uiSpinner.height(this.uiSpinner.height())}},_keydown:function(ay){var ax=this.options,az=am.ui.keyCode;switch(ay.keyCode){case az.UP:this._repeat(null,1,ay);return true;case az.DOWN:this._repeat(null,-1,ay);return true;case az.PAGE_UP:this._repeat(null,ax.page,ay);return true;case az.PAGE_DOWN:this._repeat(null,-ax.page,ay);return true}return false},_start:function(ax){if(!this.spinning&&this._trigger("start",ax)===false){return false}if(!this.counter){this.counter=1}this.spinning=true;return true},_repeat:function(ay,ax,az){ay=ay||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,ax,az)},ay);this._spin(ax*this.options.step,az)},_spin:function(ay,ax){var az=this.value()||0;if(!this.counter){this.counter=1}az=this._adjustValue(az+ay*this._increment(this.counter));if(!this.spinning||this._trigger("spin",ax,{value:az})!==false){this._value(az);this.counter++}},_increment:function(ax){var ay=this.options.incremental;if(ay){return am.isFunction(ay)?ay(ax):Math.floor(ax*ax*ax/50000-ax*ax/500+17*ax/200+1)}return 1},_precision:function(){var ax=this._precisionOf(this.options.step);if(this.options.min!==null){ax=Math.max(ax,this._precisionOf(this.options.min))}return ax},_precisionOf:function(ay){var az=ay.toString(),ax=az.indexOf(".");return ax===-1?0:az.length-ax-1},_adjustValue:function(az){var ay,aA,ax=this.options;ay=ax.min!==null?ax.min:0;aA=az-ay;aA=Math.round(aA/ax.step)*ax.step;az=ay+aA;az=parseFloat(az.toFixed(this._precision()));if(ax.max!==null&&az>ax.max){return ax.max}if(ax.min!==null&&az<ax.min){return ax.min}return az},_stop:function(ax){if(!this.spinning){return}clearTimeout(this.timer);clearTimeout(this.mousewheelTimer);this.counter=0;this.spinning=false;this._trigger("stop",ax)},_setOption:function(ax,az){var aA,aB,ay;if(ax==="culture"||ax==="numberFormat"){aA=this._parse(this.element.val());this.options[ax]=az;this.element.val(this._format(aA));return}if(ax==="max"||ax==="min"||ax==="step"){if(typeof az==="string"){az=this._parse(az)}}if(ax==="icons"){aB=this.buttons.first().find(".ui-icon");this._removeClass(aB,null,this.options.icons.up);this._addClass(aB,null,az.up);ay=this.buttons.last().find(".ui-icon");this._removeClass(ay,null,this.options.icons.down);this._addClass(ay,null,az.down)}this._super(ax,az)},_setOptionDisabled:function(ax){this._super(ax);this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!ax);this.element.prop("disabled",!!ax);this.buttons.button(ax?"disable":"enable")},_setOptions:W(function(ax){this._super(ax)}),_parse:function(ax){if(typeof ax==="string"&&ax!==""){ax=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(ax,10,this.options.culture):+ax}return ax===""||isNaN(ax)?null:ax},_format:function(ax){if(ax===""){return""}return window.Globalize&&this.options.numberFormat?Globalize.format(ax,this.options.numberFormat,this.options.culture):ax},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var ax=this.value();if(ax===null){return false}return ax===this._adjustValue(ax)},_value:function(az,ax){var ay;if(az!==""){ay=this._parse(az);if(ay!==null){if(!ax){ay=this._adjustValue(ay)}az=this._format(ay)}}this.element.val(az);this._refresh()},_destroy:function(){this.element.prop("disabled",false).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:W(function(ax){this._stepUp(ax)}),_stepUp:function(ax){if(this._start()){this._spin((ax||1)*this.options.step);this._stop()}},stepDown:W(function(ax){this._stepDown(ax)}),_stepDown:function(ax){if(this._start()){this._spin((ax||1)*-this.options.step);this._stop()}},pageUp:W(function(ax){this._stepUp((ax||1)*this.options.page)}),pageDown:W(function(ax){this._stepDown((ax||1)*this.options.page)}),value:function(ax){if(!arguments.length){return this._parse(this.element.val())}W(this._value).call(this,ax)},widget:function(){return this.uiSpinner}});if(am.uiBackCompat!==false){am.widget("ui.spinner",am.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}})}var ai=am.ui.spinner;
/*!
 * jQuery UI Tabs 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;am.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:false,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(function(){var ax=/#.*$/;return function(az){var aB,aA;aB=az.href.replace(ax,"");aA=location.href.replace(ax,"");try{aB=decodeURIComponent(aB)}catch(ay){}try{aA=decodeURIComponent(aA)}catch(ay){}return az.hash.length>1&&aB===aA}})(),_create:function(){var ay=this,ax=this.options;this.running=false;this._addClass("ui-tabs","ui-widget ui-widget-content");this._toggleClass("ui-tabs-collapsible",null,ax.collapsible);this._processTabs();ax.active=this._initialActive();if(am.isArray(ax.disabled)){ax.disabled=am.unique(ax.disabled.concat(am.map(this.tabs.filter(".ui-state-disabled"),function(az){return ay.tabs.index(az)}))).sort()}if(this.options.active!==false&&this.anchors.length){this.active=this._findActive(ax.active)}else{this.active=am()}this._refresh();if(this.active.length){this.load(ax.active)}},_initialActive:function(){var ay=this.options.active,ax=this.options.collapsible,az=location.hash.substring(1);if(ay===null){if(az){this.tabs.each(function(aA,aB){if(am(aB).attr("aria-controls")===az){ay=aA;return false}})}if(ay===null){ay=this.tabs.index(this.tabs.filter(".ui-tabs-active"))}if(ay===null||ay===-1){ay=this.tabs.length?0:false}}if(ay!==false){ay=this.tabs.index(this.tabs.eq(ay));if(ay===-1){ay=ax?false:0}}if(!ax&&ay===false&&this.anchors.length){ay=0}return ay},_getCreateEventData:function(){return{tab:this.active,panel:!this.active.length?am():this._getPanelForTab(this.active)}},_tabKeydown:function(az){var ay=am(am.ui.safeActiveElement(this.document[0])).closest("li"),ax=this.tabs.index(ay),aA=true;if(this._handlePageNav(az)){return}switch(az.keyCode){case am.ui.keyCode.RIGHT:case am.ui.keyCode.DOWN:ax++;break;case am.ui.keyCode.UP:case am.ui.keyCode.LEFT:aA=false;ax--;break;case am.ui.keyCode.END:ax=this.anchors.length-1;break;case am.ui.keyCode.HOME:ax=0;break;case am.ui.keyCode.SPACE:az.preventDefault();clearTimeout(this.activating);this._activate(ax);return;case am.ui.keyCode.ENTER:az.preventDefault();clearTimeout(this.activating);this._activate(ax===this.options.active?false:ax);return;default:return}az.preventDefault();clearTimeout(this.activating);ax=this._focusNextTab(ax,aA);if(!az.ctrlKey&&!az.metaKey){ay.attr("aria-selected","false");this.tabs.eq(ax).attr("aria-selected","true");this.activating=this._delay(function(){this.option("active",ax)},this.delay)}},_panelKeydown:function(ax){if(this._handlePageNav(ax)){return}if(ax.ctrlKey&&ax.keyCode===am.ui.keyCode.UP){ax.preventDefault();this.active.trigger("focus")}},_handlePageNav:function(ax){if(ax.altKey&&ax.keyCode===am.ui.keyCode.PAGE_UP){this._activate(this._focusNextTab(this.options.active-1,false));return true}if(ax.altKey&&ax.keyCode===am.ui.keyCode.PAGE_DOWN){this._activate(this._focusNextTab(this.options.active+1,true));return true}},_findNextTab:function(ay,az){var ax=this.tabs.length-1;function aA(){if(ay>ax){ay=0}if(ay<0){ay=ax}return ay}while(am.inArray(aA(),this.options.disabled)!==-1){ay=az?ay+1:ay-1}return ay},_focusNextTab:function(ax,ay){ax=this._findNextTab(ax,ay);this.tabs.eq(ax).trigger("focus");return ax},_setOption:function(ax,ay){if(ax==="active"){this._activate(ay);return}this._super(ax,ay);if(ax==="collapsible"){this._toggleClass("ui-tabs-collapsible",null,ay);if(!ay&&this.options.active===false){this._activate(0)}}if(ax==="event"){this._setupEvents(ay)}if(ax==="heightStyle"){this._setupHeightStyle(ay)}},_sanitizeSelector:function(ax){return ax?ax.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var ay=this.options,ax=this.tablist.children(":has(a[href])");ay.disabled=am.map(ax.filter(".ui-state-disabled"),function(az){return ax.index(az)});this._processTabs();if(ay.active===false||!this.anchors.length){ay.active=false;this.active=am()}else{if(this.active.length&&!am.contains(this.tablist[0],this.active[0])){if(this.tabs.length===ay.disabled.length){ay.active=false;this.active=am()}else{this._activate(this._findNextTab(Math.max(0,ay.active-1),false))}}else{ay.active=this.tabs.index(this.active)}}this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"});if(!this.active.length){this.tabs.eq(0).attr("tabIndex",0)}else{this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0});this._addClass(this.active,"ui-tabs-active","ui-state-active");this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})}},_processTabs:function(){var az=this,aA=this.tabs,ay=this.anchors,ax=this.panels;this.tablist=this._getList().attr("role","tablist");this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header");this.tablist.on("mousedown"+this.eventNamespace,"> li",function(aB){if(am(this).is(".ui-state-disabled")){aB.preventDefault()}}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){if(am(this).closest("li").is(".ui-state-disabled")){this.blur()}});this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1});this._addClass(this.tabs,"ui-tabs-tab","ui-state-default");this.anchors=this.tabs.map(function(){return am("a",this)[0]}).attr({role:"presentation",tabIndex:-1});this._addClass(this.anchors,"ui-tabs-anchor");this.panels=am();this.anchors.each(function(aG,aE){var aB,aC,aF,aD=am(aE).uniqueId().attr("id"),aH=am(aE).closest("li"),aI=aH.attr("aria-controls");if(az._isLocal(aE)){aB=aE.hash;aF=aB.substring(1);aC=az.element.find(az._sanitizeSelector(aB))}else{aF=aH.attr("aria-controls")||am({}).uniqueId()[0].id;aB="#"+aF;aC=az.element.find(aB);if(!aC.length){aC=az._createPanel(aF);aC.insertAfter(az.panels[aG-1]||az.tablist)}aC.attr("aria-live","polite")}if(aC.length){az.panels=az.panels.add(aC)}if(aI){aH.data("ui-tabs-aria-controls",aI)}aH.attr({"aria-controls":aF,"aria-labelledby":aD});aC.attr("aria-labelledby",aD)});this.panels.attr("role","tabpanel");this._addClass(this.panels,"ui-tabs-panel","ui-widget-content");if(aA){this._off(aA.not(this.tabs));this._off(ay.not(this.anchors));this._off(ax.not(this.panels))}},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(ax){return am("<div>").attr("id",ax).data("ui-tabs-destroy",true)},_setOptionDisabled:function(aA){var az,ax,ay;if(am.isArray(aA)){if(!aA.length){aA=false}else{if(aA.length===this.anchors.length){aA=true}}}for(ay=0;(ax=this.tabs[ay]);ay++){az=am(ax);if(aA===true||am.inArray(ay,aA)!==-1){az.attr("aria-disabled","true");this._addClass(az,null,"ui-state-disabled")}else{az.removeAttr("aria-disabled");this._removeClass(az,null,"ui-state-disabled")}}this.options.disabled=aA;this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,aA===true)},_setupEvents:function(ay){var ax={};if(ay){am.each(ay.split(" "),function(aA,az){ax[az]="_eventHandler"})}this._off(this.anchors.add(this.tabs).add(this.panels));this._on(true,this.anchors,{click:function(az){az.preventDefault()}});this._on(this.anchors,ax);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(ax){var az,ay=this.element.parent();if(ax==="fill"){az=ay.height();az-=this.element.outerHeight()-this.element.height();this.element.siblings(":visible").each(function(){var aB=am(this),aA=aB.css("position");if(aA==="absolute"||aA==="fixed"){return}az-=aB.outerHeight(true)});this.element.children().not(this.panels).each(function(){az-=am(this).outerHeight(true)});this.panels.each(function(){am(this).height(Math.max(0,az-am(this).innerHeight()+am(this).height()))}).css("overflow","auto")}else{if(ax==="auto"){az=0;this.panels.each(function(){az=Math.max(az,am(this).height("").height())}).height(az)}}},_eventHandler:function(ax){var aG=this.options,aB=this.active,aC=am(ax.currentTarget),aA=aC.closest("li"),aE=aA[0]===aB[0],ay=aE&&aG.collapsible,az=ay?am():this._getPanelForTab(aA),aD=!aB.length?am():this._getPanelForTab(aB),aF={oldTab:aB,oldPanel:aD,newTab:ay?am():aA,newPanel:az};ax.preventDefault();if(aA.hasClass("ui-state-disabled")||aA.hasClass("ui-tabs-loading")||this.running||(aE&&!aG.collapsible)||(this._trigger("beforeActivate",ax,aF)===false)){return}aG.active=ay?false:this.tabs.index(aA);this.active=aE?am():aA;if(this.xhr){this.xhr.abort()}if(!aD.length&&!az.length){am.error("jQuery UI Tabs: Mismatching fragment identifier.")}if(az.length){this.load(this.tabs.index(aA),ax)}this._toggle(ax,aF)},_toggle:function(aD,aC){var aB=this,ax=aC.newPanel,aA=aC.oldPanel;this.running=true;function az(){aB.running=false;aB._trigger("activate",aD,aC)}function ay(){aB._addClass(aC.newTab.closest("li"),"ui-tabs-active","ui-state-active");if(ax.length&&aB.options.show){aB._show(ax,aB.options.show,az)}else{ax.show();az()}}if(aA.length&&this.options.hide){this._hide(aA,this.options.hide,function(){aB._removeClass(aC.oldTab.closest("li"),"ui-tabs-active","ui-state-active");ay()})}else{this._removeClass(aC.oldTab.closest("li"),"ui-tabs-active","ui-state-active");aA.hide();ay()}aA.attr("aria-hidden","true");aC.oldTab.attr({"aria-selected":"false","aria-expanded":"false"});if(ax.length&&aA.length){aC.oldTab.attr("tabIndex",-1)}else{if(ax.length){this.tabs.filter(function(){return am(this).attr("tabIndex")===0}).attr("tabIndex",-1)}}ax.attr("aria-hidden","false");aC.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(ay){var ax,az=this._findActive(ay);if(az[0]===this.active[0]){return}if(!az.length){az=this.active}ax=az.find(".ui-tabs-anchor")[0];this._eventHandler({target:ax,currentTarget:ax,preventDefault:am.noop})},_findActive:function(ax){return ax===false?am():this.tabs.eq(ax)},_getIndex:function(ax){if(typeof ax==="string"){ax=this.anchors.index(this.anchors.filter("[href$='"+am.ui.escapeSelector(ax)+"']"))}return ax},_destroy:function(){if(this.xhr){this.xhr.abort()}this.tablist.removeAttr("role").off(this.eventNamespace);this.anchors.removeAttr("role tabIndex").removeUniqueId();this.tabs.add(this.panels).each(function(){if(am.data(this,"ui-tabs-destroy")){am(this).remove()}else{am(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}});this.tabs.each(function(){var ax=am(this),ay=ax.data("ui-tabs-aria-controls");if(ay){ax.attr("aria-controls",ay).removeData("ui-tabs-aria-controls")}else{ax.removeAttr("aria-controls")}});this.panels.show();if(this.options.heightStyle!=="content"){this.panels.css("height","")}},enable:function(ax){var ay=this.options.disabled;if(ay===false){return}if(ax===undefined){ay=false}else{ax=this._getIndex(ax);if(am.isArray(ay)){ay=am.map(ay,function(az){return az!==ax?az:null})}else{ay=am.map(this.tabs,function(az,aA){return aA!==ax?aA:null})}}this._setOptionDisabled(ay)},disable:function(ax){var ay=this.options.disabled;if(ay===true){return}if(ax===undefined){ay=true}else{ax=this._getIndex(ax);if(am.inArray(ax,ay)!==-1){return}if(am.isArray(ay)){ay=am.merge([ax],ay).sort()}else{ay=[ax]}}this._setOptionDisabled(ay)},load:function(aA,aE){aA=this._getIndex(aA);var aD=this,aB=this.tabs.eq(aA),az=aB.find(".ui-tabs-anchor"),ay=this._getPanelForTab(aB),aC={tab:aB,panel:ay},ax=function(aG,aF){if(aF==="abort"){aD.panels.stop(false,true)}aD._removeClass(aB,"ui-tabs-loading");ay.removeAttr("aria-busy");if(aG===aD.xhr){delete aD.xhr}};if(this._isLocal(az[0])){return}this.xhr=am.ajax(this._ajaxSettings(az,aE,aC));if(this.xhr&&this.xhr.statusText!=="canceled"){this._addClass(aB,"ui-tabs-loading");ay.attr("aria-busy","true");this.xhr.done(function(aG,aF,aH){setTimeout(function(){ay.html(aG);aD._trigger("load",aE,aC);ax(aH,aF)},1)}).fail(function(aG,aF){setTimeout(function(){ax(aG,aF)},1)})}},_ajaxSettings:function(ax,aA,az){var ay=this;return{url:ax.attr("href").replace(/#.*$/,""),beforeSend:function(aC,aB){return ay._trigger("beforeLoad",aA,am.extend({jqXHR:aC,ajaxSettings:aB},az))}}},_getPanelForTab:function(ax){var ay=am(ax).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+ay))}});if(am.uiBackCompat!==false){am.widget("ui.tabs",am.ui.tabs,{_processTabs:function(){this._superApply(arguments);this._addClass(this.tabs,"ui-tab")}})}var S=am.ui.tabs;
/*!
 * jQuery UI Tooltip 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
;am.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var ax=am(this).attr("title")||"";return am("<a>").text(ax).html()},hide:true,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:true,track:false,close:null,open:null},_addDescribedBy:function(ay,az){var ax=(ay.attr("aria-describedby")||"").split(/\s+/);ax.push(az);ay.data("ui-tooltip-id",az).attr("aria-describedby",am.trim(ax.join(" ")))},_removeDescribedBy:function(az){var aA=az.data("ui-tooltip-id"),ay=(az.attr("aria-describedby")||"").split(/\s+/),ax=am.inArray(aA,ay);if(ax!==-1){ay.splice(ax,1)}az.removeData("ui-tooltip-id");ay=am.trim(ay.join(" "));if(ay){az.attr("aria-describedby",ay)}else{az.removeAttr("aria-describedby")}},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.liveRegion=am("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this.disabledTitles=am([])},_setOption:function(ax,az){var ay=this;this._super(ax,az);if(ax==="content"){am.each(this.tooltips,function(aB,aA){ay._updateContent(aA.element)})}},_setOptionDisabled:function(ax){this[ax?"_disable":"_enable"]()},_disable:function(){var ax=this;am.each(this.tooltips,function(aA,az){var ay=am.Event("blur");ay.target=ay.currentTarget=az.element[0];ax.close(ay,true)});this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var ay=am(this);if(ay.is("[title]")){return ay.data("ui-tooltip-title",ay.attr("title")).removeAttr("title")}}))},_enable:function(){this.disabledTitles.each(function(){var ax=am(this);if(ax.data("ui-tooltip-title")){ax.attr("title",ax.data("ui-tooltip-title"))}});this.disabledTitles=am([])},open:function(ay){var ax=this,az=am(ay?ay.target:this.element).closest(this.options.items);if(!az.length||az.data("ui-tooltip-id")){return}if(az.attr("title")){az.data("ui-tooltip-title",az.attr("title"))}az.data("ui-tooltip-open",true);if(ay&&ay.type==="mouseover"){az.parents().each(function(){var aB=am(this),aA;if(aB.data("ui-tooltip-open")){aA=am.Event("blur");aA.target=aA.currentTarget=this;ax.close(aA,true)}if(aB.attr("title")){aB.uniqueId();ax.parents[this.id]={element:this,title:aB.attr("title")};aB.attr("title","")}})}this._registerCloseHandlers(ay,az);this._updateContent(az,ay)},_updateContent:function(aC,aB){var aA,ax=this.options.content,az=this,ay=aB?aB.type:null;if(typeof ax==="string"||ax.nodeType||ax.jquery){return this._open(aB,aC,ax)}aA=ax.call(aC[0],function(aD){az._delay(function(){if(!aC.data("ui-tooltip-open")){return}if(aB){aB.type=ay}this._open(aB,aC,aD)})});if(aA){this._open(aB,aC,aA)}},_open:function(ay,aB,aC){var ax,aF,aE,az,aD=am.extend({},this.options.position);if(!aC){return}ax=this._find(aB);if(ax){ax.tooltip.find(".ui-tooltip-content").html(aC);return}if(aB.is("[title]")){if(ay&&ay.type==="mouseover"){aB.attr("title","")}else{aB.removeAttr("title")}}ax=this._tooltip(aB);aF=ax.tooltip;this._addDescribedBy(aB,aF.attr("id"));aF.find(".ui-tooltip-content").html(aC);this.liveRegion.children().hide();az=am("<div>").html(aF.find(".ui-tooltip-content").html());az.removeAttr("name").find("[name]").removeAttr("name");az.removeAttr("id").find("[id]").removeAttr("id");az.appendTo(this.liveRegion);function aA(aG){aD.of=aG;if(aF.is(":hidden")){return}aF.position(aD)}if(this.options.track&&ay&&/^mouse/.test(ay.type)){this._on(this.document,{mousemove:aA});aA(ay)}else{aF.position(am.extend({of:aB},this.options.position))}aF.hide();this._show(aF,this.options.show);if(this.options.track&&this.options.show&&this.options.show.delay){aE=this.delayedShow=setInterval(function(){if(aF.is(":visible")){aA(aD.of);clearInterval(aE)}},am.fx.interval)}this._trigger("open",ay,{tooltip:aF})},_registerCloseHandlers:function(ay,az){var ax={keyup:function(aA){if(aA.keyCode===am.ui.keyCode.ESCAPE){var aB=am.Event(aA);aB.currentTarget=az[0];this.close(aB,true)}}};if(az[0]!==this.element[0]){ax.remove=function(){this._removeTooltip(this._find(az).tooltip)}}if(!ay||ay.type==="mouseover"){ax.mouseleave="close"}if(!ay||ay.type==="focusin"){ax.focusout="close"}this._on(true,az,ax)},close:function(ay){var aA,ax=this,aB=am(ay?ay.currentTarget:this.element),az=this._find(aB);if(!az){aB.removeData("ui-tooltip-open");return}aA=az.tooltip;if(az.closing){return}clearInterval(this.delayedShow);if(aB.data("ui-tooltip-title")&&!aB.attr("title")){aB.attr("title",aB.data("ui-tooltip-title"))}this._removeDescribedBy(aB);az.hiding=true;aA.stop(true);this._hide(aA,this.options.hide,function(){ax._removeTooltip(am(this))});aB.removeData("ui-tooltip-open");this._off(aB,"mouseleave focusout keyup");if(aB[0]!==this.element[0]){this._off(aB,"remove")}this._off(this.document,"mousemove");if(ay&&ay.type==="mouseleave"){am.each(this.parents,function(aD,aC){am(aC.element).attr("title",aC.title);delete ax.parents[aD]})}az.closing=true;this._trigger("close",ay,{tooltip:aA});if(!az.hiding){az.closing=false}},_tooltip:function(ax){var az=am("<div>").attr("role","tooltip"),ay=am("<div>").appendTo(az),aA=az.uniqueId().attr("id");this._addClass(ay,"ui-tooltip-content");this._addClass(az,"ui-tooltip","ui-widget ui-widget-content");az.appendTo(this._appendTo(ax));return this.tooltips[aA]={element:ax,tooltip:az}},_find:function(ax){var ay=ax.data("ui-tooltip-id");return ay?this.tooltips[ay]:null},_removeTooltip:function(ax){ax.remove();delete this.tooltips[ax.attr("id")]},_appendTo:function(ay){var ax=ay.closest(".ui-front, dialog");if(!ax.length){ax=this.document[0].body}return ax},_destroy:function(){var ax=this;am.each(this.tooltips,function(aB,aA){var az=am.Event("blur"),ay=aA.element;az.target=az.currentTarget=ay[0];ax.close(az,true);am("#"+aB).remove();if(ay.data("ui-tooltip-title")){if(!ay.attr("title")){ay.attr("title",ay.data("ui-tooltip-title"))}ay.removeData("ui-tooltip-title")}});this.liveRegion.remove()}});if(am.uiBackCompat!==false){am.widget("ui.tooltip",am.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var ax=this._superApply(arguments);if(this.options.tooltipClass){ax.tooltip.addClass(this.options.tooltipClass)}return ax}})}var D=am.ui.tooltip}));
/*!
 * jQuery UI Touch Punch Fork 0.4.0
 *
 * Copyright 2011â€“2014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery","jquery-ui/mouse"],a)}else{a(jQuery)}}(function(e){e.support.touch="ontouchend" in document||"onpointerdown" in document||"onMSPointerDown" in document;if(!e.support.touch){return}var d=e.ui.mouse.prototype,f=d._mouseInit,h=d._mouseDestroy,j,c,b=150,i=5,g=750;function a(l,m){if(l.originalEvent.touches.length>1){return}var n=l.originalEvent.changedTouches[0],k=document.createEvent("MouseEvents");if(e(n.target).is("input")||e(n.target).is("textarea")){l.stopPropagation()}else{l.preventDefault()}k.initMouseEvent(m,true,true,window,1,n.screenX,n.screenY,n.clientX+e(window).scrollLeft(),n.clientY+e(window).scrollTop(),false,false,false,false,0,null);l.target.dispatchEvent(k)}d._touchStart=function(l){var k=this,m=l.originalEvent.changedTouches[0];k._touchMoved=false;k._touchStartTime=new Date().getTime();k._touchStartX=m.clientX;k._touchStartY=m.clientY;if(j||!k._mouseCapture(m)){return}j=true;a(l,"mouseover");a(l,"mousemove");a(l,"mousedown");c=setTimeout(function(){if(!k._touchMoved){l.longTap=true;k._touchEnd(l)}},g)};d._touchMove=function(m){if(!j){return}var o=m.originalEvent.changedTouches[0];var l=new Date().getTime()-this._touchStartTime,k=Math.abs(o.clientX-this._touchStartX),n=Math.abs(o.clientY-this._touchStartY);if(l>b||k>i||n>i){this._touchMoved=true}a(m,"mousemove")};d._touchEnd=function(k){if(!j){return}a(k,"mouseup");a(k,"mouseout");if(!this._touchMoved){if(k.longTap){a(k,"contextmenu")}else{a(k,"click")}}clearTimeout(c);j=false};d._mouseInit=function(){var k=this;k.element.on({touchstart:e.proxy(k,"_touchStart"),touchmove:e.proxy(k,"_touchMove"),touchend:e.proxy(k,"_touchEnd")});if(navigator.userAgent.match("MSIE")){k.element.css("-ms-touch-action","none")}f.call(k)};d._mouseDestroy=function(){var k=this;k.element.off({touchstart:e.proxy(k,"_touchStart"),touchmove:e.proxy(k,"_touchMove"),touchend:e.proxy(k,"_touchEnd")});h.call(k)};return e}));
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */
;(function(b){var d;if(typeof define==="function"&&define.amd){define(b);d=true}if(typeof exports==="object"){module.exports=b();d=true}if(!d){var a=window.Cookies;var c=window.Cookies=b();c.noConflict=function(){window.Cookies=a;return c}}}(function(){function b(){var f=0;var c={};for(;f<arguments.length;f++){var d=arguments[f];for(var e in d){c[e]=d[e]}}return c}function a(d){function c(r,q,m){if(typeof document==="undefined"){return}if(arguments.length>1){m=b({path:"/"},c.defaults,m);if(typeof m.expires==="number"){m.expires=new Date(new Date()*1+m.expires*86400000)}m.expires=m.expires?m.expires.toUTCString():"";try{var t=JSON.stringify(q);if(/^[\{\[]/.test(t)){q=t}}catch(o){}q=d.write?d.write(q,r):encodeURIComponent(String(q)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent);r=encodeURIComponent(String(r)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var l="";for(var p in m){if(!m[p]){continue}l+="; "+p;if(m[p]===true){continue}l+="="+m[p].split(";")[0]}return(document.cookie=r+"="+q+l)}var j={};var f=function(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)};var s=document.cookie?document.cookie.split("; "):[];var n=0;for(;n<s.length;n++){var k=s[n].split("=");var h=k.slice(1).join("=");if(!this.json&&h.charAt(0)==='"'){h=h.slice(1,-1)}try{var g=f(k[0]);h=(d.read||d)(h,g)||f(h);if(this.json){try{h=JSON.parse(h)}catch(o){}}j[g]=h;if(r===g){break}}catch(o){}}return r?j[r]:j}c.set=c;c.get=function(e){return c.call(c,e)};c.getJSON=function(e){return c.call({json:true},e)};c.remove=function(f,e){c(f,"",b(e,{expires:-1}))};c.defaults={};c.withConverter=a;return c}return a(function(){})}));jQuery.uaMatch=function(b){b=b.toLowerCase();var a=/(chrome)[ \/]([\w.]+)/.exec(b)||/(webkit)[ \/]([\w.]+)/.exec(b)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(b)||/(msie) ([\w.]+)/.exec(b)||b.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(b)||[];return{browser:a[1]||"",version:a[2]||"0"}};if(!jQuery.browser){var matched=jQuery.uaMatch(navigator.userAgent);var browser={};if(matched.browser){browser[matched.browser]=true;browser.version=matched.version}if(browser.chrome){browser.webkit=true}else{if(browser.webkit){browser.safari=true}}jQuery.browser=browser}
/*!
 * jQuery Transit - CSS3 transitions and transformations
 * Copyright(c) 2011 Rico Sta. Cruz <rico@ricostacruz.com>
 * MIT Licensed.
 *
 * http://ricostacruz.com/jquery.transit
 * http://github.com/rstacruz/jquery.transit
 */
;
/*!
jQuery WaitForImages

Copyright (c) 2012 Alex Dickson

Permission is hereby granted, free of charge, to any person
obtaining a copy of this software and associated documentation
files (the "Software"), to deal in the Software without
restriction, including without limitation the rights to use,
copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following
conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.

https://github.com/alexanderdickson/waitForImages
*/
(function(m){function w(f){if(f in v.style){return f}var a=["Moz","Webkit","O","ms"],i=f.charAt(0).toUpperCase()+f.substr(1);if(f in v.style){return f}for(f=0;f<a.length;++f){var c=a[f]+i;if(c in v.style){return c}}}function g(a){"string"===typeof a&&this.parse(a);return this}function b(l,z,y,f){var o=[];m.each(l,function(a){a=m.camelCase(a);a=m.transit.propertyMap[a]||m.cssProps[a]||a;a=a.replace(/([A-Z])/g,function(i){return"-"+i.toLowerCase()});-1===m.inArray(a,o)&&o.push(a)});m.cssEase[y]&&(y=m.cssEase[y]);var e=""+d(z)+" "+y;0<parseInt(f,10)&&(e+=" "+d(f));var c=[];m.each(o,function(i,a){c.push(a+" "+e)});return c.join(", ")}function j(a,c){c||(m.cssNumber[a]=!0);m.transit.propertyMap[a]=q.transform;m.cssHooks[a]={get:function(e){return m(e).css("transit:transform").get(a)},set:function(l,f){var e=m(l).css("transit:transform");e.setFromString(a,f);m(l).css({"transit:transform":e})}}}function x(c,a){return"string"===typeof c&&!c.match(/^[\-0-9\.]+$/)?c:""+c+a}function d(a){m.fx.speeds[a]&&(a=m.fx.speeds[a]);return x(a,"ms")}m.transit={version:"0.9.9",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var v=document.createElement("div"),q={},k=-1<navigator.userAgent.toLowerCase().indexOf("chrome");q.transition=w("transition");q.transitionDelay=w("transitionDelay");q.transform=w("transform");q.transformOrigin=w("transformOrigin");v.style[q.transform]="";v.style[q.transform]="rotateY(90deg)";q.transform3d=""!==v.style[q.transform];var h=q.transitionEnd={transition:"transitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"}[q.transition]||null,p;for(p in q){q.hasOwnProperty(p)&&"undefined"===typeof m.support[p]&&(m.support[p]=q[p])}v=null;m.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};m.cssHooks["transit:transform"]={get:function(a){return m(a).data("transform")||new g},set:function(c,e){var a=e;a instanceof g||(a=new g(a));c.style[q.transform]="WebkitTransform"===q.transform&&!k?a.toString(!0):a.toString();m(c).data("transform",a)}};m.cssHooks.transform={set:m.cssHooks["transit:transform"].set};"1.8">m.fn.jquery&&(m.cssHooks.transformOrigin={get:function(a){return a.style[q.transformOrigin]},set:function(c,a){c.style[q.transformOrigin]=a}},m.cssHooks.transition={get:function(a){return a.style[q.transition]},set:function(c,a){c.style[q.transition]=a}});j("scale");j("translate");j("rotate");j("rotateX");j("rotateY");j("rotate3d");j("perspective");j("skewX");j("skewY");j("x",!0);j("y",!0);g.prototype={setFromString:function(f,a){var c="string"===typeof a?a.split(","):a.constructor===Array?a:[a];c.unshift(f);g.prototype.set.apply(this,c)},set:function(c){var a=Array.prototype.slice.apply(arguments,[1]);this.setter[c]?this.setter[c].apply(this,a):this[c]=a.join(",")},get:function(a){return this.getter[a]?this.getter[a].apply(this):this[a]||0},setter:{rotate:function(a){this.rotate=x(a,"deg")},rotateX:function(a){this.rotateX=x(a,"deg")},rotateY:function(a){this.rotateY=x(a,"deg")},scale:function(c,a){void 0===a&&(a=c);this.scale=c+","+a},skewX:function(a){this.skewX=x(a,"deg")},skewY:function(a){this.skewY=x(a,"deg")},perspective:function(a){this.perspective=x(a,"px")},x:function(a){this.set("translate",a,null)},y:function(a){this.set("translate",null,a)},translate:function(c,a){void 0===this._translateX&&(this._translateX=0);void 0===this._translateY&&(this._translateY=0);null!==c&&void 0!==c&&(this._translateX=x(c,"px"));null!==a&&void 0!==a&&(this._translateY=x(a,"px"));this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var a=(this.scale||"1,1").split(",");a[0]&&(a[0]=parseFloat(a[0]));a[1]&&(a[1]=parseFloat(a[1]));return a[0]===a[1]?a[0]:a},rotate3d:function(){for(var c=(this.rotate3d||"0,0,0,0deg").split(","),a=0;3>=a;++a){c[a]&&(c[a]=parseFloat(c[a]))}c[3]&&(c[3]=x(c[3],"deg"));return c}},parse:function(c){var a=this;c.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(i,l,f){a.setFromString(l,f)})},toString:function(c){var a=[],f;for(f in this){if(this.hasOwnProperty(f)&&(q.transform3d||!("rotateX"===f||"rotateY"===f||"perspective"===f||"transformOrigin"===f))){"_"!==f[0]&&(c&&"scale"===f?a.push(f+"3d("+this[f]+",1)"):c&&"translate"===f?a.push(f+"3d("+this[f]+",0)"):a.push(f+"("+this[f]+")"))}}return a.join(" ")}};m.fn.transition=m.fn.transit=function(B,a,l,C){var A=this,r=0,y=!0;"function"===typeof a&&(C=a,a=void 0);"function"===typeof l&&(C=l,l=void 0);"undefined"!==typeof B.easing&&(l=B.easing,delete B.easing);"undefined"!==typeof B.duration&&(a=B.duration,delete B.duration);"undefined"!==typeof B.complete&&(C=B.complete,delete B.complete);"undefined"!==typeof B.queue&&(y=B.queue,delete B.queue);"undefined"!==typeof B.delay&&(r=B.delay,delete B.delay);"undefined"===typeof a&&(a=m.fx.speeds._default);"undefined"===typeof l&&(l=m.cssEase._default);a=d(a);var o=b(B,a,l,r),z=m.transit.enabled&&q.transition?parseInt(a,10)+parseInt(r,10):0;if(0===z){return a=y,l=function(c){A.css(B);C&&C.apply(A);c&&c()},!0===a?A.queue(l):a?A.queue(a,l):l(),A}var e={};a=y;l=function(f){var c=0;"MozTransition"===q.transition&&25>c&&(c=25);window.setTimeout(function(){var s=!1,n=function(){s&&A.unbind(h,n);0<z&&A.each(function(){this.style[q.transition]=e[this]||null});"function"===typeof C&&C.apply(A);"function"===typeof f&&f()};0<z&&h&&m.transit.useTransitionEnd?(s=!0,A.bind(h,n)):window.setTimeout(n,z);A.each(function(){0<z&&(this.style[q.transition]=o);m(this).css(B)})},c)};!0===a?A.queue(l):a?A.queue(a,l):l();return this};m.transit.getTransitionValue=b})(jQuery);(function(b,a){jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(g,d,h,f,c){return jQuery.easing[jQuery.easing.def](g,d,h,f,c)},easeInQuad:function(g,d,h,f,c){return f*(d/=c)*d+h},easeOutQuad:function(g,d,h,f,c){return -f*(d/=c)*(d-2)+h},easeInOutQuad:function(g,d,h,f,c){if((d/=c/2)<1){return f/2*d*d+h}return -f/2*(--d*(d-2)-1)+h},easeInCubic:function(g,d,h,f,c){return f*(d/=c)*d*d+h},easeOutCubic:function(g,d,h,f,c){return f*((d=d/c-1)*d*d+1)+h},easeInOutCubic:function(g,d,h,f,c){if((d/=c/2)<1){return f/2*d*d*d+h}return f/2*((d-=2)*d*d+2)+h},easeInQuart:function(g,d,h,f,c){return f*(d/=c)*d*d*d+h},easeOutQuart:function(g,d,h,f,c){return -f*((d=d/c-1)*d*d*d-1)+h},easeInOutQuart:function(g,d,h,f,c){if((d/=c/2)<1){return f/2*d*d*d*d+h}return -f/2*((d-=2)*d*d*d-2)+h},easeInQuint:function(g,d,h,f,c){return f*(d/=c)*d*d*d*d+h},easeOutQuint:function(g,d,h,f,c){return f*((d=d/c-1)*d*d*d*d+1)+h},easeInOutQuint:function(g,d,h,f,c){if((d/=c/2)<1){return f/2*d*d*d*d*d+h}return f/2*((d-=2)*d*d*d*d+2)+h},easeInSine:function(g,d,h,f,c){return -f*Math.cos(d/c*(Math.PI/2))+f+h},easeOutSine:function(g,d,h,f,c){return f*Math.sin(d/c*(Math.PI/2))+h},easeInOutSine:function(g,d,h,f,c){return -f/2*(Math.cos(Math.PI*d/c)-1)+h},easeInExpo:function(g,d,h,f,c){return d==0?h:f*Math.pow(2,10*(d/c-1))+h},easeOutExpo:function(g,d,h,f,c){return d==c?h+f:f*(-Math.pow(2,-10*d/c)+1)+h},easeInOutExpo:function(g,d,h,f,c){if(d==0){return h}if(d==c){return h+f}if((d/=c/2)<1){return f/2*Math.pow(2,10*(d-1))+h}return f/2*(-Math.pow(2,-10*--d)+2)+h},easeInCirc:function(g,d,h,f,c){return -f*(Math.sqrt(1-(d/=c)*d)-1)+h},easeOutCirc:function(g,d,h,f,c){return f*Math.sqrt(1-(d=d/c-1)*d)+h},easeInOutCirc:function(g,d,h,f,c){if((d/=c/2)<1){return -f/2*(Math.sqrt(1-d*d)-1)+h}return f/2*(Math.sqrt(1-(d-=2)*d)+1)+h},easeInElastic:function(j,f,l,h,d){var g=1.70158;var k=0;var c=h;if(f==0){return l}if((f/=d)==1){return l+h}if(!k){k=d*0.3}if(c<Math.abs(h)){c=h;var g=k/4}else{var g=k/(2*Math.PI)*Math.asin(h/c)}return -(c*Math.pow(2,10*(f-=1))*Math.sin((f*d-g)*2*Math.PI/k))+l},easeOutElastic:function(j,f,l,h,d){var g=1.70158;var k=0;var c=h;if(f==0){return l}if((f/=d)==1){return l+h}if(!k){k=d*0.3}if(c<Math.abs(h)){c=h;var g=k/4}else{var g=k/(2*Math.PI)*Math.asin(h/c)}return c*Math.pow(2,-10*f)*Math.sin((f*d-g)*2*Math.PI/k)+h+l},easeInOutElastic:function(j,f,l,h,d){var g=1.70158;var k=0;var c=h;if(f==0){return l}if((f/=d/2)==2){return l+h}if(!k){k=d*0.3*1.5}if(c<Math.abs(h)){c=h;var g=k/4}else{var g=k/(2*Math.PI)*Math.asin(h/c)}if(f<1){return -0.5*c*Math.pow(2,10*(f-=1))*Math.sin((f*d-g)*2*Math.PI/k)+l}return c*Math.pow(2,-10*(f-=1))*Math.sin((f*d-g)*2*Math.PI/k)*0.5+h+l},easeInBack:function(h,d,j,g,c,f){if(f==undefined){f=1.70158}return g*(d/=c)*d*((f+1)*d-f)+j},easeOutBack:function(h,d,j,g,c,f){if(f==undefined){f=1.70158}return g*((d=d/c-1)*d*((f+1)*d+f)+1)+j},easeInOutBack:function(h,d,j,g,c,f){if(f==undefined){f=1.70158}if((d/=c/2)<1){return g/2*d*d*(((f*=1.525)+1)*d-f)+j}return g/2*((d-=2)*d*(((f*=1.525)+1)*d+f)+2)+j},easeInBounce:function(g,d,h,f,c){return f-jQuery.easing.easeOutBounce(g,c-d,0,f,c)+h},easeOutBounce:function(g,d,h,f,c){if((d/=c)<1/2.75){return f*7.5625*d*d+h}else{if(d<2/2.75){return f*(7.5625*(d-=1.5/2.75)*d+0.75)+h}else{if(d<2.5/2.75){return f*(7.5625*(d-=2.25/2.75)*d+0.9375)+h}else{return f*(7.5625*(d-=2.625/2.75)*d+0.984375)+h}}}},easeInOutBounce:function(g,d,h,f,c){if(d<c/2){return jQuery.easing.easeInBounce(g,d*2,0,f,c)*0.5+h}return jQuery.easing.easeOutBounce(g,d*2-c,0,f,c)*0.5+f*0.5+h}});b.waitForImages={hasImageProperties:["backgroundImage","listStyleImage","borderImage","borderCornerImage"]};b.expr[":"].uncached=function(c){var d=document.createElement("img");d.src=c.src;return b(c).is('img[src!=""]')&&!d.complete};b.fn.waitForImages=function(c,e,d){if(b.isPlainObject(arguments[0])){e=c.each;d=c.waitForAll;c=c.finished}c=c||b.noop;e=e||b.noop;d=!!d;if(!b.isFunction(c)||!b.isFunction(e)){throw new TypeError("An invalid callback was supplied.")}return this.each(function(){var j=b(this),k=[];if(d){var n=b.waitForImages.hasImageProperties||[],h=/url\((['"]?)(.*?)\1\)/g;j.find("*").each(function(){var f=b(this);if(f.is("img:uncached")){k.push({src:f.attr("src"),element:f[0]})}b.each(n,function(p,q){var o=f.css(q);if(!o){return true}var l;while(l=h.exec(o)){k.push({src:l[2],element:f[0]})}})})}else{j.find("img:uncached").each(function(){k.push({src:this.src,element:this})})}var m=k.length,g=0;if(m==0){c.call(j[0])}b.each(k,function(i,f){var l=new Image;b(l).bind("load error",function(o){g++;e.call(f.element,g,m,o.type=="load");if(g==m){c.call(j[0]);return false}});l.src=f.src})})};b.fn.swipe=function(z){if(!this){return false}var F={fingers:1,threshold:75,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,click:null,triggerOnTouchEnd:true,allowPageScroll:"auto"};var B="left";var I="right";var A="up";var D="down";var q="none";var L="horizontal";var H="vertical";var O="auto";var J="start";var C="move";var N="end";var k="cancel";var G="ontouchstart" in window,K=G?"touchstart":"mousedown",e=G?"touchmove":"mousemove",P=G?"touchend":"mouseup",j="touchcancel";var x="start";if(z.allowPageScroll==undefined&&(z.swipe!=undefined||z.swipeStatus!=undefined)){z.allowPageScroll=q}if(z){b.extend(F,z)}return this.each(function(){function y(){var t=i();if(t<=45&&t>=0){return B}else{if(t<=360&&t>=315){return B}else{if(t>=135&&t<=225){return I}else{if(t>45&&t<135){return D}else{return A}}}}}function i(){var R=u.x-f.x;var E=f.y-u.y;var S=Math.atan2(E,R);var Q=Math.round(S*180/Math.PI);if(Q<0){Q=360-Math.abs(Q)}return Q}function r(){return Math.round(Math.sqrt(Math.pow(f.x-u.x,2)+Math.pow(f.y-u.y,2)))}function h(R,Q){if(F.allowPageScroll==q){R.preventDefault()}else{var E=F.allowPageScroll==O;switch(Q){case B:if(F.swipeLeft&&E||!E&&F.allowPageScroll!=L){R.preventDefault()}break;case I:if(F.swipeRight&&E||!E&&F.allowPageScroll!=L){R.preventDefault()}break;case A:if(F.swipeUp&&E||!E&&F.allowPageScroll!=H){R.preventDefault()}break;case D:if(F.swipeDown&&E||!E&&F.allowPageScroll!=H){R.preventDefault()}break}}}function n(Q,E){if(F.swipeStatus){F.swipeStatus.call(v,Q,E,direction||null,distance||0)}if(E==k){if(F.click&&(l==1||!G)&&(isNaN(distance)||distance==0)){F.click.call(v,Q,Q.target)}}if(E==N){if(F.swipe){F.swipe.call(v,Q,direction,distance)}switch(direction){case B:if(F.swipeLeft){F.swipeLeft.call(v,Q,direction,distance)}break;case I:if(F.swipeRight){F.swipeRight.call(v,Q,direction,distance)}break;case A:if(F.swipeUp){F.swipeUp.call(v,Q,direction,distance)}break;case D:if(F.swipeDown){F.swipeDown.call(v,Q,direction,distance)}break}}}function d(t){l=0;u.x=0;u.y=0;f.x=0;f.y=0;w.x=0;w.y=0}function p(t){t.preventDefault();distance=r();direction=y();if(F.triggerOnTouchEnd){x=N;if((l==F.fingers||!G)&&f.x!=0){if(distance>=F.threshold){n(t,x);d(t)}else{x=k;n(t,x);d(t)}}else{x=k;n(t,x);d(t)}}else{if(x==C){x=k;n(t,x);d(t)}}o.removeEventListener(e,g,false);o.removeEventListener(P,p,false)}function g(E){if(x==N||x==k){return}var t=G?E.touches[0]:E;f.x=t.pageX;f.y=t.pageY;direction=y();if(G){l=E.touches.length}x=C;h(E,direction);if(l==F.fingers||!G){distance=r();if(F.swipeStatus){n(E,x,direction,distance)}if(!F.triggerOnTouchEnd){if(distance>=F.threshold){x=N;n(E,x);d(E)}}}else{x=k;n(E,x);d(E)}}function m(Q){var E=G?Q.touches[0]:Q;x=J;if(G){l=Q.touches.length}distance=0;direction=null;if(l==F.fingers||!G){u.x=f.x=E.pageX;u.y=f.y=E.pageY;if(F.swipeStatus){n(Q,x)}}else{d(Q)}o.addEventListener(e,g,false);o.addEventListener(P,p,false)}var o=this;var v=b(this);var c=null;var l=0;var u={x:0,y:0};var f={x:0,y:0};var w={x:0,y:0};try{this.addEventListener(K,m,false);this.addEventListener(j,d)}catch(s){}})}})(jQuery);(function(d,g){var f=d.jQuery||d.Cowboy||(d.Cowboy={}),e;f.throttle=e=function(m,l,a,b){var c,n=0;if(typeof l!=="boolean"){b=a;a=l;l=g}function k(){var p=this,h=+new Date()-n,q=arguments;function i(){n=+new Date();a.apply(p,q)}function j(){c=g}if(b&&!c){i()}c&&clearTimeout(c);if(b===g&&h>m){i()}else{if(l!==true){c=setTimeout(b?j:i,b===g?m-h:m)}}}if(f.guid){k.guid=a.guid=a.guid||f.guid++}return k};f.debounce=function(c,b,a){return a===g?e(c,b,false):e(c,a,b!==false)}})(this);(function(){var b=0;var c=["ms","moz","webkit","o"];for(var a=0;a<c.length&&!window.requestAnimationFrame;++a){window.requestAnimationFrame=window[c[a]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[c[a]+"CancelAnimationFrame"]||window[c[a]+"CancelRequestAnimationFrame"]}if(!window.requestAnimationFrame){window.requestAnimationFrame=function(h,e){var d=new Date().getTime();var f=Math.max(0,16-(d-b));var g=window.setTimeout(function(){h(d+f)},f);b=d+f;return g}}if(!window.cancelAnimationFrame){window.cancelAnimationFrame=function(d){clearTimeout(d)}}}());window.Modernizr=function(ap,ao,an){function H(b){ag.cssText=b}function aa(d,c){return H(ad.join(d+";")+(c||""))}function Y(d,c){return typeof d===c}function W(d,c){return !!~(""+d).indexOf(c)}function U(f,c){for(var h in f){var g=f[h];if(!W(g,"-")&&ag[g]!==an){return c=="pfx"?g:!0}}return !1}function R(g,c,j){for(var i in g){var h=c[g[i]];if(h!==an){return j===!1?g[i]:Y(h,"function")?h.bind(j||c):h}}return !1}function P(g,f,j){var i=g.charAt(0).toUpperCase()+g.slice(1),h=(g+" "+ab.join(i+" ")+i).split(" ");return Y(f,"string")||Y(f,"undefined")?U(h,f):(h=(g+" "+Z.join(i+" ")+i).split(" "),R(h,f,j))}var am="2.6.2",al={},ak=!0,aj=ao.documentElement,ai="modernizr",ah=ao.createElement(ai),ag=ah.style,af,ae={}.toString,ad=" -webkit- -moz- -o- -ms- ".split(" "),ac="Webkit Moz O ms",ab=ac.split(" "),Z=ac.toLowerCase().split(" "),X={},V={},S={},Q=[],O=Q.slice,N,K=function(v,u,t,s){var r,q,p,o,h=ao.createElement("div"),g=ao.body,b=g||ao.createElement("body");if(parseInt(t,10)){while(t--){p=ao.createElement("div"),p.id=s?s[t]:ai+(t+1),h.appendChild(p)}}return r=["&#173;",'<style id="s',ai,'">',v,"</style>"].join(""),h.id=ai,(g?h:b).innerHTML+=r,b.appendChild(h),g||(b.style.background="",b.style.overflow="hidden",o=aj.style.overflow,aj.style.overflow="hidden",aj.appendChild(b)),q=u(h,v),g?h.parentNode.removeChild(h):(b.parentNode.removeChild(b),aj.style.overflow=o),!!q},J={}.hasOwnProperty,I;!Y(J,"undefined")&&!Y(J.call,"undefined")?I=function(d,c){return J.call(d,c)}:I=function(d,c){return c in d&&Y(d.constructor.prototype[c],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(a){var h=this;if(typeof h!="function"){throw new TypeError}var g=O.call(arguments,1),f=function(){if(this instanceof f){var b=function(){};b.prototype=h.prototype;var d=new b,c=h.apply(d,g.concat(O.call(arguments)));return Object(c)===c?c:d}return h.apply(a,g.concat(O.call(arguments)))};return f}),X.csstransforms=function(){return !!P("transform")},X.csstransforms3d=function(){var b=!!P("perspective");return b&&"webkitPerspective" in aj.style&&K("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(a,d){b=a.offsetLeft===9&&a.offsetHeight===3}),b},X.csstransitions=function(){return P("transition")};for(var L in X){I(X,L)&&(N=L.toLowerCase(),al[N]=X[L](),Q.push((al[N]?"":"no-")+N))}return al.addTest=function(e,c){if(typeof e=="object"){for(var f in e){I(e,f)&&al.addTest(f,e[f])}}else{e=e.toLowerCase();if(al[e]!==an){return al}c=typeof c=="function"?c():c,typeof ak!="undefined"&&ak&&(aj.className+=" "+(c?"":"no-")+e),al[e]=c}return al},H(""),ah=af=null,al._version=am,al._prefixes=ad,al._domPrefixes=Z,al._cssomPrefixes=ab,al.testProp=function(b){return U([b])},al.testAllProps=P,al.testStyles=K,al.prefixed=function(e,d,f){return d?P(e,d,f):P(e,"pfx")},aj.className=aj.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(ak?" js "+Q.join(" "):""),al}(this,this.document);(function(a,b){if(typeof define==="function"&&define.amd){define(b)}else{if(typeof exports==="object"){module.exports=b()}else{a.__customEventPolyfill=b()}}}(this,function(){function a(d,f){f=f||{bubbles:false,cancelable:false,detail:undefined};var b;try{b=document.createEvent("CustomEvent");b.initCustomEvent(d,f.bubbles,f.cancelable,f.detail)}catch(c){b=document.createEvent("Event");for(var e in f){b[e]=f[e]}b.initEvent(d,f.bubbles,f.cancelable)}return b}if(typeof window.CustomEvent!=="undefined"){a.prototype=window.CustomEvent.prototype}window.CustomEvent=a}));
/*! jQuery Timepicker Addon - v1.6.3 - 2016-04-20
* http://trentrichardson.com/examples/timepicker
* Copyright (c) 2016 Trent Richardson; Licensed MIT */
;!function(b){"function"==typeof define&&define.amd?define(["jquery","jquery-ui"],b):b(jQuery)}(function($){if($.ui.timepicker=$.ui.timepicker||{},!$.ui.timepicker.version){$.extend($.ui,{timepicker:{version:"1.6.3"}});var Timepicker=function(){this.regional=[],this.regional[""]={currentText:"Now",closeText:"Done",amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"HH:mm",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",microsecText:"Microsecond",timezoneText:"Time Zone",isRTL:!1},this._defaults={showButtonPanel:!0,timeOnly:!1,timeOnlyShowDate:!1,showHour:null,showMinute:null,showSecond:null,showMillisec:null,showMicrosec:null,showTimezone:null,showTime:!0,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,stepMicrosec:1,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,microsecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,microsecMax:999,minDateTime:null,maxDateTime:null,maxTime:null,minTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,microsecGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,altTimeFormat:null,altSeparator:null,altTimeSuffix:null,altRedirectFocus:!0,pickerTimeFormat:null,pickerTimeSuffix:null,showTimepicker:!0,timezoneList:null,addSliderAccess:!1,sliderAccessArgs:null,controlType:"slider",oneLine:!1,defaultValue:null,parse:"strict",afterInject:null},$.extend(this._defaults,this.regional[""])};$.extend(Timepicker.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,microsec_slider:null,timezone_select:null,maxTime:null,minTime:null,hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null,hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,microsecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,microsecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,units:["hour","minute","second","millisec","microsec"],support:{},control:null,setDefaults:function(a){return extendRemove(this._defaults,a||{}),this},_newInst:function($input,opts){var tp_inst=new Timepicker,inlineSettings={},fns={},overrides,i;for(var attrName in this._defaults){if(this._defaults.hasOwnProperty(attrName)){var attrValue=$input.attr("time:"+attrName);if(attrValue){try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}}overrides={beforeShow:function(a,b){return $.isFunction(tp_inst._defaults.evnts.beforeShow)?tp_inst._defaults.evnts.beforeShow.call($input[0],a,b,tp_inst):void 0},onChangeMonthYear:function(a,b,c){$.isFunction(tp_inst._defaults.evnts.onChangeMonthYear)&&tp_inst._defaults.evnts.onChangeMonthYear.call($input[0],a,b,c,tp_inst)},onClose:function(a,b){tp_inst.timeDefined===!0&&""!==$input.val()&&tp_inst._updateDateTime(b),$.isFunction(tp_inst._defaults.evnts.onClose)&&tp_inst._defaults.evnts.onClose.call($input[0],a,b,tp_inst)}};for(i in overrides){overrides.hasOwnProperty(i)&&(fns[i]=opts[i]||this._defaults[i]||null)}tp_inst._defaults=$.extend({},this._defaults,inlineSettings,opts,overrides,{evnts:fns,timepicker:tp_inst}),tp_inst.amNames=$.map(tp_inst._defaults.amNames,function(a){return a.toUpperCase()}),tp_inst.pmNames=$.map(tp_inst._defaults.pmNames,function(a){return a.toUpperCase()}),tp_inst.support=detectSupport(tp_inst._defaults.timeFormat+(tp_inst._defaults.pickerTimeFormat?tp_inst._defaults.pickerTimeFormat:"")+(tp_inst._defaults.altTimeFormat?tp_inst._defaults.altTimeFormat:"")),"string"==typeof tp_inst._defaults.controlType?("slider"===tp_inst._defaults.controlType&&"undefined"==typeof $.ui.slider&&(tp_inst._defaults.controlType="select"),tp_inst.control=tp_inst._controls[tp_inst._defaults.controlType]):tp_inst.control=tp_inst._defaults.controlType;var timezoneList=[-720,-660,-600,-570,-540,-480,-420,-360,-300,-270,-240,-210,-180,-120,-60,0,60,120,180,210,240,270,300,330,345,360,390,420,480,525,540,570,600,630,660,690,720,765,780,840];null!==tp_inst._defaults.timezoneList&&(timezoneList=tp_inst._defaults.timezoneList);var tzl=timezoneList.length,tzi=0,tzv=null;if(tzl>0&&"object"!=typeof timezoneList[0]){for(;tzl>tzi;tzi++){tzv=timezoneList[tzi],timezoneList[tzi]={value:tzv,label:$.timepicker.timezoneOffsetString(tzv,tp_inst.support.iso8601)}}}return tp_inst._defaults.timezoneList=timezoneList,tp_inst.timezone=null!==tp_inst._defaults.timezone?$.timepicker.timezoneOffsetNumber(tp_inst._defaults.timezone):-1*(new Date).getTimezoneOffset(),tp_inst.hour=tp_inst._defaults.hour<tp_inst._defaults.hourMin?tp_inst._defaults.hourMin:tp_inst._defaults.hour>tp_inst._defaults.hourMax?tp_inst._defaults.hourMax:tp_inst._defaults.hour,tp_inst.minute=tp_inst._defaults.minute<tp_inst._defaults.minuteMin?tp_inst._defaults.minuteMin:tp_inst._defaults.minute>tp_inst._defaults.minuteMax?tp_inst._defaults.minuteMax:tp_inst._defaults.minute,tp_inst.second=tp_inst._defaults.second<tp_inst._defaults.secondMin?tp_inst._defaults.secondMin:tp_inst._defaults.second>tp_inst._defaults.secondMax?tp_inst._defaults.secondMax:tp_inst._defaults.second,tp_inst.millisec=tp_inst._defaults.millisec<tp_inst._defaults.millisecMin?tp_inst._defaults.millisecMin:tp_inst._defaults.millisec>tp_inst._defaults.millisecMax?tp_inst._defaults.millisecMax:tp_inst._defaults.millisec,tp_inst.microsec=tp_inst._defaults.microsec<tp_inst._defaults.microsecMin?tp_inst._defaults.microsecMin:tp_inst._defaults.microsec>tp_inst._defaults.microsecMax?tp_inst._defaults.microsecMax:tp_inst._defaults.microsec,tp_inst.ampm="",tp_inst.$input=$input,tp_inst._defaults.altField&&(tp_inst.$altInput=$(tp_inst._defaults.altField),tp_inst._defaults.altRedirectFocus===!0&&tp_inst.$altInput.css({cursor:"pointer"}).focus(function(){$input.trigger("focus")})),(0===tp_inst._defaults.minDate||0===tp_inst._defaults.minDateTime)&&(tp_inst._defaults.minDate=new Date),(0===tp_inst._defaults.maxDate||0===tp_inst._defaults.maxDateTime)&&(tp_inst._defaults.maxDate=new Date),void 0!==tp_inst._defaults.minDate&&tp_inst._defaults.minDate instanceof Date&&(tp_inst._defaults.minDateTime=new Date(tp_inst._defaults.minDate.getTime())),void 0!==tp_inst._defaults.minDateTime&&tp_inst._defaults.minDateTime instanceof Date&&(tp_inst._defaults.minDate=new Date(tp_inst._defaults.minDateTime.getTime())),void 0!==tp_inst._defaults.maxDate&&tp_inst._defaults.maxDate instanceof Date&&(tp_inst._defaults.maxDateTime=new Date(tp_inst._defaults.maxDate.getTime())),void 0!==tp_inst._defaults.maxDateTime&&tp_inst._defaults.maxDateTime instanceof Date&&(tp_inst._defaults.maxDate=new Date(tp_inst._defaults.maxDateTime.getTime())),tp_inst.$input.bind("focus",function(){tp_inst._onFocus()}),tp_inst},_addTimePicker:function(a){var b=$.trim(this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val());this.timeDefined=this._parseTime(b),this._limitMinMaxDateTime(a,!1),this._injectTimePicker(),this._afterInject()},_parseTime:function(a,b){if(this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),b||!this._defaults.timeOnly){var c=$.datepicker._get(this.inst,"dateFormat");try{var d=parseDateTimeInternal(c,this._defaults.timeFormat,a,$.datepicker._getFormatConfig(this.inst),this._defaults);if(!d.timeObj){return !1}$.extend(this,d.timeObj)}catch(e){return $.timepicker.log("Error parsing the date/time string: "+e+"\ndate/time string = "+a+"\ntimeFormat = "+this._defaults.timeFormat+"\ndateFormat = "+c),!1}return !0}var f=$.datepicker.parseTime(this._defaults.timeFormat,a,this._defaults);return f?($.extend(this,f),!0):!1},_afterInject:function(){var a=this.inst.settings;$.isFunction(a.afterInject)&&a.afterInject.call(this)},_injectTimePicker:function(){var a=this.inst.dpDiv,b=this.inst.settings,c=this,d="",e="",f=null,g={},h={},i=null,j=0,k=0;if(0===a.find("div.ui-timepicker-div").length&&b.showTimepicker){var l=" ui_tpicker_unit_hide",m='<div class="ui-timepicker-div'+(b.isRTL?" ui-timepicker-rtl":"")+(b.oneLine&&"select"===b.controlType?" ui-timepicker-oneLine":"")+'"><dl><dt class="ui_tpicker_time_label'+(b.showTime?"":l)+'">'+b.timeText+'</dt><dd class="ui_tpicker_time '+(b.showTime?"":l)+'"><input class="ui_tpicker_time_input" '+(b.timeInput?"":"disabled")+"/></dd>";for(j=0,k=this.units.length;k>j;j++){if(d=this.units[j],e=d.substr(0,1).toUpperCase()+d.substr(1),f=null!==b["show"+e]?b["show"+e]:this.support[d],g[d]=parseInt(b[d+"Max"]-(b[d+"Max"]-b[d+"Min"])%b["step"+e],10),h[d]=0,m+='<dt class="ui_tpicker_'+d+"_label"+(f?"":l)+'">'+b[d+"Text"]+'</dt><dd class="ui_tpicker_'+d+(f?"":l)+'"><div class="ui_tpicker_'+d+"_slider"+(f?"":l)+'"></div>',f&&b[d+"Grid"]>0){if(m+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>',"hour"===d){for(var n=b[d+"Min"];n<=g[d];n+=parseInt(b[d+"Grid"],10)){h[d]++;var o=$.datepicker.formatTime(this.support.ampm?"hht":"HH",{hour:n},b);m+='<td data-for="'+d+'">'+o+"</td>"}}else{for(var p=b[d+"Min"];p<=g[d];p+=parseInt(b[d+"Grid"],10)){h[d]++,m+='<td data-for="'+d+'">'+(10>p?"0":"")+p+"</td>"}}m+="</tr></table></div>"}m+="</dd>"}var q=null!==b.showTimezone?b.showTimezone:this.support.timezone;m+='<dt class="ui_tpicker_timezone_label'+(q?"":l)+'">'+b.timezoneText+"</dt>",m+='<dd class="ui_tpicker_timezone'+(q?"":l)+'"></dd>',m+="</dl></div>";var r=$(m);for(b.timeOnly===!0&&(r.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+b.timeOnlyTitle+"</div></div>"),a.find(".ui-datepicker-header, .ui-datepicker-calendar").hide()),j=0,k=c.units.length;k>j;j++){d=c.units[j],e=d.substr(0,1).toUpperCase()+d.substr(1),f=null!==b["show"+e]?b["show"+e]:this.support[d],c[d+"_slider"]=c.control.create(c,r.find(".ui_tpicker_"+d+"_slider"),d,c[d],b[d+"Min"],g[d],b["step"+e]),f&&b[d+"Grid"]>0&&(i=100*h[d]*b[d+"Grid"]/(g[d]-b[d+"Min"]),r.find(".ui_tpicker_"+d+" table").css({width:i+"%",marginLeft:b.isRTL?"0":i/(-2*h[d])+"%",marginRight:b.isRTL?i/(-2*h[d])+"%":"0",borderCollapse:"collapse"}).find("td").click(function(a){var b=$(this),e=b.html(),f=parseInt(e.replace(/[^0-9]/g),10),g=e.replace(/[^apm]/gi),h=b.data("for");"hour"===h&&(-1!==g.indexOf("p")&&12>f?f+=12:-1!==g.indexOf("a")&&12===f&&(f=0)),c.control.value(c,c[h+"_slider"],d,f),c._onTimeChange(),c._onSelectHandler()}).css({cursor:"pointer",width:100/h[d]+"%",textAlign:"center",overflow:"hidden"}))}if(this.timezone_select=r.find(".ui_tpicker_timezone").append("<select></select>").find("select"),$.fn.append.apply(this.timezone_select,$.map(b.timezoneList,function(a,b){return $("<option />").val("object"==typeof a?a.value:a).text("object"==typeof a?a.label:a)})),"undefined"!=typeof this.timezone&&null!==this.timezone&&""!==this.timezone){var s=-1*new Date(this.inst.selectedYear,this.inst.selectedMonth,this.inst.selectedDay,12).getTimezoneOffset();s===this.timezone?selectLocalTimezone(c):this.timezone_select.val(this.timezone)}else{"undefined"!=typeof this.hour&&null!==this.hour&&""!==this.hour?this.timezone_select.val(b.timezone):selectLocalTimezone(c)}this.timezone_select.change(function(){c._onTimeChange(),c._onSelectHandler(),c._afterInject()});var t=a.find(".ui-datepicker-buttonpane");if(t.length?t.before(r):a.append(r),this.$timeObj=r.find(".ui_tpicker_time_input"),this.$timeObj.change(function(){var a=c.inst.settings.timeFormat,b=$.datepicker.parseTime(a,this.value),d=new Date;b?(d.setHours(b.hour),d.setMinutes(b.minute),d.setSeconds(b.second),$.datepicker._setTime(c.inst,d)):(this.value=c.formattedTime,this.blur())}),null!==this.inst){var u=this.timeDefined;this._onTimeChange(),this.timeDefined=u}if(this._defaults.addSliderAccess){var v=this._defaults.sliderAccessArgs,w=this._defaults.isRTL;v.isRTL=w,setTimeout(function(){if(0===r.find(".ui-slider-access").length){r.find(".ui-slider:visible").sliderAccess(v);var a=r.find(".ui-slider-access:eq(0)").outerWidth(!0);a&&r.find("table:visible").each(function(){var b=$(this),c=b.outerWidth(),d=b.css(w?"marginRight":"marginLeft").toString().replace("%",""),e=c-a,f=d*e/c+"%",g={width:e,marginRight:0,marginLeft:0};g[w?"marginRight":"marginLeft"]=f,b.css(g)})}},10)}c._limitMinMaxDateTime(this.inst,!0)}},_limitMinMaxDateTime:function(a,b){var c=this._defaults,d=new Date(a.selectedYear,a.selectedMonth,a.selectedDay);if(this._defaults.showTimepicker){if(null!==$.datepicker._get(a,"minDateTime")&&void 0!==$.datepicker._get(a,"minDateTime")&&d){var e=$.datepicker._get(a,"minDateTime"),f=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0);(null===this.hourMinOriginal||null===this.minuteMinOriginal||null===this.secondMinOriginal||null===this.millisecMinOriginal||null===this.microsecMinOriginal)&&(this.hourMinOriginal=c.hourMin,this.minuteMinOriginal=c.minuteMin,this.secondMinOriginal=c.secondMin,this.millisecMinOriginal=c.millisecMin,this.microsecMinOriginal=c.microsecMin),a.settings.timeOnly||f.getTime()===d.getTime()?(this._defaults.hourMin=e.getHours(),this.hour<=this._defaults.hourMin?(this.hour=this._defaults.hourMin,this._defaults.minuteMin=e.getMinutes(),this.minute<=this._defaults.minuteMin?(this.minute=this._defaults.minuteMin,this._defaults.secondMin=e.getSeconds(),this.second<=this._defaults.secondMin?(this.second=this._defaults.secondMin,this._defaults.millisecMin=e.getMilliseconds(),this.millisec<=this._defaults.millisecMin?(this.millisec=this._defaults.millisecMin,this._defaults.microsecMin=e.getMicroseconds()):(this.microsec<this._defaults.microsecMin&&(this.microsec=this._defaults.microsecMin),this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)):(this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal,this._defaults.microsecMin=this.microsecMinOriginal)}if(null!==$.datepicker._get(a,"maxDateTime")&&void 0!==$.datepicker._get(a,"maxDateTime")&&d){var g=$.datepicker._get(a,"maxDateTime"),h=new Date(g.getFullYear(),g.getMonth(),g.getDate(),0,0,0,0);(null===this.hourMaxOriginal||null===this.minuteMaxOriginal||null===this.secondMaxOriginal||null===this.millisecMaxOriginal)&&(this.hourMaxOriginal=c.hourMax,this.minuteMaxOriginal=c.minuteMax,this.secondMaxOriginal=c.secondMax,this.millisecMaxOriginal=c.millisecMax,this.microsecMaxOriginal=c.microsecMax),a.settings.timeOnly||h.getTime()===d.getTime()?(this._defaults.hourMax=g.getHours(),this.hour>=this._defaults.hourMax?(this.hour=this._defaults.hourMax,this._defaults.minuteMax=g.getMinutes(),this.minute>=this._defaults.minuteMax?(this.minute=this._defaults.minuteMax,this._defaults.secondMax=g.getSeconds(),this.second>=this._defaults.secondMax?(this.second=this._defaults.secondMax,this._defaults.millisecMax=g.getMilliseconds(),this.millisec>=this._defaults.millisecMax?(this.millisec=this._defaults.millisecMax,this._defaults.microsecMax=g.getMicroseconds()):(this.microsec>this._defaults.microsecMax&&(this.microsec=this._defaults.microsecMax),this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)):(this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal,this._defaults.microsecMax=this.microsecMaxOriginal)}if(null!==a.settings.minTime){var i=new Date("01/01/1970 "+a.settings.minTime);this.hour<i.getHours()?(this.hour=this._defaults.hourMin=i.getHours(),this.minute=this._defaults.minuteMin=i.getMinutes()):this.hour===i.getHours()&&this.minute<i.getMinutes()?this.minute=this._defaults.minuteMin=i.getMinutes():this._defaults.hourMin<i.getHours()?(this._defaults.hourMin=i.getHours(),this._defaults.minuteMin=i.getMinutes()):this._defaults.hourMin===i.getHours()===this.hour&&this._defaults.minuteMin<i.getMinutes()?this._defaults.minuteMin=i.getMinutes():this._defaults.minuteMin=0}if(null!==a.settings.maxTime){var j=new Date("01/01/1970 "+a.settings.maxTime);this.hour>j.getHours()?(this.hour=this._defaults.hourMax=j.getHours(),this.minute=this._defaults.minuteMax=j.getMinutes()):this.hour===j.getHours()&&this.minute>j.getMinutes()?this.minute=this._defaults.minuteMax=j.getMinutes():this._defaults.hourMax>j.getHours()?(this._defaults.hourMax=j.getHours(),this._defaults.minuteMax=j.getMinutes()):this._defaults.hourMax===j.getHours()===this.hour&&this._defaults.minuteMax>j.getMinutes()?this._defaults.minuteMax=j.getMinutes():this._defaults.minuteMax=59}if(void 0!==b&&b===!0){var k=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),l=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),m=parseInt(this._defaults.secondMax-(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),n=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10),o=parseInt(this._defaults.microsecMax-(this._defaults.microsecMax-this._defaults.microsecMin)%this._defaults.stepMicrosec,10);this.hour_slider&&(this.control.options(this,this.hour_slider,"hour",{min:this._defaults.hourMin,max:k,step:this._defaults.stepHour}),this.control.value(this,this.hour_slider,"hour",this.hour-this.hour%this._defaults.stepHour)),this.minute_slider&&(this.control.options(this,this.minute_slider,"minute",{min:this._defaults.minuteMin,max:l,step:this._defaults.stepMinute}),this.control.value(this,this.minute_slider,"minute",this.minute-this.minute%this._defaults.stepMinute)),this.second_slider&&(this.control.options(this,this.second_slider,"second",{min:this._defaults.secondMin,max:m,step:this._defaults.stepSecond}),this.control.value(this,this.second_slider,"second",this.second-this.second%this._defaults.stepSecond)),this.millisec_slider&&(this.control.options(this,this.millisec_slider,"millisec",{min:this._defaults.millisecMin,max:n,step:this._defaults.stepMillisec}),this.control.value(this,this.millisec_slider,"millisec",this.millisec-this.millisec%this._defaults.stepMillisec)),this.microsec_slider&&(this.control.options(this,this.microsec_slider,"microsec",{min:this._defaults.microsecMin,max:o,step:this._defaults.stepMicrosec}),this.control.value(this,this.microsec_slider,"microsec",this.microsec-this.microsec%this._defaults.stepMicrosec))}}},_onTimeChange:function(){if(this._defaults.showTimepicker){var a=this.hour_slider?this.control.value(this,this.hour_slider,"hour"):!1,b=this.minute_slider?this.control.value(this,this.minute_slider,"minute"):!1,c=this.second_slider?this.control.value(this,this.second_slider,"second"):!1,d=this.millisec_slider?this.control.value(this,this.millisec_slider,"millisec"):!1,e=this.microsec_slider?this.control.value(this,this.microsec_slider,"microsec"):!1,f=this.timezone_select?this.timezone_select.val():!1,g=this._defaults,h=g.pickerTimeFormat||g.timeFormat,i=g.pickerTimeSuffix||g.timeSuffix;"object"==typeof a&&(a=!1),"object"==typeof b&&(b=!1),"object"==typeof c&&(c=!1),"object"==typeof d&&(d=!1),"object"==typeof e&&(e=!1),"object"==typeof f&&(f=!1),a!==!1&&(a=parseInt(a,10)),b!==!1&&(b=parseInt(b,10)),c!==!1&&(c=parseInt(c,10)),d!==!1&&(d=parseInt(d,10)),e!==!1&&(e=parseInt(e,10)),f!==!1&&(f=f.toString());var j=g[12>a?"amNames":"pmNames"][0],k=a!==parseInt(this.hour,10)||b!==parseInt(this.minute,10)||c!==parseInt(this.second,10)||d!==parseInt(this.millisec,10)||e!==parseInt(this.microsec,10)||this.ampm.length>0&&12>a!=(-1!==$.inArray(this.ampm.toUpperCase(),this.amNames))||null!==this.timezone&&f!==this.timezone.toString();if(k&&(a!==!1&&(this.hour=a),b!==!1&&(this.minute=b),c!==!1&&(this.second=c),d!==!1&&(this.millisec=d),e!==!1&&(this.microsec=e),f!==!1&&(this.timezone=f),this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),this._limitMinMaxDateTime(this.inst,!0)),this.support.ampm&&(this.ampm=j),this.formattedTime=$.datepicker.formatTime(g.timeFormat,this,g),this.$timeObj&&(this.$timeObj.val(h===g.timeFormat?this.formattedTime+i:$.datepicker.formatTime(h,this,g)+i),this.$timeObj[0].setSelectionRange)){var l=this.$timeObj[0].selectionStart,m=this.$timeObj[0].selectionEnd;this.$timeObj[0].setSelectionRange(l,m)}this.timeDefined=!0,k&&this._updateDateTime()}},_onSelectHandler:function(){var a=this._defaults.onSelect||this.inst.settings.onSelect,b=this.$input?this.$input[0]:null;a&&b&&a.apply(b,[this.formattedDateTime,this])},_updateDateTime:function(a){a=this.inst||a;var b=a.currentYear>0?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(a.selectedYear,a.selectedMonth,a.selectedDay),c=$.datepicker._daylightSavingAdjust(b),d=$.datepicker._get(a,"dateFormat"),e=$.datepicker._getFormatConfig(a),f=null!==c&&this.timeDefined;this.formattedDate=$.datepicker.formatDate(d,null===c?new Date:c,e);var g=this.formattedDate;if(""===a.lastVal&&(a.currentYear=a.selectedYear,a.currentMonth=a.selectedMonth,a.currentDay=a.selectedDay),this._defaults.timeOnly===!0&&this._defaults.timeOnlyShowDate===!1?g=this.formattedTime:(this._defaults.timeOnly!==!0&&(this._defaults.alwaysSetTime||f)||this._defaults.timeOnly===!0&&this._defaults.timeOnlyShowDate===!0)&&(g+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix),this.formattedDateTime=g,this._defaults.showTimepicker){if(this.$altInput&&this._defaults.timeOnly===!1&&this._defaults.altFieldTimeOnly===!0){this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate)}else{if(this.$altInput){this.$input.val(g);var h="",i=null!==this._defaults.altSeparator?this._defaults.altSeparator:this._defaults.separator,j=null!==this._defaults.altTimeSuffix?this._defaults.altTimeSuffix:this._defaults.timeSuffix;this._defaults.timeOnly||(h=this._defaults.altFormat?$.datepicker.formatDate(this._defaults.altFormat,null===c?new Date:c,e):this.formattedDate,h&&(h+=i)),h+=null!==this._defaults.altTimeFormat?$.datepicker.formatTime(this._defaults.altTimeFormat,this,this._defaults)+j:this.formattedTime+j,this.$altInput.val(h)}else{this.$input.val(g)}}}else{this.$input.val(this.formattedDate)}this.$input.trigger("change")},_onFocus:function(){if(!this.$input.val()&&this._defaults.defaultValue){this.$input.val(this._defaults.defaultValue);var a=$.datepicker._getInst(this.$input.get(0)),b=$.datepicker._get(a,"timepicker");if(b&&b._defaults.timeOnly&&a.input.val()!==a.lastVal){try{$.datepicker._updateDatepicker(a)}catch(c){$.timepicker.log(c)}}}},_controls:{slider:{create:function(a,b,c,d,e,f,g){var h=a._defaults.isRTL;return b.prop("slide",null).slider({orientation:"horizontal",value:h?-1*d:d,min:h?-1*f:e,max:h?-1*e:f,step:g,slide:function(b,d){a.control.value(a,$(this),c,h?-1*d.value:d.value),a._onTimeChange()},stop:function(b,c){a._onSelectHandler()}})},options:function(a,b,c,d,e){if(a._defaults.isRTL){if("string"==typeof d){return"min"===d||"max"===d?void 0!==e?b.slider(d,-1*e):Math.abs(b.slider(d)):b.slider(d)}var f=d.min,g=d.max;return d.min=d.max=null,void 0!==f&&(d.max=-1*f),void 0!==g&&(d.min=-1*g),b.slider(d)}return"string"==typeof d&&void 0!==e?b.slider(d,e):b.slider(d)},value:function(a,b,c,d){return a._defaults.isRTL?void 0!==d?b.slider("value",-1*d):Math.abs(b.slider("value")):void 0!==d?b.slider("value",d):b.slider("value")}},select:{create:function(a,b,c,d,e,f,g){for(var h='<select class="ui-timepicker-select ui-state-default ui-corner-all" data-unit="'+c+'" data-min="'+e+'" data-max="'+f+'" data-step="'+g+'">',i=a._defaults.pickerTimeFormat||a._defaults.timeFormat,j=e;f>=j;j+=g){h+='<option value="'+j+'"'+(j===d?" selected":"")+">",h+="hour"===c?$.datepicker.formatTime($.trim(i.replace(/[^ht ]/gi,"")),{hour:j},a._defaults):"millisec"===c||"microsec"===c||j>=10?j:"0"+j.toString(),h+="</option>"}return h+="</select>",b.children("select").remove(),$(h).appendTo(b).change(function(b){a._onTimeChange(),a._onSelectHandler(),a._afterInject()}),b},options:function(a,b,c,d,e){var f={},g=b.children("select");if("string"==typeof d){if(void 0===e){return g.data(d)}f[d]=e}else{f=d}return a.control.create(a,b,g.data("unit"),g.val(),f.min>=0?f.min:g.data("min"),f.max||g.data("max"),f.step||g.data("step"))},value:function(a,b,c,d){var e=b.children("select");return void 0!==d?e.val(d):e.val()}}}}),$.fn.extend({timepicker:function(a){a=a||{};var b=Array.prototype.slice.call(arguments);return"object"==typeof a&&(b[0]=$.extend(a,{timeOnly:!0})),$(this).each(function(){$.fn.datetimepicker.apply($(this),b)})},datetimepicker:function(a){a=a||{};var b=arguments;return"string"==typeof a?"getDate"===a||"option"===a&&2===b.length&&"string"==typeof b[1]?$.fn.datepicker.apply($(this[0]),b):this.each(function(){var a=$(this);a.datepicker.apply(a,b)}):this.each(function(){var b=$(this);b.datepicker($.timepicker._newInst(b,a)._defaults)})}}),$.datepicker.parseDateTime=function(a,b,c,d,e){var f=parseDateTimeInternal(a,b,c,d,e);if(f.timeObj){var g=f.timeObj;f.date.setHours(g.hour,g.minute,g.second,g.millisec),f.date.setMicroseconds(g.microsec)}return f.date},$.datepicker.parseTime=function(a,b,c){var d=extendRemove(extendRemove({},$.timepicker._defaults),c||{}),e=(-1!==a.replace(/\'.*?\'/g,"").indexOf("Z"),function(a,b,c){var d,e=function(a,b){var c=[];return a&&$.merge(c,a),b&&$.merge(c,b),c=$.map(c,function(a){return a.replace(/[.*+?|()\[\]{}\\]/g,"\\$&")}),"("+c.join("|")+")?"},f=function(a){var b=a.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|c{1}|t{1,2}|z|'.*?')/g),c={h:-1,m:-1,s:-1,l:-1,c:-1,t:-1,z:-1};if(b){for(var d=0;d<b.length;d++){-1===c[b[d].toString().charAt(0)]&&(c[b[d].toString().charAt(0)]=d+1)}}return c},g="^"+a.toString().replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,function(a){var b=a.length;switch(a.charAt(0).toLowerCase()){case"h":return 1===b?"(\\d?\\d)":"(\\d{"+b+"})";case"m":return 1===b?"(\\d?\\d)":"(\\d{"+b+"})";case"s":return 1===b?"(\\d?\\d)":"(\\d{"+b+"})";case"l":return"(\\d?\\d?\\d)";case"c":return"(\\d?\\d?\\d)";case"z":return"(z|[-+]\\d\\d:?\\d\\d|\\S+)?";case"t":return e(c.amNames,c.pmNames);default:return"("+a.replace(/\'/g,"").replace(/(\.|\$|\^|\\|\/|\(|\)|\[|\]|\?|\+|\*)/g,function(a){return"\\"+a})+")?"}}).replace(/\s/g,"\\s?")+c.timeSuffix+"$",h=f(a),i="";d=b.match(new RegExp(g,"i"));var j={hour:0,minute:0,second:0,millisec:0,microsec:0};return d?(-1!==h.t&&(void 0===d[h.t]||0===d[h.t].length?(i="",j.ampm=""):(i=-1!==$.inArray(d[h.t].toUpperCase(),$.map(c.amNames,function(a,b){return a.toUpperCase()}))?"AM":"PM",j.ampm=c["AM"===i?"amNames":"pmNames"][0])),-1!==h.h&&("AM"===i&&"12"===d[h.h]?j.hour=0:"PM"===i&&"12"!==d[h.h]?j.hour=parseInt(d[h.h],10)+12:j.hour=Number(d[h.h])),-1!==h.m&&(j.minute=Number(d[h.m])),-1!==h.s&&(j.second=Number(d[h.s])),-1!==h.l&&(j.millisec=Number(d[h.l])),-1!==h.c&&(j.microsec=Number(d[h.c])),-1!==h.z&&void 0!==d[h.z]&&(j.timezone=$.timepicker.timezoneOffsetNumber(d[h.z])),j):!1}),f=function(a,b,c){try{var d=new Date("2012-01-01 "+b);if(isNaN(d.getTime())&&(d=new Date("2012-01-01T"+b),isNaN(d.getTime())&&(d=new Date("01/01/2012 "+b),isNaN(d.getTime())))){throw"Unable to parse time with native Date: "+b}return{hour:d.getHours(),minute:d.getMinutes(),second:d.getSeconds(),millisec:d.getMilliseconds(),microsec:d.getMicroseconds(),timezone:-1*d.getTimezoneOffset()}}catch(f){try{return e(a,b,c)}catch(g){$.timepicker.log("Unable to parse \ntimeString: "+b+"\ntimeFormat: "+a)}}return !1};return"function"==typeof d.parse?d.parse(a,b,d):"loose"===d.parse?f(a,b,d):e(a,b,d)},$.datepicker.formatTime=function(a,b,c){c=c||{},c=$.extend({},$.timepicker._defaults,c),b=$.extend({hour:0,minute:0,second:0,millisec:0,microsec:0,timezone:null},b);var d=a,e=c.amNames[0],f=parseInt(b.hour,10);return f>11&&(e=c.pmNames[0]),d=d.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g,function(a){switch(a){case"HH":return("0"+f).slice(-2);case"H":return f;case"hh":return("0"+convert24to12(f)).slice(-2);case"h":return convert24to12(f);case"mm":return("0"+b.minute).slice(-2);case"m":return b.minute;case"ss":return("0"+b.second).slice(-2);case"s":return b.second;case"l":return("00"+b.millisec).slice(-3);case"c":return("00"+b.microsec).slice(-3);case"z":return $.timepicker.timezoneOffsetString(null===b.timezone?c.timezone:b.timezone,!1);case"Z":return $.timepicker.timezoneOffsetString(null===b.timezone?c.timezone:b.timezone,!0);case"T":return e.charAt(0).toUpperCase();case"TT":return e.toUpperCase();case"t":return e.charAt(0).toLowerCase();case"tt":return e.toLowerCase();default:return a.replace(/'/g,"")}})},$.datepicker._base_selectDate=$.datepicker._selectDate,$.datepicker._selectDate=function(a,b){var c,d=this._getInst($(a)[0]),e=this._get(d,"timepicker");e&&d.settings.showTimepicker?(e._limitMinMaxDateTime(d,!0),c=d.inline,d.inline=d.stay_open=!0,this._base_selectDate(a,b),d.inline=c,d.stay_open=!1,this._notifyChange(d),this._updateDatepicker(d)):this._base_selectDate(a,b)},$.datepicker._base_updateDatepicker=$.datepicker._updateDatepicker,$.datepicker._updateDatepicker=function(a){var b=a.input[0];if(!($.datepicker._curInst&&$.datepicker._curInst!==a&&$.datepicker._datepickerShowing&&$.datepicker._lastInput!==b||"boolean"==typeof a.stay_open&&a.stay_open!==!1)){this._base_updateDatepicker(a);var c=this._get(a,"timepicker");c&&c._addTimePicker(a)}},$.datepicker._base_doKeyPress=$.datepicker._doKeyPress,$.datepicker._doKeyPress=function(a){var b=$.datepicker._getInst(a.target),c=$.datepicker._get(b,"timepicker");if(c&&$.datepicker._get(b,"constrainInput")){var d=c.support.ampm,e=null!==c._defaults.showTimezone?c._defaults.showTimezone:c.support.timezone,f=$.datepicker._possibleChars($.datepicker._get(b,"dateFormat")),g=c._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,d?"APM":"").replace(/Tt/g,d?"AaPpMm":"").replace(/tT/g,d?"AaPpMm":"").replace(/T/g,d?"AP":"").replace(/tt/g,d?"apm":"").replace(/t/g,d?"ap":"")+" "+c._defaults.separator+c._defaults.timeSuffix+(e?c._defaults.timezoneList.join(""):"")+c._defaults.amNames.join("")+c._defaults.pmNames.join("")+f,h=String.fromCharCode(void 0===a.charCode?a.keyCode:a.charCode);return a.ctrlKey||" ">h||!f||g.indexOf(h)>-1}return $.datepicker._base_doKeyPress(a)},$.datepicker._base_updateAlternate=$.datepicker._updateAlternate,$.datepicker._updateAlternate=function(a){var b=this._get(a,"timepicker");if(b){var c=b._defaults.altField;if(c){var d=(b._defaults.altFormat||b._defaults.dateFormat,this._getDate(a)),e=$.datepicker._getFormatConfig(a),f="",g=b._defaults.altSeparator?b._defaults.altSeparator:b._defaults.separator,h=b._defaults.altTimeSuffix?b._defaults.altTimeSuffix:b._defaults.timeSuffix,i=null!==b._defaults.altTimeFormat?b._defaults.altTimeFormat:b._defaults.timeFormat;f+=$.datepicker.formatTime(i,b,b._defaults)+h,b._defaults.timeOnly||b._defaults.altFieldTimeOnly||null===d||(f=b._defaults.altFormat?$.datepicker.formatDate(b._defaults.altFormat,d,e)+g+f:b.formattedDate+g+f),$(c).val(a.input.val()?f:"")}}else{$.datepicker._base_updateAlternate(a)}},$.datepicker._base_doKeyUp=$.datepicker._doKeyUp,$.datepicker._doKeyUp=function(a){var b=$.datepicker._getInst(a.target),c=$.datepicker._get(b,"timepicker");if(c&&c._defaults.timeOnly&&b.input.val()!==b.lastVal){try{$.datepicker._updateDatepicker(b)}catch(d){$.timepicker.log(d)}}return $.datepicker._base_doKeyUp(a)},$.datepicker._base_gotoToday=$.datepicker._gotoToday,$.datepicker._gotoToday=function(a){var b=this._getInst($(a)[0]);this._base_gotoToday(a);var c=this._get(b,"timepicker");if(c){var d=$.timepicker.timezoneOffsetNumber(c.timezone),e=new Date;e.setMinutes(e.getMinutes()+e.getTimezoneOffset()+parseInt(d,10)),this._setTime(b,e),this._setDate(b,e),c._onSelectHandler()}},$.datepicker._disableTimepickerDatepicker=function(a){var b=this._getInst(a);if(b){var c=this._get(b,"timepicker");$(a).datepicker("getDate"),c&&(b.settings.showTimepicker=!1,c._defaults.showTimepicker=!1,c._updateDateTime(b))}},$.datepicker._enableTimepickerDatepicker=function(a){var b=this._getInst(a);if(b){var c=this._get(b,"timepicker");$(a).datepicker("getDate"),c&&(b.settings.showTimepicker=!0,c._defaults.showTimepicker=!0,c._addTimePicker(b),c._updateDateTime(b))}},$.datepicker._setTime=function(a,b){var c=this._get(a,"timepicker");if(c){var d=c._defaults;c.hour=b?b.getHours():d.hour,c.minute=b?b.getMinutes():d.minute,c.second=b?b.getSeconds():d.second,c.millisec=b?b.getMilliseconds():d.millisec,c.microsec=b?b.getMicroseconds():d.microsec,c._limitMinMaxDateTime(a,!0),c._onTimeChange(),c._updateDateTime(a)}},$.datepicker._setTimeDatepicker=function(a,b,c){var d=this._getInst(a);if(d){var e=this._get(d,"timepicker");if(e){this._setDateFromField(d);var f;b&&("string"==typeof b?(e._parseTime(b,c),f=new Date,f.setHours(e.hour,e.minute,e.second,e.millisec),f.setMicroseconds(e.microsec)):(f=new Date(b.getTime()),f.setMicroseconds(b.getMicroseconds())),"Invalid Date"===f.toString()&&(f=void 0),this._setTime(d,f))}}},$.datepicker._base_setDateDatepicker=$.datepicker._setDateDatepicker,$.datepicker._setDateDatepicker=function(a,b){var c=this._getInst(a),d=b;if(c){"string"==typeof b&&(d=new Date(b),d.getTime()||(this._base_setDateDatepicker.apply(this,arguments),d=$(a).datepicker("getDate")));var e,f=this._get(c,"timepicker");d instanceof Date?(e=new Date(d.getTime()),e.setMicroseconds(d.getMicroseconds())):e=d,f&&e&&(f.support.timezone||null!==f._defaults.timezone||(f.timezone=-1*e.getTimezoneOffset()),d=$.timepicker.timezoneAdjust(d,$.timepicker.timezoneOffsetString(-d.getTimezoneOffset()),f.timezone),e=$.timepicker.timezoneAdjust(e,$.timepicker.timezoneOffsetString(-e.getTimezoneOffset()),f.timezone)),this._updateDatepicker(c),this._base_setDateDatepicker.apply(this,arguments),this._setTimeDatepicker(a,e,!0)}},$.datepicker._base_getDateDatepicker=$.datepicker._getDateDatepicker,$.datepicker._getDateDatepicker=function(a,b){var c=this._getInst(a);if(c){var d=this._get(c,"timepicker");if(d){void 0===c.lastVal&&this._setDateFromField(c,b);var e=this._getDate(c),f=null;return f=d.$altInput&&d._defaults.altFieldTimeOnly?d.$input.val()+" "+d.$altInput.val():"INPUT"!==d.$input.get(0).tagName&&d.$altInput?d.$altInput.val():d.$input.val(),e&&d._parseTime(f,!c.settings.timeOnly)&&(e.setHours(d.hour,d.minute,d.second,d.millisec),e.setMicroseconds(d.microsec),null!=d.timezone&&(d.support.timezone||null!==d._defaults.timezone||(d.timezone=-1*e.getTimezoneOffset()),e=$.timepicker.timezoneAdjust(e,d.timezone,$.timepicker.timezoneOffsetString(-e.getTimezoneOffset())))),e}return this._base_getDateDatepicker(a,b)}},$.datepicker._base_parseDate=$.datepicker.parseDate,$.datepicker.parseDate=function(a,b,c){var d;try{d=this._base_parseDate(a,b,c)}catch(e){if(!(e.indexOf(":")>=0)){throw e}d=this._base_parseDate(a,b.substring(0,b.length-(e.length-e.indexOf(":")-2)),c),$.timepicker.log("Error parsing the date string: "+e+"\ndate string = "+b+"\ndate format = "+a)}return d},$.datepicker._base_formatDate=$.datepicker._formatDate,$.datepicker._formatDate=function(a,b,c,d){var e=this._get(a,"timepicker");return e?(e._updateDateTime(a),e.$input.val()):this._base_formatDate(a)},$.datepicker._base_optionDatepicker=$.datepicker._optionDatepicker,$.datepicker._optionDatepicker=function(a,b,c){var d,e=this._getInst(a);if(!e){return null}var f=this._get(e,"timepicker");if(f){var g,h,i,j,k=null,l=null,m=null,n=f._defaults.evnts,o={};if("string"==typeof b){if("minDate"===b||"minDateTime"===b){k=c}else{if("maxDate"===b||"maxDateTime"===b){l=c}else{if("onSelect"===b){m=c}else{if(n.hasOwnProperty(b)){if("undefined"==typeof c){return n[b]}o[b]=c,d={}}}}}}else{if("object"==typeof b){b.minDate?k=b.minDate:b.minDateTime?k=b.minDateTime:b.maxDate?l=b.maxDate:b.maxDateTime&&(l=b.maxDateTime);for(g in n){n.hasOwnProperty(g)&&b[g]&&(o[g]=b[g])}}}for(g in o){o.hasOwnProperty(g)&&(n[g]=o[g],d||(d=$.extend({},b)),delete d[g])}if(d&&isEmptyObject(d)){return}if(k?(k=0===k?new Date:new Date(k),f._defaults.minDate=k,f._defaults.minDateTime=k):l?(l=0===l?new Date:new Date(l),f._defaults.maxDate=l,f._defaults.maxDateTime=l):m&&(f._defaults.onSelect=m),k||l){return j=$(a),i=j.datetimepicker("getDate"),h=this._base_optionDatepicker.call($.datepicker,a,d||b,c),j.datetimepicker("setDate",i),h}}return void 0===c?this._base_optionDatepicker.call($.datepicker,a,b):this._base_optionDatepicker.call($.datepicker,a,d||b,c)};var isEmptyObject=function(a){var b;for(b in a){if(a.hasOwnProperty(b)){return !1}}return !0},extendRemove=function(a,b){$.extend(a,b);for(var c in b){(null===b[c]||void 0===b[c])&&(a[c]=b[c])}return a},detectSupport=function(a){var b=a.replace(/'.*?'/g,"").toLowerCase(),c=function(a,b){return -1!==a.indexOf(b)?!0:!1};return{hour:c(b,"h"),minute:c(b,"m"),second:c(b,"s"),millisec:c(b,"l"),microsec:c(b,"c"),timezone:c(b,"z"),ampm:c(b,"t")&&c(a,"h"),iso8601:c(a,"Z")}},convert24to12=function(a){return a%=12,0===a&&(a=12),String(a)},computeEffectiveSetting=function(a,b){return a&&a[b]?a[b]:$.timepicker._defaults[b]},splitDateTime=function(a,b){var c=computeEffectiveSetting(b,"separator"),d=computeEffectiveSetting(b,"timeFormat"),e=d.split(c),f=e.length,g=a.split(c),h=g.length;return h>1?{dateString:g.splice(0,h-f).join(c),timeString:g.splice(0,f).join(c)}:{dateString:a,timeString:""}},parseDateTimeInternal=function(a,b,c,d,e){var f,g,h;if(g=splitDateTime(c,e),f=$.datepicker._base_parseDate(a,g.dateString,d),""===g.timeString){return{date:f}}if(h=$.datepicker.parseTime(b,g.timeString,e),!h){throw"Wrong time format"}return{date:f,timeObj:h}},selectLocalTimezone=function(a,b){if(a&&a.timezone_select){var c=b||new Date;a.timezone_select.val(-c.getTimezoneOffset())}};$.timepicker=new Timepicker,$.timepicker.timezoneOffsetString=function(a,b){if(isNaN(a)||a>840||-720>a){return a}var c=a,d=c%60,e=(c-d)/60,f=b?":":"",g=(c>=0?"+":"-")+("0"+Math.abs(e)).slice(-2)+f+("0"+Math.abs(d)).slice(-2);return"+00:00"===g?"Z":g},$.timepicker.timezoneOffsetNumber=function(a){var b=a.toString().replace(":","");return"Z"===b.toUpperCase()?0:/^(\-|\+)\d{4}$/.test(b)?("-"===b.substr(0,1)?-1:1)*(60*parseInt(b.substr(1,2),10)+parseInt(b.substr(3,2),10)):parseInt(a,10)},$.timepicker.timezoneAdjust=function(a,b,c){var d=$.timepicker.timezoneOffsetNumber(b),e=$.timepicker.timezoneOffsetNumber(c);return isNaN(e)||a.setMinutes(a.getMinutes()+-d- -e),a},$.timepicker.timeRange=function(a,b,c){return $.timepicker.handleRange("timepicker",a,b,c)},$.timepicker.datetimeRange=function(a,b,c){$.timepicker.handleRange("datetimepicker",a,b,c)},$.timepicker.dateRange=function(a,b,c){$.timepicker.handleRange("datepicker",a,b,c)},$.timepicker.handleRange=function(a,b,c,d){function e(e,f){var g=b[a]("getDate"),h=c[a]("getDate"),i=e[a]("getDate");if(null!==g){var j=new Date(g.getTime()),k=new Date(g.getTime());j.setMilliseconds(j.getMilliseconds()+d.minInterval),k.setMilliseconds(k.getMilliseconds()+d.maxInterval),d.minInterval>0&&j>h?c[a]("setDate",j):d.maxInterval>0&&h>k?c[a]("setDate",k):g>h&&f[a]("setDate",i)}}function f(b,c,e){if(b.val()){var f=b[a].call(b,"getDate");null!==f&&d.minInterval>0&&("minDate"===e&&f.setMilliseconds(f.getMilliseconds()+d.minInterval),"maxDate"===e&&f.setMilliseconds(f.getMilliseconds()-d.minInterval)),f.getTime&&c[a].call(c,"option",e,f)}}d=$.extend({},{minInterval:0,maxInterval:0,start:{},end:{}},d);var g=!1;return"timepicker"===a&&(g=!0,a="datetimepicker"),$.fn[a].call(b,$.extend({timeOnly:g,onClose:function(a,b){e($(this),c)},onSelect:function(a){f($(this),c,"minDate")}},d,d.start)),$.fn[a].call(c,$.extend({timeOnly:g,onClose:function(a,c){e($(this),b)},onSelect:function(a){f($(this),b,"maxDate")}},d,d.end)),e(b,c),f(b,c,"minDate"),f(c,b,"maxDate"),$([b.get(0),c.get(0)])},$.timepicker.log=function(){window.console&&window.console.log&&window.console.log.apply&&window.console.log.apply(window.console,Array.prototype.slice.call(arguments))},$.timepicker._util={_extendRemove:extendRemove,_isEmptyObject:isEmptyObject,_convert24to12:convert24to12,_detectSupport:detectSupport,_selectLocalTimezone:selectLocalTimezone,_computeEffectiveSetting:computeEffectiveSetting,_splitDateTime:splitDateTime,_parseDateTimeInternal:parseDateTimeInternal},Date.prototype.getMicroseconds||(Date.prototype.microseconds=0,Date.prototype.getMicroseconds=function(){return this.microseconds},Date.prototype.setMicroseconds=function(a){return this.setMilliseconds(this.getMilliseconds()+Math.floor(a/1000)),this.microseconds=a%1000,this}),$.timepicker.version="1.6.3"}});(function(a){a.widget("ui.tagit",{options:{allowDuplicates:!1,caseSensitive:!0,fieldName:"tags",placeholderText:null,readOnly:!1,removeConfirmation:!1,tagLimit:null,availableTags:[],autocomplete:{},showAutocompleteOnFocus:!1,allowSpaces:!1,singleField:!1,singleFieldDelimiter:",",singleFieldNode:null,animate:!0,tabIndex:null,beforeTagAdded:null,afterTagAdded:null,beforeTagRemoved:null,afterTagRemoved:null,onTagClicked:null,onTagLimitExceeded:null,onTagAdded:null,onTagRemoved:null,tagSource:null},_create:function(){var b=this;this.element.is("input")?(this.tagList=a("<ul></ul>").insertAfter(this.element),this.options.singleField=!0,this.options.singleFieldNode=this.element,this.element.addClass("tagit-hidden-field")):this.tagList=this.element.find("ul, ol").andSelf().last();this.tagInput=a('<input type="text" />').addClass("ui-widget-content");this.options.readOnly&&this.tagInput.attr("disabled","disabled");this.options.tabIndex&&this.tagInput.attr("tabindex",this.options.tabIndex);this.options.placeholderText&&this.tagInput.attr("placeholder",this.options.placeholderText);this.options.autocomplete.source||(this.options.autocomplete.source=function(f,i){var j=f.term.toLowerCase(),k=a.grep(this.options.availableTags,function(c){return 0===c.toLowerCase().indexOf(j)});this.options.allowDuplicates||(k=this._subtractArray(k,this.assignedTags()));i(k)});this.options.showAutocompleteOnFocus&&(this.tagInput.focus(function(c,f){b._showAutocomplete()}),"undefined"===typeof this.options.autocomplete.minLength&&(this.options.autocomplete.minLength=0));a.isFunction(this.options.autocomplete.source)&&(this.options.autocomplete.source=a.proxy(this.options.autocomplete.source,this));a.isFunction(this.options.tagSource)&&(this.options.tagSource=a.proxy(this.options.tagSource,this));this.tagList.addClass("tagit").addClass("ui-widget ui-widget-content ui-corner-all").append(a('<li class="tagit-new"></li>').append(this.tagInput)).click(function(f){var i=a(f.target);i.hasClass("tagit-label")?(i=i.closest(".tagit-choice"),i.hasClass("removed")||b._trigger("onTagClicked",f,{tag:i,tagLabel:b.tagLabel(i)})):b.tagInput.focus()});var h=!1;if(this.options.singleField){if(this.options.singleFieldNode){var g=a(this.options.singleFieldNode),e=g.val().split(this.options.singleFieldDelimiter);g.val("");a.each(e,function(c,f){b.createTag(f,null,!0);h=!0})}else{this.options.singleFieldNode=a('<input type="hidden" style="display:none;" value="" name="'+this.options.fieldName+'" />'),this.tagList.after(this.options.singleFieldNode)}}h||this.tagList.children("li").each(function(){a(this).hasClass("tagit-new")||(b.createTag(a(this).text(),a(this).attr("class"),!0),a(this).remove())});this.tagInput.keydown(function(i){if(i.which==a.ui.keyCode.BACKSPACE&&""===b.tagInput.val()){var f=b._lastTag();!b.options.removeConfirmation||f.hasClass("remove")?b.removeTag(f):b.options.removeConfirmation&&f.addClass("remove ui-state-highlight")}else{b.options.removeConfirmation&&b._lastTag().removeClass("remove ui-state-highlight")}if(i.which===a.ui.keyCode.COMMA&&!1===i.shiftKey||i.which===a.ui.keyCode.ENTER||i.which==a.ui.keyCode.TAB&&""!==b.tagInput.val()||i.which==a.ui.keyCode.SPACE&&!0!==b.options.allowSpaces&&('"'!=a.trim(b.tagInput.val()).replace(/^s*/,"").charAt(0)||'"'==a.trim(b.tagInput.val()).charAt(0)&&'"'==a.trim(b.tagInput.val()).charAt(a.trim(b.tagInput.val()).length-1)&&0!==a.trim(b.tagInput.val()).length-1)){i.which===a.ui.keyCode.ENTER&&""===b.tagInput.val()||i.preventDefault(),b.options.autocomplete.autoFocus&&b.tagInput.data("autocomplete-open")||(b.tagInput.autocomplete("close"),b.createTag(b._cleanedInput()))}}).blur(function(c){b.tagInput.data("autocomplete-open")||b.createTag(b._cleanedInput())});if(this.options.availableTags||this.options.tagSource||this.options.autocomplete.source){g={select:function(d,f){b.createTag(f.item.value);return !1}},a.extend(g,this.options.autocomplete),g.source=this.options.tagSource||g.source,this.tagInput.autocomplete(g).bind("autocompleteopen.tagit",function(d,f){b.tagInput.data("autocomplete-open",!0)}).bind("autocompleteclose.tagit",function(d,f){b.tagInput.data("autocomplete-open",!1)}),this.tagInput.autocomplete("widget").addClass("tagit-autocomplete")}},destroy:function(){a.Widget.prototype.destroy.call(this);this.element.unbind(".tagit");this.tagList.unbind(".tagit");this.tagInput.removeData("autocomplete-open");this.tagList.removeClass("tagit ui-widget ui-widget-content ui-corner-all tagit-hidden-field");this.element.is("input")?(this.element.removeClass("tagit-hidden-field"),this.tagList.remove()):(this.element.children("li").each(function(){a(this).hasClass("tagit-new")?a(this).remove():(a(this).removeClass("tagit-choice ui-widget-content ui-state-default ui-state-highlight ui-corner-all remove tagit-choice-editable tagit-choice-read-only"),a(this).text(a(this).children(".tagit-label").text()))}),this.singleFieldNode&&this.singleFieldNode.remove());return this},_cleanedInput:function(){return a.trim(this.tagInput.val().replace(/^"(.*)"$/,"$1"))},_lastTag:function(){return this.tagList.find(".tagit-choice:last:not(.removed)")},_tags:function(){return this.tagList.find(".tagit-choice:not(.removed)")},assignedTags:function(){var b=this,d=[];this.options.singleField?(d=a(this.options.singleFieldNode).val().split(this.options.singleFieldDelimiter),""===d[0]&&(d=[])):this._tags().each(function(){d.push(b.tagLabel(this))});return d},_updateSingleTagsField:function(b){a(this.options.singleFieldNode).val(b.join(this.options.singleFieldDelimiter)).trigger("change")},_subtractArray:function(b,h){for(var g=[],e=0;e<b.length;e++){-1==a.inArray(b[e],h)&&g.push(b[e])}return g},tagLabel:function(b){return this.options.singleField?a(b).find(".tagit-label:first").text():a(b).find("input:first").val()},_showAutocomplete:function(){this.tagInput.autocomplete("search","")},_findTagByLabel:function(b){var f=this,e=null;this._tags().each(function(c){if(f._formatStr(b)==f._formatStr(f.tagLabel(this))){return e=a(this),!1}});return e},_isNew:function(b){return !this._findTagByLabel(b)},_formatStr:function(b){return this.options.caseSensitive?b:a.trim(b.toLowerCase())},_effectExists:function(b){return Boolean(a.effects&&(a.effects[b]||a.effects.effect&&a.effects.effect[b]))},createTag:function(b,l,k){var i=this;b=a.trim(b);this.options.preprocessTag&&(b=this.options.preprocessTag(b));if(""===b){return !1}if(!this.options.allowDuplicates&&!this._isNew(b)){return b=this._findTagByLabel(b),!1!==this._trigger("onTagExists",null,{existingTag:b,duringInitialization:k})&&this._effectExists("highlight")&&b.effect("highlight"),!1}if(this.options.tagLimit&&this._tags().length>=this.options.tagLimit){return this._trigger("onTagLimitExceeded",null,{duringInitialization:k}),!1}var h=a(this.options.onTagClicked?'<a class="tagit-label"></a>':'<span class="tagit-label"></span>').text(b),j=a("<li></li>").addClass("tagit-choice ui-widget-content ui-state-default ui-corner-all").addClass(l).append(h);this.options.readOnly?j.addClass("tagit-choice-read-only"):(j.addClass("tagit-choice-editable"),l=a("<span></span>").addClass("ui-icon ui-icon-close"),l=a('<a><span class="text-icon">\u00d7</span></a>').addClass("tagit-close").append(l).click(function(c){i.removeTag(j)}),j.append(l));this.options.singleField||(h=h.html(),j.append('<input type="hidden" value="'+h+'" name="'+this.options.fieldName+'" class="tagit-hidden-field" />'));!1!==this._trigger("beforeTagAdded",null,{tag:j,tagLabel:this.tagLabel(j),duringInitialization:k})&&(this.options.singleField&&(h=this.assignedTags(),h.push(b),this._updateSingleTagsField(h)),this._trigger("onTagAdded",null,j),this.tagInput.val(""),this.tagInput.parent().before(j),this._trigger("afterTagAdded",null,{tag:j,tagLabel:this.tagLabel(j),duringInitialization:k}),this.options.showAutocompleteOnFocus&&!k&&setTimeout(function(){i._showAutocomplete()},0))},removeTag:function(b,j){j="undefined"===typeof j?this.options.animate:j;b=a(b);this._trigger("onTagRemoved",null,b);if(!1!==this._trigger("beforeTagRemoved",null,{tag:b,tagLabel:this.tagLabel(b)})){if(this.options.singleField){var i=this.assignedTags(),h=this.tagLabel(b),i=a.grep(i,function(c){return c!=h});this._updateSingleTagsField(i)}if(j){b.addClass("removed");var i=this._effectExists("blind")?["blind",{direction:"horizontal"},"fast"]:["fast"],e=this;i.push(function(){b.remove();e._trigger("afterTagRemoved",null,{tag:b,tagLabel:e.tagLabel(b)})});b.fadeOut("fast").hide.apply(b,i).dequeue()}else{b.remove(),this._trigger("afterTagRemoved",null,{tag:b,tagLabel:this.tagLabel(b)})}}},removeTagByLabel:function(e,c){var f=this._findTagByLabel(e);if(!f){throw"No such tag exists with the name '"+e+"'"}this.removeTag(f,c)},removeAll:function(){var b=this;this._tags().each(function(c,e){b.removeTag(e,!1)})}})})(jQuery);if(!String.prototype.startsWith){String.prototype.startsWith=function(a){return this.indexOf(a)===0}}if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}if(!String.prototype.endsWith){String.prototype.endsWith=function(a){return this.length>=a.length&&this.substr(this.length-a.length)===a}}if(window.FileReader&&Uint8Array&&!FileReader.prototype.readAsBinaryString){FileReader.prototype.readAsBinaryString=function(b){var d="";var c=this;var a=new FileReader();a.onload=function(j){var f=new Uint8Array(a.result);var h=f.byteLength;for(var g=0;g<h;g++){d+=String.fromCharCode(f[g])}c.content=d;c.onload()};a.readAsArrayBuffer(b)}}window.nextact=window.nextact||function(a){return function(){WebPlatform.delay(50,function(){window.location.href=b64DecodeUnicode(a)})}};function b64EncodeUnicode(a){return btoa(encodeURIComponent(a).replace(/%([0-9A-F]{2})/g,function(b,c){return String.fromCharCode("0x"+c)}))}function b64DecodeUnicode(a){return decodeURIComponent(atob(a).split("").map(function(b){return"%"+("00"+b.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var toggleDisplay=function(c,a,b){if(b){c[a?"slideDown":"slideUp"]("fast")}else{c[a?"removeClass":"addClass"]("none")}return c};var STORE_PRODUCT_TYPE={PHYSICAL_PRODUCT:"physical",DIGITAL_PRODUCT:"digital",SERVICE:"service",MEMBERSHIP:"membership"};var COUNTRY_CODES=["AF","AX","AL","DZ","AS","AD","AO","AI","AQ","AG","AR","AM","AW","AU","AT","AZ","BS","BH","BD","BB","BY","BE","BZ","BJ","BM","BT","BO","BQ","BA","BW","BV","BR","IO","BN","BG","BF","BI","CV","KH","CM","CA","KY","CF","TD","CL","CN","CX","CC","CO","KM","CG","CD","CK","CR","CI","HR","CU","CW","CY","CZ","DK","DJ","DM","DO","EC","EG","SV","GQ","ER","EE","ET","FK","FO","FJ","FI","FR","GF","PF","TF","GA","GM","GE","DE","GH","GI","EL","GL","GD","GP","GU","GT","GG","GN","GW","GY","HT","HM","VA","HN","HK","HU","IS","IN","ID","IR","IQ","IE","IM","IL","IT","JM","JP","JE","JO","KZ","KE","KI","KP","KR","KW","KG","LA","LV","LB","LS","LR","LY","LI","LT","LU","MO","MK","MG","MW","MY","MV","ML","MT","MH","MQ","MR","MU","YT","MX","FM","MD","MC","MN","ME","MS","MA","MZ","MM","NA","NR","NP","NL","NC","NZ","NI","NE","NG","NU","NF","MP","NO","OM","PK","PW","PS","PA","PG","PY","PE","PH","PN","PL","PT","PR","QA","RE","RO","RU","RW","BL","SH","KN","LC","MF","PM","VC","WS","SM","ST","SA","SN","RS","SC","SL","SG","SX","SK","SI","SB","SO","ZA","GS","SS","ES","LK","SD","SR","SJ","SZ","SE","CH","SY","TW","TJ","TZ","TH","TL","TG","TK","TO","TT","TN","TR","TM","TC","TV","UG","UA","AE","GB","US","UM","UY","UZ","VU","VE","VN","VG","VI","WF","EH","YE","ZM","ZW"];var STATES={US:["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","District of Columbia","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],CA:["Alberta","British Columbia","Manitoba","New Brunswick","Newfoundland and Labrador","Northwest Territories","Nova Scotia","Nunavut","Ontario","Prince Edward Island","Quebec","Saskatchewan","Yukon"],NG:["Abia","Abuja","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Enugu","Edo","Ekiti","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"],DZ:["Adrar","Chlef","Laghouat","Oum el-Bouaghi","Batna","BÃ©jaÃ¯a","Biskra","BÃ©char","Blida","BouÃ¯ra","Tamanghasset","TÃ©bessa","Tlemcen","Tiaret","Tizi Ouzou","Algiers","Djelfa","Jijel","SÃ©tif","SaÃ¯da","Skikda","Sidi Bel AbbÃ¨s","Annaba","Guelma","Constantine","MÃ©dÃ©a","Mostaganem","M'sila","Mascara","Ouargla","Oran","El Bayadh","Illizi","Bordj Bou ArrÃ©ridj","BoumerdÃ¨s","El Taref","Tindouf","Tissemsilt","El Oued","Khenchela","Souk Ahras","Tipaza","Mila","AÃ¯n Defla","NaÃ¢ma","AÃ¯n TÃ©mouchent","GhardaÃ¯a","Relizane","AlgÃ©rie"]};var STATES_ISO={US:[{code:"AL",name:"Alabama"},{code:"AK",name:"Alaska"},{code:"AZ",name:"Arizona"},{code:"AR",name:"Arkansas"},{code:"CA",name:"California"},{code:"CO",name:"Colorado"},{code:"CT",name:"Connecticut"},{code:"DE",name:"Delaware"},{code:"DC",name:"District of Columbia"},{code:"FL",name:"Florida"},{code:"GA",name:"Georgia"},{code:"HI",name:"Hawaii"},{code:"ID",name:"Idaho"},{code:"IL",name:"Illinois"},{code:"IN",name:"Indiana"},{code:"IA",name:"Iowa"},{code:"KS",name:"Kansas"},{code:"KY",name:"Kentucky"},{code:"LA",name:"Louisiana"},{code:"ME",name:"Maine"},{code:"MD",name:"Maryland"},{code:"MA",name:"Massachusetts"},{code:"MI",name:"Michigan"},{code:"MN",name:"Minnesota"},{code:"MS",name:"Mississippi"},{code:"MO",name:"Missouri"},{code:"MT",name:"Montana"},{code:"NE",name:"Nebraska"},{code:"NV",name:"Nevada"},{code:"NH",name:"New Hampshire"},{code:"NJ",name:"New Jersey"},{code:"NM",name:"New Mexico"},{code:"NY",name:"New York"},{code:"NC",name:"North Carolina"},{code:"ND",name:"North Dakota"},{code:"OH",name:"Ohio"},{code:"OK",name:"Oklahoma"},{code:"OR",name:"Oregon"},{code:"PA",name:"Pennsylvania"},{code:"RI",name:"Rhode Island"},{code:"SC",name:"South Carolina"},{code:"SD",name:"South Dakota"},{code:"TN",name:"Tennessee"},{code:"TX",name:"Texas"},{code:"UT",name:"Utah"},{code:"VA",name:"Virginia"},{code:"VT",name:"Vermont"},{code:"WA",name:"Washington"},{code:"WI",name:"Wisconsin"},{code:"WV",name:"West Virginia"},{code:"WY",name:"Wyoming"}],CA:[{code:"AB",name:"Alberta"},{code:"BC",name:"British Columbia"},{code:"MB",name:"Manitoba"},{code:"NB",name:"New Brunswick"},{code:"NL",name:"Newfoundland"},{code:"NT",name:"Northwest Territories"},{code:"NS",name:"Nova Scotia"},{code:"NU",name:"Nunavut"},{code:"ON",name:"Ontario"},{code:"PE",name:"Prince Edward Island"},{code:"QC",name:"Quebec"},{code:"SK",name:"Saskatchewan"},{code:"YT",name:"Yukon"}]};var dummy=function(){};var isUndefined=function(a){return typeof a==="undefined"};var isFunction=function(a){return typeof a==="function"};if(!window.mergeUnique){function mergeUnique(e,d,f,c){var a=c===true?$.extend({},e):e;for(var b in d){if(isUndefined(a[b])||(a[b]===""&&!b.endsWith("Class"))||(f===true&&a[b]===null)){a[b]=d[b]}}return a}}var Log=Log||console||{};Log.error=Log.error||dummy;Log.log=Log.log||dummy;Log.info=Log.info||dummy;function getThumbnailsFromBase(d,a,c){var b=c===false?"":content;return b+d+"thumbnails/"+a+"/"}function getFileFromBase(c,b){var a=b===false?"":content;return a+c+"uploads/"}function extend(c,b){for(var a in b){if(b.hasOwnProperty(a)&&isUndefined(c[a])){c[a]=b[a]}}}window.WebPlatform=window.WebPlatform||{};window.Simvoly=window.WebPlatform;if(!WebPlatform.onReady){WebPlatform.documentReadyRequests=[];WebPlatform.onReady=function(a){if(WebPlatform.documentReadyRequests===null){a()}else{WebPlatform.documentReadyRequests.push(a)}}}extend(WebPlatform,{_htmlSpecialChars:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},removeDiacritics:function(d,a){d=d+"";var b=[{base:"A",letters:/[\u0391\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0392\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0394\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0397\u0395\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u03A6\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0393\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u03A7\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0399\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u039A\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u039B\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u039C\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u039D\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u039F\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\u03A9\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u03A0\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u03A1\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u03A3\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u03A4\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TH",letters:/[\u0398]/g},{base:"TZ",letters:/[\uA728]/g},{base:"PS",letters:/[\u03A8]/g},{base:"SH",letters:/[]/g},{base:"SHT",letters:/[]/g},{base:"U",letters:/[\u03A5\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u039E\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[Ñ\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u0396\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[áƒ\u03B1\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[áƒ‘\u03B2\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[áƒ“\u03B4\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[áƒ«\u01F3\u01C6]/g},{base:"e",letters:/[áƒ”\u03B7\u03B5\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u03C6\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[áƒ’\u03B3\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[áƒ°\u03C7\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[áƒ˜Ñ\u03B9\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[áƒ¯\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[áƒ¥áƒ™\u03BA\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[áƒš\u03BB\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[áƒ›\u03BC\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[áƒœ\u03BD\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[áƒ\u03BF\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\u03C9\uA74F]/g},{base:"p",letters:/[áƒ¤áƒž\u03C0\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[áƒ§\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[áƒ \u03C1\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[áƒ¡\u03C2\u03C3\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[áƒ—áƒ¢\u03C4\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"th",letters:/[\u03B8]/g},{base:"tz",letters:/[\uA729]/g},{base:"ts",letters:/[áƒ¬áƒª]/g},{base:"kh",letters:/[áƒ®]/g},{base:"sh",letters:/[áƒ¨]/g},{base:"ch",letters:/[áƒ­áƒ©]/g},{base:"sh",letters:/[\u03C8]/g},{base:"sht",letters:/[]/g},{base:"zh",letters:/[áƒŸ]/g},{base:"gh",letters:/[áƒ¦]/g},{base:"u",letters:/[áƒ£\u03C5\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[áƒ•\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u03BE\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[áƒ–\u03B6\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}];for(var c=0;c<b.length;c++){d=d.replace(b[c].letters,b[c].base)}if(a===true){d=d.replace(/\u0401/g,"YO").replace(/\u0419/g,"I").replace(/\u0426/g,"TS").replace(/\u0423/g,"U").replace(/\u041A/g,"K").replace(/\u0415/g,"E").replace(/\u041D/g,"N").replace(/\u0413/g,"G").replace(/\u0428/g,"SH").replace(/\u0429/g,"SCH").replace(/\u0417/g,"Z").replace(/\u0425/g,"H").replace(/\u042A/g,"").replace(/\u0451/g,"yo").replace(/\u0439/g,"i").replace(/\u0446/g,"ts").replace(/\u0443/g,"u").replace(/\u043A/g,"k").replace(/\u0435/g,"e").replace(/\u043D/g,"n").replace(/\u0433/g,"g").replace(/\u0448/g,"sh").replace(/\u0449/g,"sch").replace(/\u0437/g,"z").replace(/\u0445/g,"h").replace(/\u044A/g,"'").replace(/\u0424/g,"F").replace(/\u042B/g,"I").replace(/\u0412/g,"V").replace(/\u0410/g,"a").replace(/\u041F/g,"P").replace(/\u0420/g,"R").replace(/\u041E/g,"O").replace(/\u041B/g,"L").replace(/\u0414/g,"D").replace(/\u0416/g,"ZH").replace(/\u042D/g,"E").replace(/\u0444/g,"f").replace(/\u044B/g,"i").replace(/\u0432/g,"v").replace(/\u0430/g,"a").replace(/\u043F/g,"p").replace(/\u0440/g,"r").replace(/\u043E/g,"o").replace(/\u043B/g,"l").replace(/\u0434/g,"d").replace(/\u0436/g,"zh").replace(/\u044D/g,"e").replace(/\u042F/g,"Ya").replace(/\u0427/g,"CH").replace(/\u0421/g,"S").replace(/\u041C/g,"M").replace(/\u0418/g,"I").replace(/\u0422/g,"T").replace(/\u042C/g,"'").replace(/\u0411/g,"B").replace(/\u042E/g,"YU").replace(/\u044F/g,"ya").replace(/\u0447/g,"ch").replace(/\u0441/g,"s").replace(/\u043C/g,"m").replace(/\u0438/g,"i").replace(/\u0442/g,"t").replace(/\u044C/g,"'").replace(/\u0431/g,"b").replace(/\u044E/g,"yu")}return d},preventDefault:function(a){a.stopPropagation();a.preventDefault();return false},escapeHtml:function(a){return String(a).replace(/[&<>"']/g,function(b){return WebPlatform._htmlSpecialChars[b]})},tick:function(){return new Date().getTime()%100000000},random:function(a){return Math.floor(Math.random()*a)},equals:function(c,a){if(c===a){return true}for(var b in c){if(isUndefined(a[b])||c[b]!==a[b]){return false}}for(var b in a){if(isUndefined(c[b])||c[b]!==a[b]){return false}}return true},addrToStr:function(c,b){var a="";if(c){a=WebPlatform.escapeHtml(c)}if(b.phone){a+=(a===""?"":", ")+WebPlatform.escapeHtml(b.phone)}if(a){a+="<br />"}if(b.companyName){a+=WebPlatform.escapeHtml(b.companyName)+"<br />"}if(b.companyName&&b.companyId){a+=WebPlatform.escapeHtml(b.companyId)+"<br />"}if(b.city||b.address||b.state||b.zipCode){if(b.address){a+=WebPlatform.escapeHtml(b.address)+"<br />"}if(b.address2){a+=WebPlatform.escapeHtml(b.address2)+"<br />"}if(b.city){a+=WebPlatform.escapeHtml(b.city)+"<br />"}if(b.state){a+=WebPlatform.escapeHtml(b.state)}if(b.zipCode){a+=(b.state?", ":"")+WebPlatform.escapeHtml(b.zipCode)}if(b.state||b.zipCode){a+="<br />"}if(b.country){a+=((COUNTRIES?COUNTRIES[COUNTRY_CODES.indexOf(b.country)]:b.country)||"")}}return a},ddmmyyStringToDate:function(b){b=$.trim(b||"");if(b===""){return null}var a=b.split("/");return new Date(WebPlatform.parse(a[2],2016),WebPlatform.parse(a[1],1)-1,WebPlatform.parse(a[0],1))},yyyymmddStringToDate:function(b){b=$.trim(b||"");if(b===""){return null}var a=b.split("-");return new Date(WebPlatform.parse(a[0],2020),WebPlatform.parse(a[1],1)-1,WebPlatform.parse(a[2],1))},mmddyyStringToDate:function(b){b=$.trim(b||"");if(b===""){return null}var a=b.split("/");return new Date(WebPlatform.parse(a[2],2016),WebPlatform.parse(a[0],1)-1,WebPlatform.parse(a[1],1))},ukDateTimeStringToDate:function(a){a=$.trim(a||"");if(a===""){return null}var h=a.split(" ");if(h.length<2){return null}var i=h[0];var e=h[1];if(!e){return null}var f=e.split(":");if(f.length<2){return null}var d=WebPlatform.parse(f[0],0);var c=WebPlatform.parse(f[1],0);var g=f.length>2?WebPlatform.parse(f[2],0):0;var b=WebPlatform.ddmmyyStringToDate(i);if(b===null){return null}b.setHours(d,c,g);return b},capitalizeFirstLetter:function(a){if(a.length===0){return a}return a.charAt(0).toUpperCase()+a.slice(1)},usDateTimeStringToDate:function(a){a=$.trim(a||"");if(a===""){return null}var i=a.split(" ");if(i.length<3){return null}var j=i[0];var e=i[1];var f=i[2].toUpperCase()==="AM";if(!e){return null}var g=e.split(":");if(g.length<2){return null}var d=WebPlatform.parse(g[0],0);var c=WebPlatform.parse(g[1],0);var h=g.length>2?WebPlatform.parse(g[2],0):0;if(!f&&d<12){d=d+12}if(f&&d===12){d=0}var b=WebPlatform.mmddyyStringToDate(j);if(b===null){return null}b.setHours(d,c,h);return b},ddmmyyyyDateToStrWithMonth:function(b,f,a){var d=WebPlatform.ddmmyyStringToDate(b);var h=[WebPlatform.Phrases["label.january"],WebPlatform.Phrases["label.february"],WebPlatform.Phrases["label.march"],WebPlatform.Phrases["label.april"],WebPlatform.Phrases["label.may"],WebPlatform.Phrases["label.june"],WebPlatform.Phrases["label.july"],WebPlatform.Phrases["label.august"],WebPlatform.Phrases["label.september"],WebPlatform.Phrases["label.october"],WebPlatform.Phrases["label.november"],WebPlatform.Phrases["label.december"]];var g=d.getDate();var c=d.getMonth();var e=d.getFullYear();if(f===true){return g+" "+h[c]+(a!==false?(", "+e):"")}return h[c]+" "+g+(a!==false?(", "+e):"")},yyyymmddDateToStrWithMonth:function(d,f,a){var c=WebPlatform.yyyymmddStringToDate(d);var h=[WebPlatform.Phrases["label.january"],WebPlatform.Phrases["label.february"],WebPlatform.Phrases["label.march"],WebPlatform.Phrases["label.april"],WebPlatform.Phrases["label.may"],WebPlatform.Phrases["label.june"],WebPlatform.Phrases["label.july"],WebPlatform.Phrases["label.august"],WebPlatform.Phrases["label.september"],WebPlatform.Phrases["label.october"],WebPlatform.Phrases["label.november"],WebPlatform.Phrases["label.december"]];var g=c.getDate();var b=c.getMonth();var e=c.getFullYear();if(f===true){return g+" "+h[b]+(a!==false?(", "+e):"")}return h[b]+" "+g+(a!==false?(", "+e):"")},isTouchSupported:function(){return !!("ontouchstart" in window||navigator.maxTouchPoints||navigator.msMaxTouchPoints)},intersect:function(g,c,f,d){f=f===true;d=d||dummy;var b=[];for(var a=0;a<g.length;++a){var h=g[a];for(var e=0;e<c.length;++e){if(d(h,c[e])===true){b.push(f?h:c[e]);break}}}return b},hexToRgba:function(d,c){c=c||0;if(d.indexOf("#")!==0){return d}var b=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;d=d.replace(b,function(f,i,h,e){return i+i+h+h+e+e});var a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(d);if(a){return"rgba("+parseInt(a[1],16)+", "+parseInt(a[2],16)+", "+parseInt(a[3],16)+", "+c+")"}return d},transitionsSupported:function(){var a=(document.body||document.documentElement).style;return a.transition!==undefined||a.WebkitTransition!==undefined||a.MozTransition!==undefined||a.MsTransition!==undefined||a.OTransition!==undefined}(),onTransitionEnd:function(b,c,a){a=a||300;if(WebPlatform.transitionsSupported){b.on("webkitTransitionEnd.trans mozTransitionend.trans oTransitionEnd.trans msTransitionEnd.trans transitionend.trans",function(){b.off(".trans");c()})}else{WebPlatform.delay(a,c)}},onAnimationEnd:function(b,c,a){if(WebPlatform.transitionsSupported){b.on("webkitAnimationEnd.trans mozAnimationEnd.trans oAnimationEnd.trans msAnimationEnd.trans animationend.trans",function(){b.off(".trans");c()})}else{WebPlatform.delay(a||50,c)}},clearDelay:function(a){if(a!==null){clearTimeout(a)}},getCookieName:function(a){return"wplatform-"+a},delay:function(a,b){return setTimeout(b,a)},onImagesLoaded:function(b,a){b.waitForImages(a)},showClientError:function(a,b){b=b||3000;var c=$('<div class="live-theme-message">'+a+"</div>");c.appendTo(".theme");WebPlatform.delay(50,function(){c.addClass("show-message");WebPlatform.delay(b,function(){WebPlatform.onTransitionEnd(c,function(){c.remove()},300);c.removeClass("show-message")})})},showClientMessage:function(a,b){b=b||3000;var c=$('<div class="live-theme-message info-message">'+a+"</div>");c.appendTo(".theme");WebPlatform.delay(50,function(){c.addClass("show-message");WebPlatform.delay(b,function(){WebPlatform.onTransitionEnd(c,function(){c.remove()},300);c.removeClass("show-message")})})},parse:function(c,a,b){b=b===true;a=a||0;c=parseInt(c,10);if(isNaN(c)){c=a}if(!b&&c<0){return a}return c},sharePage:function(c,e,d){var a=d||window.location.href;if(a.indexOf("?")>=0){a+="&_share="+WebPlatform.tick()}else{a+="?_share="+WebPlatform.tick()}var b=encodeURIComponent(a);var f=encodeURIComponent(document.title);if(c==="facebook"){window.open("https://www.facebook.com/sharer/sharer.php?u="+b,"_blank","width=600, height=600")}else{if(c==="google-plus"){window.open("https://plus.google.com/share?url="+b,"_blank","width=500, height=600")}else{if(c==="twitter"){window.open("https://twitter.com/intent/tweet?url="+b,"_blank","width=500, height=300")}else{if(c==="linkedin"){window.open("https://www.linkedin.com/shareArticle?mini=true&url="+b+"&title="+f,"_blank","width=500, height=300")}else{if(c==="tumblr"){window.open("http://www.tumblr.com/share/link?url="+b,"_blank","width=500, height=300")}else{if(c==="pinterest"){window.open("https://www.pinterest.com/pin/create/button/?url="+b,"_blank","width=800, height=500")}else{if($.trim(e)!==""){e=encodeURIComponent($.trim(e));window.open(e)}}}}}}}},makeClientWebsiteRequestWithFile:function(f,b){if(b){mergeUnique(f,{url:"",data:{},onOk:dummy,action:"Invalid Action!",method:"getJSON",onRequestError:function(i,h,g){Log.log(g);WebPlatform.showClientError(g)},_onNotOk:function(g){Log.error("Action: "+f.action);WebPlatform.showClientError(g.message)},always:dummy});f.onNotOk=f.onNotOk||f._onNotOk;var e={action:f.action,_csrfToken:WebPlatform.getCSRFToken(),r:Math.random()};mergeUnique(e,f.data);var d=new FormData();if(!$.isArray(b)){b=[b]}b.forEach(function(h,g){d.append("_file_"+(g>0?g:""),h);d.append("_file_name_"+(g>0?g:""),h.name||"")});d.append("_has_file_",true);d.append("_file_number",b.length);for(var a in e){var c=e[a];if($.isArray(c)){c=JSON.stringify(c)}d.append(a,c)}$.ajax({url:"/clientRequestHandler/"+f.url,type:"POST",data:d,cache:false,contentType:false,processData:false},"json").done(function(g){if(g.ok){f.onOk(g)}else{if(isUndefined(g.ok)){Log.error("Response doesn't include status infurmation! {ok: true}");Log.error(g)}f.onNotOk(g)}}).fail(f.onRequestError).always(f.always)}else{WebPlatform.makeClientWebsiteRequest(f)}},makeClientWebsiteRequest:function(c){mergeUnique(c,{url:"",data:{},onOk:dummy,action:"Invalid Action!",method:"getJSON",onRequestError:function(f,e,d){Log.log(d);WebPlatform.showClientError(d)},_onNotOk:function(d){Log.error("Action: "+c.action);WebPlatform.showClientError(d.message)},always:dummy});c.onNotOk=c.onNotOk||c._onNotOk;var b={action:c.action,_csrfToken:WebPlatform.getCSRFToken(),r:Math.random()};mergeUnique(b,c.data);var a=c.method==="getJSON"?$.getJSON:(c.method==="post"?$.post:$.get);a("/clientRequestHandler/"+c.url,b).done(function(d){if(d.ok){c.onOk(d)}else{if(isUndefined(d.ok)){Log.error("Response doesn't include status infurmation! {ok: true}");Log.error(d)}c.onNotOk(d)}}).fail(c.onRequestError).always(c.always)},format:function(){var b=arguments;if((b.length%2)!==1){throw"Invalid number of arguments! Usage: format(formatString, key, value, key, value...)"}var a=b[0];for(var c=1;c<b.length;c+=2){var d=new RegExp("%"+b[c]+"%","g");a=a.replace(d,b[c+1])}return a},escapeFormat:function(){var b=arguments;if((b.length%2)!==1){throw"Invalid number of arguments! Usage: format(formatString, key, value, key, value...)"}var a=b[0];for(var c=1;c<b.length;c+=2){var d=new RegExp("%"+b[c]+"%","g");a=a.replace(d,WebPlatform.escapeHtml(b[c+1]))}return a},isMobile:function(){return $window.width()<=1024},removeLightbox:function(a){if(!isUndefined(window.TmdpLightbox)){TmdpLightbox.removeLightbox(a)}},refreshInlineGallery:function(b){if(!$.tosrus){return}b.removeClass("none");var d={autoplay:{play:b.data("autoplay")!==false,pauseOnHover:b.data("pauseonhover")===true,timeout:b.data("timeout")||4000},slides:{scale:b.data("scale")||"fill"},buttons:{prev:b.data("arrows")!==false,next:b.data("arrows")!==false},pagination:{add:b.data("pagination")===true}};var c=window.innerWidth<768?1:WebPlatform.parse(b.data("items"),1);var e=b.data("width");if(c){d.slides.visible=c}var a=b.data("itemsPerSlide");if(a){d.slides.slide=a}if(e){d.slides.width=e}b.addClass("with-gallery").tosrus(d)},refreshLightboxes:function(a,b){if(!isUndefined(window.TmdpLightbox)){TmdpLightbox.refreshLightboxes(a)}if(b!==true&&$.tosrus){$(".inline-gallery:not(.with-gallery)").each(function(){WebPlatform.refreshInlineGallery($(this))})}},_accumulatedRequests:[],addAccumulatedRequest:function(a){WebPlatform._accumulatedRequests.push({action:a.action||"",params:a.params||{},onOk:a.onOk||dummy})},processAccumulatedRequests:function(){if(WebPlatform._accumulatedRequests.length>0){var b=WebPlatform._accumulatedRequests;var c=[];WebPlatform._accumulatedRequests=[];for(var a=0;a<b.length;++a){c.push({action:b[a].action,params:b[a].params})}WebPlatform.makeClientWebsiteRequest({action:"accumulatedRequests",method:"post",data:{requests:JSON.stringify(c)},onOk:function(f){var h=f.data;for(var d=0;d<b.length;++d){var g=h[b[d].action];if(g){try{(b[d].onOk||dummy)(g)}catch(i){Log.error(i)}}}b=null;c=null}})}},parseSimpleShare:function(h,j,g){var i="",e=(g===true)?(h>0):((h&1)===1),c=2,f=4,a=8,d=16;if(g){c=1;f=2;a=4;d=8}j=(j||"").toString();if(e){i+='<div class="sharer">';if(j.indexOf("?")>=0){j+="&_share="+WebPlatform.tick()}else{j+="?_share="+WebPlatform.tick()}var b=encodeURIComponent(j);if((h&c)===c){i+='<a href="javascript: void(0)" class="fb-icon" onclick="window.open(\'https://www.facebook.com/sharer/sharer.php?u='+b+"', '_blank', 'width=600, height=600');\"><i class=\"fa fa-facebook\"></i></a>"}if((h&a)===a){i+='<a href="javascript: void(0)" class="tw-icon" onclick="window.open(\'https://twitter.com/intent/tweet?url='+b+"', '_blank', 'width=500, height=300');\"><i class=\"fa fa-twitter\"></i></a>"}if((h&f)===f){i+='<a href="javascript: void(0)" class="gp-icon" onclick="window.open(\'https://plus.google.com/share?url='+b+"', '_blank', 'width=500, height=600');\"><i class=\"fa fa-google-plus\"></i></a>"}if((h&d)===d){i+='<a href="javascript: void(0)" class="ln-icon" onclick="window.open(\'https://www.linkedin.com/shareArticle?mini=true&url='+b+"', '_blank', 'width=500, height=300');\"><i class=\"fa fa-linkedin\"></i></a>"}i+="</div>"}return i},URL_PARAM_INT:"\\d+",URL_PARAM_ANY:"[^/]+",URL_PARAM_ANY_WITH_EMPTY:"[^/]*",getUrlParameterMap:function(b){b=b||document.location.href;var c=b.indexOf("?");var a=b.indexOf("#");if(a<0){a=b.length}if(c<0||c>=b.length||a<c){return{}}var g=b.substring(c+1,a).split("+").join(" ");var f={},e,d=/[?&]?([^=]+)=([^&]*)/g;while(e=d.exec(g)){f[decodeURIComponent(e[1])]=decodeURIComponent(e[2])}return f},getUrlParameter:function(c,d,a){var f=new RegExp("(/"+d+"/"+a+"$)|(/"+d+"/"+a+"/)","");var b=c.match(f);if(b===null||b.length<1||!b[0]){return""}b=b[0];var e=b.substring(b.indexOf("/",b[0]==="/"?1:0)+1,b.endsWith("/")?b.length-1:b.length);return e},clearUrlParameter:function(b,c,a){var d=new RegExp("(/"+c+"/"+a+"$)|(/"+c+"/"+a+"/)","");return b.replace(d,"/")},getUrlQueryParameter:function(c,d){var g=c.indexOf("?");if(g<0){return""}var b=c.indexOf("#");if(b<0){b=c.length}c=c.substring(g+1,b);var e=c.split("&");for(var a=0;a<e.length;++a){var f=e[a].split("=");if(f[0]===d){return f.length>0?f[1]:""}}return""},tr:function(b,a){return(((b||{})[locale]||{})[a]||a)},cartesianProduct:function(e,h){var d=[],a=e.length-1,g=[],c=false;for(var b=e.length;b--;){g[b]=e[b].length}function f(l){var m=e[l],j=g[l];if(l===a){for(var k=0;k<j;++k){d[l]=m[k];c=h.call(WebPlatform,d)===false;if(c){return}}}else{for(var k=0;k<j;++k){d[l]=m[k];f(l+1);if(c){return}}}d.pop()}f(0)},getRandomString:function(b){var d="";var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(var c=0;c<b;++c){d+=a.charAt(Math.floor(Math.random()*a.length))}return d},getCSRFToken:function(){var a=Cookies.get("_csrfToken")||null;if(a===null){a=WebPlatform.getRandomString(6)+"-"+WebPlatform.getRandomString(6)+"-"+WebPlatform.getRandomString(6);var b=new Date();b.setTime(b.getTime()+(5*60*1000));var c={expires:b,path:"/"};if(window.location.protocol==="https:"){c.samesite="none";c.secure=true}Cookies.set("_csrfToken",a,c)}return a},shuffle:function(d){var b,a,c;for(c=d.length;c;c--){b=Math.floor(Math.random()*c);a=d[c-1];d[c-1]=d[b];d[b]=a}},getVatRate:function(a){switch(a){case"BE":return 21;case"BG":return 20;case"CZ":return 21;case"DK":return 25;case"DE":return 19;case"EE":return 20;case"GR":return 24;case"ES":return 21;case"FR":return 20;case"HR":return 25;case"IE":return 23;case"IT":return 22;case"CY":return 19;case"LV":return 21;case"LT":return 21;case"LU":return 17;case"HU":return 27;case"MT":return 18;case"NL":return 21;case"AT":return 20;case"PL":return 23;case"PT":return 23;case"RO":return 19;case"SI":return 22;case"SK":return 20;case"FI":return 24;case"SE":return 25;case"EL":case"GR":return 24;case"NO":return 25;default:return 0}},currencyWithCodeToStr:function(c,b,a){switch(b){case"USD":return WebPlatform.currToStr(c,"$",true,b,a);case"EUR":return WebPlatform.currToStr(c,"â‚¬",true,b,a);case"BGN":return WebPlatform.currToStr(c,"Ð»Ð²",false,b,a);case"AUD":return WebPlatform.currToStr(c,"$",true,b,a);case"BRL":return WebPlatform.currToStr(c,"R$",true,b,a);case"CAD":return WebPlatform.currToStr(c,"$",true,b,a);case"CHF":return WebPlatform.currToStr(c,"CHF",false,b,a);case"CZK":return WebPlatform.currToStr(c,"KÄ",false,b,a);case"DKK":return WebPlatform.currToStr(c,"kr",false,b,a);case"GBP":return WebPlatform.currToStr(c,"Â£",true,b,a);case"HKD":return WebPlatform.currToStr(c,"$",true,b,a);case"HUF":return WebPlatform.currToStr(c,"Ft",false,b,a);case"ILS":return WebPlatform.currToStr(c,"â‚ª",false,b,a);case"INR":return WebPlatform.currToStr(c,"â‚¹",true,b,a);case"JPY":case"CNY":return WebPlatform.currToStr(c,"Â¥",true,b,a);case"MXN":return WebPlatform.currToStr(c,"$",true,b,a);case"MYR":return WebPlatform.currToStr(c,"RM",false,b,a);case"NOK":return WebPlatform.currToStr(c,"kr",false,b,a);case"NZD":return WebPlatform.currToStr(c,"NZ$",true,b,a);case"PHP":return WebPlatform.currToStr(c,"â‚±",true,b,a);case"PLN":return WebPlatform.currToStr(c,"zÅ‚",false,b,a);case"RUB":return WebPlatform.currToStr(c,"RUB",false,b,a);case"SEK":return WebPlatform.currToStr(c,"kr",false,b,a);case"SGD":return WebPlatform.currToStr(c,"S$",true,b,a);case"THB":return WebPlatform.currToStr(c,"à¸¿",true,b,a);case"TWD":return WebPlatform.currToStr(c,"NT$",true,b,a);case"ZAR":return WebPlatform.currToStr(c,"R",true,b,a);default:return WebPlatform.currToStr(c,b,false,b,a)}},hasCents:function(a){if(a===null){return true}switch(a){case"JPY":case"CNY":case"BIF":case"CLP":case"DJF":case"GNF":case"ISK":case"KMF":case"KRW":case"PYG":case"RWF":case"UGX":case"UYI":case"VND":case"VUV":case"XAF":case"XOF":case"XPF":case"COP":case"HUF":return false}return true},getStripeLocale:function(){var a=window.locale||"auto";switch(a){case"pt_BR":return"pt-BR";case"pt_PT":return"pt";case"ar":case"bg":case"cs":case"da":case"de":case"el":case"et":case"en":case"es":case"fi":case"fr":case"he":case"id":case"it":case"ja":case"lt":case"lv":case"ms":case"nb":case"nl":case"pl":case"pt-BR":case"pt":case"ru":case"sk":case"sl":case"sv":case"zh":return a}return"auto"},addThousandsSeparator:function(a){return(a+"").replace(/\B(?=(\d{3})+(?!\d))/g,",")},currToStr:function(f,d,g,b,a){g=g===true;var c=f<0;if(c){f=-f}var e=f.toFixed?f.toFixed(WebPlatform.hasCents(b)?2:0):(""+f);if(d!==""){WebPlatform.addThousandsSeparator(e)}if(d&&a){d=a(d)}return(c?"-":"")+(g?(d+e):(e+d))},_requestedResources:[],requestScripts:function(d,b){d=d||[];b=b||dummy;if(d.length===0){b();return}var c=document.getElementsByTagName("script")[0];d.forEach(function(h){var g=false;for(var e=0;e<WebPlatform._requestedResources.length;++e){if(WebPlatform._requestedResources[e]===h.script){g=true;break}}if(!g&&!h.check()){WebPlatform._requestedResources.push(h.script);var f=document.createElement("script");f.type="text/javascript";f.async=1;f.src=h.script;c.parentNode.insertBefore(f,c)}});var a=function(){var e=0;d.forEach(function(f){if(!f.check()){++e}});if(e>0){WebPlatform.delay(50,a)}else{b()}};a()},requestResource:function(d,g,e,f){e=e||function(){return true};f=f||dummy;if(e()){f();return}var c=document.getElementsByTagName("script")[0];if(d){var h=false;for(var j=0;j<WebPlatform._requestedResources.length;++j){if(WebPlatform._requestedResources[j]===d){h=true;break}}if(!h){WebPlatform._requestedResources.push(d);var i=document.createElement("script");i.type="text/javascript";i.async=1;i.src=d;c.parentNode.insertBefore(i,c)}}if(g){var a=document.createElement("link");a.type="text/css";a.rel="stylesheet";a.href=g;c.parentNode.insertBefore(a,c)}var b=function(){if(!e()){WebPlatform.delay(50,b)}else{f()}};WebPlatform.delay(50,b)},initFixedHeader:function(e,b){var a=e.find(".fixed-header-wrapper");if(a.length===0||a.hasClass("initiated")||a.hasClass("header-hidden")){return}a.addClass("initiated");var c=e.find(".main-header-wrapper");if(b===true){var d=c.offset();a.css({top:d.top+"px"})}e.scroll($.throttle(150,function(){var f=e.scrollTop();if(c.height()<=f){a.addClass("visible")}else{a.removeClass("visible")}})).scroll()},getObjectFromLocalStorage:function(b,a){try{var c=window.localStorage.getItem(b);if(c){return JSON.parse(c+"")}return a}catch(d){Log.error(d);return a}},setObjectToLocalStorage:function(a,b){try{window.localStorage.setItem(a,JSON.stringify(b))}catch(c){Log.error(c)}},removeFromLocalStorage:function(a){try{window.localStorage.removeItem(a)}catch(b){Log.error(b)}},initiateBraintree3DSecureIfEnabled:function(b,c,a){window.braintree.threeDSecure.create({client:b,version:2},function(d,e){if(d){if(d.code==="THREEDS_NOT_ENABLED"){Log.info("3DS not supported");c(null)}else{if(d.code==="THREEDS_NOT_ENABLED_FOR_V2"){window.braintree.threeDSecure.create({client:b,version:1},function(f,g){if(f){if(f.code==="THREEDS_NOT_ENABLED"){Log.info("3DS not supported");c(null)}else{a(f)}}else{c(g)}})}else{a(d)}}}else{c(e)}})},getLocaleName:function(a){switch(a){case"en":return"en_US";case"bg":return"bg_BG";case"da":case"da_JK":return"da_DK";case"de":return"de_DE";case"el":case"gr":return"el_GR";case"es":return"es_ES";case"fr":return"fr_FR";case"it":return"it_IT";case"nb":return"nb_NO";case"nl_NL":return"nl_NL";case"pt_PT":return"pt_PT";case"pt_BR":return"pt_BR";case"ro":return"ro_RO";case"sv_SE":return"sv_SE";case"pl":return"pl_PL";case"zh":case"zh_JO":return"zh_CN";case"iw":return"he_IL";case"ar":return"ar_EG";case"hu":return"hu_HU";case"hr":return"hr_HR";case"th":return"th_TH";case"kr":case"ko":return"ko_KR";case"vn":return"vi_VN";case"ru":return"ru_RU";case"is":return"is_IS";case"jp":return"ja_JP";default:return a}},scrollIntoView:function(a){WebPlatform.delay(50,function(){if(a[0].scrollIntoView){a[0].scrollIntoView({behavior:"smooth"})}})},extractYoutubeVideoId:function(b){var c;b=b.replace("://www.","://");var a=b.toLowerCase().indexOf("://youtu.be");if(a>-1){c=b.substring(a+12);if(c.indexOf("?")>-1){c=c.substring(0,c.indexOf("?"))}}else{c=WebPlatform.getUrlQueryParameter(b,"v",WebPlatform.URL_PARAM_ANY_WITH_EMPTY)}return c}});WebPlatform.Phrases=mergeUnique(WebPlatform.Phrases||{},{"client.by":"by","client.on":"on","client.in":"in","client.comment":"Comment","client.comments":"Comments","client.read_more":"Read more","client.load_more":"Load more","label.view":"View","label.years":"Years","label.months":"Months","label.month":"month","label.year":"year","label.months_lower":"months","label.years_lower":"years","label.week_lower":"week","label.weeks_lower":"weeks","label.saving":"Saving","label.days":"Days","label.hours":"Hours","label.seconds":"Seconds","label.shipping_address":"Shipping Address","label.billing_address":"Billing Address","label.january":"January","label.february":"February","label.march":"March","label.april":"April","label.may":"May","label.june":"June","label.july":"July","label.august":"August","label.september":"September","label.october":"October","label.november":"November","label.december":"December","label.jan":"Jan","label.feb":"Feb","label.mar":"Mar","label.apr":"Apr","label.may_short":"May","label.jun":"Jun","label.jul":"July","label.aug":"Aug","label.sep":"Sep","label.oct":"Oct","label.nov":"Nov","label.dec":"Dec","label.add_to_cart":"Add To Cart","label.buy_now":"Buy Now","label.update":"Update","label.change":"change","label.select_product_variant":"Choose variation for each item in your order","err.select_product_variants":"Select variant","label.checkout_now":"Checkout Now","label.cod":"Pay on delivery","label.bank":"Bank Transfer","label.yes":"YES","label.no":"NO","label.contact_booked_error":"You already booked a spot in this group event","label.already_booked_time_error":"Selected time is not available, please select different time","label.booking_notice_error":"Booking too close to current time, please reload the page","label.slots_left":"slots left"});WebPlatform.Widgets={};WebPlatform.defaultPagePagination='<a class="none arrow-nav" rel="client-tab" title="" data-role="-1"> <i class="fa fa-angle-left fa-2x"></i></a><a class="none" rel="client-tab" title="" data-role="-2"></a><a class="none" rel="client-tab" title="" data-role="-1"></a><a rel="client-tab" title="" data-role="0"></a><a class="none" rel="client-tab" title="" data-role="+1"></a><a class="none" rel="client-tab" title="" data-role="+2"></a><a class="none arrow-nav" rel="client-tab" title="" data-role="+1"> <i class="fa fa-angle-right fa-2x"></i></a>';WebPlatform.defaultOnePagePagination='<a rel="client-tab" title="" data-role="more">%more%</a>';WebPlatform.Widgets.Blog=function(e){var k=e.id,b=e.baseNavigationUrl,t=e.listType,a=e.paginationType,g=e.blogCategory,h=e.itemsCount,p=!!e.disqusEnabled,f=e.author,l=e.ids||null,u=e.tag,i=e.socialNetworksSum||0,q=1,j=0,c=t==="masonry",m=e.root||$("#blog-widget-"+k),s=e.pagination||m.find(".pagination"),d=t==="carousel";if(m[0].offsetParent===null){return{loadPage:dummy,destroy:dummy}}if(d){a="none"}function r(){if(!e.baseNavigationUrl){s.on("click","[data-role]",function(w){var y=$(w.currentTarget).data("role");var x;if(y==="more"){x=1}else{if(y==="0"){return}else{x=parseInt(y)}}if(q+x>j||q+x<0){return}o(q+x,true);w.stopPropagation();return false})}if(a==="pagination"){s.append(WebPlatform.defaultPagePagination)}else{s.append(WebPlatform.format(WebPlatform.defaultOnePagePagination,"more",WebPlatform.Phrases["client.load_more"]))}if(c){var v=m.find(".posts-list-wrapper");v.shuffle({itemSelector:".blog-post-article",sizer:m.find(".blog-post-sizer")})}if(e.page){o(e.page,false)}}function n(){if(a==="none"||j===0){s.hide().find("a").removeAttr("href")}else{if(a==="pagination"){var z=s.find('[data-role="0"]');var w=s.find('[data-role="-1"]');var v=s.find('[data-role="-2"]');var y=s.find('[data-role="+1"]');var x=s.find('[data-role="+2"]');z.text(q);if(e.baseNavigationUrl){w.attr("href",b+"page/"+(q-1));v.attr("href",b+"page/"+(q-2));y.attr("href",b+"page/"+(q+1));x.attr("href",b+"page/"+(q+2))}w[q<2?"addClass":"removeClass"]("none").not(".arrow-nav").text(q-1);v.text(q-2)[q<3?"addClass":"removeClass"]("none");y[q<j?"removeClass":"addClass"]("none").not(".arrow-nav").text(q+1);x.text(q+2)[(q+1)<j?"removeClass":"addClass"]("none");s.show();s.find("a.none").removeAttr("href")}else{if(q===j){s.hide().find("a").removeAttr("href")}else{if(e.baseNavigationUrl){s.find('[data-role="more"]').attr("href",b+"page/"+(q+1))}s.show()}}}}function o(w,v){WebPlatform.addAccumulatedRequest({action:"getPostsInfo_"+k,params:{items:h,category:g,page:w,tag:u,author:f,ids:l||null},onNotOk:e.onFailed||dummy,onOk:function(ac){var X=WebPlatform.Phrases["client.by"],L=WebPlatform.Phrases["client.on"],A=WebPlatform.Phrases["client.in"],D=WebPlatform.Phrases["client.comment"],x=WebPlatform.Phrases["client.comments"],I=WebPlatform.Phrases["client.read_more"],ab=d?'<div %style% data-slide="" data-index="%idx%">':"";ab+='<article class="blog-post-article %blogPostDelayed%" data-animation="blogPostAnimation" data-delay="0.05">   <a href="/'+e.blogUrl+'/%url%" title="%altText%" class="post-featured post-featured-%featuredtype%">%featured%</a>   <div class="post-summary">      <header>        <div class="post-header">        <h2 class="post-title"><a href="/'+e.blogUrl+'/%url%" class="highlightColor">%title%</a></h2>         <span class="post-meta">           <span class="post-author"><a href="/'+e.blogUrl+'/author/%author%">%author%</a></span>          <span class="post-category">%categories%</span>           <span class="post-time"><p>%created%</p></span>  '+(p?"":'<span class="post-comments">%comments%</span>  ')+'       </span>        </div>  %share%     </header>      <span class="post-description">%description%</span>      <div class="read-more-wrapper"><a href="/'+e.blogUrl+'/%url%" class="read-more primaryColor-bg">'+I+"</a></div>    </div>  </article>";if(d){ab+="</div>"}var H=ac.posts;j=Math.floor(ac.allPostsCount/h)+((ac.allPostsCount%h)>0?1:0);q=ac.page;if(H.length===0){return}var E=m.find(".posts-list-wrapper");if(a==="pagination"&&!(c)){E.find("article").remove()}if(d){E.addClass("inline-gallery");E.find(".blog-post-sizer").remove()}var O=$([]);for(var W=0;W<H.length;++W){var aa=H[W];var R="";var S="";var Y="";var J=WebPlatform.escapeHtml(aa.title);if(d){var K=1;var N=0;var B=(100-((K-1)*N))/K;Y='style="width: '+(B*K)+'%; margin: 0 auto; float: none;"'}if(aa.featured.type===0){var Q=aa.featured.data;var z=aa.featured.dataBase;if(t==="large"||d){R+="<span style='background-image: url(\""+getFileFromBase(z)+Q+"\");'></span>"}else{if(t==="medium"){R+="<span style='background-image: url(\""+getThumbnailsFromBase(z,"640x480")+Q+"\");'></span>"}else{R+='<img src="'+getThumbnailsFromBase(z,"640x480")+Q+'" alt="'+J+'" />'}}}else{if(aa.featured.type===1){R+='<div class="inline-gallery">';for(var U=0;U<aa.featured.data.length;++U){var C;if(t==="large"||d){C=getFileFromBase(aa.featured.dataBase[U])+aa.featured.data[U]}else{C=getThumbnailsFromBase(aa.featured.dataBase[U],"640x480")+aa.featured.data[U]}R+='<img src="'+C+'" alt="" />'}R+="</div>"}else{if(aa.featured.type===2){R+='<div class="fluid-video-wrapper">'+aa.featured.data+"</div>"}else{if(aa.featured.type===3){R+='<h1 class="primaryColor-bg2">'+aa.featured.data+"</h1>"}else{if(aa.featured.type===4){}}}}}for(var U=0;U<aa.categories.length;++U){if(U===0){S+=A+"&nbsp;"}else{S+=" / "}S+='<a href="/'+e.blogUrl+"/category/"+aa.categories[U].second+'" title="">'+aa.categories[U].first+"</a>"}var P=window.location.protocol||"https:";var G=aa.created||" ";G=G.split(" ")[0];var V=WebPlatform.parseSimpleShare(i,P+"//"+location.hostname+"/"+e.blogUrl+"/"+aa.url);var Z=WebPlatform.format(ab,"featured",R,"featuredtype",aa.featured.type,"comments",aa.approvedCommentsCount+" "+(aa.approvedCommentsCount!==1?x:D),"blogPostDelayed",(c||d)?"":"anim-delayed-item","share",V,"categories",S,"url",aa.url,"title",aa.title,"altText",J,"created",G,"description",aa.description,"author",aa.author,"idx",W,"style",Y);Z=$(Z);E.append(Z);if(c){O=O.add(Z)}}if(c&&H.length>0){if(a==="pagination"){E.shuffle("remove",m.find(".shuffle-item"))}E.data("shuffle").appended(O,true,true);WebPlatform.onImagesLoaded(E,function(){E.shuffle("update")})}else{if(a==="pagination"){var y=$window.scrollTop();var F=m.offset().top;if(F<y){$window.scrollTop(F)}}}n();$window.scroll();WebPlatform.refreshLightboxes();(e.onLoaded||dummy)()}});if(v){WebPlatform.processAccumulatedRequests()}}r();return{loadPage:function(v){o(v,true)},destroy:function(){if(c){var v=m.find(".posts-list-wrapper");if(v.shuffle){v.shuffle("destroy")}}}}};WebPlatform.Widgets.SimpleBlog=function(b){var g=b.id,f=b.blogUrl,e=b.blogType,d=b.blogCategory,a=b.itemsCount;var c="posts";if(e==="posts"){c=d===""?"getRecentPosts":"getRecentPostsByCategory"}else{c=e==="categories"?"getCategories":"getTags"}WebPlatform.addAccumulatedRequest({action:c,params:{items:a,category:d},onNotOk:b.onFailed||dummy,onOk:function(j){var l=b.widget?b.widget:$("#blog-widget-"+g);var n=l.find(".blog-items-wrapper").removeClass("visible");var i="";for(var h=0;h<Math.min(j.length,a)||0;++h){var k=j[h];if(e==="posts"){if(k.category===d){var m=k.created||" ";m=m.split(" ")[0];i+='<div class="blog-widget-item recent-post"><a href="/'+f+"/"+k.url+'" class="highlightColor">'+k.title+"</a><span>"+m+"</span></div>"}}else{if(e==="categories"){i+='<div class="blog-widget-item blog-categories"><a href="/'+f+"/category/"+k.url+'" class="highlightColor">'+k.category+"</a></div>"}else{if(e==="tags"){i+='<a href="/'+f+"/tag/"+k.url+'" class="highlightBg">'+k.tag+"</a>"}}}}n.append(i).addClass("visible");(b.onLoaded||dummy)()}})};WebPlatform.Widgets.Store=function(a){mergeUnique(a,{maxItemsCount:10,exclude:-1,root:null,labelFrom:"From&nbsp;",labelSale:"Sale",labelQuickView:"Quick View",labelAddBtn:a.storeProcess==="cart"?"Add To Cart":"Buy Now",labelSoldOut:"Sold Out",baseUrl:"",itemsPerRow:4,itemGap:1,showProductName:true,showProductPrice:true,hasProductQuickView:false,autoChangeSlides:false,autoChangeSlidesTimeout:4000,layout:"grid",fakeGallery:false,productLayout:"text-boxed",itemsType:"products",storeItems:[],discountBadgeType:"none",currency:WebPlatform.Store.currency,currencySymbol:WebPlatform.Store.currencySymbol,currencySymbolAtLeft:WebPlatform.Store.currencySymbolAtLeft,imageSize:80,imageSizeType:"",storeProcess:"buy",includeAddToCartButton:false,sort:""});if(a.root===null){a.root=$([])}if(window.ClientTools&&a.root[0].offsetParent===null){return}a.fakeGallery=a.fakeGallery&&a.layout!=="grid";if(a.fakeGallery){a.itemWidth=(100-a.itemsPerRow*a.itemGap)/a.itemsPerRow}else{a.itemWidth=(100-((a.itemsPerRow-1)*a.itemGap))/a.itemsPerRow}WebPlatform.addAccumulatedRequest({action:a.itemsType==="latest"?"getLatestStoreItems":a.itemsType==="products"?"getStoreItems":"getStoreItemsByCategory",params:{itemIds:a.storeItems,items:a.itemsType==="latest"?a.maxItemsCount:0,sort:a.sort},onOk:function(h){var m=a.layout==="grid"||a.fakeGallery,e=[],j=a.itemsType!=="products",t=a.itemsType==="latest";for(var g=0;g<h.length;++g){var b=h[g];if(a.maxItemsCount>0&&e.length>=a.maxItemsCount){break}if(b.id===a.exclude){continue}if(t){e.push(b)}else{if(j){for(var o=0;o<b.categories.length;++o){if(a.storeItems.indexOf(b.categories[o].id)>-1){e.push(b);break}}}else{if(a.storeItems.indexOf(b.id)>-1){e.push(b)}}}}var d=e.length;if(a.fakeGallery){d=Math.min(a.itemsPerRow,e.length)}if(m){var q='<div class="products-list">'}else{var q='<div class="products-list inline-gallery" data-autoplay="true" data-pauseonhover="true" data-arrows="true" data-items="'+a.itemsPerRow+'" data-timeout="'+(a.autoChangeSlides?a.autoChangeSlidesTimeout:"86400000")+'" data-pagination="false">'}var k=a.root.closest(".grid-row").hasClass("grid-row-fullwidth")?4:3;for(var g=0;g<d;++g){var b=e[g],c=(g<a.itemsPerRow?0:(a.itemGap+"%")),l=0,f=((g+1)%a.itemsPerRow===0?0:(a.itemGap+"%"));if(a.fakeGallery){c=0;l=f=(a.itemGap/2)+"%"}var p;if(m){p="width: "+a.itemWidth+"%; margin: "+c+" "+f+" 0 "+l+"; "}else{p="width: "+(a.itemWidth*a.itemsPerRow)+"%; margin: 0 auto; float: none;"}q+='<div class="product-item '+a.imageSizeType+" "+(a.hasProductQuickView?" with-quick-view ":"")+'" data-slide="" data-idx="'+g+'" data-id="'+b.id+'" style="'+p+'">';var s=resources+"/images/product-avatar.svg";if(b.images!==null&&b.images.length>0){if(a.itemsPerRow<k){s=getFileFromBase(b.images[0].base)+b.images[0].name}else{s=getThumbnailsFromBase(b.images[0].base,"640x480")+b.images[0].name}}var r="";if(a.imageSizeType!==""){r+="padding-bottom: "+a.imageSize+"%;";if(a.imageSizeType==="cover-image"){r+="background: url('"+s+"') no-repeat center center;";r+="background-size: cover;"}}q+='<div class="product-main-photo has-badge" style="'+r+'"><div class="product-photo-inner-wrapper">';var n=' href="'+a.baseUrl+b.url+'" ';if(WebPlatform.Funnels.isInFunnel()&&WebPlatform.Funnels.hideProductLinks){n=""}q+="<a"+n+">";if(a.discountBadgeType!=="none"&&b.onSale&&b.price>0){q+='<div class="product-badge">';if(a.discountBadgeType==="text"){q+=a.labelSale}else{if(a.discountBadgeType==="percent"){q+=-b.roundedDiscountInPercent+"%"}else{q+=WebPlatform.currToStr(-b.roundedDiscount,a.currencySymbol,a.currencySymbolAtLeft,a.currency)}}q+="</div>"}q+='<img src="'+s+'" alt="'+WebPlatform.escapeHtml(b.name)+'" />';q+="</a></div>";q+="</div>";if(a.showProductName||a.showProductPrice){q+='<div class="product-item-description"><div><div>';if(a.showProductName){q+="<h3><a"+n+' class="highlightColor">'+WebPlatform.escapeHtml(b.title)+"</a></h3>"}if(a.showProductPrice){q+='<span class="product-item-price"><a'+n+">";if(b.priceComposite){q+=a.labelFrom}q+=WebPlatform.currToStr(b.onSale?b.salePrice:b.price,a.currencySymbol,a.currencySymbolAtLeft,a.currency);if(b.onSale){q+='<span class="scratched">'+WebPlatform.currToStr(b.price,a.currencySymbol,a.currencySymbolAtLeft,a.currency)+"</span>"}if(b.subscriptionPeriod){q+=' <span style="font-size: 0.9em">/ '+b.subscriptionPeriod+"</span>"}q+="</a></span>"}q+="</div></div></div>"}if(a.hasProductQuickView){q+='<div class="quick-view-btn" data-role="viewProduct"><a>'+a.labelQuickView+"</a></div>"}if(a.includeAddToCartButton){q+='<div class="add-to-btn-wrapper col20 f-left">';if(b.type==="digital"||b.variations.length>0||b.quantity===null||b.quantity===""||b.quantity>0){q+='<a data-role="'+(b.variations.length>0?"viewProduct":"addToCart")+'" data-process="'+a.storeProcess+'" class="primaryColor-bg2 add-to-cart">';q+=a.labelAddBtn;q+="</a>"}else{q+='<div class="sold-out-btn">'+a.labelSoldOut+"</div>"}q+="</div>"}q+="</div>"}if(a.fakeGallery){q+='<a class="tos-prev" style="opacity: 1"><span></span></a>';q+='<a class="tos-next" style="opacity: 1"><span></span></a>'}q+="</div>";a.root.find(".product-list-wrapper").attr("class","product-list-wrapper full-width-layout col20 f-left products-per-row-"+a.itemsPerRow+" product-list-style-"+a.productLayout+(a.imageSizeType!==""?" image-positioned":"")).html(q);if(a.hasProductQuickView||a.includeAddToCartButton){a.root.on("mousedown",'[data-role="viewProduct"]',function(){var i=$(this).closest(".product-item").data("id");WebPlatform.Store.showProductInQuickView(i);return false})}if(a.includeAddToCartButton){a.root.on("mousedown",'[data-role="addToCart"]',function(){var i=$(this);var u=i.closest(".product-item");var w=u.data("id");var v=i.data("process");WebPlatform.Store.addProductToCart(w,v);return false})}if(!m){WebPlatform.refreshInlineGallery(a.root.find(".inline-gallery"))}}})};WebPlatform.Members=WebPlatform.Members||{};WebPlatform.Store=WebPlatform.Store||{};extend(WebPlatform.Store,{hideUnavailableVariations:false,activePage:"",editable:true,cart:undefined,cartTargets:null,quickViewProductRowTemplate:'<div class="cart-row %editableClass% %notAvailableClass%" data-index="%index%" data-product="%productId%">         <div class="image">           <a href="%baseUrl%/%url%" class="highlightColor">%image%</a>         </div>          <div class="product-summary">           <div class="product-info">             <h4 class="col20 f-left"><a href="%baseUrl%/%url%" class="highlightColor">%title%</a></h4>             <span class="col20 f-left %variationsCls%">%variation%</span>             <div class="qty f-left col20 %quantityWrapperClass%">               <div class="number-selector f-left flex align-center">                 <a class="number-pad" data-role="-1" style="line-height: 23px;">-</a>                 <input %disabledAttr% class="cart-row-quantity" type="number" size="4" step="1" max="9999" min="1" value="%quantity%" />                 <a class="number-pad" data-role="+1">+</a>               </div>             </div>           </div>           <span class="row-total">%price%</span>           <a class="row-delete %deleteClass%"><i class="fa fa-trash-o"></i></a>        </div>     </div>',storeProductRowTemplate:'<div class="cart-row cart-row-new %editableClass% %notAvailableClass% %additionalClz%" data-index="%index%" data-product="%productId%">         <div class="image">           <a href="%baseUrl%/%url%" class="highlightColor">%image%</a>         </div>         <div class="product-info">           <h4 class="col20 f-left"><a href="%baseUrl%/%url%" class="highlightColor">%title%</a></h4>           <span class="col20 f-left %variationsCls%">%variation% <a class="variations-update f-none">%changeText%</a></span>           <div class="qty f-left col20 %quantityWrapperClass%">             <div class="number-selector f-left flex align-center">               <a class="number-pad" data-role="-1" style="line-height: 23px;">-</a>               <input %disabledAttr% class="cart-row-quantity" type="number" size="4" step="1" max="9999" min="1" value="%quantity%" />               <a class="number-pad" data-role="+1">+</a>             </div>           </div>         </div>         <span class="row-total">%price%</span>         <a class="row-delete %deleteClass%"><i class="fa fa-trash-o"></i></a>    </div>',storeProductRowTemplateNoLinks:'<div class="cart-row cart-row-new %editableClass% %notAvailableClass% %additionalClz%" data-index="%index%" data-product="%productId%">         <div class="image">%image%</div>         <div class="product-info">           <h4 class="col20 f-left">%title%</h4>           <span class="col20 f-left %variationsCls%">%variation% <a class="variations-update f-none">%changeText%</a></span>           <div class="qty f-left col20 %quantityWrapperClass%">             <div class="number-selector f-left flex align-center">               <a class="number-pad" data-role="-1" style="line-height: 23px;">-</a>               <input %disabledAttr% class="cart-row-quantity" type="number" size="4" step="1" max="9999" min="1" value="%quantity%" />               <a class="number-pad" data-role="+1">+</a>             </div>           </div>         </div>         <span class="row-total">%price%</span>         <a class="row-delete %deleteClass%"><i class="fa fa-trash-o"></i></a>    </div>',storeTaxRowTemplate:'<div class="subtotal-wrapper tax-wrapper">       <span class="subtotal"></span>       <span class="subtotal-price tax-value"></span>     </div>',Orders:(function(){var c={};var b={};var d={};var a=function(f,h){if(h.hasClass("order-rendered")){return}var j=f.id;var i=function(k){k=k||{};k.orderId=f.id;k.products=JSON.stringify(f.products||[]);k.funnel=f.funnelId;k.funnelStep=f.funnelStepId;k.funnelStepVariant=f.funnelStepVariantId;return k};h.on("click",".checkout-item-cbx:not(.checked)",function(k){k.stopPropagation();k.preventDefault();return false});var e=function(n){if(n<0){return -1}var m=h.find(".cart-table .fake-checkbox").length>0;if(!m){return n}var k=(c[j]||{}).items||[];for(var l=0;l<=n;++l){if(l>=k.length){break}if(k[l].bump){++n}}if(n>=k.length){return -1}return n};var g=function(k,l){k=e(k);if(k<0){return}WebPlatform.makeClientWebsiteRequest({action:"updateCart",data:i({type:"update",index:k,quantity:l}),onOk:function(n){if(n.data.error){WebPlatform.showClientError(n.data.error)}var m=n.data.cart;WebPlatform.Store.Orders.set(j,m);WebPlatform.Store.updateCartNumber(m.size,false);WebPlatform.Events.trigger(document,WebPlatform.Events.ORDER_CHANGED,{id:j,order:m})}})};h.on("click",".row-delete",function(n){var o=$(this).closest(".cart-row");if(o.hasClass("update-disabled")){return}var k=e(o.data("index"));if(k<0){return}var l=(c[j]||{}).items||[];var m=k<l.length?l[k]:null;WebPlatform.makeClientWebsiteRequest({action:"updateCart",data:i({type:"remove",index:k}),onOk:function(q){if(m){WebPlatform.Store.reportRemoveFromCart(m,WebPlatform.Store.currency)}var p=q.data;WebPlatform.Store.Orders.set(j,p);WebPlatform.Store.updateCartNumber(p.size,false);WebPlatform.Events.trigger(document,WebPlatform.Events.ORDER_CHANGED,{id:j,order:p})}});n.stopPropagation();n.preventDefault();return false}).on("click",".number-pad",function(){var n=$(this);var o=n.closest(".cart-row");if(o.hasClass("update-disabled")){return}var k=o.data("index");if(k<0){return}var m=WebPlatform.parse(o.find(".cart-row-quantity").val(),0,false);var l=m+(n.data("role")===-1?-1:1);if(l<1){return}g(k,l)}).on("change",".cart-row-quantity",function(){var m=$(this);var n=m.closest(".cart-row");if(n.hasClass("update-disabled")){return}var k=n.data("index");if(k<0){return}var l=WebPlatform.parse(m.val(),0,false);g(k,l)}).on("click",".discount-code-btn",function(){var k=h.find(".apply-code-input").val();WebPlatform.makeClientWebsiteRequest({action:"applyDiscountCode",data:i({code:k}),onOk:function(l){WebPlatform.Store.Orders.set(j,l.data);WebPlatform.Events.trigger(document,WebPlatform.Events.ORDER_CHANGED,{id:j,order:l.data})}})}).on("click",".promo-code-toggle-btn",function(){h.find(".coupon-code-wrapper").toggleClass("none")}).on("click",".remove-discount-btn",function(){if($(this).hasClass("none")){return}WebPlatform.makeClientWebsiteRequest({action:"removeDiscount",data:i({}),onOk:function(k){WebPlatform.Store.Orders.set(j,k.data);WebPlatform.Events.trigger(document,WebPlatform.Events.ORDER_CHANGED,{id:j,order:k.data})}})})};return{get:function(e,f){if(typeof e==="string"){e={orderId:e}}var g=e.orderId||"cart";if(isUndefined(c[g])){WebPlatform.makeClientWebsiteRequest({action:"getOrder",data:e,onOk:function(j){var i=j.data.order;c[g]=i;if(g==="cart"){WebPlatform.Store.cart=i}var h={uid:j.uid};if(e.policies){h.policies=j.data.policies}if(e.paymentOptions){h.paymentOptions=j.data.paymentOptions}if(e.pickProducts){h.pickProducts=j.data.pickProducts}f(i,h)}})}else{f(c[g])}},reset:function(e){delete c[e]},set:function(i,f){c[i]=f;if(i==="cart"){WebPlatform.Store.cart=f}var h=b[i]||[];for(var e=0;e<h.length;++e){var g=h[e];if(g&&$.contains(document,g[0])){WebPlatform.Store.renderOrder(f,g,d[i]||[])}else{h.splice(e--,1)}}},bind:function(g,f){if(f.hasClass("order-rendered")){return}if(typeof g==="string"){g={orderId:g}}g=mergeUnique(g||{},{id:"cart",products:[],funnelId:-1,stepId:-1,variantId:-1});var i=g.id;var h=b[i];if(!h){b[i]=h=[]}if(g.pickProducts&&g.pickProducts.length>0){d[i]=g.pickProducts}h.push(f);a(g,f);var e=c[i];if(!isUndefined(e)){WebPlatform.Store.renderOrder(e,f,d[i]||[])}f.addClass("order-rendered")}}})(),renderCart:function(){var b=$('div[data-role="cart-box"]').not(".order-rendered");var a=b.find(".loader").addClass("active-loading").removeClass("none");WebPlatform.Store.Orders.get("cart",function(d){a.removeClass("active-loading").addClass("none");var c=0;if(d!==null&&d.items&&d.items.length){d.items.forEach(function(e){c+=e.quantity})}b.each(function(e,f){WebPlatform.Store.Orders.bind({id:"cart"},$(f))});WebPlatform.Store.updateCartNumber(c,false)})},subscriptionToStr:function(b){if(b!==null){var c=b.period;var a=b.periodUnit;if((c%12===0)&&a===1){c=c/12;return c==1?WebPlatform.Phrases["label.year"]:(c+"-"+WebPlatform.Phrases["label.years_lower"])}else{if(a===0){return c==1?WebPlatform.Phrases["label.week_lower"]:(c+"-"+WebPlatform.Phrases["label.weeks_lower"])}else{return c==1?WebPlatform.Phrases["label.month"]:(c+"-"+WebPlatform.Phrases["label.months_lower"])}}}},renderOrder:function(K,a,ab){var y=a;var b=y.hasClass("cart-preview");var O=!!y.data("showOldPrices");var k=!!y.data("inFunnel");var A=false;var C=y.find(".checkouts-wrapper").data("pickQuantity")===true;ab=ab||[];if(K===null||K.items.length===0){y.find(".cart-items-wrapper").addClass("none");y.find(".cart-empty-wrapper").removeClass("none")}else{var x=y.find(".cart-table");var r=x.hasClass("simple-table");x.empty();var P="";var I=0;var U=K.id!=="cart"&&ab.length>1;var w=[];if(U){ab.forEach(function(ac){var ad=false;for(var i=0;i<K.items.length;++i){if(K.items[i].productId===ac.productId){ac=K.items[i];ad=true;break}}w.push({item:ac,inOrder:ad})})}else{K.items.forEach(function(i){w.push({item:i,inOrder:true})})}var R=0;for(var Y=0;Y<w.length;++Y){var E=w[Y].item;var g=w[Y].inOrder;var e;if(E.images===null||E.images.length===0){e='<img src="'+resources+'/images/product-avatar.svg" alt="">'}else{e='<img src="'+getThumbnailsFromBase(E.images[0].base,"640x480")+E.images[0].name+'" alt="" />'}var S="";for(var V=0;V<E.variation.length;++V){if(V>0){S+=", "}S+=WebPlatform.escapeHtml(E.variation[V].value)}for(var V=0;V<E.additions.length;++V){S+=(S===""?"":", ")+WebPlatform.escapeHtml(E.additions[V].name)+": "+WebPlatform.escapeHtml(E.additions[V].value)}var L=E.quantityAvailable===true;if(!L){A=true}var Z=WebPlatform.currToStr(E.price,WebPlatform.Store.currencySymbol,WebPlatform.Store.currencySymbolAtLeft,WebPlatform.Store.currency);if(O&&E.onSale){var aa=WebPlatform.currToStr(E.basePrice,WebPlatform.Store.currencySymbol,WebPlatform.Store.currencySymbolAtLeft,WebPlatform.Store.currency);Z='<span class="checkout-old-price">'+aa+"</span>"+Z;if(g){I+=(E.basePrice-E.price)}}if(E.subscription){if(r){Z+=" / "+WebPlatform.Store.subscriptionToStr(E.subscription)}else{Z+='<span class="item-subscription-period"> / '+WebPlatform.Store.subscriptionToStr(E.subscription)+"</span>"}}var h=E.productWithVariations&&(!E.variation||E.variation.length===0);var D=h?"incomplete-item":"";var N=h?WebPlatform.Phrases["label.select_product_variant"]:(WebPlatform.Phrases["label.change"]||"change").toUpperCase();var B=!(E.isSubscription||E.type==="MEMBERSHIP"||window.noStoreQuantityChange);var v=!E.productWithVariations;if(U){D+=" fake-checkbox checkout-item-cbx";if(g){D+=" checked"}}var j=K.clientSessionId!=="cart";var o=j||WebPlatform.Funnels&&WebPlatform.Funnels.hideProductLinks;var G=!j;var t=E.quantity>1||B&&(!j||C);var u;if(o){u=WebPlatform.Store.storeProductRowTemplateNoLinks}else{if(b){u=WebPlatform.Store.quickViewProductRowTemplate}else{u=WebPlatform.Store.storeProductRowTemplate}}P+=WebPlatform.format(u,"baseUrl",WebPlatform.Store.baseUrl,"editableClass",G||t?"":"update-disabled","deleteClass",G?"":"none","disabledAttr",t?"":"disabled","quantityWrapperClass",t?"":"none","notAvailableClass",L?"":"not-available","index",g?R++:-1,"url",E.url,"productId",E.productId,"title",WebPlatform.escapeHtml(E.title),"additionalClz",D,"changeText",N,"variationsCls",v?"none":"","image",e,"variation",S,"quantity",E.quantity,"price",Z)}x.append(P);if(A){x.append($('<span class="error-message"></span>').text(WebPlatform.Store.notEnoughQuantityMessage))}y.find(".remove-discount-btn, .promo-code-toggle-btn").removeClass("none");var q=y.find(".no-discount-wrapper");var l=y.find(".subtotal-value");l.text(WebPlatform.currToStr(K.subTotalNoDiscount,WebPlatform.Store.currencySymbol,WebPlatform.Store.currencySymbolAtLeft,WebPlatform.Store.currency));var c=false;if(K.discount!==null){q.hide()}else{if(q.length>0){q.show()}else{c=true}}var n=y.find(".product-discount-wrapper");if(K.discount!==null&&K.discount.type!=="FREE_SHIPPING"&&K.subTotalNoDiscount!==K.subTotal){n.find(".subtotal-price").text(WebPlatform.currToStr(K.subTotal-K.subTotalNoDiscount,WebPlatform.Store.currencySymbol,WebPlatform.Store.currencySymbolAtLeft,WebPlatform.Store.currency));n.find(".subtotal>span").text(K.discount.name+(" ("+K.discount.code+")")+":");n.show();c=false}else{n.hide();c=c&&true}if(K.preShippingTaxes!==null&&K.preShippingTaxes.length>0){var d=y.find(".pre-shipping-tax-wrapper").empty();for(var V=0;V<K.preShippingTaxes.length;++V){var H=K.preShippingTaxes[V],p=H.type,W=p===0?(H.amount+"%"):WebPlatform.currToStr(H.amount,WebPlatform.Store.currencySymbol,WebPlatform.Store.currencySymbolAtLeft,WebPlatform.Store.currency),J=H.name+(p===0?(" ("+W+")"):"")+":",F=WebPlatform.currToStr(H.total,WebPlatform.Store.currencySymbol,WebPlatform.Store.currencySymbolAtLeft,WebPlatform.Store.currency),P=$(WebPlatform.Store.storeTaxRowTemplate);P.find(".subtotal").text(J);P.find(".tax-value").text(F);d.append(P)}d.show();c=false}else{y.find(".pre-shipping-tax-wrapper").hide();c=c&&true}if(K.shipping!==null){var f=y.find(".shipping-wrapper");f.find(".shipping > span").text("("+K.shipping.name+")");f.find(".shipping-value").text(WebPlatform.currToStr(K.shipping.cost,WebPlatform.Store.currencySymbol,WebPlatform.Store.currencySymbolAtLeft,WebPlatform.Store.currency));f.show();c=false}else{y.find(".shipping-wrapper").hide();c=c&&true}var z=y.find(".shipping-discount-wrapper");if(K.discount!==null&&K.discount.type==="FREE_SHIPPING"){var s=K.shipping!==null?WebPlatform.currToStr(K.shipping.cost,WebPlatform.Store.currencySymbol,WebPlatform.Store.currencySymbolAtLeft,WebPlatform.Store.currency):"-";z.find(".subtotal-price").text(s);z.find(".subtotal>span").text(K.discount.name+(" ("+K.discount.code+")")+":");z.show();c=false}else{z.hide();c=c&&true}if(K.postShippingTaxes!==null&&K.postShippingTaxes.length>0){var m=y.find(".post-shipping-tax-wrapper").empty();for(var V=0;V<K.postShippingTaxes.length;++V){var H=K.postShippingTaxes[V],p=H.type,W=p===0?(H.amount+"%"):WebPlatform.currToStr(H.amount,WebPlatform.Store.currencySymbol,WebPlatform.Store.currencySymbolAtLeft,WebPlatform.Store.currency),J=H.name+(p===0?(" ("+W+")"):"")+":",F=WebPlatform.currToStr(H.total,WebPlatform.Store.currencySymbol,WebPlatform.Store.currencySymbolAtLeft,WebPlatform.Store.currency),P=$(WebPlatform.Store.storeTaxRowTemplate);P.find(".subtotal").text(J);P.find(".tax-value").text(F);m.append(P)}m.show();c=false}else{y.find(".post-shipping-tax-wrapper").hide();c=c&&true}if(h&&r){c=false}if(r){if(c){l.closest(".no-discount-wrapper, .subtotal-wrapper").addClass("none");l.closest(".checkout-totals").find(".simple-table").css("border","none")}else{l.closest(".no-discount-wrapper, .subtotal-wrapper").removeClass("none");l.closest(".checkout-totals").find(".simple-table").css("border","")}}else{l.closest(".checkout-totals")[c?"hide":"show"]()}var Q=WebPlatform.currToStr(K.total,WebPlatform.Store.currencySymbol,WebPlatform.Store.currencySymbolAtLeft,WebPlatform.Store.currency);if(O&&I>0){var X=WebPlatform.currToStr(K.total+I,WebPlatform.Store.currencySymbol,WebPlatform.Store.currencySymbolAtLeft,WebPlatform.Store.currency);Q='<span class="checkout-old-price old-grand-total">'+X+"</span>"+Q}y.find(".grand-total").html(Q);y.find(".cart-empty-wrapper").addClass("none");y.find(".cart-items-wrapper").removeClass("none")}},updateCartNumber:function(b,e){var d=$(".cart-button, .shopping-cart");var a=d.find(".cart-items-number");if(b===0){a.addClass("none");d.filter(".shopping-cart-mobile, .shopping-cart-smaller").addClass("none")}else{d.removeClass("none");a.text(b).removeClass("none pulse")}if(e&&!WebPlatform.Store.atCheckout){var f=WebPlatform.Funnels.isInFunnel();var g;if(f){g="javascript: WebPlatform.Funnels.showNextStepOrCheckout();"}else{g=WebPlatform.Store.baseUrl+"/cart"}if(b>0&&f&&!!WebPlatform.Funnels.showCheckoutButton){$(".next-step-popup").removeClass("none");if(WebPlatform.Funnels.checkoutButtonTarget){g=WebPlatform.Funnels.checkoutButtonTarget}}else{$(".next-step-popup").addClass("none")}var c='<a href="'+g+'">'+WebPlatform.Phrases["label.checkout_now"]+"</a>";WebPlatform.showClientMessage(WebPlatform.Store.productAddedToCart+c,6000);WebPlatform.delay(10,function(){a.addClass("pulse");a=null})}},initOrderUI:function(b,a){},removeProductFromCart:function(a,b){WebPlatform.Store.Orders.get("cart",function(f){if(f&&f.items){var e=null;var d=-1;for(var c=0;c<f.items.length;++c){if(f.items[c].productId===a){d=c;e=f.items[c];break}}if(d>=0){WebPlatform.makeClientWebsiteRequest({action:"updateCart",data:{orderId:"cart",products:"[]",type:"remove",index:d},onOk:function(h){WebPlatform.Store.reportRemoveFromCart(e,WebPlatform.Store.currency);var g=h.data;WebPlatform.Store.Orders.set("cart",g);WebPlatform.Store.updateCartNumber(g.size,false);WebPlatform.Events.trigger(document,WebPlatform.Events.ORDER_CHANGED,{id:"cart",order:g});if(b){b()}}})}}})},addProductToOrder:function(a,c,b,d){WebPlatform.makeClientWebsiteRequest({action:"getStoreProduct",data:{id:a},onOk:function(e){var h=e.data;if(h.variations.length>0){WebPlatform.Store.showLoadedProductInQuickView({product:h,activeOrderDetails:b,onAddedToOrder:function(){if(d){d()}},storeProcess:c})}else{var f={productId:h.id,quantity:1,combination:-1,variation:[],price:h.onSale?h.salePrice:h.price};var g=b||{};g.orderId=g.orderId||"cart";g.option=JSON.stringify(f);g.process=c;WebPlatform.makeClientWebsiteRequest({action:"addToCart",data:g,onOk:function(j){WebPlatform.Store.reportAddToCart(j.uid,h,f,WebPlatform.Store.currency);var i=j.data;if(c==="buy"){var k=WebPlatform.Funnels.isInFunnel()&&WebPlatform.Funnels.show("next",true);if(!k){window.location.href=(WebPlatform.Store.baseUrl||"/store")+"/checkout"}}else{WebPlatform.Store.Orders.set(g.orderId,i);if(g.orderId==="cart"){WebPlatform.Store.updateCartNumber(i.size,true)}}if(d){d()}WebPlatform.Events.trigger(document,WebPlatform.Events.ORDER_CHANGED,{id:g.orderId,order:i})}})}}})},addProductToCart:function(a,b,c){WebPlatform.Store.addProductToOrder(a,b,null,c)},showLoadedProductInQuickView:function(a){mergeUnique(a,{product:null,activeOrderDetails:null,activeOrderItem:null,activeOrderItemIdx:-1,onAddedToOrder:dummy,storeProcess:"",noQuantity:false});var c=$(".quick-view-overlay");var b=function(e,d){c.removeClass("animate");WebPlatform.delay(300,function(){c.removeClass("visible").off(".product");c=null;if(d){d()}});if(e){e.stopPropagation();e.preventDefault()}b=null;return false};c.on("click.product",function(d){if(!$(d.target).hasClass("quick-view-overlay")){return}b(d)});c.on("click.product",'[data-role="close"]',b);c.addClass("visible");WebPlatform.delay(20,function(){c.addClass("animate");var d={view:c,product:a.product,populateStaticData:true,activeOrderDetails:a.activeOrderDetails,selectedOrderItem:a.activeOrderItem,selectedOrderItemIdx:a.activeOrderItemIdx,storeProcess:a.storeProcess,noQuantity:a.noQuantity,onAddedToCart:function(){var e=function(){if(a.onAddedToOrder){a.onAddedToOrder()}};if(b){b(null,e)}else{e()}}};if(a.onOptionSelected){d.onOptionSelected=a.onOptionSelected}if(!isUndefined(a.forcePrice)){d.forcePrice=a.forcePrice}WebPlatform.Store.showProductDetailsInView(d)})},showProductInQuickView:function(d,b,e,c,a){if(isUndefined(c)){c=-1}WebPlatform.makeClientWebsiteRequest({action:"getStoreProduct",data:{id:d},onOk:function(f){WebPlatform.Store.showLoadedProductInQuickView({product:f.data,activeOrderDetails:b,activeOrderItem:e,activeOrderItemIdx:c,onAddedToOrder:a})}})},renderProduct:function(a,c,b){WebPlatform.Store.showProductDetailsInView({view:a,product:c,populateStaticData:b})},showProductPopupDetails:function(c,g,e,d,b,a,h,f){WebPlatform.Store.showProductDetailsInView({view:c,product:g,populateStaticData:e,activeOrderDetails:d,selectedOrderItem:b,selectedOrderItemIdx:a,onAddedToCart:h,storeProcess:f})},showProductDetailsInView:function(w){mergeUnique(w,{root:null,product:null,populateStaticData:true,activeOrderDetails:null,selectedOrderItem:null,selectedOrderItemIdx:-1,onAddedToCart:dummy,storeProcess:"",noQuantity:false});var b=w.view,J=w.product,y=w.populateStaticData,V=w.activeOrderDetails,r=w.selectedOrderItem,d=w.selectedOrderItemIdx,P=w.onAddedToCart,a=w.storeProcess;var g,p,h,D,F,q,c,U=J.sku,H=J.price,s=J.salePrice||0,C=J.onSale,x=J.quantity===""||J.quantity===null?null:J.quantity,u=J.variations||[],f=J.combinations,z=[],t=WebPlatform.Store.hideUnavailableVariations,n=null,j=false;var m=function(){var aa,ad,Z=false,ac;n={productId:J.id,quantity:parseInt(b.find('[name="orderQuantity"]').val())||1,combination:-1,variation:[],additions:[],price:null};b.find(".product-additional-field input").each(function(ag,ah){n.additions.push({name:J.additions.fields[ag].name,value:ah.value})});var i=[];for(var af=0;af<u.length;++af){var Y=u[af];var ae=g.find('[name="'+Y.name.replace('"','\\"')+'"]').val();n.variation.push({name:Y.name,value:ae});if(Y.advanced){i.push(ae)}}if(f.length===0){aa=C?s:H;ad=C?H:null;ac=U;Z=x===null||x>0}else{var X=-1;WebPlatform.cartesianProduct(z,function(ah){++X;for(var ag=0;ag<ah.length;++ag){if(ah[ag]!==i[ag]){return true}}return false});var ab=f[X];aa=ab.onSale?ab.salePrice:ab.price;ad=ab.onSale?ab.price:null;Z=ab.quantity===null||ab.quantity>0;ac=ab.sku;n.combination=ab.combination}if(Z){h.removeClass("none");D.addClass("none")}else{h.addClass("none");D.removeClass("none")}if(!isUndefined(w.forcePrice)){if(ad!==null&&w.forcePrice>=ad){ad=null}aa=w.forcePrice}if(ad===null){F.addClass("none")}else{F.text(WebPlatform.currToStr(ad,WebPlatform.Store.currencySymbol,WebPlatform.Store.currencySymbolAtLeft,WebPlatform.Store.currency)).removeClass("none")}c.text(WebPlatform.currToStr(aa,WebPlatform.Store.currencySymbol,WebPlatform.Store.currencySymbolAtLeft,WebPlatform.Store.currency));q.closest(".product-sku")[ac===""?"addClass":"removeClass"]("none");q.text(ac);n.price=aa;return Z};var l=function(){if(n===null||h.hasClass("disabled")){return}if(w.onOptionSelected){P();w.onOptionSelected(n);return}h.addClass("disabled");var i=V||{};if(d>-1){i.replaceIdx=d}i.orderId=i.orderId||"cart";i.option=JSON.stringify(n);i.process=a;WebPlatform.makeClientWebsiteRequest({action:"addToCart",data:i,onOk:function(Y){var X=Y.data;WebPlatform.Store.reportAddToCart(Y.uid,J,n,WebPlatform.Store.currency);if(j&&!V){var Z=WebPlatform.Funnels.isInFunnel()&&WebPlatform.Funnels.show("next",true);if(!Z){window.location.href=(WebPlatform.Store.baseUrl||"/store")+"/checkout"}}else{WebPlatform.Store.Orders.set(i.orderId,X);if(i.orderId==="cart"){WebPlatform.Store.updateCartNumber(X.size,true)}}WebPlatform.Events.trigger(document,WebPlatform.Events.ORDER_CHANGED,{id:i.orderId,order:X});P()},always:function(){h.removeClass("disabled")}})};var L=function(Z){var aa=b.find('[data-role="images"]');var i=aa.find(".product-main-photo").hasClass("with-lens-zoom");WebPlatform.removeLightbox(aa);if(Z===null||Z.length===0){aa.removeAttr("data-rel").html('<div class="product-main-photo"><img src="'+resources+"/images/product-avatar-big.svg?v="+resourcesVersion+'" alt=""></div>')}else{var af=aa.data("images")||[];if(Z.length===af.length){var X=false;for(var ac=0;ac<Z.length;++ac){if(Z[ac].name!==af[ac].name||Z[ac].base!==af[ac].base){X=true;break}}if(!X){return}}var ab="";var ae="";for(var ac=0;ac<Z.length;++ac){var Y=Z[ac];ae+='<div class="none" data-slide="'+getFileFromBase(Y.base)+Y.name+'"></div>';ab+="<li>";ab+='<a class="product-image '+(ac===0?"active":"")+'" data-name="'+Y.name+'" data-base="'+Y.base+'">';ab+=' <img src="'+getThumbnailsFromBase(Y.base,"72x50")+Y.name+'" alt="" />';ab+="</a>";ab+="</li>"}ae+='<div class="product-main-photo cursor-zoom'+(i?" with-lens-zoom":"")+'" data-idx="0"><div class="loader"></div>';ae+='<img src="'+getFileFromBase(Z[0].base)+Z[0].name+'" alt="" /></div>';if(Z.length>1){ae+='<ul class="product-photo-list">';ae+=ab;ae+="</ul>"}aa.attr("data-rel","lightbox");aa.html(ae);if(i){p=aa.find(".product-main-photo.with-lens-zoom");var ad=p.children("img");ad.ezPlus({zoomType:"lens",lensShape:"round",lensSize:250,containLensZoom:true,cursor:"pointer"});p.data("ez",ad.data("ezPlus"))}else{aa.removeClass(".with-tmdp-lightbox");WebPlatform.refreshLightboxes(aa,true)}}aa.data("images",Z)};if(y){b.find('[data-role="title"]').text(J.title);L(J.images);var g=b.find('[data-role="variations"]');var E="";for(var W=0;W<u.length;++W){var Q=u[W];var A=WebPlatform.escapeHtml(Q.name);var I=null;if(r&&r.variation&&r.variation[W]){I=r.variation[W].value}E+='<div class="variation-wrapper" data-name="'+A+'">';E+="<label>"+A+"</label>";E+='<select class="product-variation'+(Q.advanced?" advanced-variation":"")+'" name="'+A+'">';for(var S=0;S<Q.values.length;++S){var K=WebPlatform.escapeHtml(Q.values[S]);E+='<option value="'+K+'" '+(K===I?'selected="selected"':"")+">"+K+"</option>"}E+="</select></div>"}if(J.additions&&J.additions.fields&&J.additions.fields.length>0){for(var W=0;W<J.additions.fields.length;++W){var O=null;if(r&&r.additions&&r.additions[W]){O=r.additions[W].value}var k=J.additions.fields[W];E+='<div class="variation-wrapper product-additional-field"><label>'+WebPlatform.escapeHtml(k.name)+'</label><input type="text" '+(O?('value="'+WebPlatform.escapeHtml(O)+'"'):"")+" /></div>"}}g.html(E);var o=r||(WebPlatform.Funnels.isInFunnel()&&WebPlatform.Funnels.hideProductLinks);if(!o){b.find('[data-add="url"]').css("visibility","visible").attr("href",WebPlatform.Store.baseUrl+"/"+J.url)}else{b.find('[data-add="url"]').removeAttr("href");b.find(".view-details-btn").css("visibility","hidden")}}var e=b.find(".product-photo-container");p=b.find(".product-main-photo.with-lens-zoom");if(p.length>0){var B=p.children("img");B.ezPlus({zoomType:"lens",lensShape:"round",lensSize:250,containLensZoom:true,cursor:"pointer"});p.data("ez",B.data("ezPlus"))}b.on("click.product",".product-image",function(){var ac=$(this);var X=ac.parent().index();if(ac.hasClass("active")){return}var i=e.find(".loader");var ab=ac.data("base");var Z=ac.data("name");var aa=e.find(".product-main-photo");aa.data("idx",X);var Y=aa.find("img");Y.attr("src",getFileFromBase(ab)+Z);if(p.length>0){p.data("ez").swaptheimage(getFileFromBase(ab)+Z,getFileFromBase(ab)+Z)}i.addClass("active-loading");e.find(".active").removeClass("active");ac.addClass("active");WebPlatform.onImagesLoaded(aa,function(){i.removeClass("active-loading")})});g=b.find(".product-variations");h=b.find('[data-role="addToCart"]');D=b.find('[data-role="soldOut"]');F=b.find('[data-role="oldPrice"]');c=b.find('[data-role="currentPrice"]');if(J.subscriptionPeriod){b.find('[data-role="subPeriod"]').removeClass("none").text("/ "+J.subscriptionPeriod)}else{b.find('[data-role="subPeriod"]').addClass("none")}q=b.find('[data-role="sku"]');for(var S=0;S<u.length;++S){if(u[S].advanced){z.push(u[S].values)}}b.on("click.product",'[data-role="addToCart"]',l);b.on("change.product",'select, input, [name="orderQuantity"]',m);b.on("change.product","select",$.debounce(100,function(){var i=$(this);m();G(i.attr("name"),i.val())}));var R=function(Z,X){for(var i=0;i<u.length;++i){var Y=u[i];if(Y.name===Z){if(Y.images&&Y.images[X]&&Y.images[X].length){return Y.images[X]}break}}return[]};var G=function(aa,Y){var X=R(aa,Y);if(X.length===0){for(var i=0;i<n.variation.length;++i){var Z=n.variation[i];X=R(Z.name,Z.value);if(X.length){break}}}if(X.length===0){X=J.images}L(X)};if(t){var v=false;for(var W=0;W<f.length;++W){v=f[W].quantity!==0;if(v){break}}t=v}if(w.noQuantity||J.withSubscription||J.type==="membership"||J.type==="digital"){b.find(".qty-wrapper").hide()}j=(a||h.data("process"))==="buy";h.text(r?WebPlatform.Phrases["label.update"]:(!j?WebPlatform.Phrases["label.add_to_cart"]:WebPlatform.Phrases["label.buy_now"]));if(r){b.find('[name="orderQuantity"]').val(r.quantity||1)}if(t){var N=g.find(".advanced-variation");N.each(function(X,Y){var i=$(this).data("idx",X);i.change(function(){var aa=$(this);var Z=aa.data("idx");if((Z+1)<N.length){var ae="";for(var ac=0;ac<=Z;++ac){if(ae!==""){ae+=" \u25CF "}ae+=N.eq(ac).val()}if(ae!==""){ae+=" \u25CF "}var ad=N.eq(Z+1);var ab=ad.find("option").prop("hidden",true);ab.each(function(){var ag=ae+this.value;for(var af=0;af<f.length;++af){if(f[af].quantity!==0){if(f[af].name.indexOf(ag+" \u25CF ")===0||f[af].name===ag){this.hidden=false}}}});if(ad.find("option:selected").is("[hidden]")){ad.find("option:not([hidden])").eq(0).prop("selected",true)}ad.change()}if(Z===0&&!m()){var ad=N.eq(0);ad.find("option:selected").prop("hidden",true);ad.find("option:not([hidden])").eq(0).prop("selected",true);ad.change();m()}})});if(N.length>0){N.eq(0).change()}}m()},getOrderItemsToReport:function(b){var a=[];b.forEach(function(c){a.push({id:c.productId,quantity:c.quantity,item_price:c.price})});return a},getOrderProductIds:function(b){var a=[];b.forEach(function(c){a.push(c.productId)});return a},reportPurchase:function(g,c,e,k,a,j,b,f,d){var h=WebPlatform.Store.getOrderItemsToReport(e);WebPlatform.Events.trigger($("body"),WebPlatform.Events.ORDER_COMPLETED,{id:c,currency:(j||WebPlatform.Store.currency),total:k,items:h,customerName:b||WebPlatform.visitorName,customerEmail:f||WebPlatform.visitorEmail,order:d});if(WebPlatform.Store.fbPxId&&a!=="NewSubscription"){var i=WebPlatform.Store.getOrderProductIds(e);window.fbq("track",(a||"Purchase"),{contents:h,content_ids:i,currency:(j||WebPlatform.Store.currency),value:k,content_type:"product",num_items:h.length},{eventID:g||""})}if(window.gtag){gtag("event","purchase",{transaction_id:c+"",value:k,currency:(j||WebPlatform.Store.currency),items:WebPlatform.Store._getOrderProductsForGA(e)})}else{if(window.dataLayer&&window.dataLayer.push){window.dataLayer.push({event:"ecommerce",ecommerce:{purchase:{actionField:{id:c+"",revenue:k},products:WebPlatform.Store._getOrderProductsForGA(e)}}})}}},reportRemoveFromCart:function(b,a){var c=[];if(b.variation&&b.variation.length){b.variation.forEach(function(d){c.push(d.value)})}WebPlatform.Events.trigger($("body"),WebPlatform.Events.ORDER_REMOVE_FROM_CART,{currency:(a||WebPlatform.Store.currency),items:[{id:b.productId,name:b.title,price:b.price/b.quantity,variant:c.length?c.join(", "):"",quantity:b.quantity}]});if(window.gtag){gtag("event","remove_from_cart",{currency:a||WebPlatform.Store.currency,items:[{id:b.productId,name:b.title,price:b.price/b.quantity,variant:c.length?c.join(", "):"",quantity:b.quantity}]})}else{if(window.dataLayer&&window.dataLayer.push){window.dataLayer.push({event:"ecommerce",ecommerce:{currencyCode:(a||WebPlatform.Store.currency).toUpperCase(),remove:{products:[{id:b.productId,name:b.title,price:b.price/b.quantity,variant:c.length?c.join(", "):"",quantity:b.quantity}]}}})}}},reportAddToCart:function(c,e,d,a){var b=[];if(d.variation&&d.variation.length){d.variation.forEach(function(f){b.push(f.value)})}WebPlatform.Events.trigger($("body"),WebPlatform.Events.ORDER_ADD_TO_CART,{currency:(a||WebPlatform.Store.currency),items:[{id:e.id,name:e.title,price:d.price,variant:b.length?b.join(", "):"",quantity:d.quantity}]});if(WebPlatform.Store.fbPxId){window.fbq("track","AddToCart",{content_ids:[""+e.id],content_type:"product",content_name:e.title,currency:(a||WebPlatform.Store.currency),value:d.price,num_items:d.quantity},{eventID:c||""})}if(window.gtag){gtag("event","add_to_cart",{currency:a||WebPlatform.Store.currency,items:[{id:e.id,name:e.title,price:d.price,variant:b.length?b.join(", "):"",quantity:d.quantity}]})}else{if(window.dataLayer&&window.dataLayer.push){window.dataLayer.push({event:"ecommerce",ecommerce:{currencyCode:(a||WebPlatform.Store.currency).toUpperCase(),add:{products:[{id:e.id,name:e.title,price:d.price,variant:b.length?b.join(", "):"",quantity:d.quantity}]}}})}}},_getOrderProductsForGA:function(a){var b=[];a.forEach(function(d){var c=[];if(d.variation&&d.variation.length){d.variation.forEach(function(e){c.push(e.value)})}b.push({id:d.productId,name:d.title,price:d.price/d.quantity,variant:c.length?c.join(", "):"",quantity:d.quantity})});return b},reportInitiateCheckout:function(c,a,b){if(a===null||!a.items||a.items.length===0){return}WebPlatform.Events.trigger($("body"),WebPlatform.Events.ORDER_INITIATE_CHECKOUT,{currency:(b||WebPlatform.Store.currency),items:WebPlatform.Store._getOrderProductsForGA(a.items)});if(WebPlatform.Store.fbPxId){window.fbq(c,"track","InitiateCheckout",{content_type:"product",contents:WebPlatform.Store.getOrderItemsToReport(a.items),content_ids:WebPlatform.Store.getOrderProductIds(a.items),currency:b||WebPlatform.Store.currency,value:a.total,num_items:a.items.length})}if(window.gtag){gtag("event","begin_checkout",{currency:b||WebPlatform.Store.currency,items:WebPlatform.Store._getOrderProductsForGA(a.items)})}else{if(window.dataLayer&&window.dataLayer.push){window.dataLayer.push({event:"ecommerce",ecommerce:{checkout:{actionField:{step:1},products:WebPlatform.Store._getOrderProductsForGA(a.items)}}})}}},reportAddPaymentDetails:function(a,b){if(window.gtag){gtag("event","add_payment_info",{currency:b||WebPlatform.Store.currency,items:WebPlatform.Store._getOrderProductsForGA(a.items)})}else{if(window.dataLayer&&window.dataLayer.push){window.dataLayer.push({event:"ecommerce",ecommerce:{checkout:{actionField:{step:2},products:WebPlatform.Store._getOrderProductsForGA(a.items)}}})}}},goToThankYouPage:function(a,b){a=WebPlatform.parse(a);var c=function(d){if(d.toLowerCase().trim().indexOf("http")===0){ClientTools.showLoader()}window.location.href=d};b=(b||"").trim();if(b.toLowerCase().indexOf("javascript:")===0){if(b.toLowerCase().replace(/'"/g,"").indexOf("webplatform.funnels.show(next)")>-1){b="javascript:WebPlatform.Funnels.show('next', false, false)"}}if(WebPlatform.Funnels.isInFunnel()){WebPlatform.Funnels.tryShowNextUpsell(a||0,function(){c(b)})}else{c(b)}}});WebPlatform.Popups=WebPlatform.Popups||{};WebPlatform.Popups.POPUP_MARKUP='<div data-id="%id%" id="platform-popup-%id%" class="popup-wrapper %animationClass% %bgClass% %positionClass% %overlayBgClass%"><div class="popup-overlay" style="%overlayBg%;"></div></div>';WebPlatform.Popups.POPUP_BOX_MARKUP='<div class="wrapping-table">     <div class="popup-container" style="width: %width%;">       <div class="popup-container-inner">         <a class="popup-close-btn %btnColorClass%" style="%btnColor%;">&#10005;</a>         <div class="popup-content-wrapper %contentBgColorClass%" style="%contentBgColor%; padding: %contentPadding%px; %contentSize%"><div class="popup-content"></div></div>         <div class="popup-background-wrapper" style="%bgSize%"></div>       </div>     </div>   </div>';WebPlatform.Popups.prompt=function(d,c,b,e){var a='            <div class="simple-client-popup">              <h4>'+d+'</h4>              <div class="col20 f-left text-center mt-45">                <a data-role="close" class="inline-block text-btn" style="margin-right: auto; font-size: 14px;">'+(e||WebPlatform.Phrases["label.no"])+'</a>                <button data-role="confirm" class="save-changes inline-block mt-0" data-role="confirm">'+(b||WebPlatform.Phrases["label.yes"])+"</button>              </div>            </div>";WebPlatform.Popups.showSimplePopup(a,400,function(f,g){g.find('[data-role="confirm"]').click(function(){f.close();(c||dummy)()})})};WebPlatform.Popups.showSimplePopup=function(c,b,e){var a=$('<div class="popup-wrapper at-center simple-popup">         <div class="popup-overlay" style="background: rgba(0, 0, 0, 0.7);"></div>           <div class="popup-container" style="width: '+b+'px;">             <a class="close-btn"></a>'+c+"</div>       </div>");var d=function(){a.removeClass("visible");WebPlatform.onTransitionEnd(a,function(){a.remove();a=null},300)};a.one("click",'.close-btn, [data-role="close"]',d);$("body").append(a);WebPlatform.delay(20,function(){a.addClass("visible");(e||dummy)({close:d},a)})};WebPlatform.Popups.setDefaults=function(a){mergeUnique(a,{name:"",pages:[],showOnExit:false,animationType:"popup-fade",showPopupWithDelay:false,popupDelay:3,showPopupOnScroll:false,scrollDistance:15,popupShowFrequency:"once",size:50,overlayColor:"#000000",overlayColorClass:"",overlayTransparency:30,closeBtnColor:"#000000",closeBtnColorClass:"",contentBgColor:"#ffffff",contentBgColorClass:"",contentPadding:30,backgroundType:"background-none",position:"at-center",width:500,height:300,bgImage:"none",bgImageBase:"",bgColor:"#333333",bgRepeat:"no-repeat",bgSize:"cover",bgPosition:"center center",showOnMobile:false,thumbImage:"none",thumbImageBase:"",visibleAsTemplate:false});return a};WebPlatform.Popups.setBackground=function(b,d){var h=b.find(".popup-background-wrapper");var f=d.bgRepeat;var e=d.bgSize;var a=d.bgPosition;var g=d.bgImage==="none"?"none":"url("+getFileFromBase(d.bgImageBase)+d.bgImage+")";var c=d.bgColor;h.css({backgroundColor:c,backgroundPosition:a,backgroundImage:g,backgroundRepeat:f,backgroundSize:e})};WebPlatform.Popups.show=function(c,f,g,e){var h,a,d,b=false;if(typeof c==="object"){h=c.id;a=c.funnelId;d=c.variant;b=c.isTemplate===true}else{h=c}if($("#platform-popup-"+h).length>0){return}WebPlatform.makeClientWebsiteRequest({action:"getPopup",data:{id:h,funnelId:a,variant:d,preview:f?"":WebPlatform.getUrlQueryParameter(window.location.href,"preview"),edit:!!f,isTemplate:b},onOk:function(n){var m=n.data.settings||{};var p=n.data.content||"";m.name=n.data.name;WebPlatform.Popups.setDefaults(m);var k,o,r=m.backgroundType==="background-top"||m.backgroundType==="background-bottom";if(r){k="";o="height: "+m.size+"px;"}else{k="width: "+m.size+"%;";o="width: "+(100-m.size)+"%;"}var q,l="";if(m.overlayColor.startsWith("#")){q="background: "+WebPlatform.hexToRgba(m.overlayColor,(100-m.overlayTransparency)/100)}else{q="background: "+m.overlayColor;if(m.overlayColorClass){l="bg-color-"+m.overlayColorClass;q=""}}var i=$(WebPlatform.format(WebPlatform.Popups.POPUP_MARKUP,"id",h,"bgClass",m.backgroundType,"positionClass",m.position,"animationClass",m.animationType,"overlayBg",q,"overlayBgClass",l));i.append(WebPlatform.format(WebPlatform.Popups.POPUP_BOX_MARKUP,"width",m.width+"px","height",m.height+"px","btnColor",m.closeBtnColorClass?"":("color: "+m.closeBtnColor+";"),"btnColorClass",m.closeBtnColorClass?"color-"+m.closeBtnColorClass:"","contentBgColor",m.contentBgColorClass?"":("background: "+m.contentBgColor+";"),"contentBgColorClass",m.contentBgColorClass?"bg-color-"+m.contentBgColorClass:"","contentPadding",m.contentPadding,"contentSize",k,"bgSize",o));var j=$(".theme");j.append(i);i.find(".popup-content").html(p);WebPlatform.Popups.setBackground(i,m);i.data("popupShowFrequency",m.popupShowFrequency);i.data("editing",f);if(!f){i.find(".popup-close-btn").click(function(){var s=$(this).closest(".popup-wrapper").data("id");WebPlatform.Popups.hide(s,e||dummy)})}WebPlatform.processAccumulatedRequests();i.on(WebPlatform.Events.FORM_SUBMITTED,function(s,t){WebPlatform.delay(3500,function(){WebPlatform.Popups.hide(h,e||dummy)})});WebPlatform.delay(30,function(){i.addClass("visible");WebPlatform.onTransitionEnd(i,function(){i.addClass("displayed");if(window.ClientTools){window.ClientTools.refreshForms();window.ClientTools.refreshLightboxes();window.ClientTools.refreshCountdowns();window.ClientTools.refreshToggles();window.ClientTools.refreshDelayedWidgets();window.ClientTools.refreshContainerBgVideos();$window.scroll()}(g||dummy)(h,m,i)},300)})}})};WebPlatform.Popups.hidden=[];WebPlatform.Popups.hide=function(e,c){var b=$("#platform-popup-"+e);if(b.length>0&&!b.hasClass("is-hiding")){b.addClass("is-hiding");var a=b.data("editing")===true,d=b.data("popupShowFrequency");b.off(WebPlatform.Events.FORM_SUBMITTED);WebPlatform.Popups.hidden.push(e);b.removeClass("visible displayed");WebPlatform.onTransitionEnd(b,function(){b.remove();(c||dummy)()},300);if(!a&&d!=="always"){if(d==="once"){Cookies.set("platform-popup-"+e,1,{expires:365,path:"/"})}else{Cookies.set("platform-popup-"+e,1,{path:"/"})}}}};WebPlatform.Popups.registerPagePopups=function(c){var d=[];var e=[];for(var a=0;a<c.length;++a){var b=c[a];b.settings=b.settings||{};WebPlatform.Popups.setDefaults(b.settings);if(b.settings.popupShowFrequency!=="always"&&Cookies.get("platform-popup-"+b.id)||WebPlatform.isMobile()&&!b.settings.showOnMobile){continue}Cookies.remove("platform-popup-"+b.id);if(b.settings.showOnExit){d.push(b)}if(b.settings.showPopupWithDelay){WebPlatform.delay(b.settings.popupDelay*1000,(function(f){return function(){if(WebPlatform.Popups.hidden.indexOf(f)===-1){WebPlatform.Popups.show(f,false,dummy)}}})(b.id))}if(b.settings.showPopupOnScroll){e.push(b)}}if(d.length>0){$document.on("mouseout.popups",function(g){if(g.clientY>=50||g.target.tagName.toLowerCase()==="input"||g.clientX>=($(window).innerWidth()-50)||g.relatedTarget||g.toElement){return}$document.off("mouseout.popups");for(var f=0;f<d.length;++f){if(WebPlatform.Popups.hidden.indexOf(d[f].id)===-1){WebPlatform.Popups.show(d[f].id,false,dummy)}}})}if(e.length>0&&window.ClientTools){window.ClientTools.addOnScrollListener($.debounce(300,function(){var j=$window.scrollTop(),k=$document.height(),i=$window.height();var g=(j/(k-i))*100;for(var f=0;f<e.length;++f){var h=e[f];var l=h.settings.scrollDistance||101;if(g>=l&&(WebPlatform.Popups.hidden.indexOf(h.id)===-1)){WebPlatform.Popups.show(h.id,false,dummy)}}}))}};WebPlatform.Events=WebPlatform.Events||{};WebPlatform.Events.ORDER_COMPLETED="platform.events.order_completed";WebPlatform.Events.ORDER_CHANGED="platform.events.order_changed";WebPlatform.Events.ORDER_ADD_TO_CART="platform.events.order_add_to_cart";WebPlatform.Events.ORDER_REMOVE_FROM_CART="platform.events.order_remove_from_cart";WebPlatform.Events.ORDER_INITIATE_CHECKOUT="platform.events.order_initiate_checkout";WebPlatform.Events.FORM_SUBMITTED="platform.events.client_form_submited";WebPlatform.Events.PAGE_LOADED="platform.events.page_loaded";WebPlatform.Events.CONFIGURATION_CHANGED="platform.events.configuration_changed";WebPlatform.Events.WEBSITE_SUBSCRIBED="platform.events.website_subscribed";WebPlatform.Events.WEBSITE_CANCELED="platform.events.website_canceled";WebPlatform.Events.NEW_REGISTRATION="platform.events.new_registration";WebPlatform.Events.trigger=function(f,a,c){try{if(f instanceof jQuery){f=f[0]}var b=new CustomEvent(a,{bubbles:true,cancelable:true,detail:c});f.dispatchEvent(b)}catch(d){Log.error("Unable to dispatch event "+a+"!");Log.error(d)}};WebPlatform.Countdown=WebPlatform.Countdown||{};WebPlatform.Countdown.create=function(a){if(a.length<0||a.hasClass("with-countdown")){return}a.each(function(H,E){var E=$(E),L=E.data("type"),F=WebPlatform.parse(E.data("date"),0),g=WebPlatform.parse(E.data("hours"),1),B=WebPlatform.parse(E.data("minutes"),0),k=WebPlatform.parse(E.data("seconds"),0),p=WebPlatform.parse(E.data("start"),100),l=WebPlatform.parse(E.data("end"),0),d=WebPlatform.parse(E.data("interval"),1),A=E.data("reset")===true,h=E.data("link")||"",b=E.data("target")||"_self",D=E.data("onend")||"",J=E.data("showdays")!==false,t=E.data("showseconds")!==false,q=E.data("color")||"#ffffff",w=E.data("bgcolor")||"#333333",i=WebPlatform.parse(E.data("size"),70),x=E.data("labelcolor")||"#333333",o=WebPlatform.parse(E.data("labelsize"),14),v=WebPlatform.parse(E.data("uid"),7),I=null;E.addClass("with-countdown");var n=$(".theme").width();var j=function(){I.timer._destroyTimer();if(D==="link"){if(window.ClientTools){window.location.href=h}}else{if(D==="message"){E.slideUp("fast",function(){E.closest(".widget").find(".flip-countdown-end").slideDown("fast")})}}};var r=WebPlatform.getCookieName("time-cd-"+v);if(L==="number"){var m=p;if(A){Cookies.remove(r,{path:"/"})}else{var C=new Date().getTime();var u=C;var s=Cookies.get(r)||"";if(s){var G=s.split(":");if(G.length===2){var K=p+"|"+l+"|"+d;if(K===G[0]){u=WebPlatform.parse(G[1])||0;if(u===0){u=C}}}}if(s!==(p+"|"+l+"|"+d+":"+u)){Cookies.set(r,p+"|"+l+"|"+d+":"+u,{expires:7,path:"/"})}if(u>0){var e=Math.floor(((C-u)/1000)/d);m=p+(p>l?-1:1)*e}}var z=p>l;var y=z&&m<=l||(!z)&&m>=l;if(y){m=l}I=E.FlipClock(m,{clockFace:"Counter",color:q,bgColor:w,size:i,labelColor:x,labelSize:o});E.data("clock",I);if(y){j()}else{var c=function(){if(z){--m;I.decrement()}else{++m;I.increment()}if(z&&m<=l||(!z)&&m>=l){j()}else{WebPlatform.delay(d*1000,c)}};WebPlatform.delay(d*1000,c)}}else{var f=0;if(L==="date"){var f=(F-(new Date().getTime()))/1000;if(f<0){f=0}}else{f=k+B*60+g*60*60;if(A){Cookies.remove(r,{path:"/"})}else{var C=new Date().getTime();var u=C;var s=Cookies.get(r)||"";if(s){var G=s.split(":");if(G.length===2){var K=WebPlatform.parse(G[0])||0;if(K===f){u=WebPlatform.parse(G[1])||0;if(u===0){u=C}}}}if(s!==(f+":"+u)){Cookies.set(r,f+":"+u,{expires:7,path:"/"})}f=f-(C-u)/1000}if(f<0){f=0}}if(f===0){WebPlatform.delay(1000,j)}I=E.FlipClock(f,{clockFace:J?"DailyCounter":"HourlyCounter",showSeconds:t,countdown:true,defaultLanguage:"custom",color:q,bgColor:w,size:i,labelColor:x,labelSize:o,callbacks:{stop:function(){j()}},localize:function(N,O){return WebPlatform.Phrases["label."+N.toLowerCase()]||N}});E.data("clock",I)}})};WebPlatform.Countdown.destroy=function(b){if(!(b instanceof jQuery)){return}if(!b.hasClass("flip-countdown")){b=b.find("flip-countdown")}if(!b.hasClass("with-countdown")){return}b.removeClass("with-countdown");var a=b.data("clock")||null;if(a===null){return}a.timer._destroyTimer()};WebPlatform.Countdown.get=function(a){if(a.hasClass("with-countdown")){return a.data("clock")||null}return a.find(".with-countdown").data("clock")||null};WebPlatform.Funnels=WebPlatform.Funnels||{};WebPlatform.Funnels.currentStep=null;WebPlatform.Funnels.currentStepVariant=null;WebPlatform.Funnels.isInFunnel=function(){return WebPlatform.Funnels.steps&&WebPlatform.Funnels.steps.length>0};WebPlatform.Funnels.showNextStepOrCheckout=function(){if(!WebPlatform.Funnels.show("next",true)){window.location.href=WebPlatform.Store.baseUrl+"/cart"}};WebPlatform.Funnels.showNextStepOrDownsell=function(j,b,i){var g=WebPlatform.Funnels.steps||[];if(!g.length){return}var c=null,a=-1;for(var h=0;h<g.length;++h){if(g[h].id===j){c=g[h];a=h;break}}if(c!==null){var d=a+1;var e=g.length>d?g[d]:null;if(e!==null){if(c.kind==="UPSELL"&&e.kind==="DOWNSELL"&&i){return WebPlatform.Funnels.show(e.funnelId+"|"+e.id,b)}else{var f=c.kind==="UPSELL"||c.kind==="DOWNSELL";while(e!==null&&((!f&&e.kind==="UPSELL")||e.kind==="DOWNSELL")){++d;e=g.length>d?g[d]:null}if(e!==null){return WebPlatform.Funnels.show(e.funnelId+"|"+e.id,b)}}}}};WebPlatform.Funnels.tryShowNextUpsell=function(h,d){var c=WebPlatform.Funnels.steps||[];if(!c.length){return}var f=null,e=-1;for(var b=0;b<c.length;++b){if(c[b].id===h){f=c[b];e=b;break}}if(f===null){d();return}var g=e+1;var a=c.length>g?c[g]:null;while(a!==null&&a.kind==="DOWNSELL"){++g;a=c.length>g?c[g]:null}if(a!==null&&a.kind==="UPSELL"){WebPlatform.Funnels.show(a.funnelId+"|"+a.id)}else{d()}};WebPlatform.Funnels.show=function(d,b,l){var j=WebPlatform.Funnels.steps||[];if(!j.length){return}if(d==="next"){if(WebPlatform.Funnels.currentStep){return WebPlatform.Funnels.showNextStepOrDownsell(WebPlatform.Funnels.currentStep.id,b,l)}else{var f=window.location.pathname.substring(1).split(/\//g);var m=decodeURIComponent(f[f.length-1]);if((f.length===1||f.length===2&&f[1]==="")&&(decodeURIComponent(f[0])===j[0].base||f[0]==="")){m=j[0].url}for(var k=0;k<j.length;++k){if(j[k].url===m){return WebPlatform.Funnels.showNextStepOrDownsell(j[k].id,b,l)}}}}else{var f=d.split(/\|/g);if(f.length<2){return}var i=WebPlatform.parse(f[0],-1,false);var g=WebPlatform.parse(f[1],-1,false);if(i<0||g<0||j[0].funnelId!==i){return}var d=null;for(var k=0;k<j.length;++k){if(j[k].id===g){d=j[k];break}}if(d===null){return}if(d.type==="POPUP"){WebPlatform.Popups.show({id:g,funnelId:i},false,function(){WebPlatform.Funnels.currentStep=d},(function(o,n){return function(){WebPlatform.Funnels.currentStep=o}})(WebPlatform.Funnels.currentStep,WebPlatform.Funnels.currentStepVariant))}else{var h=WebPlatform.getUrlQueryParameter(window.location.href,"preview");var e=d.host&&d.host===window.location.hostname;var c=e?"":("/"+(d.base||"")+"/");ClientTools.showLoader();var a=c+d.url;if(WebPlatform.lastFormParams){a+="?"+WebPlatform.lastFormParams}if(h){a+=(a.indexOf("?")>-1?"&":"?")+"preview="+h}window.location.href=a}if(b){return true}}};WebPlatform.Widgets.Checkout=function(u){if(!u.root||!u.root.length||window.ClientTools&&u.root[0].offsetParent===null){return null}var o=null;var C=u.id||"cart";var K=u.layout==="1-step";var B=null;var b=(u.fields||[]).indexOf("billing")>-1;var v=u.root;var r=null,L={};var G=v.find('div[data-role="addressWrapper"]');var m=v.find(".store-policies");var F="address";var s=null,i=null,d=null;var k=null;var H=null;var l="";var J=false;v.data("inFunnel",!!u.funnel);var g=v.find('[name="additionalInfo"]');if(g.length>0&&g.hasClass("with-date")&&window.ClientTools){ClientTools.requestResource(resources+"/scripts/jquery-ui.js?v="+resourcesVersion,resources+"/styles/jquery-ui.min.css?v="+resourcesVersion,function(){return !!$.datepicker},function(){g.datepicker({firstDay:window.weekStartsAtMonday?1:0,dateFormat:WebPlatform.dateFormat})})}var A=function(N){N=N||{};N.orderId=C;N.products=JSON.stringify(u.products||[]);N.funnel=u.funnel;N.funnelStep=u.funnelStep;N.funnelStepVariant=u.funnelStepVariant;N.fields=(u.fields||[]).join(",");return N};var e=0;var E=function(){++e;if(e>1){return}if(window.ClientTools){ClientTools.showHideAjaxLoadingIndicator(false)}v.addClass("checkout-loading")};var h=function(){--e;if(e<0){e=0}if(e===0){if(window.ClientTools){ClientTools.showHideAjaxLoadingIndicator(true)}v.removeClass("checkout-loading")}};var c=function(P){var N={};P.find("input:not(:checkbox), select").each(function(){if(this.name!=="new_password"&&this.name!=="new_password_repeat"&&this.name!=="password"){N[this.name]=this.value}});if(P.find('input[name="useDifferentBillingAddress"]').is(":checked")){N.useDifferentBillingAddress=true}if(P.find('input[name="createAccount"]').is(":checked")){N.createAccount=true}var O=P.find(B.loginRequired?'[data-role="member-login"]':'[data-role="password"]');N.new_password=O.find('[name="new_password"]').val();N.new_password_repeat=O.find('[name="new_password_repeat"]').val();return N};var a=function(O,N){O.each(function(){var P=$(this);if(P.hasClass(N)){return}P.addClass(N).after('<i class="error-notification fa fa-exclamation-triangle" aria-hidden="true"></i>')})};var q=function(N){N.each(function(){var P=$(this);var O=P.next();if(O.hasClass("error-notification")){O.remove()}P.removeClass("field-invalid field-with-error")})};var z=function(R,S){if(B.isSampleOrder){return}E();var Q=c(S);var O=S.find(".form-field").not('[data-type="section"]');var N=ClientTools.readFormFields(O);if(N.hasErrors){h();return}else{Q.values=N.values}Q.order_extra=u.extra||"";var P={action:"orderEnterAddress",method:"post",data:A(Q),onOk:function(W){var X=R.find('[data-role="error-message"]');q(S.find(".field-with-error"));toggleDisplay(X,!!W.data.errors);if(W.data&&W.data.message){if(W.data.errors){var Y=W.data.errors;for(var V=0;V<Y.length;++V){a(S.find('[name="'+Y[V]+'"]'),"field-with-error")}}else{var Y=W.data.additionalFieldsErrors||[];var U=S.find(".form-field").not('[data-type="section"]');for(var V=0;V<Y.length;++V){if(Y[V]){a(U.eq(V),"field-invalid")}}}X.text(W.data.message).removeClass("none");h()}else{F="billing";if(Q.createAccount&&W.data.member){WebPlatform.Members=WebPlatform.Members||{};WebPlatform.Members.current=W.data.member;WebPlatform.reportMemberRegistration(W.uid)}B=W.data.order;WebPlatform.Store.Orders.set(C,B);t();x()}}};if(N.file){WebPlatform.makeClientWebsiteRequestWithFile(P,N.file)}else{WebPlatform.makeClientWebsiteRequest(P)}};var y=function(X,Z,S,R){if(B.isSampleOrder){return}if(S.hasClass("disabled")){return}S.addClass("disabled");var O="";var U=Z.find('[name="paymentOption"]:checked');if(U.length>0){O=U.val()}var Q=R?c(R):null;var V=function(aa){ClientTools.resetRecaptcha(X,S);ClientTools.showMessageBox(aa,S,"before",true,10000)};var N=function(ad,af){E();var ah=A({method:O,token:ad,order_extra:u.extra||"",resubmit:af===true});if(Q){ah.withAddress=true;$.extend(ah,Q)}v.removeClass("has-incomplete-items");var ag={action:"completeOrder",method:"post",data:ah,onOk:function(ai){var at=ai.data;var ay=R&&ah.createAccount&&at.member;if(R){q(R.find(".field-with-error"))}if(at.order){B=at.order;WebPlatform.Store.Orders.set(C,B)}if(ay){WebPlatform.Members=WebPlatform.Members||{};WebPlatform.Members.current=at.member;WebPlatform.reportMemberRegistration(ai.uid);j(R)}if(at.message){S.removeClass("disabled");if(at.message==="HAS_INCOMPLETE_ITEMS"){V(WebPlatform.Phrases["err.select_product_variants"]);v.addClass("has-incomplete-items")}else{if(at.message==="HAS_INVALID_PAYMENT_METHOD"){V("Selected payment method is not supported for subscriptions!")}else{if(at.message==="INITIATE_PAYSTACK_PAYMENT"){S.addClass("disabled");var ap=Math.round(B.total*100);var ak=PaystackPop.setup({key:L.paystackPublicKey,email:B.customerEmail,channels:["card","ussd","qr","mobile_money"],amount:ap,currency:WebPlatform.Store.currency,callback:function(aG){N(aG.reference,true)},onClose:function(){S.removeClass("disabled")}});ak.openIframe()}else{if(O==="stripe"&&at.payload&&at.payload.extra&&(at.message==="requires_action"||at.message==="requires_payment_method")){S.addClass("disabled");var al=at.payload.extra||[];var aD=al.length?al[0]:"";var ao={payment_method:{card:d.elements}};if(Q&&Q.name||B.customerName){ao.payment_method.billing_details={name:Q&&Q.name?Q.name:B.customerName}}E();d.stripe.confirmCardPayment(aD,ao).then(function(aG){h();if(aG.error){Log.error(aG.error);message=aG.error.message||aG.error;V(message);S.removeClass("disabled")}else{N(aG.paymentIntent.id,true)}})}else{V(at.message)}}}}var aE=null;if(R&&at.errors&&at.errors.length){for(var ax=0;ax<at.errors.length;++ax){var aC=R.find('[name="'+at.errors[ax]+'"]');a(aC,"field-with-error");if(aE===null){aE=aC}}}else{if(at.additionalFieldsErrors&&at.additionalFieldsErrors.length){var ar=at.additionalFieldsErrors;var aB=X.find(".form-field").not('[data-type="section"]');for(var ax=0;ax<ar.length;++ax){if(ar[ax]){var aC=aB.eq(ax);a(aC,"field-invalid");if(aE===null){aE=aC}}}}}if(aC){WebPlatform.scrollIntoView(aE.parent())}return}var az=at.payload;var aA=function(aH,aG){if(WebPlatform.forceCheckoutThankYouPage){aH=WebPlatform.forceCheckoutThankYouPage()}WebPlatform.visitorName=B.customerName;WebPlatform.visitorEmail=B.customerEmail;WebPlatform.Store.reportPurchase(aG,B.id,B.items,B.total,"Purchase",WebPlatform.Store.currency,B.customerName,B.customerEmail,B);WebPlatform.delay(80,function(){WebPlatform.Store.goToThankYouPage(u.funnelStep,aH);toggleDisplay(v.find(".checkout-info"),false);toggleDisplay(v.find(".checkout-summary"),false);toggleDisplay(v.find('[data-step="complete"]'),true)})};var av=function(aG){aG=aG||"";if(aG.toLowerCase().trim().indexOf("http")===0){ClientTools.showLoader()}toggleDisplay(v.find(".checkout-info"),false);toggleDisplay(v.find(".checkout-summary"),false);toggleDisplay(v.find('[data-step="complete"]'),true);window.location.href=aG};if(az.review){if(az.cartUpdatedMessage){V(az.cartUpdatedMessage)}S.removeClass("disabled")}else{if(!az.redirect){aA(WebPlatform.Store.baseUrl+"/checkout/completed?m="+az.method,ai.uid)}else{if(O==="paypal"||O==="stripe-ideal"||O==="klarna"||O==="unipay"||O==="mollie"){av(az.redirect)}else{if(O==="twispay"){var an=$('<div class="hidden"></div>');var aj=$('<form method="POST" action="'+az.redirect+'"></form>');for(var aF in az.data){var au=$('<input type="hidden" />').attr("name",aF).attr("value",az.data[aF]);aj.append(au)}an.append(aj);$(document.body).append(an);aj.submit();ClientTools.showLoader()}else{if(O==="payfast"){var am="https://"+(L.payfastInSandbox?"sandbox":"www")+".payfast.co.za/eng/process";var an=$('<div class="hidden"></div>');var aj=$('<form method="POST" action="'+am+'"></form>');for(var aF in az.data){var au=$('<input type="hidden" />').attr("name",aF).attr("value",az.data[aF]);aj.append(au)}an.append(aj);$(document.body).append(an);aj.submit();ClientTools.showLoader()}else{if(O==="afterpay"){AfterPay.redirect({token:az.redirect})}else{if(O==="mobilpay"||O==="mobilpay-btc"||O==="mobilpay-sms"){var an=$('<div class="hidden"></div>');var aj=$('<form method="POST" action="'+az.redirect+'"></form>');aj.append('<input type="hidden" name="env_key" value="'+az.envKey+'" />');aj.append('<input type="hidden" name="data" value="'+az.data+'" />');an.append(aj);$(document.body).append(an);aj.submit();ClientTools.showLoader()}else{if(O==="payulatam"){var aw=az.data;var aq=WebPlatform.Store.PayULatamInTestMode===true;var am=aq?"https://sandbox.checkout.payulatam.com/ppp-web-gateway-payu/":"https://checkout.payulatam.com/ppp-web-gateway-payu/";var aj='<form method="post" action="'+am+'">                       <input name="merchantId"    type="hidden"  value="'+aw.merchantId+'" />                       <input name="accountId"     type="hidden"  value="'+aw.accountId+'" />                       <input name="description"   type="hidden"  value="'+aw.description+'" />                       <input name="referenceCode" type="hidden"  value="'+aw.referenceCode+'" />                       <input name="amount"        type="hidden"  value="'+aw.amount+'" />                       <input name="tax"           type="hidden"  value="'+aw.tax+'" />                       <input name="taxReturnBase" type="hidden"  value="'+aw.taxReturnBase+'" />                       <input name="currency"      type="hidden"  value="'+aw.currency+'" />                       <input name="signature"     type="hidden"  value="'+aw.signature+'" />                       <input name="algorithmSignature" type="hidden"  value="'+aw.algorithmSignature+'" />';if(aq){aj+='<input name="test" type="hidden"  value="1" />'}aj+='<input name="buyerFullName" type="hidden"  value="'+aw.buyerFullName+'" />                       <input name="buyerEmail"    type="hidden"  value="'+aw.buyerEmail+'" />                       <input name="responseUrl"   type="hidden"  value="'+aw.responseUrl+'" />                       <input name="confirmationUrl" type="hidden"  value="'+aw.confirmationUrl+'" />';if(aw.hasShipping){aj+='<input name="shippingAddress"   type="hidden"  value="'+aw.shippingAddress+'" />                           <input name="shippingCity" type="hidden"  value="'+aw.shippingCity+'" />                           <input name="shippingCountry" type="hidden"  value="'+aw.shippingCountry+'" />'}aj+='<input name="Submit" type="submit" value="" />                     </form>';var an=$('<div class="hidden"></div>');an.append(aj);$(document.body).append(an);an.find("form").submit();ClientTools.showLoader()}else{aA(az.redirect,ai.uid)}}}}}}}}},always:function(){h()},onNotOk:function(ai){Log.error("Action: "+ah.action);S.removeClass("disabled");V((ai||{}).message||"There was an error processing your request!")}};var aa=X.find('[name="additionalInfo"]');var ac=null;if(aa.length){if(aa.attr("type")==="file"){ac=aa[0].files.length>0?aa[0].files[0]:null}else{ah.additionalInfo=aa.val()}}else{var ae=X.find(".form-field").not('[data-type="section"]');var ab=ClientTools.readFormFields(ae);if(ab.hasErrors){S.removeClass("disabled");h();return}ah.values=ab.values;ac=ab.file}if(ac===null){ClientTools.makeWebsiteRequest(ag)}else{WebPlatform.makeClientWebsiteRequestWithFile(ag,ac)}};if(O==="stripe"){N("")}else{if(O==="braintree"){S.addClass("disabled");E();s.requestPaymentMethod({threeDSecure:{amount:WebPlatform.currToStr(B.total<0.1?1:B.total,"",true,WebPlatform.Store.currency)}},function(ab,ac){h();S.removeClass("disabled");if(ab){var aa=(((ab.details||{}).originalError||{}).description||"");V((ab.message||ab)+(aa===""?"":(" - "+aa)))}else{if(ac.liabilityShifted||!ac.liabilityShiftPossible){S.removeClass("disabled");N(ac.nonce)}else{V("Card authorization failed. Please try again")}}})}else{if(O==="2checkout"){S.addClass("disabled");TCO.loadPubKey("production",function(){var aa=function(ad){N(ad.response.token.token)};var ac=function(ad){S.removeClass("disabled");V(ad.errorMsg)};var ab={sellerId:L.twocheckoutSellerId,publishableKey:L.twocheckoutPublicKey,ccNo:Z.find('input[data-twocheckout="card-number"]').val(),cvv:Z.find('input[data-twocheckout="cvc"]').val(),expMonth:Z.find('input[data-twocheckout="exp_month"]').val(),expYear:Z.find('input[data-twocheckout="exp_year"]').val()};if(L.twocheckoutInSandbox){ab.demo="Y"}TCO.requestToken(aa,ac,ab)})}else{if(O==="afterpay"){AfterPay.init();N(O)}else{if(O==="paystack"){N("")}else{if(O==="authorize.net"){var P=Z.find('[data-payment="authorize.net"]');var W=WebPlatform.parse(P.find('input[data-type="yyyy"]').val());if(W<100){W+=2000}var Y={authData:{clientKey:L.authorizePublicClientKey,apiLoginID:L.authorizeApiLoginId},cardData:{cardNumber:P.find('input[data-type="card-number"]').val(),month:P.find('input[data-type="mm"]').val(),year:W,cardCode:P.find('input[data-type="cvc"]').val()}};window.Accept.dispatchData(Y,function(ab){if(ab.messages.resultCode==="Error"){S.removeClass("disabled");var ac=ab.messages.message.length?ab.messages.message[0].text:ab.messages.message[0].text;for(var aa=0;aa<ab.messages.message.length;++aa){Log.error("Error auhtorizing payment with Authorize.net: "+ab.messages.message[aa].code+": "+ab.messages.message[aa].text)}V(ac)}else{N(JSON.stringify(ab.opaqueData))}})}else{N(O)}}}}}}};var w=function(V,N){toggleDisplay(G.children('[data-role="address-part"]'),B.shippingInfoRequired||!b);var O=V.find('[data-step="address"]').removeClass("none");var R=V.find('[data-step="shipping"]');var Q=V.find('[data-step="billing"]').removeClass("none");var U=V.find('[data-role="next-step"]');var S=V.find('[data-role="back"]');var P=V.find('[data-role="continue"]');toggleDisplay(U,false);toggleDisplay(S,false);toggleDisplay(P,false);toggleDisplay(O,false);toggleDisplay(R,false);toggleDisplay(Q,false);var W=u.layout!=="1-step";toggleDisplay(V.find('[data-role="second-step-items"]'),!W||W&&F!=="address");if(W){toggleDisplay(N,true);N.find(".checkout-step").removeClass("active").eq(F==="address"?0:1).addClass("active");if(F==="address"){toggleDisplay(U,true);toggleDisplay(O,true);f(O,R);V.on("click.checkout",'a[data-role="next-step"]',function(){z(V,O);WebPlatform.scrollIntoView(v)})}else{toggleDisplay(S,true);toggleDisplay(P,true);if(B.shippingInfoRequired){toggleDisplay(R,true);n(R)}toggleDisplay(Q,true);p(Q);V.on("click.checkout",'a[data-role="continue"]',function(){var X=$(this);y(V,Q,X,null)});V.on("click.checkout",'a[data-role="back"]',function(){E();F="address";x();WebPlatform.scrollIntoView(v)})}}else{toggleDisplay(P,true);toggleDisplay(O,true);f(O,R);if(B.shippingInfoRequired){n(R);toggleDisplay(R,true)}toggleDisplay(Q,true);p(Q);V.on("click.checkout",'a[data-role="continue"]',function(){var X=$(this);y(V,Q,X,O)})}};var j=function(Y){var U=!!WebPlatform.Members.current;var V=Y.find('[data-role="member-login"]');var Z=Y.find('[data-role="password"]');toggleDisplay(V,!U);toggleDisplay(Z,!B.loginRequired&&!U);if(U){return}var Q=B.loginRequired||(u.fields||[]).indexOf("registration")>-1;var X=V.find('[data-role="password-fields"]');var ab=Y.find('input[name="name"]');var P=V.find('[data-role="login-btn"]');var O=P.find('a[data-role="showRegControls"]');var R=P.find('a[data-role="showLoginControls"]');var aa=P.find('a[data-role="hideLoginControls"]');var N=P.find(".error-message");var W=V.find('[data-role="prompt-login"]');if(B.loginRequired){Z.hide();X.show();W.show();R.hide();O.show();aa.hide()}else{if(Q){Z.show();O.hide();aa.show();R.show();X.hide();W.show()}else{Z.hide();X.hide();W.hide()}}P.hide();if(Y.hasClass("registration-initiated")){return}Y.addClass("registration-initiated");var S=function(ac){E();WebPlatform.makeClientWebsiteRequest({action:"loginMember",data:{email:Y.find('input[name="email"]').val(),password:Y.find('input[name="password"]').val()},onOk:function(ad){toggleDisplay(N,!!ad.data.error);if(ad.data.error){N.text(ad.data.error).removeClass("none");h()}else{WebPlatform.Members=WebPlatform.Members||{};WebPlatform.Members.current=ad.data.member;WebPlatform.Store.Orders.reset(C);WebPlatform.Store.Orders.get(A({}),function(ae){B=ae;x()})}}})};Y.on("click",'a[data-role="showRegControls"]',function(){W.slideDown("fast");P.slideUp("fast");X.slideDown("fast");ab.slideDown("fast")}).on("click",'a[data-role="hideLoginControls"]',function(){W.slideDown("fast");P.slideUp("fast");N.addClass("none");X.slideUp("fast");ab.slideUp("fast")}).on("click",'a[data-role="showLoginControls"]',function(){W.slideUp("fast");P.slideDown("fast");N.addClass("none");X.slideUp("fast");ab.slideUp("fast")}).on("change",'input[name="createAccount"]',function(){toggleDisplay(Z.find(".password-fields-wrapper"),this.checked,true)}).on("click.checkout",'a[data-role="login"]',S).on("keyup.checkout",'input[name="password"]',function(ac){if(ac.which===13){S(ac)}})};var f=function(P,R){var Q=P.find(".address-title");if(B.shippingInfoRequired){Q.text(Q.data("shippingLabel")||WebPlatform.Phrases["label.shipping_address"])}else{Q.text(Q.data("billingLabel")||WebPlatform.Phrases["label.billing_address"])}toggleDisplay(P.find('[data-role="billing-info"]'),B.shippingInfoRequired);j(P);if(!window.ClientTools){h();return}var O=B.customerName?B.customerName:WebPlatform.Members.current?WebPlatform.Members.current.name:"";if(O){P.find('input[name="name"]').val(O)}var N=P.find('input[name="email"]');N.val(B.customerEmail);if(WebPlatform.Members.current){N.prop("disabled",true)}if(B.shippingInfoRequired){P.find('input[name="useDifferentBillingAddress"]').prop("checked",B.shippingAddress&&!ClientTools.isAddressTheSame(B.shippingAddress,B.billingAddress))}if(P.hasClass("address-initiated")){h();return}P.addClass("address-initiated");WebPlatform.requestResource(resources+"/scripts/i18n/countries/"+locale+".js",null,function(){return window.COUNTRIES&&window.COUNTRIES.length},function(){var S=B.shippingAddress&&B.shippingAddress.country?B.shippingAddress.country:WebPlatform.Store.country.toUpperCase();var U=B.billingAddress&&B.billingAddress.country?B.billingAddress.country:WebPlatform.Store.country.toUpperCase();if(S==="EN"){S="US"}if(U==="EN"){U="US"}if(B.shippingAddress){for(var V in B.shippingAddress){P.find('input[name="shipping'+WebPlatform.capitalizeFirstLetter(V)+'"]').val(B.shippingAddress[V])}}if(B.billingAddress){for(var V in B.billingAddress){P.find('input[name="billing'+WebPlatform.capitalizeFirstLetter(V)+'"]').val(B.billingAddress[V])}}if(H){H.setCountry(S)}ClientTools.bindMemberAddressForm(P,S,U,function(Y,X){return !B.shippingCountries||B.shippingCountries.length===0||X==="billing"||B.shippingCountries.indexOf(Y)>-1},function(aa){var X=aa.attr("name");if(X==="shippingCountry"||X==="shippingState"||X==="shippingCompanyName"||X==="shippingZipCode"||X==="shippingCompanyId"){var ab=aa.val();if(!B.isSampleOrder){var Z=function(){if(H){switch(X){case"shippingCountry":H.setCountry(ab.trim());break;case"shippingState":H.setState(ab.trim());break;case"shippingZipCode":H.setZip(ab.trim());break}}};var Y=!B.shippingAddress||B.shipping===null&&B.shippingOptions&&B.shippingOptions.length||X==="shippingCountry"&&B.shippingAddress.country!==ab||X==="shippingState"&&B.shippingAddress.state!==ab||X==="shippingCompanyName"&&B.shippingAddress.companyName!==ab||X==="shippingCompanyId"&&B.shippingAddress.companyId!==ab;if(Y){WebPlatform.makeClientWebsiteRequest({action:"orderEnterShippingDetails",method:"post",data:A({type:X,value:ab}),onOk:function(ac){B=ac.data;WebPlatform.Store.Orders.set(C,B);n(R);Z()}})}else{Z()}}}});var W=$.debounce(250,function(){if(B.isSampleOrder||WebPlatform.Members.current){return}var Y=$(this);var X=Y.val().trim();if(X===""){q(Y);return}WebPlatform.makeClientWebsiteRequest({action:"setOrderEmail",method:"post",data:A({email:X}),onOk:function(Z){B=Z.data;q(Y)},onNotOk:function(){a(Y,"field-with-error")}})});N.blur(W);h()})};var n=function(Q){var P=B.shippingOptions||[];var N=Q.find('div[data-role="shipping-methods"]');toggleDisplay(N.find(".error-message"),P.length===0);var O='<label class="tick-wrapper col20 f-left">             <input type="radio" name="shippingOption" data-country="%country%" data-order="%order%" data-kind="%kind%" %checked%>             <span><i class="fa fa-truck"></i>%name%</span>             <span class="price"> %price% </span>           </label>';var R=false;N.find(".tick-wrapper").remove();P.forEach(function(U,S){var W="";if(B.shipping&&B.shipping.countryCode===U.countryCode&&B.shipping.order===U.order){W="checked";R=true}var V="";if(U.kind==="system"||W&&U.calculated){V=WebPlatform.currToStr(U.cost,WebPlatform.Store.currencySymbol,WebPlatform.Store.currencySymbolAtLeft,WebPlatform.Store.currency)}var X=$(WebPlatform.escapeFormat(O,"country",U.countryCode,"order",U.order,"checked",W,"name",U.name,"price",V,"kind",U.kind));N.append(X);if(W&&U.kind!=="system"&&H){H.renderOption(X,U)}});if(!R){N.find('input[type="radio"]').eq(0).prop("checked",true).change()}};var p=function(ah){var ag=B.total>=0.01;ah.find(".tick-wrapper").addClass("none");var ak=false;B.items.forEach(function(aw){if(aw.isSubscription){ak=true}});var V=v.find(".recaptcha-target");var at=V.length>0&&k===null;var Y=ag&&!!L.stripeEnabled;var aq=ag&&L.stripeEnabled&&L.stripeIdealEnabled&&!ak;var aj=ag&&L.twispayEnabled;var ab=ag&&L.braintreeEnabled;var ap=ag&&L.unipayEnabled;var an=ag&&L.mollieEnabled&&!ak;var av=ag&&L.authorizeEnabled;var P=ag&&L.twocheckoutEnabled&&!ak;var am=ag&&L.payulatamEnabled&&!ak;var Q=ag&&L.paypalEnabled&&!ak;var R=ag&&L.klarnaEnabled&&!ak;var ar=ag&&L.afterpayEnabled&&!ak;var af=ag&&L.mobilpayEnabled&&!ak;var W=af&&L.mobilpayBitcoinEnabled&&!ak;var ad=ag&&L.paystackEnabled;var au=ag&&L.payfastEnabled;var aa=!!L.afterpayInSandbox;var al=!!L.authorizeInSandbox;var ac=!!L.payfastInSandbox;var X=L.bankEnabled&&!ak;var S=ag&&!L.codEnabled&&!X&&!Y&&!L.paypalEnabled&&!L.klarnaEnabled&&!ab&&!P&&!ar&&!af&&!ad&&!av&&!L.payulatamEnabled&&!au&&!aj&&!ap&&!an;toggleDisplay(ah.find('[data-role="no-methods"]'),S);toggleDisplay(ah.find(".payment-mehtods-wrapper"),!S);if(!ag){toggleDisplay(ah.find('[data-payment="no-payment"]'),true)}else{toggleDisplay(ah.find('[data-payment="no-payment"]'),false);toggleDisplay(ah.find('[data-payment="stripe"]'),Y);toggleDisplay(ah.find('[data-payment="ideal"]'),aq);toggleDisplay(ah.find('[data-payment="twispay"]'),aj);toggleDisplay(ah.find('[data-payment="unipay"]'),ap);toggleDisplay(ah.find('[data-payment="mollie"]'),an);toggleDisplay(ah.find('[data-payment="braintree"]'),ab);toggleDisplay(ah.find('[data-payment="authorize.net"]'),av);toggleDisplay(ah.find('[data-payment="2checkout"]'),P);toggleDisplay(ah.find('[data-payment="payulatam"]'),am);toggleDisplay(ah.find('[data-payment="paypal"]'),Q);toggleDisplay(ah.find('[data-payment="klarna"]'),R);toggleDisplay(ah.find('[data-payment="afterpay"]'),ar);toggleDisplay(ah.find('[data-payment="mobilpay"]'),af);toggleDisplay(ah.find('[data-payment="mobilpay-btc"]'),W);toggleDisplay(ah.find('[data-payment="paystack"]'),ad);toggleDisplay(ah.find('[data-payment="payfast"]'),au);toggleDisplay(ah.find('[data-payment="cod"]'),L.codEnabled);toggleDisplay(ah.find('[data-payment="bank"]'),X);if(L.codEnabled){var ai=ah.find('[data-payment="cod"]');ai.find('[data-role="button-label"]').text(L.codLabel||WebPlatform.Phrases["label.cod"]);var ae=ai.find('[data-role="codInfo"]');toggleDisplay(ae,L.codInfo);if(L.codInfo){ae.text(L.codInfo)}}if(X){var ao=ah.find('[data-payment="bank"]');ao.find('[data-role="button-label"]').text(L.bankLabel||WebPlatform.Phrases["label.bank"]);var Z=ao.find('[data-role="bankInfo"]');toggleDisplay(Z,X);if(L.bankInfo){Z.text(L.bankInfo)}}}var O=ah.find(".payment-mehtods-wrapper .tick-wrapper").not(".none");var N=O.find('input[name="paymentOption"]:checked');if(N.length){l=N.val()}else{l=O.first().find('input[name="paymentOption"]').prop("checked",true).val()}if(!ag&&!at||!window.ClientTools||ah.data("initialized")==="yes"){h();return}ah.data("initialized","yes");var U=[];if(Y){U.push({script:"https://js.stripe.com/v3/",check:function(){return !!window.Stripe}})}if(ab){U.push({script:"https://js.braintreegateway.com/web/dropin/1.26.1/js/dropin.min.js",check:function(){return window.braintree&&window.braintree.dropin}})}if(P){U.push({script:"https://www.2checkout.com/checkout/api/2co.min.js",check:function(){return !!window.TCO}})}if(av){U.push({script:"https://"+(al?"jstest":"js")+".authorize.net/v1/Accept.js",check:function(){return !!window.Accept}})}if(ar){U.push({script:"https://"+(aa?"portal-sandbox":"portal")+".afterpay.com/afterpay.js",check:function(){return !!window.AfterPay}})}if(ad){U.push({script:"https://js.paystack.co/v1/inline.js",check:function(){return !!window.PaystackPop}})}WebPlatform.requestScripts(U,function(){WebPlatform.Store.reportAddPaymentDetails(B,WebPlatform.Store.currency);if(at){E();ClientTools.setupRecaptcha({ui:V,button:v.find('a[data-role="continue"]'),onLoaded:function(ay){h()}})}if(Y){E();d={};d.stripe=Stripe(L.stripePublishableKey.trim());d.elements=d.stripe.elements({locale:WebPlatform.getStripeLocale()}).create("card",{hidePostalCode:window.stripeElementsHidePostalCode===false?false:true});var aw=ah.find(".stripe-card-element");d.elements.mount(aw[0]);d.elements.addEventListener("change",function(ay){if(ay.error){WebPlatform.showClientError(ay.error.message,4000)}});h()}if(ab||P||av){var ax=ah.find(".ccv-pop");ah.on("mouseover",".ccv-info",function(){ax.fadeIn("fast")}).on("mouseout",".ccv-info",function(){ax.fadeOut("fast")})}if(ab){E();s=null;i=null;WebPlatform.makeClientWebsiteRequest({action:"getClientPaymentToken",data:{type:"braintree"},onOk:function(ay){var aA=ay.data.token;var aC=v.closest(".widget").attr("id");var az={authorization:aA,container:"#"+aC+" .braintree-element",threeDSecure:true,locale:WebPlatform.getLocaleName(locale)};if(L.braintreePayPalEnabled){az.paypal={flow:"vault"};var aB=v.find('[data-role="bt-payment-title"]');aB.text(aB.text()+" & PayPal")}window.braintree.dropin.create(az,function(aD,aE){if(aD){WebPlatform.showClientError(aD.message||aD,4000);Log.error(aD);return}else{s=aE}})},always:function(){h()}})}h()})};var x=function(){var O=v.find('div[data-role="steps-breadcrumbs"]');toggleDisplay(O,false);m.find(".active").removeClass("active");m.find(".visible").removeClass("visible");var N=v.find(".checkout-info");N.addClass("none").off(".checkout");if(B===null||B.items.length===0){N.filter('[data-step="empty"]').removeClass("none");h()}else{var P=N.filter('[data-step="info"]').removeClass("none");w(P,O)}};var D=function(){var O=r&&r.termsOfService&&r.termsOfService.trim()!=="";var Q=r&&r.refundPolicy&&r.refundPolicy.trim()!=="";var P=r&&r.privacyPolicy&&r.privacyPolicy.trim()!=="";if(!O&&!Q&&!P){m.remove()}else{function N(R,U,V,S){V=m.find('[data-type="'+V+'"]');U=m.find('[data-type="'+U+'"]');if(R){V.children().html(S);U.click(function(){var W=!U.hasClass("active");m.find(".active").removeClass("active");m.find(".visible").removeClass("visible");if(W){U.addClass("active");V.addClass("visible")}})}else{U.remove();V.remove()}}N(O,"tos","tos-target",r.termsOfService.replace(/\n/g,"<br />"));N(P,"privacy","privacy-target",r.privacyPolicy.replace(/\n/g,"<br />"));N(Q,"refunds","refunds-target",r.refundPolicy.replace(/\n/g,"<br />"))}};var t=$.debounce(150,function(O,P){var N=H&&B.shipping&&B.shipping.kind!=="system";if(!N&&(u.layout==="1-step"||F!=="address")){return}WebPlatform.makeClientWebsiteRequest({action:"shippingServiceRequest",method:"post",data:A({provider:H.getType(),type:"price",isCod:l==="cod",serviceId:O,officeId:P}),onOk:function(R){var Q=R.data;WebPlatform.Store.Orders.set(C,Q);WebPlatform.Events.trigger(document,WebPlatform.Events.ORDER_CHANGED,{id:C,order:Q,withShippingPrice:true})}})});var I=function(){E();var N=u.pick&&u.products.length>1&&u.id!=="cart";var O=[];v.find('.bump-wrapper[data-default="true"]').each(function(){var P=$(this).find("input").data("bump");if(P){O.push(P)}});WebPlatform.Store.Orders.reset(C);WebPlatform.Store.Orders.get(A({policies:window.location.pathname===(WebPlatform.Store.baseUrl+"/checkout"),paymentOptions:true,pickProducts:N,pickProductIds:JSON.stringify(u.products),bumps:O.length?JSON.stringify(O):null}),function(S,Q){B=S;r=Q.policies||null;L=Q.paymentOptions||{};D();WebPlatform.Store.Orders.bind({id:C,products:u.products,funnelId:u.funnel,funnelStepId:u.funnelStep,funnelStepVariantId:u.funnelStepVariant,pickProducts:N&&Q.pickProducts&&Q.pickProducts.length>0?Q.pickProducts:[]},v);if(B){var R=B.shippingOptions||[];if(R.length>0){for(var P=0;P<R.length;++P){if(R[P].kind.startsWith("speedy-")){H=WebPlatform.Widgets.Speedy(o,u.root);break}}}}WebPlatform.Store.reportInitiateCheckout(Q.uid,B,WebPlatform.Store.currency);x();if(B&&B.items){B.items.forEach(function(U){if(U.bump){v.find('input[name="bump'+U.productId+'"]').prop("checked",true).closest(".bump-wrapper").addClass("bump-active")}})}if(window.ClientTools){ClientTools.setupFormFields(v)}v.on("change",".bump-wrapper input",function(){if(B.isSampleOrder){return}var X=$(this);var W=X.is(":checked");var V=X.data("bump");var U=B.total;WebPlatform.makeClientWebsiteRequest({action:"setOrderBump",data:A({product:V,add:W}),onOk:function(Z){var Y=Z.data;WebPlatform.Store.Orders.set(C,Y);WebPlatform.Events.trigger(document,WebPlatform.Events.ORDER_CHANGED,{id:C,order:Y});X.closest(".bump-wrapper")[W?"addClass":"removeClass"]("bump-active")}})});v.on("click",".variations-update",function(X){var Y=$(this).closest("[data-index]");var U=Y.data("index");if(U<0){return}if(N&&Q.pickProducts&&Q.pickProducts.length){for(var W=0;W<B.items.length;++W){if(!B.items[W].bump){U=W;break}}}var V=B.items[U];if(V){WebPlatform.Store.showProductInQuickView(V.productId,A(),V,U)}});v.on("click",".checkout-item-cbx:not(.checked)",function(V){V.stopPropagation();V.preventDefault();var W=$(this).closest("[data-product]");var U=W.data("product");if(U<1){return}WebPlatform.Store.addProductToOrder(U,"replace",A())});v.on("change.checkout",'input[name="shippingOption"]',function(){if(B.isSampleOrder){return}var W=$(this);var Y=W.data("country");var V=W.data("order");var X=!B.shipping||B.shipping.countryCode!==Y||B.shipping.order!==V;if(X){var U=B.total;WebPlatform.makeClientWebsiteRequest({action:"orderSetShippingOption",method:"post",data:A({country:Y,order:V,isCod:l==="cod"}),onOk:function(aa){var Z=aa.data;WebPlatform.Store.Orders.set(C,Z);WebPlatform.Events.trigger(document,WebPlatform.Events.ORDER_CHANGED,{id:C,order:Z,withShippingPrice:true})}})}}).on("change.checkout",'input[name="paymentOption"]',function(){var V=l==="cod";l=this.value;var U=this.value==="cod";if(H&&(V&&!U||!V&&U)){t()}}).on("keypress.checkout",'input[name="shippingPhone"], input[name="billingPhone"]',function(V){var U=String.fromCharCode(V.which);if("01234567890+".indexOf(U)<0){return false}});document.addEventListener(WebPlatform.Events.ORDER_CHANGED,function(W,X){if(W.detail.id===C){var U=W.detail.order;var V=W.detail.withShippingPrice!==true;B=U;x();if(B.shippingInfoRequired&&V){t()}}})})};return{_init:function(){o=this;I();delete this._init;return this},getOrder:function(){return B},recalculateShippingPrice:t,setOrderRequestParams:A,destroy:function(){}}._init()};WebPlatform.Widgets.Speedy=function(u,k){var l={BG:{id:100,requireState:false,addressType:1,siteNomen:1},RO:{id:642,requireState:false,addressType:1,siteNomen:1},GR:{id:300,requireState:false,addressType:2,siteNomen:0},TR:{id:792,requireState:false,addressType:2,siteNomen:0},RS:{id:688,requireState:false,addressType:2,siteNomen:0},GB:{id:826,requireState:false,addressType:2,siteNomen:0},DE:{id:276,requireState:false,addressType:2,siteNomen:0},FR:{id:250,requireState:false,addressType:2,siteNomen:0},IT:{id:380,requireState:false,addressType:2,siteNomen:0},US:{id:840,requireState:true,addressType:2,siteNomen:0}};var a={};var g=null;var h,p,f;var o=null;var q=null;var c=null;var s=null;var r=function(){var w=b();var v=o&&o.id?o.id:null;if(w.countryId===v&&w.siteId===q&&w.state===c&&w.zip===s){return}m({action:"shippingServiceRequest",method:"post",data:u.setOrderRequestParams({provider:g.getType(),type:"location",locationType:"setLocation",site:q,country:v,state:c,zip:s}),onOk:function(y){var x=u.getOrder();x.extra=x.extra||{};x.extra.speedy=y.data;u.recalculateShippingPrice()}})};var m=function(x){var w=WebPlatform.disableAjaxLoader;WebPlatform.disableAjaxLoader=true;var v=x.always||dummy;x.always=function(){WebPlatform.disableAjaxLoader=w;v()};WebPlatform.makeClientWebsiteRequest(x)};var n=function(){h=k.find('[data-step="address"]');p=h.find('[name="shippingCity"]');stateUi=h.find('[name="shippingState"]');f=h.find('[name="shippingZipCode"]');p.autocomplete({highlightClass:"ui-autocomplete-match",delay:100,minLength:1,autoFocus:true,source:function(x,v){if(o===null||o.siteNomen!==1){return}var w=x.term.trim();if(w.toLowerCase().startsWith("Ñ.")||w.toLowerCase().startsWith("Ñ ")||w.toLowerCase().startsWith("s ")||w.toLowerCase().startsWith("s.")){w=w.substr(2)}else{if(w.toLowerCase().startsWith("Ð³Ñ€.")||w.toLowerCase().startsWith("Ð³Ñ€ ")||w.toLowerCase().startsWith("gr.")||w.toLowerCase().startsWith("gr ")){w=w.substr(3)}}m({action:"shippingServiceRequest",method:"post",data:{provider:g.getType(),type:"location",locationType:"site",country:o?o.id:null,name:w.trim()},onOk:function(y){var z=y.data;z.forEach(function(B){var A="";if(B.type){A=B.type+" "}A+=B.name;if(B.postCode){A+=", "+B.postCode}var C="Ð¾Ð±Ñ‰. "+B.municipality+", Ð¾Ð±Ð». "+B.region;B.rowTop=A;B.rowBottom=C;B.value=B.name});v(z)}})},select:function(v,w){p.val(w.item.name);f.val(w.item.postCode);q=w.item.id;s=w.item.postCode||"";s.replace(/ /g,"");r();return false}}).attr("autocomplete","no").autocomplete("instance")._renderItem=function(v,w){return $("<li>").append("<div>"+w.rowTop+"<br>"+w.rowBottom+"</div>").appendTo(v)}};var b=function(){return mergeUnique((u.getOrder().extra||{}).speedy||{},{countryId:null,siteId:null,state:"",zip:""})};var j=function(v){v=(v||"").trim();if(v!==c){c=v;if(!o||!o.siteNomen){r()}}};var t=function(v){v=(v||"").trim();if(v!==s){s=v||"";s.replace(/ /g,"");if(!o||!o.siteNomen){r()}}};var e=null;var d=function(x){if(x==="EL"){x="GR"}var w=function(y){o=y;if(b().countryId!=y.id){q=null;c=null;s=null;p.val("");stateUi.val("");f.val("");r()}};var v=function(y){e=y;if(l[y]){w(l[y],y)}else{m({action:"shippingServiceRequest",method:"post",data:{locationType:"country",provider:g.getType(),type:"location",name:y},onOk:function(z){var A=z.data;if(A.length){l[y]=A[0];if(e!==y){d(e)}else{w(A[0])}}}})}};v(x)};var i=function(B,y){var v=(y.extra||{}).speedy||{};var A=b();var C=A.siteId;var z=y.kind==="speedy-office";var x=function(F){var D='<div class="col20 f-left speedy">';var E=!y.calculated&&(o===null||o.siteNomen===1&&C===0||o.siteNomen===0&&A.zip==="");if(E){D+='<span class="col20 f-left mt-15">'+WebPlatform.Phrases["label.enter_delivery_address"]+"</span>"}else{if(z){var H='<select class="col20 f-left mt-5" name="shippingOffice">';if(F.length===0){H+="<option selected disabled readonly>"+WebPlatform.Phrases["label.no_delivery_offices"]+"</option>"}else{F.forEach(function(L){var K=v.officeId===L.id?"selected":"";var J=L.name;if(L.address&&L.address.localAddressString){J+=" - "+L.address.localAddressString}H+=('<option value="'+L.id+'"'+K+">"+J+"</option>")})}H+="</select>";D+='<div class="col20 f-left mt-15"><span>'+WebPlatform.Phrases["label.select_speedy_office"]+"</span>"+H+"</div>"}if(!v.fixedPrice){var G=v.services||[];if(G.length===0||G.length>1){var I='<select class="col20 f-left mt-5" name="shippingService">';if(G.length===0){I+="<option selected disabled readonly>"+WebPlatform.Phrases["label.no_shipping_services"]+"</option>"}else{G.forEach(function(J){var K=v.serviceId===J.id?"selected":"";var L=WebPlatform.currToStr(J.cost,WebPlatform.Store.currencySymbol,WebPlatform.Store.currencySymbolAtLeft,WebPlatform.Store.currency);I+=('<option value="'+J.id+'"'+K+">"+J.name+" - "+L+"</option>")})}I+="</select>";D+='<div class="col20 f-left mt-15"><span>'+WebPlatform.Phrases["label.select_delivery_type"]+"</span>"+I+"</div>"}}}D+="</div>";B.find(".speedy").remove();B.append(D);B.find('select[name="shippingService"]').change(function(){u.recalculateShippingPrice(this.value,null)});if(z){B.find('select[name="shippingOffice"]').change(function(){u.recalculateShippingPrice(null,this.value)})}};if(z){var w=[];if(C){w=a[C];if(w&&w.length>0){x(w)}else{m({action:"shippingServiceRequest",method:"post",data:{provider:g.getType(),locationType:"office",type:"location",country:A.countryId,site:C},onOk:function(D){var E=D.data;a[C]=E;x(E)}})}}else{x([])}}else{x(null)}};return{_init:function(){g=this;n();delete this._init;return this},setCountry:d,setState:j,setZip:t,getCountryId:function(){return o&&o.id?o.id:null},getCityId:function(){return q},renderOption:i,getType:function(){return"speedy"}}._init()};(function(){var a=function(c){var b=this;var h=function(j){if(j.hasClass("initialized")){return}j.addClass("initialized");ClientTools.setupFormFields(j);var k=j.find(".recaptcha-target");if(k.length){var i=j.find('[data-role="submit"]');ClientTools.setupRecaptcha({ui:k,button:i})}};var d=function(k){var i=b.root.find("div[data-tab]");var j=i.filter('div[data-tab="'+k+'"]');if(b.activeTabUI===null){b.activeTabUI=j;b.activeTab=k;b.activeTabUI.addClass("active").removeClass("none-soft");h(b.activeTabUI)}else{b.activeTabUI.fadeOut(150,function(){b.activeTab=k;b.activeTabUI.removeClass("active");b.activeTabUI=j;b.activeTabUI.addClass("active").fadeIn(150);h(b.activeTabUI)})}};var e=function(i){var k=i.data||{};var j=this.activeTabUI.find(".error-wrapper").empty();k.act=i.action||"";var l={action:b.getBaseAction(),method:"post",data:k,onOk:function(m){(i.onSuccess||dummy)(m)},onNotOk:function(m){if(i.onError){i.onError(m)}else{ClientTools.showMessageBox(m.message,j,"html",true);ClientTools.hideLoader()}}};ClientTools.showLoader();if(i.file){WebPlatform.makeClientWebsiteRequestWithFile(l,i.file)}else{WebPlatform.makeClientWebsiteRequest(l)}};var f=function(){switch(b.activeTab){case"login":b.login();break;case"recover-password":b.recoverPassword();break;case"recover-password-finish":b.newPassword();break;case"register":b.register();break}};var g=function(i){if(!i.root||!i.root.length){return null}b.options=i;b.root=i.root;b.activeTab=i.activeTab||ClientTools.getUrlQueryParameter(window.location.href,"tab")||"login";b.activeTabUI=null;b.options=null;var j=["login","recover-password","register"];if(j.indexOf(b.activeTab)===-1){b.activeTab="login"}if(b.activeTab==="recover-password"&&ClientTools.getUrlQueryParameter(window.location.href,"t")){b.activeTab="recover-password-finish"}b.root.on("click","a[data-show]",function(){d($(this).data("show"))}).on("keyup",'input[name="password"]',function(k){if(k.keyCode===13){$(this).closest("[data-tab]").find('[data-role="submit"]').trigger("click")}}).on("click",'a[data-role="submit"]',function(){if($(this).hasClass("disabled")){return}f()});d(b.activeTab)};return{root:null,activeTab:null,activeTabUI:null,options:null,_init:function(i){b=this;g(i);delete this._init;return this},request:e,login:dummy,register:dummy,recoverPassword:dummy,newPassword:dummy,getBaseAction:function(){return"memberRequest"},showTab:d}._init(c)};WebPlatform.Widgets.MemberAuthForm=function(b){var c=$.extend(a(b),{login:function(){var e=this.activeTabUI.find('input[name="email"]').val();var d=this.activeTabUI.find('input[name="password"]').val();var f=this.activeTabUI.find('input[name="backTo"]').val();ClientTools.showLoader();this.request({action:"login",data:{email:e,password:d,backTo:f},onSuccess:function(g){var h=b.nextPage?b.nextPage:g.data;if(g.data&&b.nextPage&&b.nextPage.startsWith("javascript:")){h=g.data}window.location.href=h||"/"}})},register:function(){var n=this;var g=this.activeTabUI.find('input[name="name"]').val();var k=this.activeTabUI.find('input[name="email"]').val();var m=this.activeTabUI.find('input[name="password"]').val();var e=this.activeTabUI.find('input[name="backTo"]').val();var f=this.activeTabUI.find(".recaptcha-target").data("captcharesponse");var l=this.activeTabUI.find('input[name="formid"]').val();var j=this.activeTabUI.find(".error-wrapper").empty();var i=this.activeTabUI.find(".form-field").not('[data-type="section"]');var h=ClientTools.readFormFields(i);if(h.hasErrors){return}var d=h.values||[];if(d.length>2){d.splice(0,3)}ClientTools.showLoader();this.request({action:"register",file:h.file,data:{name:g,email:k,password:m,validator:f,backTo:e,values:d,formId:l},onSuccess:function(p){var o=p.data;if(o.approve){n.showTab("register-approve");ClientTools.hideLoader()}else{WebPlatform.reportMemberRegistration(p.uid);WebPlatform.delay(80,function(){var q=b.nextPage?b.nextPage:o.redirect;window.location.href=q||"/"})}},onError:function(o){ClientTools.showMessageBox(o.message,j,"html",true);ClientTools.resetRecaptcha(n.activeTabUI,n.activeTabUI.find('a[data-role="submit"]'));ClientTools.hideLoader()}})},recoverPassword:function(){var d=this;var e=this.activeTabUI.find('input[name="email"]').val();var f=this.activeTabUI.find(".recaptcha-target").data("captcharesponse");this.request({action:"recover-pass",data:{email:e,validator:f},onSuccess:function(g){ClientTools.hideLoader();d.showTab("recover-password-message")}})},newPassword:function(){var d=this;var e=this.activeTabUI.find('input[name="password"]').val();var g=this.activeTabUI.find('input[name="repeatPassword"]').val();var f=this.activeTabUI.find('input[name="t"]').val();this.request({action:"recover-pass-set-new",data:{password:e,repeatPassword:g,t:f},onSuccess:function(h){ClientTools.hideLoader();d.showTab("recover-password-success")}})}});return c};WebPlatform.Widgets.BuilderAuthForm=function(b){var c=$.extend(a(b),{getBaseAction:function(){return"builderAuthRequest"},login:function(){var f=this.activeTabUI.find('input[name="email"]').val();var e=this.activeTabUI.find('input[name="password"]').val();var d=this.activeTabUI.find('input[name="backto"]').val();var h=this.activeTabUI.find('input[name="wizard"]').val();var j=this.activeTabUI.find('input[name="cc"]').val();var g=this.activeTabUI.find('input[name="category"]').val();var i=this.activeTabUI.find('input[name="sub"]').val();ClientTools.showLoader();this.request({action:"login",data:{email:f,password:e,backto:d,wizard:h,cc:j,category:g,sub:i},onSuccess:function(k){var l=k.data;if(b.nextPage&&b.nextPage.trim()!=="/"&&b.nextPage.trim()!=="/me/website"){l=b.nextPage}window.location.href=l||"/me/website"}})},register:function(){var j=this;var u=this.activeTabUI.find('input[name="name"]').val();var l=this.activeTabUI.find('input[name="email"]').val();var d=this.activeTabUI.find('input[name="password"]').val();var p=this.activeTabUI.find('input[name="backto"]').val();var g=this.activeTabUI.find(".recaptcha-target").data("captcharesponse");var s=this.activeTabUI.find('input[name="formid"]').val();var r=this.activeTabUI.find('input[name="template"]').val();var t=this.activeTabUI.find('input[name="funnel"]').val();var m=this.activeTabUI.find('input[name="category"]').val();var f=this.activeTabUI.find('input[name="promo"]').val();var o=this.activeTabUI.find('input[name="locale"]').val();var q=this.activeTabUI.find('input[name="wizard"]').val();var k=this.activeTabUI.find('input[name="cc"]').val();var i=this.activeTabUI.find(".error-wrapper").empty();var e=this.activeTabUI.find(".form-field").not('[data-type="section"]');var h=ClientTools.readFormFields(e);if(h.hasErrors){return}var n=h.values||[];if(n.length>2){n.splice(0,3)}ClientTools.showLoader();this.request({action:"register",file:h.file,data:{name:u,email:l,password:d,validator:g,backto:p,values:n,formId:s,template:r,funnel:t,category:m,promo:f,locale:o,wizard:q,cc:k,timezone:window.jstz?window.jstz.determine().name():""},onSuccess:function(v){var w=v.data;if(b.nextPage&&b.nextPage!=="/"&&b.nextPage!==""){w=b.nextPage}window.location.href=w},onError:function(v){ClientTools.showMessageBox(v.message,i,"html",true);ClientTools.resetRecaptcha(j.activeTabUI,j.activeTabUI.find('a[data-role="submit"]'));ClientTools.hideLoader()}})},recoverPassword:function(){var d=this;var e=this.activeTabUI.find('input[name="email"]').val();var f=this.activeTabUI.find(".recaptcha-target").data("captcharesponse");this.request({action:"recover-pass",data:{email:e,validator:f},onSuccess:function(g){ClientTools.hideLoader();d.showTab("recover-password-message")}})},newPassword:function(){var d=this;var e=this.activeTabUI.find('input[name="password"]').val();var g=this.activeTabUI.find('input[name="repeatPassword"]').val();var f=this.activeTabUI.find('input[name="t"]').val();this.request({action:"recover-pass-set-new",data:{password:e,passwordRepeat:g,t:f},onSuccess:function(h){ClientTools.hideLoader();d.showTab("recover-password-success")}})}});return c}})();WebPlatform.Widgets.WebsiteSubscription=function(O){if(!O.root||!O.root.length||window.ClientTools&&O.root[0].offsetParent===null){return null}var b='    <div class="subtotal-wrapper">       <span class="subtotal">         <span class="col20 f-left">%title%</span>       </span>       <mark class="subtotal-price subtotal-value">%price%</mark>     </div>';var I='    <div class="subtotal-wrapper">       <span class="subtotal flex flex-row" style="line-height: 30px">         <a class="remove-discount-btn"><i class="fa fa-trash-o"></i></a>        <span class="col20 f-left">%title%</span>       </span>       <mark class="subtotal-price subtotal-value">%price%</mark>     </div>';var Q=O.root,t=Q.find('[data-role="error-message"]'),j=Q.find('input[name="formid"]').val(),ak=O.layout==="1-step",R=[],ab=O.subscriptionType==="regular",ah=0,e="yearly",o="",n,H,A,ai=O.applyTax?WebPlatform.getVatRate(WebPlatform.ipCountryCode||O.invCountry||"US"):0,af=0,h=0,y="",ad=0,s=0,am=ak?null:Q.find('[data-role="steps-breadcrumbs"]'),D,K,V,v,B=null,x=null,m=null,ao=Q.find('[data-role="next-step"]'),an=Q.find('[data-role="continue"]'),L=Q.find('[data-role="back"]'),z=Q.find('[data-role="toggleLoginControls"]'),U=window.disableSubscriptionWidgetLogin!==true&&O.user&&O.user.email?O.user:null,u=U===null,a={cardType:"",nonce:"",paypalEmail:"",paypalCountry:"",lastTwo:""};var c=0;var ac=function(){++c;if(c>1){return}if(window.ClientTools){ClientTools.showHideAjaxLoadingIndicator(false)}Q.addClass("checkout-loading")};var l=function(){--c;if(c<0){c=0}if(c===0){if(window.ClientTools){ClientTools.showHideAjaxLoadingIndicator(true)}Q.removeClass("checkout-loading")}};var k=function(ap){t.text(ap).removeClass("none")};var r=function(){t.addClass("none").text("")};var J=function(aq,ap){aq=aq.toUpperCase();ap=(ap||"").trim().toUpperCase().replace(/[^0-9A-Z]/g,"");if(ap.length>7&&ap.indexOf(aq)===0&&aq!==O.invCountry){ai=0}else{if(O.applyTax){ai=WebPlatform.getVatRate(aq)}}Z()};var Z=function(){var aq=af;s=h*(1+Math.max(0,ai)/100);var ap=Q.find('[data-role="vatRow"]');if(ai>0&&af>0.01){aq=af*(1+ai/100);vatAmount=aq-af;ap.removeClass("none");ap.find('[data-role="vat-percent"]').text(ai+"%");ap.find(".subtotal-value").text(WebPlatform.currencyWithCodeToStr(vatAmount,O.currency))}else{ap.addClass("none")}if(s<0.01){Q.find('[data-role="next-billing-details"]').hide()}else{var ar=y+" - "+WebPlatform.currencyWithCodeToStr(s,O.currency);Q.find('[data-role="nextBillingInfo"]').text(ar);Q.find('[data-role="next-billing-details"]').show()}Q.find(".trial-message")[O.trial?"removeClass":"addClass"]("none");Q.find(".final-cost")[aq<0.01?"addClass":"removeClass"]("none");if(aq>=0.01){Q.find('[data-role="total-price"]').text(WebPlatform.currencyWithCodeToStr(aq,O.currency))}ad=aq};var aa=function(){var aq=[];var ap=Q.find(".bump-wrapper").removeClass("bump-active");ap.find('input[type="checkbox"]:checked').each(function(){var ar=$(this);aq.push(WebPlatform.parse($(this).data("bump")));ar.closest(".bump-wrapper").addClass("bump-active")});return aq};var F=function(){ac();var ap=aa();WebPlatform.makeClientWebsiteRequest({action:"subscriptionWidgetReq",method:"post",data:{widgetAction:"calculatePrice",form:j,bumps:JSON.stringify(ap),selectedPeriod:e,selectedPlan:ah,selectedDiscount:o},onOk:function(aF){var ax=aF.data;af=ax.totalNoVat;y=WebPlatform.ddmmyyyyDateToStrWithMonth(ax.nextBillingDate);h=ax.nextBillingPriceNoVat;if(ax.discountCode.toUpperCase()!==o.toUpperCase()){o="";if(window.ClientTools){ClientTools.showError("Invalid Promo Code")}}o=ax.discountCode;var at=Q.find('[data-role="discount-row"]');if(o){var ay=ax.basePlanPrice-(e==="monthly"?ax.monthlyPrice:ax.yearlyPrice);var au=WebPlatform.currencyWithCodeToStr(ay,O.currency);Q.find(".no-discount-wrapper").addClass("none");var aD=WebPlatform.escapeFormat(I,"title",o+" (-"+ax.discount+"%)","price",au);at.html(aD).removeClass("none")}else{Q.find(".no-discount-wrapper").removeClass("none");at.html("").addClass("none")}var aA=ax.bumps||[];var aB=Q.find('[data-role="bump-prices"]');if(aA.length){var aq="";aA.forEach(function(aG){var aH=WebPlatform.currencyWithCodeToStr(aG.price,O.currency);if(aG.isSubscription){aH+=" / "+WebPlatform.Store.subscriptionToStr(aG.subscription)}aq+=WebPlatform.escapeFormat(b,"title",aG.name,"price",aH)});aB.html(aq).removeClass("none")}else{aB.addClass("none")}if(ab){var aE="";for(var aC=0;aC<R.length;++aC){if(R[aC].id===ah){aE=R[aC].name;break}}n.val(ah);H.val(e);A.find('[data-role="plan-name"]').text(aE);var ar=ax.monthlyPrice;var av=ax.yearlyPrice;var az="";if(e==="monthly"){az=WebPlatform.currencyWithCodeToStr(ar,O.currency)+"/"+WebPlatform.Phrases["label.month"]}else{var aw=Math.round(100-av/(ar*12)*100);az=WebPlatform.currencyWithCodeToStr(av,O.currency)+"/"+WebPlatform.Phrases["label.year"];if(aw>0){az+=" <span>("+WebPlatform.Phrases["label.saving"]+" "+aw+"%)</span>"}}Q.find('[data-role="plan-period-price"]').html(az)}Z()},always:function(){l()}})};var i=function(){var aq=Q.find(".connected-paypal-account");var ap=Q.find(".card-form");if(a.nonce===""){toggleDisplay(ap,true);toggleDisplay(aq,false)}else{if(a.cardType==="PayPal"){aq.find('[data-role="paypal-account"]').text(a.paypalEmail);toggleDisplay(aq,true);toggleDisplay(ap,false)}}};var P=function(){if(x===null){return}x.tokenize({flow:"vault"},function(ap,aq){if(ap){if(ap.type!=="CUSTOMER"){k(ap.message||"Unknown error")}return}a.cardType="PayPal";a.nonce=aq.nonce;a.paypalEmail=aq.details.email;a.paypalCountry=aq.details.countryCode;i()})};var p=function(){ac();WebPlatform.requestResource("https://js.stripe.com/v3/",null,function(){return !isUndefined(window.Stripe)},function(){B={};B.stripe=Stripe(O.stripePK);B.elements=B.stripe.elements({locale:WebPlatform.getStripeLocale()}).create("card",{hidePostalCode:true});var ap=Q.find('[data-name="card-number"]');B.elements.mount(ap[0]);B.elements.addEventListener("change",function(aq){if(aq.error){k(aq.error.message)}else{r()}});l()})};var X=function(aq,ap){WebPlatform.makeClientWebsiteRequest({action:"subscriptionWidgetReq",method:"post",data:{widgetAction:"getStripeToken",amount:ad<0.1?0:ad,form:j},onOk:function(ar){if(ad<0.1){B.stripe.handleCardSetup(ar.data,B.elements,{payment_method_data:{}}).then(function(av){if(av.error){k(av.error.message||av.error);ap()}else{a.paypalEmail="";a.paypalCountry="";a.cardType="";a.lastTwo="";a.nonce=av.setupIntent.id;r();aq()}})}else{var au={payment_method:{card:B.elements}};var at=U&&U.name?U.name:Q.find('[name="name"]').val();if(at){au.payment_method.billing_details={name:at}}B.stripe.confirmCardPayment(ar.data,au).then(function(av){if(av.error){k(av.error.message||av.error);ap()}else{a.paypalEmail="";a.paypalCountry="";a.cardType="";a.lastTwo="";a.nonce=av.paymentIntent.id;r();aq()}})}}})};var C=function(aq){ac();var ap=[{script:"https://js.braintreegateway.com/web/3.73.1/js/client.js",check:function(){return window.braintree&&window.braintree.client}}];if(aq==="braintree"){ap.push({script:"https://js.braintreegateway.com/web/3.73.1/js/three-d-secure.min.js",check:function(){return window.braintree&&window.braintree.threeDSecure}});ap.push({script:"https://js.braintreegateway.com/web/3.73.1/js/hosted-fields.js",check:function(){return window.braintree&&window.braintree.hostedFields}})}if(window.paypalDisabled){}else{ap.push({script:"https://js.braintreegateway.com/web/3.73.1/js/paypal.js",check:function(){return window.braintree&&window.braintree.paypal}})}WebPlatform.requestScripts(ap,function(){WebPlatform.makeClientWebsiteRequest({action:"subscriptionWidgetReq",method:"post",data:{widgetAction:"getBTToken",form:j},onOk:function(ar){var at=ar.data;window.braintree.client.create({authorization:at},function(au,av){if(au){k(au)}else{if(aq==="braintree"){ac();window.braintree.hostedFields.create({client:av,styles:{input:{color:"#898989","font-family":"Arial, sans-serif"}},fields:{number:{selector:O.rootSelector+" [data-name='card-number']",placeholder:"Card number"},cvv:{selector:O.rootSelector+" [data-name='card-cvv']",placeholder:"CVV"},expirationDate:{selector:O.rootSelector+" [data-name='card-expiration']",placeholder:"MM/YYYY"}}},function(ax,aw){l();if(ax){k(ax.message);return}WebPlatform.initiateBraintree3DSecureIfEnabled(av,function(ay){B=aw;m=ay},function(ay){k(ax.message)})})}if(window.paypalDisabled){}else{ac();window.braintree.paypal.create({client:av},function(ax,aw){l();if(ax){k(ax);return}x=aw})}}l()})}})});Q.find('[data-role="connectPayPal"]').click(P);Q.find('[data-role="disconnectPayPal"]').click(function(){a.cardType="";a.nonce="";a.paypalEmail="";a.paypalCountry="";i()})};var al=function(aq,ap){if(B===null&&x===null){ap();return}if(a.cardType==="PayPal"){aq();return}else{if(B===null){ap();return}}B.tokenize(function(at,au){if(at){var ar=null;switch(at.code){case"HOSTED_FIELDS_FIELDS_EMPTY":case"HOSTED_FIELDS_FIELDS_INVALID":ar="Please fill all card fields";break;default:ar="There was an error processing your request - "+at.message}k(ar);ap();return}if(m){m.verifyCard({challengeRequested:true,onLookupComplete:function(aw,av){av()},amount:WebPlatform.currToStr(ad<0.1?(s<0.1?1:s):ad,"",true,O.currency),nonce:au.nonce,bin:au.details.bin},function(ax,aw){if(ax){var av=(((ax.details||{}).originalError||{}).description||"");k(ax.message+(av===""?"":(" - "+av)));ap();return}if(aw.liabilityShifted||!aw.liabilityShiftPossible){a.paypalEmail="";a.paypalCountry="";a.nonce=aw.nonce;a.cardType=aw.details.cardType;a.lastTwo=aw.details.lastTwo;aq()}else{k("Card authorization failed. Please try again");ap()}})}else{a.paypalEmail="";a.paypalCountry="";a.nonce=au.nonce;a.cardType=au.details.cardType;a.lastTwo=au.details.lastTwo;aq()}})};var Y=function(){ac();var ap="https://"+(O.authorizeInSandbox?"jstest":"js")+".authorize.net/v1/Accept.js";WebPlatform.requestResource(ap,null,function(){return !!window.Accept},function(){B={};Q.on("keyup.cardEvents",".card-cvc",function(ar){var aq=$(this);aq.val(aq.val().replace(/[^0-9]/g,"").substring(0,4))});Q.on("keyup.cardEvents",".card-date",function(ar){if((ar.which||ar.keyCode)===9){return false}var aq=$(this);var at=aq.val().replace(/[^0-9]/g,"");if(at.length>4){at=at.substring(0,4)}var au=at.length>2?at.substring(2):"";if(at.length>1){at=at.substring(0,2)+" / "+au}aq.val(at);if(at.length===7){aq.next().focus()}});l()})};var G=function(ax,av){var au=Q.find(".card-number").val().trim();var at=Q.find(".card-date").val().split("/");var aq=Q.find(".card-cvc").val();var aw=at[0].trim();var ar=WebPlatform.parse(at.length>1?at[1].trim():"",2018);if(ar<100){ar+=2000}var ap={authData:{clientKey:O.authorizePK,apiLoginID:O.authorizeApiLoginId},cardData:{cardNumber:au,month:aw,year:ar,cardCode:aq.trim()}};window.Accept.dispatchData(ap,function(az){if(az.messages.resultCode==="Error"){var aA=az.messages.message.length?az.messages.message[0].text:az.messages.message[0].text;for(var ay=0;ay<az.messages.message.length;++ay){Log.error("Error auhtorizing payment with Authorize.net: "+az.messages.message[ay].code+": "+az.messages.message[ay].text)}k(aA);av()}else{a.paypalEmail="";a.paypalCountry="";a.nonce=JSON.stringify(az.opaqueData);a.cardType="card";a.lastTwo=au.length>1?au.substring(au.length-2,au.length):"";ax()}})};var g=function(){ac();WebPlatform.requestResource("https://js.paystack.co/v1/inline.js",null,function(){return !isUndefined(window.PaystackPop)},function(){B={};l()})};var f=function(aq,ap){if(!a.nonce){N(function(ar){if(ar===null){var at=Math.round(ad*100);var au=PaystackPop.setup({key:O.paystackPK,email:K||U.email,channels:["card"],amount:at<1?(O.currency==="USD"?20:5000):at,currency:O.currency,metadata:{custom_fields:[{display_name:"Website Subscription",variable_name:"website",value:window.location.href}]},callback:function(av){a.paypalEmail="";a.paypalCountry="";a.nonce=av.reference;a.cardType="card";a.lastTwo="";aq()},onClose:function(){a.nonce=null;a.cardType="";ap()}});au.openIframe()}else{k(ar);ap()}})}else{aq()}};var ae=function(){var ap=Q.find('[data-role="project-select"]');if(U&&!O.trial){var aq=function(au){var ar=ap.find("select");ar.find("option").not(":first").remove();var at=null;au.forEach(function(aw){if(at===null&&aw.status!=="ACTIVE"){at=aw}var av=$("<option />").attr("value",aw.id).text(aw.name||"Project");ar.append(av)});if(at){ar.val(at.id)}else{if(au.length===0){ar.val("")}else{ar.val(au[0].id)}}};if(U.projects&&U.projects.length){aq(U.projects)}else{WebPlatform.makeClientWebsiteRequest({action:"subscriptionWidgetReq",method:"post",data:{widgetAction:"listProjects",form:j},onOk:function(ar){U.projects=ar.data||[];aq(U.projects)},onNotOk:function(ar){}})}ap.show()}else{ap.hide()}};var E=function(){var ap=Q.find('[data-role="logged-info"]');var aq=Q.find('[data-role="guest-info"]');if(U){ap.show();aq.hide();ap.find(".logged-in-name").html(U.name);ap.find(".logged-in-email").html(U.email)}else{aq.show();ap.hide()}ae()};var d=function(){ac();N(function(ap){if(ap===null){E();if(!ak){am.find("a").removeClass("active").eq(1).addClass("active");Q.find('[data-step="final"]').removeClass("none");Q.find('[data-step="initial"]').addClass("none")}r()}else{k(ap)}l()})};var N=function(ap){if(U){ap(null)}else{D=Q.find('[name="name"]').val();K=Q.find('[name="email"]').val();V=Q.find('[name="password"]').val();v=Q.find('[name="phone"]').val();WebPlatform.makeClientWebsiteRequest({action:"subscriptionWidgetReq",method:"post",data:{widgetAction:"checkAccountDetails",form:j,name:D,email:K,password:V,phone:v,login:!u},onOk:function(aq){if(!u){U=aq.data}ap(null)},onNotOk:function(aq){ap(aq.message)}})}};var q=function(){Q.find('[data-role="prompt-register"]')[!u?"slideDown":"slideUp"]("fast");Q.find('[data-role="prompt-login"]')[u?"slideDown":"slideUp"]("fast");Q.find('input[name="name"], input[name="phone"]')[u?"slideDown":"slideUp"]("fast")};var w=function(){am.find("a").removeClass("active").eq(0).addClass("active");Q.find('[data-step="initial"]').removeClass("none");Q.find('[data-step="final"]').addClass("none");r()};var W=function(){if(an.hasClass("disabled")){return}ac();D=Q.find('[name="name"]').val();K=Q.find('[name="email"]').val();V=Q.find('[name="password"]').val();v=Q.find('[name="phone"]').val();S(function(){r();var av=WebPlatform.parse(WebPlatform.getUrlQueryParameter(window.location.href,"template"),0);var aC=WebPlatform.parse(WebPlatform.getUrlQueryParameter(window.location.href,"funnel"),0);var ax=WebPlatform.getUrlQueryParameter(window.location.href,"cc");var at=WebPlatform.getUrlQueryParameter(window.location.href,"category");var aB=window.jstz?(jstz.determine().name()||"GMT"):"GMT";var aF=Q.find('[name="companyName"]').val();var aE=Q.find('[name="companyId"]').val();var aw=Q.find('[name="country"]').val();var az=Q.find('[name="city"]').val();var ap=Q.find('[name="state"]').val();var ar=Q.find('[name="zip"]').val();var aD=Q.find('[name="address"]').val();var aA=u?-1:Q.find('[name="project"]').val()||-1;var au=Q.find(".form-field").not('[data-type="section"]');var aq=ClientTools.readFormFields(au);if(aq.hasErrors){l();return}var ay={action:"subscriptionWidgetReq",method:"post",data:{widgetAction:"subscribe",form:j,bumps:JSON.stringify(aa()),selectedPeriod:e,selectedPlan:ah,selectedDiscount:o,templateId:av,funnelId:aC,cc:ax,category:at,timezone:aB,total:ad,vatPercent:ai,paymentData:JSON.stringify(a),name:D,email:K,phone:v,password:V,companyName:aF,companyId:aE,countryCode:aw,city:az,state:ap,zip:ar,address:aD,currentFunnel:O.funnel,currentFunnelStep:O.funnelStep,currentFunnelStepVariant:O.funnelStepVariant,locale:WebPlatform.getUrlQueryParameter(window.location.href,"locale")||"",project:aA,values:aq.values},onOk:function(aK){var aI=aK.data;if(aI.errors&&aI.errors.length){var aH=Q.find(".form-field").not('[data-type="section"]');for(var aG=0;aG<aI.errors.length;++aG){if(aI.errors[aG]){aH.eq(aG).addClass("field-invalid").find(".field-error").text(aI.errors[aG])}}ClientTools.resetRecaptcha(Q,an);k(aI.message)}else{if(aI.recalculateTax){ai=aI.tax;k("We've updated your total price. Please confirm your new price and try again.");ClientTools.resetRecaptcha(Q,an);Z()}else{if(aI.redirectUrl){var aJ=[{id:0,quantity:1,price:ad}];WebPlatform.visitorName=D;WebPlatform.visitorEmail=K;WebPlatform.Store.reportPurchase(aK.uid,(new Date()).getTime(),aJ,ad,"NewSubscription",O.currency,D,K);WebPlatform.delay(50,function(){window.location=aI.redirectUrl;toggleDisplay(Q,false)})}}}l()},onNotOk:function(aG){k(aG.message);ClientTools.resetRecaptcha(Q,an);l()}};if(aq.file){WebPlatform.makeClientWebsiteRequestWithFile(ay,aq.file)}else{WebPlatform.makeClientWebsiteRequest(ay)}},function(){l()})};var ag=function(){switch(O.processor){case"braintree":case"paypal-bt":C(O.processor);break;case"stripe":p();break;case"authorize.net":Y();break;case"paystack":g();break}};var S=function(aq,ap){switch(O.processor){case"braintree":case"paypal-bt":al(aq,ap);break;case"stripe":X(aq,ap);break;case"authorize.net":G(aq,ap);break;case"paystack":f(aq,ap);break;default:k("Payment processor not supported");ap()}};var aj=function(){if(ak){Q.find('[data-step="initial"], [data-step="final"]').removeClass("none")}else{w()}L.click(w);z.click(function(){u=!u;q()});ao.click(d);an.click(W);if(ab){var ar=Q.find(".plan-select");A=ar.find('[data-role="plan-selected"]');n=ar.find('[data-role="available-plans"]');H=ar.find('[data-role="plan-period"]');n.find("option").each(function(){var ax=$(this);R.push({id:WebPlatform.parse(ax.attr("value")),name:ax.text()})});H.change(function(){e=this.value.toLowerCase()==="monthly"?"monthly":"yearly";F()});if(R.length<2){ar.find(".plan-change").remove()}else{ar.on("click",".plan-change",function(){A.addClass("none");n.removeClass("none")})}n.change(function(){ah=WebPlatform.parse($(this).val(),0);n.addClass("none");A.removeClass("none");F()});ah=WebPlatform.parse(WebPlatform.getUrlQueryParameter(window.location.href,"plan"),R.length>0?R[0].id:0);e=(WebPlatform.getUrlQueryParameter(window.location.href,"period")||"yearly").toLowerCase()==="monthly"?"monthly":"yearly";o=WebPlatform.getUrlQueryParameter(window.location.href,"discount");var aw=false;for(var ap=0;ap<R.length;++ap){if(R[ap].id===ah){aw=true;break}}if(!aw){ah=R.length>0?R[0].id:0}n.val(ah)}var av=Q.find('[name="country"]');var at=Q.find('[name="state"]');var aq=Q.find('[name="companyId"]');if(window.ClientTools){aq.keyup(function(){J(av.val(),aq.val())});WebPlatform.requestResource(resources+"/scripts/i18n/countries/"+locale+".js",null,function(){return window.COUNTRIES&&window.COUNTRIES.length},function(){ClientTools.bindCountryAndState(av,at,WebPlatform.ipCountryCode||O.invCountry||"US",function(){J(av.val(),aq.val())})})}else{J(O.invCountry||"US",aq.val())}Q.on("click",'a[data-role="toggle-billing-info"]',function(){Q.find('div[data-role="billing-form"]').slideToggle("fast")}).on("click",".promo-code-toggle-btn",function(){Q.find(".coupon-code-wrapper").toggleClass("none")}).on("click",".discount-code-btn",function(){var ax=Q.find(".apply-code-input").val().trim();if(ax!==""){o=ax;F()}}).on("click",".remove-discount-btn",function(){o="";F()}).on("keyup",".apply-code-input",function(ax){if(ax.keyCode===13){Q.find(".discount-code-btn").click()}});Q.find(".bump-wrapper input").change(F);if(window.ClientTools){var au=Q.find(".recaptcha-target");if(au.length>0){ClientTools.setupRecaptcha({ui:au,button:Q.find('a[data-step="final"][data-role="continue"]'),onLoaded:function(ax){l()}})}ClientTools.setupFormFields(Q)}E();F();ag()};aj();return{destroy:function(){if(x!==null){x.teardown()}x=null;if(O.processor==="braintree"&&B!==null){B.teardown()}if(O.processor==="stripe"&&B!==null){B.destroy()}}}};WebPlatform.Widgets.WebsiteSubscriptionUpsell=function(e){if(!e.root||!e.root.length){return null}var d=e.root,f=d.find('input[name="formid"]').val(),c=d.find('[data-role="continue"]'),g=0;var b=function(){ClientTools.showLoader();WebPlatform.makeClientWebsiteRequest({action:"subscriptionWidgetReq",method:"post",data:{widgetAction:"upsell",form:f,project:e.project,currentFunnel:e.funnel,currentFunnelStep:e.funnelStep,currentFunnelStepVariant:e.funnelStepVariant},onOk:function(k){var i=k.data;if(i.redirectUrl){window.location.href=i.redirectUrl;var j=[{id:0,quantity:1,price:g}];WebPlatform.Store.reportPurchase(k.uid,(new Date()).getTime(),j,g,"NewSubscription",e.currency);WebPlatform.delay(50,function(){window.location=i.redirectUrl;toggleDisplay(d,false)})}ClientTools.showLoader()},onNotOk:function(i){ClientTools.hideLoader();ClientTools.showError(i.message)}})};var a=function(){WebPlatform.makeClientWebsiteRequest({action:"subscriptionWidgetReq",method:"post",data:{widgetAction:"calculatePrice",form:f,bumps:JSON.stringify([]),selectedPeriod:"yearly",selectedPlan:0},onOk:function(q){var k=q.data;var n=k.totalNoVat;var j=WebPlatform.ddmmyyyyDateToStrWithMonth(k.nextBillingDate);var o=k.nextBillingPriceNoVat;var p=e.tax||0;var m=n;nextBillingPrice=o;var l=d.find('[data-role="vatRow"]');if(p>0&&n>0.01){m=n*(1+p/100);vatAmount=m-n;nextBillingPrice=o*(1+p/100);l.removeClass("none");l.find('[data-role="vat-percent"]').text(p+"%");l.find(".subtotal-value").text(WebPlatform.currencyWithCodeToStr(vatAmount,e.currency))}else{l.addClass("none");d.find(".final-cost").addClass("none")}if(nextBillingPrice<0.01){d.find('[data-role="next-billing-details"]').hide()}else{var i=j+" - "+WebPlatform.currencyWithCodeToStr(nextBillingPrice,e.currency);d.find('[data-role="nextBillingInfo"]').text(i);d.find('[data-role="next-billing-details"]').show()}d.find('[data-role="total-price"]').text(WebPlatform.currencyWithCodeToStr(m,e.currency));g=m}})};var h=function(){c.click(b);if(e.project){Cookies.set("last-subscribed-project",e.project,{expires:7,path:"/"})}else{e.project=Cookies.get("last-subscribed-project")||""}if(e.projectUrl){$('a[href="/me/website"], a[href="https://'+e.platformUrl+'/me/website"]').attr("href",e.projectUrl)}a()};h()};var $window=null;var COLORPICKER_PREDEFINED_COLORS=["#000000","#3e3e3e","#6a6a6a","#898989","#cccccc","#e1e1e1","#ffffff","#0b662d","#288543","#41A85F","#61BD6D","#489519","#64bd2e","#8bdd59","#0f227e","#1b5697","#2969B0","#008fde","#23a3ea","#4eb3ea","#8dcaec","#B8312F","#E25041","#EB6B56","#F37934","#FBA026","#FAC51C","transparent"];var PIE_COLORS=[["#4eb3ea","#8dcbec"],["#83c98d","#c3e4c5"],["#f15858","#eb8085"],["#04a7b6","#46cedc"],["#ed6a9b","#f295b4"],["#2e7c31","#449e46"],["#b91760","#e32469"],["#bdc733","#cbda3f"],["#ffea71","#fff8c4"],["#0085c8","#0daaf1"],["#5b69c1","#9ca8dc"],["#fd7100","#f8a120"],["#f2a6a7","#fbcccf"],["#e43f39","#f14f42"],["#c02223","#f14d44"],["#fcd230","#ffea53"],["#dc226f","#e95c90"],["#7520a1","#a643b8"],["#7eb340","#9ecd64"],["#653fb8","#9275cb"]];var EMAIL_MARKETING_EMAILS_TO_SUBSCRIBERS_MULTIPLIER=12;var ACCOUNT_STATUSES={TRIAL:M.ACCOUNT_STATUS_TRIAL,ACTIVE:M.ACCOUNT_STATUS_ACTIVE,EXPIRED:M.ACCOUNT_STATUS_EXPIRED,DISABLED:M.ACCOUNT_STATUS_DISABLED,PROMO:M.ACCOUNT_STATUS_PROMO};var BILLING_TYPES={MONTHLY:M.BILLING_TYPE_MONTHLY,YEARLY:M.BILLING_TYPE_YEARLY};var CRM_PROPERTY_TYPE={STRING:"STRING",EMAIL:"EMAIL",NUMBER:"NUMBER",BOOLEAN:"BOOLEAN",DATE:"DATE",LIST:"LIST",COUNTRY:"COUNTRY"};var CRM_FILTER_TYPE={FIRST_SEEN:0,LAST_SEEN:1,SIGNED_UP:2,TAG:3,MEMBER_GROUP:4,NOTE:5,PROPERTY:7,SUBSCRIBER_LIST:8};var CRM_FIXED_FILTERS=[{label:M.FIRST_SEEN,icon:"fa-calendar",type:CRM_PROPERTY_TYPE.DATE,fType:CRM_FILTER_TYPE.FIRST_SEEN,id:0},{label:M.SIGNED_UP,icon:"fa-calendar",type:CRM_PROPERTY_TYPE.DATE,fType:CRM_FILTER_TYPE.SIGNED_UP,id:0},{label:M.MEMBER_GROUP,icon:"fa-list-ul",type:CRM_PROPERTY_TYPE.LIST,fType:CRM_FILTER_TYPE.MEMBER_GROUP,id:0},{label:M.TAG,icon:"fa-tag",fType:CRM_FILTER_TYPE.TAG,id:0}];var CRM_FILTER_FUNCTION_NAMES={is:M.IS,isNot:M.IS_NOT,startsWith:M.STARTS_WITH,endsWith:M.ENDS_WITH,contains:M.CONTAINS,containsNot:M.DOESNT_CONTAIN,greater:M.GRATER_THAN,less:M.LESS_THAN,isTrue:M.IS_TRUE,isFalse:M.IS_FALSE,moreThan:M.CRM_MORE_THAN_DAYS_LEFT,exactly:M.CRM_EXACTLY_DAYS_LEFT,lessThan:M.CRM_LESS_THAN,after:M.AFTER,before:M.BEFORE,unknown:M.IS_UNKNOWN,any:M.HAS_ANY_VALUE};var getIconForProperty=function(b,a){a=a===true;if(b.id<0){switch(b.id){case -1:return a?"account_circle":"fa-user-circle";case -2:return a?"email":"fa-at";case -3:return a?"call":"fa-phone";case -4:return a?"place":"fa-map-marker";case -5:return a?"place":"fa-map-marker";case -6:return a?"place":"fa-map-marker";case -7:return a?"place":"fa-map-marker";case -8:return a?"place":"fa-map-marker";case -9:return a?"business":"fa-building"}}if(b.name==="website"){return a?"language":"fa-globe"}else{if(b.name==="lead_status"){return a?"star":"fa-star"}}switch(b.type){case CRM_PROPERTY_TYPE.STRING:return a?"title":"fa-font";case CRM_PROPERTY_TYPE.EMAIL:return a?"alternate_email":"fa-at";case CRM_PROPERTY_TYPE.NUMBER:return a?"looks_one":"fa-circle-o";case CRM_PROPERTY_TYPE.BOOLEAN:return a?"check":"fa-check-circle-o";case CRM_PROPERTY_TYPE.DATE:return a?"today":"fa-calendar";case CRM_PROPERTY_TYPE.LIST:case CRM_PROPERTY_TYPE.COUNTRY:return a?"list":"fa-list-ul"}};var staticResource=function(a){return resources+a+"?v="+resourcesVersion};window.onerror=function(f,d,a,c,e){Log.error("Exception!");Log.error(e);var b=f;Tools.delay(10,function(){b=null})};function getUserDir(){var a="s/"+staticUserDir;if(!a.endsWith("/")){a+="/"}return a}function getTemplateDir(a){return"t/"+a+"/shared/"}function convertBaseToTemplateUrl(a,b){return a.replace("/uploads/","/thumbnails/"+b+"/")}function getThumbnailsDir(a){return content+getUserDir()+"thumbnails/"+a+"/"}function getTemplateUploadsDir(a){return content+getTemplateDir(a)+"uploads/"}function getTemplateThumbnailsDir(b,a){return content+getTemplateDir(b)+"thumbnails/"+a+"/"}var htmlSpecialChars={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function $escapeHtml(a){return $("<div></div>").text(a).html()}var format=WebPlatform.format;var escapeHtml=WebPlatform.escapeHtml;var escapeFormat=WebPlatform.escapeFormat;var parse=WebPlatform.parse;var getIndex=function(d,c,b){var a=d.indexOf(c);if(a<0){return b}return a};var getById=function(d,b,c){var a=indexOfId(d,b,c);if(a===null){return null}return d[a]};var indexOfId=function(e,b,d){if(e===null||e.length===0){return null}for(var a=0;a<e.length;++a){var c=e[a];if(c.id===b||d===false&&c.id==b){return a}}return null};var get=function(c,b){var a=(typeof b==="string")?window.parse(b,0,false):b;if(c.length===0){return null}if(a<0||a>(c.length-1)){return c[0]}return c[a]};var getClassByPattern=function(d,e,a){var c=d.attr("class");if(!c){return(a||"")}var b=c.match(e);if(b===null||b.length===0){return(a||"")}return b[0]};if(isUndefined(Templates)){alert("Resources not loaded!")}if(isUndefined(M)){alert("Messages not loaded!")}if(isUndefined(T)){alert("Tooltips not loaded!")}function generateOptions(g,c,f){var b="";if($.isArray(c)){var h=(typeof f==="string")?getIndex(c,f,0):f;for(var a=0;a<c.length;++a){var e=a===h?' selected="selected" ':"";b+=format('<option value="%key%"%selected%>%text%</option>',"key",a,"text",c[a],"selected",e)}}else{for(var d in c){var e=d===f?' selected="selected" ':"";b+=format('<option value="%value%"%selected%>%text%</option>',"value",d,"text",c[d],"selected",e)}}g.append(b)}function getMargins(a){return{top:parse(a.css("margin-top"),0),left:parse(a.css("margin-left"),0)}}var fail=function(e,d,f){Log.error(e);Log.error(d);Log.error(f);CPanel.showError(M.ERR_UPS)};var FuncNotImplemented=function(){throw M.ERR_NOT_IMPLEMENTED};function calcOffset(a){var d=a.position(),b=a.offsetParent(),c=b.offset();return{left:d.left+c.left-$window.scrollLeft(),top:d.top+c.top-$window.scrollTop()}}var Tools={_uid:0,_shortcutListeners:[],_loadedScripts:[],_lastTick:null,_debug:true,generateUniqueId:function(){return Math.floor(Math.random()*1000)+"-"+Tools.getTimestamp()},getTimestamp:function(){return(new Date()).getTime()},escapeIfNeeded:function(a){if(!a){return a}a=a.toString();if(a.indexOf('"')>-1||a.indexOf("<")>-1){return WebPlatform.escapeHtml(a)}return a},unescape:function(a){var b=document.createElement("textarea");b.innerHTML=a;return b.value},d:function(b){if(!Tools._debug){return}if(Tools._lastTick===null){Tools._lastTick=new Date();Log.log(b)}else{var a=new Date();Log.log(b+": "+(a-Tools._lastTick)+"ms");Tools._lastTick=a}},showError:function(c){if(isUndefined(c)){window.location=contextPath;return}Log.error(c);try{var d=new Error(c);var a=d.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@").split("\n");Log.error(a)}catch(b){Log.error(b)}Tools.showWindow({title:"",icon:Popup.ICON_ERROR,width:350,markup:format(Templates.get("errorDialogMarkup"),"message",c),buttons:[Button(M.CLOSE,Button.CLASS_MIDDLE_BLUE,closePopup,Button.FLOAT_IGNORE)],customClass:Popup.CUSTOM_CLASS_ERROR_DIALOG})},copyToClipboard:function(c){var b=$("<input>");$("body").append(b);b.val(c).select();try{document.execCommand("copy")}catch(a){}b.remove()},parseFloat:function(c,a,b){b=b===true;a=a||0;c=parseFloat(c);if(isNaN(c)){c=a}if(!b&&c<0){return a}return c},removeInlineWidth:function(a){if(a.lenght===1){a.attr("style",a.attr("style").replace("-width","#_#").replace(/width:[ |\d]*(px|%);?/g,"").replace("#_#","-width"))}else{a.each(function(b,c){c=$(c);c.attr("style",c.attr("style").replace("-width","#_#").replace(/width:[ |\d]*(px|%);?/g,"").replace("#_#","-width"))})}},getInlineStyle:function(c,d,b){b=b===true;if(c.length===0){return 0}d=d||"marginLeft";var a=c[0].style[d]||"0%";return b?parse(a,0,true):a},getPercentValue:function(a,c,b){b=b||Math.round;return b(a*c/100)},calcPercent:function(a,d,c,b){a=a||0;d=d||0;c=c===0?0:(c||2);b=b||Math.round;if(d===0){return 0}return b(a/(d*1)*100*Math.pow(10,c))/Math.pow(10,c)},roundToNearest:function(a,c,b){b=b||Math.round;return c*b(a/c)},getUniqueId:function(){return ++this._uid},getPortfolioItemThumb:function(b,a){var c=resources+"/images/image-avatar.png";if(b.thumb.type===0){c=getThumbnailsFromBase(b.thumb.dataBase,a)+b.thumb.data}else{if(b.thumb.type===1&&b.thumb.data.length>0){c=getThumbnailsFromBase(b.thumb.dataBase[0],a)+b.thumb.data[0]}}return c},addShortcutListener:function(a,b){if(isUndefined(a)||isUndefined(b)){return}Tools._shortcutListeners.push({key:a,action:b})},removeShortcutListener:function(a){for(var b=0;b<Tools._shortcutListeners.length;++b){if(Tools._shortcutListeners[b].key===a){Tools._shortcutListeners.splice(b,1);return}}},removeSingleShortcutListener:function(a,c){for(var b=0;b<Tools._shortcutListeners.length;++b){if(Tools._shortcutListeners[b].key===a&&Tools._shortcutListeners[b].action===c){Tools._shortcutListeners.splice(b,1);return}}},focusTextEditor:function(b){var a=b.hasClass("note-editable")?b:b.find(".note-editable");a.focus()},PAYMENT_METHODS:[{type:"stripe",image:"/images/stripe.png"},{type:"braintree",image:"/images/braintree.png"},{type:"twocheckout",image:"/images/2checkout.png"},{type:"paypal",image:"/images/paypal.png"},{type:"afterpay",image:"/images/afterpay-logo.png"},{type:"mobilpay",image:"/images/mobilpay-logo.png"},{type:"payulatam",image:"/images/payulatam.png"},{type:"paystack",image:"/images/paystack.png"},{type:"authorize",image:"/images/authorize.net.gif"},{type:"payfast",image:"/images/payfast.png"},{type:"klarna",image:"/images/klarna.svg"},{type:"twispay",image:"/images/twispay.png"},{type:"mollie",image:"/images/mollie.png"},{type:"cod",image:null,text:"Cash On Delivery"},{type:"bank",image:null,text:"Bank Transfer"}],TEXT_EDITOR_FONTS:["Open Sans","Arial","Courier New","Helvetica","Lucida Grande","Tahoma","Times New Roman","Verdana"],EMAIL_EDITOR_FONTS:["Arial","Helvetica","Verdana","Georgia","Times New Roman","Courier"],addTextEditor:function(j){mergeUnique(j,{element:null,hasPersonalizationTags:false,addExtraButtons:false,isHeading:false,isMinimalistic:false,addImageButton:j.isMinimalistic===true?false:true,addLinkButton:false,callbackHandler:dummy,containment:$window,height:0,showUserFonts:true,convertPercentToPx:false,baseFontSize:14,forceFixedPosition:false,useEmailFontsOnly:false});var d;if(j.isHeading){d="heading"}else{if(j.isMinimalistic){d="minimal";if(j.addImageButton&&j.addLinkButton){d+=" with2extra"}else{if(j.addImageButton||j.addLinkButton){d+=" with1extra"}}}else{if(j.addExtraButtons&&j.addImageButton){d="full"}else{if(j.addExtraButtons&&!j.addImageButton){d="extra"}else{if(!j.addExtraButtons&&j.addImageButton){d="image"}else{d="small"}}}}}if(j.addDeleteButton){d+=" with-delete-btn"}var h=j.element.parent();if(j.convertPercentToPx){var f=function(l,o){if(l.length===0){return}var m=o;var n=l.css("fontSize")||"";if(n){if(n.endsWith("%")){m=Tools.parseFloat(n,100)*o/100}else{m=Tools.parseFloat(n,14)}l.css("fontSize",Math.round(m)+"px")}var k=l.children();if(k.length>0){k.each(function(p,q){f($(q),m)})}};f(j.element,j.baseFontSize)}j.element.addClass("cpanel-text-editor");h.addClass("cpanel-text-editor-parent cpanel-text-editor-"+d);var a=[];if(!j.isMinimalistic){a.push(["style",["style"]])}a.push(["font",["bold","italic","text-styles"]]);a.push(["fontname",["fontname"]]);a.push(["fontsize",["fontsize"]]);a.push(["height",["height"]]);a.push(["color",["tmdpForeColor","tmdpBackColor"]]);if(!j.isMinimalistic){a.push(["para",j.isHeading?["paragraph"]:["ul","ol","paragraph"]])}if(!j.isMinimalistic||j.addLinkButton){a.push(["insert",!j.isHeading&&j.addImageButton?["tmdpLink","tmdpImage"]:["tmdpLink"]])}if(!j.isMinimalistic){a.push(["tmdp",["clearStyles"]])}if(j.addMarketingTags){a.push(["marketing",["tmdpMarketingTags"]])}if(j.addDeleteButton){a.push(["tmdp",["tmdpDelete"]])}var e={styleTags:j.isHeading?["h1","h2","h3","h4","h5","h6"]:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],lineHeights:["0.5","0.8","1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],fontSizes:["8","9","10","11","12","13","14","15","16","18","20","22","24","28","32","36","42","48","54","60","66","72","90","108"],fontNames:j.useEmailFontsOnly?Tools.EMAIL_EDITOR_FONTS:Tools.TEXT_EDITOR_FONTS,lang:"custom",toolbar:a,onPaste:function(l){var k=((l.originalEvent||l).clipboardData||window.clipboardData).getData("Text");l.preventDefault();document.execCommand("insertText",false,(k||"").trim())}};if(j.addMarketingTags){e.marketingTags=j.marketingTags}if(!j.useEmailFontsOnly&&j.showUserFonts&&!isUndefined(GlobalStyling)){e.fontNames=GlobalStyling.getAvailableFontNames()}if(j.height){e.height=j.height}var g=function(){return;var k=widget.find(".text-widget-content");k.find(".dynamic-var").each(function(){var l=$(this);l.replaceWith("{"+l.data("var")+"}")})};var b=function(){return;var k=j.element.find(".note-editable");if(k.length){k.html(Widgets.fillPersonalizationFieldsInString(k.html(),true))}};var c=j.element.summernote(e).on("summernote.focus",function(l){CPanel.addBodyClickListener(i);g();j.callbackHandler("focus");var k=h.find(".note-toolbar");if(k.hasClass("note-toolbar-visible")){return}k.addClass("note-toolbar-visible");if(!j.forceFixedPosition&&j.containment.length>0&&j.containment[0].getBoundingClientRect){var n=j.containment[0].getBoundingClientRect();var m=k[0].getBoundingClientRect();if(m.right>n.right){k.data("right",$window.width()-h[0].getBoundingClientRect().right)}}Tools.fixTextEditorToolbarPosition(k,j.forceFixedPosition)}).on("summernote.change",$.debounce(100,function(){j.callbackHandler("change")}));if(j.hasPersonalizationTags&&false){c.on("summernote.keyup",function(k,m){if(m.key==="{"){var l=c.data("layoutInfo").editable();$.summernote.eventHandler.invoke("editor.saveRange",l);Widgets.suggestPersonalizationFields(m,function(p){$.summernote.eventHandler.invoke("editor.restoreRange",l);var o=l.data("range");var n=o.getEndPoint();var q=n.node.textContent;var s=n.offset;var r="";if(s>0){r=q.substr(0,s-1)}r+="{"+p.tag+"}";n.node.textContent=r})}})}j.element.summernote("toolbar.get","tmdpDelete").on("click",function(){j.callbackHandler("delete")});var i=function(m){if(!$.contains(h[0],m.target)){CPanel.removeBodyClickListener(i);$("#websitePageSaveBtns").removeClass("none");h.find(".note-toolbar").removeClass("note-toolbar-visible text-editor-absolute-toolbar text-editor-fixed-toolbar").removeData("right").hide().css({left:"auto",right:"auto"});var k=$.summernote.eventHandler;var n=h.find(".note-handle");var l=h.find(".note-popover");k.invoke("popover.hide",l);k.invoke("handle.hide",n);b();j.callbackHandler("blur");return false}return true}},fixTextEditorToolbarPosition:function(e,c){var d=e.closest(".note-editor")[0];var b=d.getBoundingClientRect();if(c||b.top<113){if(!e.hasClass("text-editor-fixed-toolbar")){var f=c?($window.width()-e.width())/2:b.left;var g=e.data("right");var a=!c&&!isUndefined(g);$("#websitePageSaveBtns").addClass("none");e.addClass("text-editor-fixed-toolbar").removeClass("text-editor-absolute-toolbar").css({left:a?"auto":(f+"px"),right:a?(g+"px"):"auto"})}}else{if(!e.hasClass("text-editor-absolute-toolbar")){var a=!isUndefined(e.data("right"));$("#websitePageSaveBtns").removeClass("none");e.addClass("text-editor-absolute-toolbar").removeClass("text-editor-fixed-toolbar").css({left:a?"auto":0,right:a?0:"auto"})}}},isElementInViewport:function(a){var b=a[0].getBoundingClientRect();return(b.top>=0&&b.left>=0&&b.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&b.right<=(window.innerWidth||document.documentElement.clientWidth))},moveTextEditorToolbar:function(a){},hasTextEditor:function(a){return a.hasClass("cpanel-text-editor-parent")||a.parent().hasClass("cpanel-text-editor-parent")},removeTextEditor:function(a){var b=a.hasClass("cpanel-text-editor")?a:a.find(".cpanel-text-editor");if(b.length>0){try{b.destroy()}catch(c){}}},getTextEditorValue:function(a){var b=a.hasClass("cpanel-text-editor")?a:a.find(".cpanel-text-editor");if(b.length===0&&a.hasClass("text-widget-content")){return a.html()}var c=b.code();if((b.data("options")||{}).hasPersonalizationTags){c=$(c);c.find(".dynamic-var").each(function(){var d=$(this);d.replaceWith("{"+d.data("var")+"}")});c=c[0].outerHTML}return c},setTextEditorValue:function(a,c){var b=a.hasClass("cpanel-text-editor")?a:a.find(".cpanel-text-editor");if(b.length===0&&a.hasClass("text-widget-content")){a.html(c)}else{if(b.length>0){b.code(c)}}},getTextEditorValueWithPercentFontSize:function(d,c){var e=Tools.getTextEditorValue(d);var a=$("<div />");a.css("fontSize",c+"px");a.html(e);var b=function(h,f){if(h.length===0){return}var j=Tools.parseFloat(h.data("fontsize")||f,1);var g=h.children();var i;if((j+"").endsWith("%")){i=Tools.parseFloat(j,100)}else{i=100*Tools.parseFloat(j,f)/f}if(isNaN(i)){i=100}h.css("fontSize",i+"%");g.each(function(k,l){b($(l),j)})};a.find("*").addBack().each(function(f,g){g=$(g);g.data("fontsize",g.css("fontSize")||c)});b(a,c);return a.html()},digitToHex:function(b){var a=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return isNaN(b)?"00":a[(b-b%16)/16]+a[b%16]},rgbaToHexNoAlpha:function(c){if(!(c||"").startsWith("rgba")){return c}var f=c.substring(c.indexOf("(")).split(","),e=parseInt(f[0].substring(1).trim(),10).toString(16),d=parseInt(f[1].trim(),10).toString(16),a=parseInt(f[2].trim(),10).toString(16);if(e.length<2){e="0"+e}if(d.length<2){d="0"+d}if(a.length<2){a="0"+a}return"#"+e+d+a},setOpacityToColor:function(c,d){c=WebPlatform.hexToRgba(c).replace(/ /g,"").toLowerCase();if(!c.startsWith("rgb")){return c}var f,e,a;c=c.match(/^rgba?\((\d+),(\d+),(\d+)/);f=c[1];e=c[2];a=c[3];return"rgba("+f+", "+e+", "+a+", "+d+")"},toHex:function(a){if(a===null||isUndefined(a)||a.indexOf("rgba")===0){return"transparent"}a=a.toLowerCase();if(a.indexOf("rgb")===0){a=a.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return"#"+Tools.digitToHex(a[1])+Tools.digitToHex(a[2])+Tools.digitToHex(a[3])}return a},hexToRgba:WebPlatform.hexToRgba,transitionsSupported:WebPlatform.transitionsSupported,onAnimationEnd:WebPlatform.onAnimationEnd,pickColor:function(a,g,e,d){e=e||dummy;d=d||dummy;var c=a||"#3e3e3e";var f=$('<div style="position: absolute; z-index: -1; visibility: hidden" />').insertAfter(g||document.body);var h=$('<input type="text" style="position: absolute; z-index: -1; visibility: hidden;" value="'+c+'" />');var b=Tools.addColorPicker(a,f,h,function(j,i){e(j,i);c=j},function(){Tools.removeColorPicker(b);f.remove();f=null;h=null;d()});f.trigger("click")},addrToStr:WebPlatform.addrToStr,addColorPicker:function(e,f,a,g,c,h){var d=e;g=g||dummy;c=c||dummy;if(d==="transparent"){f.addClass("backgroundTransparent").css({backgroundColor:d})}else{f.removeClass("backgroundTransparent").css({backgroundColor:d})}a.val(h?Tools.rgbaToHexNoAlpha(d):d).click(function(){f.trigger("click")});var b=COLORPICKER_PREDEFINED_COLORS.slice();var i=[Website.globalStyling.colors.primary,Website.globalStyling.colors.secondary1,Website.globalStyling.colors.secondary2,Website.globalStyling.colors.secondary3,Website.globalStyling.colors.secondary4];f.colorPicker({color:e,animationSpeed:0,renderCallback:function(m,p){if(p===false){c();return}if(p===true){$("#dynamic-predefined-color-0").css("background-color",Website.globalStyling.colors.primary);$("#dynamic-predefined-color-1").css("background-color",Website.globalStyling.colors.secondary1);$("#dynamic-predefined-color-2").css("background-color",Website.globalStyling.colors.secondary2);$("#dynamic-predefined-color-3").css("background-color",Website.globalStyling.colors.secondary3);$("#dynamic-predefined-color-4").css("background-color",Website.globalStyling.colors.secondary4)}var j=this.color.colors,k=j.RND.rgb,l=j.alpha<0.001,o="rgba("+k.r+", "+k.g+", "+k.b+", "+j.alpha+")";if(p!==true){if(l){o="transparent";f.addClass("backgroundTransparent").css({backgroundColor:o})}else{f.removeClass("backgroundTransparent").css({backgroundColor:o})}a.val(h?("#"+j.HEX):o);g(o,GlobalStyling.getGlobalColorClassFromColor(o))}var j=this.color.colors.RND,n={r:j.rgb.r,g:j.rgb.g,b:j.rgb.b,a:this.color.colors.alpha,HEX:this.color.colors.HEX};$("input",".cp-panel").each(function(){this.value=n[this.className.substr(3)]})},customBG:"#222",margin:"4px -2px 0",doRender:"div div",buildCallback:function(l){var n=this.color,k=this;l.find(".cp-alpha").append("<span> Opacity </span>");l.prepend('<div class="cp-panel"><div class="col20 f-left">R <input type="number" min="0" max="255" step="1" class="cp-r" /></div><div class="col20 f-left">G <input type="number" min="0" max="255" step="1" class="cp-g" /></div><div class="col20 f-left">B <input type="number" min="0" max="255" step="1" class="cp-b" /></div><div class="col20 f-left">A <input type="number" min="0" max="1" step="0.1" class="cp-a" /></div><div class="col20 f-left"># <input type="text" class="cp-HEX" /></div></div>').on("change","input",function(r){var q=this.value,p=this.className.split(" ")[0].split("-")[1],o={};if(p!=="a"){o[p]=q}n.setColor(p==="HEX"?q:o,p==="HEX"?"HEX":/(?:r|g|b)/.test(p)?"rgb":"hsv",p==="a"?q:undefined);k.render();this.blur()});var m='<div class="dynamic-colors-wrapper col20 f-left"><span class="col20 f-left">Global Colors</span>';for(var j=0;j<i.length;++j){m+='<div id="dynamic-predefined-color-'+j+'" class="dynamic-color color-trigger" style="background-color: '+i[j]+'"></div>'}m+="</div>";for(var j=0;j<b.length;++j){if(b[j]==="transparent"){m+='<div id="predefined-color-'+j+'" class="color-trigger" style="background-color: transparent; background-image: url('+resources+'/images/transparent-pattern.png);"></div>'}else{m+='<div id="predefined-color-'+j+'" class="color-trigger" style="background-color: '+b[j]+'"></div>'}}l.append('<div class="cp-memory">'+m+"</div>").on("click",".color-trigger",function(p){var o=$(this);n.setColor(o.css("background-color"));k.render()})}});return ++Tools.__colorpickers},__colorpickers:0,removeColorpickers:function(b){for(var a=0;a<b.length;++a){Tools.removeColorPicker(b[a])}},removeColorPicker:function(a){},prompt:function(h,e,c,g,f,a,b,d){c=c||dummy;g=g||dummy;f=f||M.YES;a=a||M.CANCEL;b=b===true;Tools.showWindow({title:h,showCloseButton:b,icon:Popup.ICON_QUESTION,width:450,isModal:true,markup:format(Templates.get("promptDialogMarkup"),"message",e),buttons:[Button(a,Button.CLASS_MIDDLE_GREY,function(i,j){i.close();g()},Button.FLOAT_IGNORE),Button(f,Button.CLASS_MIDDLE_BLUE,function(i,j){i.close();c()},Button.FLOAT_IGNORE)],customClass:(d||"")+" "+Popup.CUSTOM_CLASS_PROMPT_DIALOG})},promptForInput:function(g,k,f,a,h,b,j,i,d){if(isFunction(f)){h=a;a=f;f=""}var c=function(l,m){var n=m.find("input").val();if(a(n,l)!==false){l.close()}};a=a||dummy;h=h||dummy;var e=[Button(M.SUBMIT,Button.CLASS_MIDDLE_BLUE,c),Button(M.CANCEL,Button.CLASS_MIDDLE_GREY,function(l,m){l.close();h()})];if(d&&d.constructor===Array){e=e.concat(d)}Tools.showWindow({title:g,icon:Popup.ICON_QUESTION,width:b||350,height:j||"auto",customClass:i||"",isModal:true,markup:format(Templates.get("promptFurInputTemplate"),"message",k,"value",f),action:{onShow:function(l,m){m.find("input").keypress(function(n){if(n.which===13){c(l,m)}})}},buttons:e})},showWindow:function(a){Popup(a).show()},showFloatingPopupList:function(c){c=c||{};var b=c.items||[];var a="<ul>";var d='<li class="system-bg-color-hover system-bg-color-active"><a><i class="fa %icon%"></i>%label%</a></li>';b.forEach(function(e){a+=escapeFormat(d,"icon",e.icon||"none","label",e.label)});a+"</ul>";Tools.showFloatingPopup({markup:a,width:250,target:c.target,customClass:"floating-popup-list",action:{onShow:function(e,h){var g=-1;h.on("click","li",function(){f($(this).index())});var f=function(j){var k=b[j];(c.onSelect||dummy)(k);e.close()};var i=function(n,k){n.preventDefault();n.stopPropagation();if(b.length===0){return}h.find(".active").removeClass("active");if(g<0){g=k>0?0:(b.length-1)}else{g+=k;if(g>=b.length){g=0}else{if(g<0){g=b.length-1}}}var m=h.find("li").eq(g).addClass("active");var j=m.height();var q=m[0].offsetTop;var p=h.height();var o=h[0].scrollTop;var l=q>=o&&(q+j)<=(o+p);if(!l){h[0].scrollTop=q+j-p}};$document.on("keydown.floatingpop",function(j){switch(j.which){case 13:j.preventDefault();j.stopPropagation();if(g>=-1){f(g)}break;case 38:i(j,-1);break;case 40:i(j,+1);break}})},onHide:function(e,f){$document.off("keydown.floatingpop")}}})},showFloatingPopup:function(a){FloatingPopup(a).show()},get:function(a,c,b){$.get(contextPath+"/me/get",{page:a,r:Math.random()}).done(function(d){c(d)}).fail(function(d){b(d)})},ddmmyyStringToDate:WebPlatform.ddmmyyStringToDate,mmddyyStringToDate:WebPlatform.mmddyyStringToDate,ukDateTimeStringToDate:WebPlatform.ukDateTimeStringToDate,usDateTimeStringToDate:WebPlatform.usDateTimeStringToDate,localDateTimeStringToDate:function(a){return WebsiteSettings.getDateFormat()==="uk"?Tools.ukDateTimeStringToDate(a):Tools.usDateTimeStringToDate(a)},currencyToStrWithSymbol:function(a){return WebPlatform.currToStr(a,Website.storeCurrencySymbol,Website.storeCurrencyPositionAtLeft,Website.storeCurrency)},currToStr:function(a){a=Math.round(a*100)/100;return a<0?a.toFixed(2).replace("-","- $"):("$"+a.toFixed(2))},getUTCDate:function(){var a=new Date();var b=Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds());return new Date(b)},dateToString:function(d,i){if(!d){return""}var c=i!==false;var h=[M.JANUARY,M.FEBRUARY,M.MARCH,M.APRIL,M.MAY,M.JUNE,M.JULY,M.AUGUST,M.SEPTEMBER,M.OCTOBER,M.NOVEMBER,M.DECEMBER];var f=d.getDate();var a=d.getMonth();var j=d.getFullYear();if(!i){return h[a]+" "+f+", "+j}var g=d.getHours();var e=d.getMinutes();if(e<10){e="0"+e}var b=g<12?"AM":"PM";if(g===0){g=12}else{if(g>12){g-=12}}return h[a]+" "+f+", "+j+" "+g+":"+e+b},timeToString:function(c){var d=c.getHours();var a=c.getMinutes();var b=d<12?"AM":"PM";if(d===0){d=12}else{if(d>12){d-=12}}return(d<9?"0":"")+d+":"+(a<10?"0":"")+a+" "+b},dateToShortString:function(c,e,a){var g=[M.JAN,M.FEB,M.MAR,M.APR,M.MAY_SHORT,M.JUN,M.JUL,M.AUG,M.SEP,M.OCT,M.NOV,M.DEC];var f=c.getDate();var b=c.getMonth();var d=c.getFullYear();if(e===true){return f+" "+g[b]+(a===true?(", "+d):"")}return g[b]+" "+f+(a===true?(", "+d):"")},getColorAndInitialsFromNameAndEmail:function(b,a){var d=b||"?";var c=d.split(" ");var d=c[0].substring(0,1);if(c[1]){d+=c[1].substring(0,1)}return{initials:d,color:Tools.colorFromString(a||""+(new Date().getTime()))}},colorFromString:function(a){var b=function(c){var e=0;if(c.length===0){return e}for(var d=0;d<c.length;d++){e=c.charCodeAt(d)+((e<<5)-e);e=e&e}return e};return"hsl("+(b(a)%360)+", 65%, 75%)"},urlFromString:function(b,a,e,d){d=d||"-";b=Tools.removeDiacritics(b,a).trim();var c=new RegExp(d+"+","g");if(e){b=b.replace(/[^\da-zA-ZÐ°-ÑÐ-Ð¯\u0590-\u06ff]/g,d)}else{b=b.replace(/[^\da-zA-ZÐ°-ÑÐ-Ð¯\._\-\u0590-\u06ff]/g,d)}b=b.replace(c,d).toLowerCase();if(b.startsWith(d)){b=b.substring(d.length)}if(b.endsWith(d)){b=b.substring(0,b.length-d.length)}return b},getUrlParams:WebPlatform.getUrlParameterMap,getScript:function(b,a){var c="?v="+resourcesVersion;if(b.indexOf(c)<0){b+=c}a=$.extend(a||{},{dataType:"script",cache:true,url:b});return $.ajax(a)},reportJSError:function(a,c){Log.error("Error: ");Log.error(a);Log.error("Data: ");Log.error(c);try{Tools.makeWebsiteRequest({action:"reportError",method:"post",_reportError:false,data:{exception:(a||{}).toString(),data:JSON.stringify(c)},onOk:function(d){Log.info("Error reported successfully!")}})}catch(b){}},makeWebsiteRequest:function(c){mergeUnique(c,{url:"",data:{},onOk:dummy,incrementModCount:false,action:"Invalid Action!",method:"getJSON",baseUrl:"/me/wr",_reportError:true,onRequestError:function(f,e,d){c.onNotOk({message:d});CPanel.showError(d)},onNotOk:dummy,_onNotOk:function(d){if(d.notLoggedIn){window.location.href=d.loginUrl}else{if(d.noTemplate){Log.error("No template selected!");window.location="//"+userDomain+"/me/dashboard/themes"}else{if(d.accessDenied){Log.error("Access Denied! Action: "+c.action);CPanel.showError(M.ACCESS_DENIED)}else{Log.error("Action: "+c.action);CPanel.showError(M[d.message]||d.message)}}}},always:dummy});var b={action:c.action,_csrfToken:WebPlatform.getCSRFToken(),r:Math.random()};mergeUnique(b,c.data);var a=c.method==="getJSON"?$.getJSON:(c.method==="post"?$.post:$.get);a(contextPath+c.baseUrl+c.url,b).done(function(f){try{if(!isUndefined(f.websiteModCount)){try{if(c.incrementModCount){CPanel.incrementModCount()}CPanel.checkWebsiteState(f.websiteModCount)}catch(g){Log.error(g)}}if(f.ok){c.onOk(f)}else{if(isUndefined(f.ok)){Log.error("Response doesn't include status infurmation! {ok: true}");Log.error(f)}c._onNotOk(f);c.onNotOk(f)}}catch(d){if(c._reportError!==false){Tools.reportJSError(d,c)}}}).fail(c.onRequestError).always(c.always)},makeWebsiteRequestWithFile:function(f,b){if(b){mergeUnique(f,{url:"",data:{},onOk:dummy,action:"Invalid Action!",method:"getJSON",baseUrl:"/me/wr",onRequestError:function(i,h,g){Log.log(g);CPanel.showError(g)},_onNotOk:function(g){Log.error("Action: "+f.action);CPanel.showError(M[g.message]||g.message)},always:dummy});f.onNotOk=f.onNotOk||f._onNotOk;var e={action:f.action,_csrfToken:WebPlatform.getCSRFToken(),r:Math.random()};mergeUnique(e,f.data);var d=new FormData();d.append("_file_",b);d.append("_file_name_",b.name||"");d.append("_has_file_",true);for(var a in e){var c=e[a];if($.isArray(c)){c=JSON.stringify(c)}d.append(a,c)}$.ajax({url:contextPath+f.baseUrl+f.url,type:"POST",data:d,cache:false,contentType:false,processData:false},"json").done(function(g){if(g.ok){f.onOk(g)}else{if(isUndefined(g.ok)){Log.error("Response doesn't include status information! {ok: true}");Log.error(g)}f.onNotOk(g)}}).fail(f.onRequestError).always(f.always)}else{Tools.makeWebsiteRequest(f)}},slow:function(b,c,e){var d=Tools.tick();var a=function(){if(Tools.tick()-d<b){setTimeout(a,c)}else{e()}};a()},setImage:function(c,b,a,d){d=d||"";c.css({backgroundImage:"url("+getThumbnailsFromBase(d,a)+b+")"}).data("image",b).data("imageBase",d)},addToggle:function(b,a,c,e,d){d=d===true;c=c||dummy;e=e||"cpanel";b.on("click."+e,"a",function(){var g=d?$(this).parent():$(this);if(g.hasClass("active")){return}b.find(".active").removeClass("active");g.addClass("active");var f=d?g.index():g.parent().index();c(g,f)});if(a>=0){b.find("a:eq("+a+")").trigger("click")}},selectMultipleImages:function(b,d,a,c){b=b||[];d=d||[];a=a||dummy;c=c||dummy;Tools.showWindow({action:{onShow:function(f,h){var i=h.find(".add-image-wrapper");for(var e=0;e<b.length;++e){var g=$(Templates.get("selectImageMarkup2")).appendTo(i);Tools.setImage(g,b[e],"160x120",d[e]||"")}$(Templates.get("selectImageMarkup")).appendTo(i);h.on("click",".close-button2",function(j){$(this).parent().remove();j.stopPropagation()});h.on("click",".add-image",function(){var j=$(this);FileManager.selectFile({onCompleteCallback:function(k,m){Tools.setImage(j,m,"160x120",k);var l=j.find(".add-button");if(l.length>0){l.remove();$(Templates.get("trashButtonMarkup")).appendTo(j);$(Templates.get("selectImageMarkup")).insertAfter(j)}}})})}},isModal:false,title:M.ADD_GALLERY_ITEMS,icon:Popup.ICON_SLIDER,width:425,markup:Templates.get("galleryFilesMarkup"),buttons:[Button(M.CONFIRM,Button.CLASS_MIDDLE_BLUE,function(e,g){var f=[];var h=[];g.find(".add-image").each(function(i,j){j=$(j);var l=j.data("image");var k=j.data("imageBase");if(l){f.push(l);h.push(k)}});e.close();a(f,h)}),Button(M.CANCEL,Button.CLASS_MIDDLE_GREY,function(e,f){e.close();c()})]})},addEndSlash:function(a){if(a.length===0){return"/"}if(a[a.length-1]!=="/"){a+="/"}return a},addEnterListener:function(a,b){a.keypress(function(c){if(c.which===13){return b()}})},tick:WebPlatform.tick,randomInt:function(b,a){return Math.floor(Math.random()*(a-b+1))+b},delay:WebPlatform.delay,cancelDelay:function(a){clearTimeout(a)},showSaveSuccessWindow:function(){Tools.showCornerMessage(3000,M.UPDATED,Tools.TOOLTIP_TYPE_SUCCESS)},TOOLTIP_TYPE_ERROR:"error",TOOLTIP_TYPE_WARNING:"warning",TOOLTIP_TYPE_SUCCESS:"success",showCornerMessage:function(a,d,b){var c=$(format(Templates.get("cornerMessage"),"type",b||Tools.TOOLTIP_TYPE_SUCCESS,"message",d));c.appendTo($body);Tools.delay(20,function(){c.addClass("visible");Tools.delay(300,function(){Tools.delay(a,function(){c.removeClass("visible");Tools.delay(300,function(){c.remove()})})})})},showAutohideMessage:function(a,b){Tools.showCornerMessage(a+1000,b,Tools.TOOLTIP_TYPE_SUCCESS)},loadScripts:function(b,g,e){e=e||function(j,i,h){Log.error(j);Log.error(i);Log.error(h);if(h&&h.stack){Log.error("Stack: "+h.stack)}CPanel.showError(M.ERR_UNABLE_TO_LOAD_SCRIPTS)};var f;if($.isArray(b)){f=b}else{f=[b]}for(var a=0;a<Tools._loadedScripts.length;++a){for(var d=0;d<f.length;++d){if(Tools._loadedScripts[a]===f[d]){f.splice(d,1);break}}}if(f.length===0){g();return}var c=0;for(var d=0;d<f.length;++d){Tools._loadedScripts.push(f[d]);Tools.getScript(f[d]).done(function(){if(++c===f.length){g()}}).fail(e)}},loadGridScripts:function(b,a){if(!isUndefined(window.Grid)){b();return}if(window.inTestEnvironment===true){Tools.loadScripts([resources+"/scripts/modules/widgets.js",resources+"/scripts/modules/header.js",resources+"/scripts/modules/clipboard.js",resources+"/scripts/modules/grid.js",resources+"/scripts/modules/legacyHeaderSettings.js"],function(){Tools.loadScripts([contextPath+"/me/rws"],b,a)},a)}else{Tools.loadScripts([resources+"/scripts/platform.widgets.min.js"],b,a)}},pickIcon:function(d,a,c,b){c=c||dummy;b=b||{};Tools.showWindow({isModal:b.isModal===true,showCloseButton:true,title:M.PICK_ICON_TITLE,icon:Popup.ICON_ADD,width:358,markup:Templates.get("pickIconDialogMarkup"),showNextTo:d,action:{onShow:function(e,g){var f=g.find(".icp").data("selected",a);Tools.delay(200,function(){f.on("iconpickerSelected",function(h){c("fa-"+h.iconpickerValue);e.close();e=null;g=null}).iconpicker()})},onBeforeHide:function(e,f){$.iconpicker.batch(f.find(".icp"),"destroy")}},buttons:[],customClass:"pickIconWindow"})},isBusy:function(a){return a.data("busy")===true},setBusy:function(b,a){if(a){b.data("busy",true)}else{b.removeData("busy")}},selectFont:function(b,a){b=b||dummy;a=a||dummy;Tools.showWindow({title:M.SELECT_FONT_TITLE,showCloseButton:true,icon:Popup.ICON_QUESTION,width:350,height:"90%",markup:format(Templates.get("selectFontDialogMarkup"),"src","about:blank"),buttons:[],customClass:"cpanel-select-font-dlg",action:{onShow:function(c,d){window.fontSelected=function(g){window.fontSelected=null;b(g);a=null;c.close()};var e=d.find("iframe");var f=d.find(".sort-btn").click(function(){var g=$(this);if(g.hasClass("active")){return}d.find(".active").removeClass("active");g.addClass("active");CPanel.showLoadingBar("iframeLoadingBar",e,function(){e[0].contentWindow.document.innerHTML="";e.one("load",function(){CPanel.hideLoadingBar("iframeLoadingBar")});e.attr("src",contextPath+"/me/get?page=font-picker&sort="+(g.hasClass("sort-alpha")?"alpha":"popular"))})});f.filter(".sort-popular").click()},onBeforeHide:function(c,d,e){window.fontSelected=null;var f=d.find("iframe");f.load(function(){this.contentWindow.document.innerHTML="";e();e=null;c=null;d=null;f.remove();f=null});f.attr("src","about:blank");if(a!==null){a()}return false}}})},writeFlag:function(b){var c=0;for(var a=0;a<b.length;++a){var d=b[a];if(d instanceof jQuery){d=d[0]}if(d.nodeType){d=d.checked===true}else{d=!!d}c|=(d?Math.pow(2,a):0)}return c},readFlag:function(c,d){var b=[];for(var a=0;a<d;++a){b.push((c&Math.pow(2,a))===Math.pow(2,a))}return b},removeClassByPattern:function(a,b){a[0].className=a[0].className.replace(b," ")},show:function(a,b){b=b||dummy;a.fadeIn("fast",b)},hide:function(a,b){if(a===null){return}b=b||dummy;a.fadeOut("fast",b)},showInlinePopup:function(a){if(InlinePopup.prototype.activePopup!==null){InlinePopup.prototype.activePopup.close(function(){InlinePopup.prototype.activePopup=InlinePopup(a);InlinePopup.prototype.activePopup.show()})}else{InlinePopup.prototype.activePopup=InlinePopup(a);InlinePopup.prototype.activePopup.show()}},isEmailValid:function(a){return/\S+@\S+\.\S+/.test(a)},addSimpleToggle:function(a){mergeUnique(a,{trigger:$([]),event:"change",target:$([]),onShow:dummy,onHide:dummy,isVisible:function(c,d){return c.is(":checked")}});var b=function(){if(a.isVisible(a.trigger,a.target)===true){a.target.slideDown("fast");a.onShow(a.trigger,a.target)}else{a.target.slideUp("fast");a.onHide(a.trigger,a.target)}};a.trigger.on(a.event,b);b()},toggleElement:function(b,a){if(b.length>0){if(b.hasClass("toggle-opened")){b.slideUp("fast").removeClass("toggle-opened").addClass("toggle-closed");if(a){a.removeClass("toggle-opened").addClass("toggle-closed")}}else{b.slideDown("fast").removeClass("toggle-closed").addClass("toggle-opened");if(a){a.removeClass("toggle-closed").addClass("toggle-opened")}}}},removeAnimated:function(a,b){a.slideUp("fast",function(){a.remove();if(b){b();b=null}})},addSlider:function(a){a.element=a.element||$([]);a=$.extend({parseFunc:"parse",updateView:a.element.parent().find(".slider-val"),updatedViewSuffix:"",getUpdatedViewText:function(b){return b+""+a.updatedViewSuffix},min:0,max:100,step:1,value:3,range:"min",onChange:dummy},a);a.element.slider({value:a.value,min:a.min,max:a.max,step:a.step,range:a.range,slide:function(b,d){var c=window[a.parseFunc](d.value,1,a.min<0);a.onChange(c);a.updateView.val(a.getUpdatedViewText(c))}});a.updateView.val(a.getUpdatedViewText(a.value))},removeTooltipOptions:function(a){a.off(".cpanelTooltip")},readFromView:function(b,g,c){for(var d in g){var e=b.find('[name="'+d+'"]');if(e.length>0){if(e.is(":checkbox")){g[d]=e.is(":checked")?1:0}else{if(e.is(":radio")){g[d]=e.filter(":checked").val()}else{if(e.is("input")||e.is("select")){g[d]=$.trim(e.val())}else{if(e.is("textarea")){if(!$.isArray(g[d])){g[d]=$.trim(e.val())}else{var h=e.val();h=h.split("\n");for(var a=0;a<h.length;++a){var f=$.trim(h[a]);if(f!==""&&g[d].indexOf(f)<0){g[d].push(f)}}}}}}}}}$.extend(c,g)},bindToView:function(f,c){for(var j in c){var b=f.find('[name="'+j+'"]');if(b.length>0){if(b.is(":radio")){b.filter('[value="'+c[j]+'"]').prop("checked",true)}else{if(b.is(":checkbox")){var i=(c[j]===1)||(c[j]==="1")||(c[j]===true);b.prop("checked",i);var a=b.attr("id");if(a){var g=f.find('label[for="'+a+'"]');if(g.attr("rel")==="toggle"){var d=$(g.attr("data-toggle"));if(d.length>0){if(i){d.addClass("toggle-opened").show()}else{d.removeClass("toggle-opened").hide()}}}}}else{if(b.is(":text")||b.is("select")||b.is(":password")||b.attr("type")==="number"){b.val(c[j])}else{if(b.is("textarea")){var e="";if($.isArray(c[j])){for(var h=0;h<c[j].length;++h){e+=(h>0?"\n":"")+c[j][h]}}else{e=c[j]}b.val(e)}}}}}}},bind:function(a,f,h,c){var b={};if(!a||!f){return b}var i=false;if(!$.isArray(f)){f=[f]}b.data=function(){return a};b.unbind=function(){for(var m in this){this[m]=null}for(var l=0;l<f.length;++l){if(f[l].field){f[l].field.off("change")}if(f[l].type==="date"){f[l].field.datepicker("destroy")}}f=null;a=null;h=null;c=null};var e=function(o,n,l){switch(n){case"string":case"text":o=o+"";if(l.sanitizeStrings!==false){var m=o.toLocaleLowerCase();if(m.indexOf("<script ")||m.indexOf("<meta ")){o=o.replace(/</gi,"&lt;").replace(/>/g,"&gt;")}}return o;case"bool":case"boolean":return !!o;case"bit":return(!!o)?1:0;case"int":case"money":case"moneyExt":case"float":o=(""+o).trim();if(o===""){return l.defaultValue===""&&l.allowEmpty?l.defaultValue:0}if(n==="int"){o=parseInt(o,10)}else{if(n==="money"){o=parseFloat(o,10);if(!isNaN(o)){o=Math.round(o*100)/100}}else{if(n==="moneyExt"){o=parseFloat(o,10);if(!isNaN(o)){o=Math.round(o*1000)/1000}}else{if(n==="float"){o=parseFloat(o,10)}}}}if(isNaN(o)){return l.defaultValue===""&&l.allowEmpty?l.defaultValue:0}if(o<0&&!l.allowNegative){return l.defaultValue===""&&l.allowEmpty?l.defaultValue:0}return o;case"url":return Tools.urlFromString(o);case"url-no-cyrillic":return Tools.urlFromString(o,true);case"email":o=o.trim();if(Tools.isEmailValid(o)){return o}return l.defaultValue;case"email-or-dash":o=o.trim();if(o==="-"||Tools.isEmailValid(o)||/\{\w+\}/.test(o)){return o}return l.defaultValue;case"date":if(!o){return l.allowEmpty?null:l.defaultValue}if(o instanceof Date){return o.getTime()}return WebPlatform.parse(o,l.defaultValue||0,false);default:return o}};var d=function(o,n,l){if(o===null||o===""){return""}if(n==="date"){var m=new Date();m.setTime(o);var p=new Date();p.setFullYear(m.getUTCFullYear());p.setMonth(m.getUTCMonth());p.setDate(m.getUTCDate());return $.datepicker.formatDate(l.dateFormat,p,{monthNamesShort:[M.JAN,M.FEB,M.MAR,M.APR,M.MAY_SHORT,M.JUN,M.JUL,M.AUG,M.SEP,M.OCT,M.NOV,M.DEC],monthNames:[M.JANUARY,M.FEBRUARY,M.MARCH,M.APRIL,M.MAY,M.JUNE,M.JULY,M.AUGUST,M.SEPTEMBER,M.OCTOBER,M.NOVEMBER,M.DECEMBER]})}else{if(n==="money"){return o.toFixed(2)}else{if(n==="moneyExt"){var p=o+""}}}return o};var g=function(o){var m=o.property[0].toUpperCase()+o.property.substring(1);var n="get"+m;var l="set"+m;b[n]=function(){return a[o.property]};o.field.change(function(){var q;if(o.type==="bool"||o.type==="boolean"||o.type==="bit"){q=this.checked}else{if(o.type==="date"){var p=o.field.datepicker("getDate");q=p===null?null:Date.UTC(p.getFullYear(),p.getMonth(),p.getDate(),0,0,0,0)}else{q=this.value}}b[l](q)});if(o.type==="date"){o.field.datepicker({dateFormat:o.parseOptions.dateFormat,monthNamesShort:[M.JAN,M.FEB,M.MAR,M.APR,M.MAY_SHORT,M.JUN,M.JUL,M.AUG,M.SEP,M.OCT,M.NOV,M.DEC],monthNames:[M.JANUARY,M.FEBRUARY,M.MARCH,M.APRIL,M.MAY,M.JUNE,M.JULY,M.AUGUST,M.SEPTEMBER,M.OCTOBER,M.NOVEMBER,M.DECEMBER]})}b[l]=function(p){p=e(p,o.type,o.parseOptions);a[o.property]=p;if(o.isRadioField){o.field.filter('[value="'+p+'"]').prop("checked",true)}else{if(o.type==="bool"||o.type==="boolean"||o.type==="bit"){o.field.prop("checked",!!p)}else{o.field.val(d(p,o.type,o.parseOptions))}}if(i){if(o.onChange(o,p)!==false){(h||dummy)(o,p)}}};b[l](o.property in a?a[o.property]:"")};for(var k=0;k<f.length;++k){var j=mergeUnique(f[k],{property:null,field:null,isRadioField:false,prefix:"",suffix:"",type:"string",parseOptions:{},onChange:dummy});if(!j.field){j.field=c.find('[name="'+j.property+'"]')}j.parseOptions=mergeUnique(j.parseOptions,{allowEmpty:true,defaultValue:"",allowNegative:false,dateFormat:"dd M, yy",sanitizeStrings:true});if(j.property&&j.field){g(j)}}i=true;return b},showTooltipOptions:function(g,j,m,f){var q=$(Templates.get("tooltipOptionsMarkup"));var h="<ul>";for(var e=0;e<j.length;++e){var l="",k="";if(j[e].icon){l='<i class="fa '+(j[e].icon||"fa-circle-thin")+'"></i>'}else{k="no-icon"}var d=j[e].hint?(' class="button-tooltip" data-timeout="10000" data-tooltip="'+j[e].hint+'"'):"";h+="<li"+d+' data-tag="'+(j[e].tag||"")+'">'+l+'<span class="'+k+'">'+j[e].text+"</span></li>"}h+="</ul>";q.on("click","li",function(r){var i=$(r.currentTarget);m(g,i.index(),i.find("span").text(),i.data("tag")||"",r);o()});q.append(h);q.appendTo($body);var b=$window.height();var p=q.outerHeight(true);var a=Math.max(Math.min(b-p-15,b+10-g.offset().top),0);var c=g.offset().left-((f||170)-g.outerWidth())/2;q.css({left:c+"px",bottom:a+"px",marginLeft:0,overflow:"auto",maxHeight:(b-30)+"px"});var o=function(){if(q===null){return}CPanel.removeBodyClickListener(n);q.find("li").removeClass("button-tooltip").tooltip("hide");q.fadeOut(150,function(){if(q===null){return}q.remove();q=null})};var n=function(i){var r=$(i.target);if(r.is(q)){return true}o()};CPanel.addBodyClickListener(n);q.fadeIn(150)},bindTooltipOptions:function(c,a,b,d){d=d||dummy;c.on("click.cpanelTooltip",a,function(e){Tools.showTooltipOptions($(e.target),typeof b==="function"?b():b,d)})},setHighlightedEditorOptions:function(a,c,e,b){var d=c;switch(d){case"dark":d="ambiance";break;case"material":d="material-darker";break;case"monokai":d="monokai";break;default:d="eclipse";break}if(a.getOption("theme")!==d){a.setOption("theme",d)}if(a.getOption("mode")!==e){a.setOption("mode",e)}if(a.getOption("lineNumbers")!==!!b){a.setOption("lineNumbers",!!b)}},highlight:function(a,c){if(!window.CodeMirror){return null}if(a instanceof jQuery){a=a[0]}mergeUnique(c,{lineNumbers:true,styleActiveLine:true,matchBrackets:true,readOnly:false,mode:"text/html",theme:"dark",extraKeys:{F11:function(g){var h=!g.getOption("fullScreen");$body[h?"addClass":"removeClass"]("codemirror-fullscreen");g.setOption("fullScreen",h)},Esc:function(g){if(g.getOption("fullScreen")){g.setOption("fullScreen",false);$body.removeClass("codemirror-fullscreen")}}}});var f=c.theme;switch(f){case"dark":f="ambiance";break;case"material":f="material-darker";break;case"monokai":f="monokai";break;default:f="eclipse";break}c.theme=f;var e=CodeMirror.fromTextArea(a,c);if(c.onChange){e.on("change",c.onChange)}var b=0;var d=function(){if(e&&(b<3)){e.refresh();++b}};Tools.delay(300,d);return e},urlToEmbed:function(c,h,f){c=c||"";if(c.toLowerCase().indexOf("youtu")>=0){var g=WebPlatform.extractYoutubeVideoId(c);var d='<iframe class="full-size-abs" src="https://www.youtube.com/embed/'+g+'" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>';var b="//i.ytimg.com/vi/"+g+"/hqdefault.jpg";h(d,b);return}if(c.toLowerCase().indexOf("youtu")>=0&&c.toLowerCase().indexOf("&maxwidth")<0){c+="&maxwidth=0"}var a="onUrlToEmbedResponse"+Tools.getUniqueId();window[a]=(function(i,k,j){k=k||dummy;j=j||dummy;return function(n){if(n.error){j()}else{var o=$.trim(n.html)||"";if(o!==""){var m=$(o);var l=m.find(".noembed-embed-inner");if(l.length>0){o=l.html()}}k(o,n.thumbnail_url||"")}k=null;j=null;delete window[i]}})(a,h,f);var e="https://noembed.com/embed?callback="+a+"&url="+encodeURIComponent(c);$.getScript(e).fail(function(i){Log.error(i);f()})},dateToShortStr:function(b){var a=b.getDate();var d=b.getMonth()+1;var c=b.getFullYear();return(a<10?"0"+a:a)+"/"+(d<10?"0"+d:d)+"/"+c},dateToStr:function(b,e){var a=b.getDate();var d=b.getMonth()+1;var c=b.getFullYear();if(e==="uk"){return(a<10?"0"+a:a)+"/"+(d<10?"0"+d:d)+"/"+c}else{return(d<10?"0"+d:d)+"/"+(a<10?"0"+a:a)+"/"+c}},bytesToStr:function(a){var c=["B","KB","MB","GB","TB"];if(a===0){return"0B"}var b=parseInt(Math.floor(Math.log(a)/Math.log(1024)));return Math.round(a/Math.pow(1024,b),2)+" "+c[b]},fillArray:function(d,b,c){for(var a=d.length;a<b;++a){d.push(c)}return d},removeFromArray:function(d,c){c=c||dummy;var a=d.length-1;while(a>=0){var b=d[a];if(c(b,a)){d.splice(a,1);return b}a-=1}return null},removeDiacritics:WebPlatform.removeDiacritics,showWebsitePreviewPopup:function(a){mergeUnique(a,{url:"//web-repository.com",onButtonAction:dummy,onShow:dummy,onHide:dummy,buttonText:""});Tools.showWindow({isModal:true,height:"100%",top:"0",width:$window.width(),showCloseButton:true,customClass:"theme-preview-pop",markup:Templates.get("themePreviewMarkup"),action:{onShow:function(b,c){a.onShow(b,c);var d=c.find("iframe");var e=c.find(".iframe-content");c.find(".viewport-item").click(function(){var g=$(this);var f=g.data("size");g.closest("ul").find(".active").removeClass("active");g.tooltip("hide").addClass("active");e.removeClass("desktop-preview tablet-preview mobile-preview").addClass(f+"-preview");d.attr("src",a.url)});c.find(".main-action-btn").text(a.buttonText).click(function(){a.onButtonAction(d.attr("src"));b.close()});CPanel.showLoadingBar("iframeLoadingBar",d,function(){d.one("load",function(){CPanel.hideLoadingBar("iframeLoadingBar")});d.attr("src",a.url)})},onHide:a.onHide},buttons:[]})},showFunnelPreviewPopup:function(c){mergeUnique(c,{onButtonAction:dummy,onShow:dummy,onHide:dummy,buttonText:"",funnel:{}});var a=window.userLocale==="da_JK"?"da":window.userLocale;if(window.userLocale==="zh_JO"){a="zh"}var d=c.funnel.settings||{};var b=d.name||{};var e=d.longDescription||{};b=b[a]||b.en||"";e=e[a]||e.en||"";Tools.showWindow({isModal:true,height:"100%",top:"0",width:$window.width(),showCloseButton:true,customClass:"theme-preview-pop funnels-preview-popup",markup:format(Templates.get("funnelPreviewMarkup"),"name",b,"longDescription",e),action:{onShow:function(f,h){c.onShow(f,h);var i=h.find("iframe");var j=h.find(".iframe-content");var g=h.find(".funnel-step-select");var k=null;h.find(".viewport-item").click(function(){var m=$(this);var l=m.data("size");m.closest("ul").find(".active").removeClass("active");m.tooltip("hide").addClass("active");j.removeClass("desktop-preview tablet-preview mobile-preview").addClass(l+"-preview");i.attr("src",i.attr("src"))});h.find(".main-action-btn").text(c.buttonText).click(function(){c.onButtonAction();f.close()});g.change(function(){var l=$(this).find(":selected").data("step");var m="showstep|"+k.id+"|"+l.id;i[0].contentWindow.postMessage(m,k.url)});CPanel.showLoadingBar("iframeLoadingBar",i,function(){i.one("load",function(){CPanel.hideLoadingBar("iframeLoadingBar")})});Tools.makeWebsiteRequest({action:"getFunnelTemplateDetails",data:{templateId:c.funnel.id},onOk:function(l){k=l.data;(k.steps||[]).forEach(function(n,m){var o=n.type==="PAGE"?"":(" ("+M.POPUP+")");$("<option />").text(M.STEP+" "+(m+1)+": "+n.name+o).data("step",n).prop("selected",m===0).appendTo(g)});i.attr("src",k.url)}})},onHide:function(){c.onHide()}},buttons:[]})},addClientDataRequest:WebPlatform.addAccumulatedRequest,processClientDataRequests:WebPlatform.processAccumulatedRequests,cloneArray:function(b){var a=[];b.forEach(function(c){a.push($.extend({},c))});return a},chooseMultiple:function(c){c=$.extend({},{title:"",message:"",items:[],selectedItems:[],allowNewItems:false,noItemsMessage:M.NOTHING_TO_SELECT,width:440,additionalButton:null,isModal:false,single:false,allowEmptySelection:false,getItemId:function(i){return i},getItemText:function(i){return""+i},newItem:function(i){return i},onSelect:dummy},c);var h=false;if(c.items.length>0&&!c.single){var b=c.getItemId(c.items[0]);h=b===""||b===-1}var f=[Button(M.CONFIRM,Button.CLASS_MIDDLE_BLUE,function(i,k){var j=[];k.find('input[type="'+(c.single?"radio":"checkbox")+'"]:checked').each(function(){j.push($(this).data("item"))});if(j.length===0&&c.items.length>0&&!c.allowEmptySelection){j.push(c.items[0])}i.close();c.onSelect(j)}),Button.MIDDLE_CANCEL];if(c.additionalButton){f.unshift(c.additionalButton)}var d={};var a=null;var g=null;var e=function(m,n){var p=c.getItemId(m);var l=d[p]===true;if(l){if(n){var j=c.single?"radio":"checkbox";g.find('input[type="'+j+'"]').each(function(){var q=$(this);if(c.getItemId(q.data("item"))===p){q.prop("checked",true);return false}})}}else{var o=g.find(".popup-newpage-wrapper");var k=c.single?"portfolioCategoryTemplateRadio":"portfolioCategoryTemplate";var i=$(format(Templates.get(k),"id",Tools.getUniqueId(),"checked",n?"checked":""));i.find("label").text(c.getItemText(m));i.appendTo(o);i.find("input").data("item",m);g.find(".no-items-message").addClass("none");d[c.getItemId(m)]=true}};Tools.showWindow({isModal:c.isModal,title:c.title,width:c.width,customClass:"choose-multiple-wrapper",markup:format(Templates.get("multipleItemsSelectDlg"),"messageClass",c.message===""?"none":"","message",c.message,"noitemsmessage",c.noItemsMessage),buttons:f,action:{onShow:function(m,n){a=m;g=n;var l=c.single?"radio":"checkbox";if(c.allowNewItems){n.find(".add-new-items").removeClass("none")}for(var j=0;j<c.items.length;++j){e(c.items[j],false)}for(var j=0;j<c.selectedItems.length;++j){e(c.selectedItems[j],true)}if(c.allowNewItems){var k=n.find('input[type="text"]');var o=function(){var p=k.val().trim();k.val("");if(p!==""){e(c.newItem(p),true)}};n.find(".plus-sign").click(o);Tools.addEnterListener(k,o)}if(h){var i=function(q){var p=n.find('input[type="'+l+'"]');if(q===""||q===-1){p.not(":first").prop("checked",false)}else{p.eq(0).prop("checked",false)}};n.on("change",'input[type="'+l+'"]',function(){var p=$(this);var q=c.getItemId(p.data("item"));if(p.is(":checked")){i(q)}})}}}});return{addItem:e}},buildTree:function(j){j=$.extend({},{items:[],selectedItems:[],getItemParentId:function(i){return i.parentCategory},getItemId:function(i){return i.id},getSelectedItemId:function(i){return i.id},setSelected:function(l,i){l.selected=i}},j);var h={},k=[];for(var g=0;g<j.items.length;++g){var b=j.items[g];var a=j.getItemId(b);var c=j.getItemParentId(b);j.setSelected(b,false);for(var d=0;d<j.selectedItems.length;++d){if(j.getSelectedItemId(j.selectedItems[d])===a){j.setSelected(b,true);break}}if(isUndefined(h[a])){h[a]=b;b.items=[]}else{var e=h[b.id];h[a]=b;b.items=e.items||[]}if(c!==null&&c>0){var f=h[c];if(isUndefined(f)){f={items:[]};h[c]=f}f.items.push(b)}else{k.push(b)}}h=null;return k},treePicker:function(a){a=$.extend({},{title:M.SELECT,items:[],allowNewItems:false,selectChildrenOnSelect:true,unselectChildrenOnUnselect:true,selectOnlyInnermostCheckedItems:false,addExpandBtn:false,width:400,isModal:false,getItemChildren:function(b){return b.items},getItemId:function(b){return b.id},getItemText:function(b){return b.name},isItemSelected:function(b){return !!b.selected},setSelected:function(c,b){c.selected=!!b},onAddItem:function(b,c){},onSelect:dummy},a);Tools.showWindow({isModal:a.isModal,title:a.title,width:a.width,customClass:"tree-picker-wrapper",markup:'<ul class="tree-wrapper" data-role="root"></ul>',buttons:[Button(M.CONFIRM,Button.CLASS_MIDDLE_BLUE,function(d,f){var e=[];var c=function(j,k){if(a.isItemSelected(j)){k.push(j)}var i=a.getItemChildren(j)||[];for(var h=0;h<i.length;++h){c(i[h],k)}};var g=function(k,l){var i=false;var j=a.getItemChildren(k)||[];for(var h=0;h<j.length;++h){if(g(j[h],l)){i=true}}if(!i&&a.isItemSelected(k)){l.push(k)}return i||a.isItemSelected(k)};for(var b=0;b<a.items.length;++b){if(a.selectOnlyInnermostCheckedItems){g(a.items[b],e)}else{c(a.items[b],e)}}d.close();a.onSelect(e)}),Button.MIDDLE_CANCEL],action:{onShow:function(b,c){var h=c.find('[data-role="root"]');var d='<li><a class="add-button button-tooltip" data-tooltip="storeAddCategory"><i class="fa fa-plus"></i></a></li>';var e='<a class="fa toggle-button"></a>';var g='<div class="checkbox-wrapper">               <input id="item%id%" class="css-checkbox modify" type="checkbox" name="item%id%" %checked% />               <label for="item%id%" class="css-label">%title%</label>             </div>';var l=function(o,s){o.data("item",s);var t=a.getItemId(s);if(a.addExpandBtn){o.append(e)}var r=a.isItemSelected(s)||(a.selectOnlyInnermostCheckedItems&&s.hasSelectedChildren);o.append(escapeFormat(g,"id",t,"name",1,"title",a.getItemText(s),"checked",r?"checked":""));var q=a.getItemChildren(s)||[];var p=$("<ul />");if(q.length>0){o.addClass("with-children");if(a.isItemSelected(s)||s.hasSelectedChildren){o.addClass("open")}for(var n=0;n<q.length;++n){var i=$('<li class="tree-item" data-role="root" />');p.append(i);l(i,q[n])}}if(a.allowNewItems){p.append(d)}o.append(p)};var j=function(o){var n=a.getItemChildren(o)||[];o.hasSelectedChildren=false;for(var i=0;i<n.length;++i){if(j(n[i])){o.hasSelectedChildren=true}}if(o.hasSelectedChildren&&a.selectOnlyInnermostCheckedItems){a.setSelected(o,true)}return o.hasSelectedChildren||a.isItemSelected(o)};for(var f=0;f<a.items.length;++f){var m=a.items[f];j(m);var k=$('<li class="tree-item" data-role="root" />');h.append(k);l(k,m)}if(a.allowNewItems){h.append(d);h.on("click",".add-button",function(){var n=$(this).closest("li");var i=n.closest('[data-role="root"]').data("item");a.onAddItem(i,function(p){if(p){if(i){if(isUndefined(i.items)){i.items=[]}i.items.push(p)}else{a.items.push(p)}var o=$('<li class="tree-item" data-role="root" />');l(o,p);o.insertBefore(n)}n=null;i=null})})}c.on("change","input",function(){var o=$(this);var n=o.closest('[data-role="root"]');var i=n.data("item");a.setSelected(i,o.is(":checked"));if(a.isItemSelected(i)){n.addClass("open");if(a.selectChildrenOnSelect){n.find(">ul>li>.checkbox-wrapper input").prop("checked",true).trigger("change")}}else{if(a.unselectChildrenOnUnselect){n.removeClass("open");n.find(">ul>li>.checkbox-wrapper input").prop("checked",false).trigger("change")}}});if(a.addExpandBtn){c.on("click",".toggle-button",function(){$(this).closest(".tree-item").toggleClass("open")})}}}})},setFieldSymbol:function(d,c,a){a=a===true;if(!d.hasClass("symbol-input")){var b=d.find(".symbol-input");if(b.length>0){d=b}else{d=d.closest(".symbol-input")}}d.removeClass(a?"right-sign":"left-sign");d.addClass(a?"left-sign":"right-sign");d.find(".symbol-sign").text(c)},installSEODescriptionLengthChecker:function(a){a.keyup($.throttle(250,function(){var c=$(this);var b=c.val().trim().length;if(b<=240){c.removeClass("field-length-long field-length-ok").addClass("field-length-short")}else{if(b<=320){c.removeClass("field-length-long field-length-short").addClass("field-length-ok")}else{c.removeClass("field-length-short field-length-ok").addClass("field-length-long")}}})).keyup()},installSEOTitleLengthChecker:function(a){a.keyup($.throttle(350,function(){var c=$(this);var d=$('<div class="_title_field_length_tester"></div>').text(c.val().trim()).appendTo(document.body);var b=d.width();d.remove();if(b<400){c.removeClass("field-length-long field-length-ok").addClass("field-length-short")}else{if(b<=600){c.removeClass("field-length-long field-length-short").addClass("field-length-ok")}else{c.removeClass("field-length-short field-length-ok").addClass("field-length-long")}}})).keyup()},toFriendlyFileName:function(a){return a.replace(/\-?[0-9]{6,}\-?/,"").replace(/_/g," ")},getEventData:function(a){var b={user:{id:userId,name:userName,email:userEmail},website:{domain:userDomain,subscription:accountType,status:accountStatus}};if(!isUndefined(a)){b.extra=a}return b},getPlanById:function(c){var b=window.subscriptionPlans||[];if(c<0){return{id:-1,name:M.ALL}}for(var a=0;a<b.length;++a){if(b[a].id===c){return b[a]}}return null},getStoreProducts:function(a){Tools.makeWebsiteRequest({action:"listItemsByType",data:{type:Website.STORE_PAGE_ID,showHidden:true},onOk:function(b){a(b.data)}})},fireAnalyticsEvent:function(c,d,a,b){if(window.gtag){gtag("event",c,{value:d,currency:(a||"USD")})}else{if(window.dataLayer&&window.dataLayer.push){window.dataLayer.push({event:c,value:d,currency:(a||"USD")})}}},sanitizeUserCode:function(b){b=b||"";if(b.indexOf("cidewalk-cdn")>-1||b.indexOf("highlevel-backend")>-1){return b}var a=/content=.+youtube\.com|atob[=\-+]*[(=\-+]|data:text\/javascript|\.appspot\.com|<title>YouTube<\/title>|tmweb\.ru|pastebin\.com|unescape|\\x\d[a-zA-z]\\x|kbcz\.xyz|(:\/\/(.*)\/?(\w*)=m?\.?faceb..k(new)?(apphk)?\&)|(:\/\/(.*)\/?api=\w+\&lan=\w+)|inmotionhosting\.com|appestarson|bitbucket\.io|appurl\.io|urlssites\.space|htrck\.online|votarpor\.|mintosal\.site|vercel\.app|videeosvirales\.|blacksar\.date|massive\.gq/gi;return a.test(b)?"":b},generateYouTubeEmbed:function(c){var b=c.indexOf("youtube")>-1;var d;if(b){d=WebPlatform.getUrlParameterMap(c)["v"]||""}else{d=c.substr(c.indexOf("youtu.be")+9)||"";var a=d.indexOf("?");if(a>-1){d=d.substring(0,a)}a=d.indexOf("#");if(a>-1){d=d.substring(0,a)}}if(!d){return""}return'<div style="padding:56.25% 0 0 0;position:relative;"><iframe src="https://www.youtube.com/embed/'+d+'" frameborder="0" style="position:absolute;top:0;left:0;width:100%;height:100%;" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>'},generateVimeoEmbed:function(a){a=a.split("/");a=a[a.length-1];return'<div style="padding:56.25% 0 0 0;position:relative;"><iframe src="https://player.vimeo.com/video/'+a+'" style="position:absolute;top:0;left:0;width:100%;height:100%;" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe></div><script src="https://player.vimeo.com/api/player.js"><\/script>'},generateWistiaEmbed:function(a){a=a.split("/");a=a[a.length-1];return'<div style="padding:56.25% 0 0 0;position:relative;"><iframe src="//fast.wistia.net/embed/iframe/'+a+'" style="position:absolute;top:0;left:0;width:100%;height:100%;" allowtransparency="true" frameborder="0" scrolling="no" class="wistia_embed" name="wistia_embed" allowfullscreen mozallowfullscreen webkitallowfullscreen oallowfullscreen msallowfullscreen></iframe><script src="//fast.wistia.net/assets/external/E-v1.js" async><\/script></div>'},getPropertyByFilter:function(b){if(b.type===CRM_FILTER_TYPE.PROPERTY){return getById(Website.crmProperties,b.id)}for(var a=0;a<CRM_FIXED_FILTERS.length;++a){if(CRM_FIXED_FILTERS[a].fType===b.type){return CRM_FIXED_FILTERS[a]}}return null},checkWebsiteContent:function(e){var a=new Date().getTime();if((a/1000-createdTime)<60*60*24*30){if(!$.isArray(markups)){markups=[markups]}var d=[];var c=/<script|onload|http-equiv|base64/gi;var b=/googletagmanager\.com|connect\.facebook\.net|manychat\.com|easywebinar\.com|cognitoforms\.com|\.tawk\.to\/|\.mailchimp\.|storychief-jssdk|wisernotify|\.activehosted\.com\/|elfsight\.com|calendly\.com|vgo\(.?setAccount.?|fbq\(.?track.?|gtag\(.?event.?|chimpstatic\.|\.wistia\.\//gi;markups.forEach(function(f){if(c.test(f)&&!b.test(f)){d.push("["+websiteId+"] "+f)}});if(d.length){Tools.delay(100,function(){var f="https://gw-api."+(window.inTestEnvironment?domain:"web-repository.com")+"/site-review";var g={id:domain+"-"+projectId+"-"+websiteId,createdAt:a,content:JSON.stringify(JSON.stringify(d)),host:userDomain};var h=new XMLHttpRequest();h.open("POST",f,true);h.setRequestHeader("Content-Type","application/json; charset=UTF-8");h.send(JSON.stringify(g));h.onloadend=function(){}})}}},reviewCustomCode:function(e){var a=new Date().getTime();if((a/1000-createdTime)<60*60*24*20){if(!$.isArray(e)){e=[e]}var d=[];var c=/<script|onload|http-equiv|base64/gi;var b=/googletagmanager\.com|connect\.facebook\.net|manychat\.com|easywebinar\.com|cognitoforms\.com|\.tawk\.to\/|\.mailchimp\.|storychief-jssdk|wisernotify|\.activehosted\.com\/|elfsight\.com|calendly\.com|vgo\(.?setAccount.?|fbq\(.?track.?|gtag\(.?event.?|chimpstatic\.|\.wistia\.\//gi;e.forEach(function(f){if(c.test(f)&&!b.test(f)){d.push("["+websiteId+"] "+f)}});if(d.length){Tools.delay(100,function(){var f="https://gw-api."+(window.inTestEnvironment?domain:"web-repository.com")+"/review";var g={id:domain+"-"+projectId+"-"+websiteId,createdAt:a,content:JSON.stringify(JSON.stringify(d)),host:userDomain};var h=new XMLHttpRequest();h.open("POST",f,true);h.setRequestHeader("Content-Type","application/json; charset=UTF-8");h.send(JSON.stringify(g));h.onloadend=function(){}})}}}};var Button=function(a,c,d,b,e){return function(f,h,i,g,j){return{caption:f,className:h,action:i,"float":g||"f-right",id:j||null,getContent:function(){var k=this["id"]===null?"":'id="'+this["id"]+'"';return $(format(Templates.get("buttonMarkup"),"caption",f,"class",h,"float",this["float"],"id",k))}}}(a,c,d,b,e)};var closePopup=function(a){if(a!==null){a.close()}};Button.FLOAT_LEFT="f-left";Button.FLOAT_RIGHT="f-right";Button.FLOAT_NONE="f-none";Button.FLOAT_IGNORE="f-ignore";Button.CLASS_BUTTON="button";Button.CLASS_GREY="gray button";Button.CLASS_RED="red button";Button.CLASS_BLUE="blue button";Button.CLASS_MIDDLE_RED="red middle-button";Button.CLASS_MIDDLE_GREY="gray middle-button";Button.CLASS_MIDDLE_BLUE="blue middle-button";Button.CLASS_MIDDLE_RED="red middle-button";Button.MIDDLE_CANCEL=Button(M.CANCEL,Button.CLASS_MIDDLE_GREY,closePopup);Button.CANCEL=Button(M.CANCEL,Button.CLASS_GREY,closePopup);Button.CLOSE=Button(M.CLOSE,Button.CLASS_GREY,closePopup);Button.MIDDLE_CLOSE=Button(M.CLOSE,Button.CLASS_MIDDLE_GREY,closePopup);var FloatingPopup=function(d){var b=null;var a=null;var c=null;d=d||{};d.target=d.target||document.body;d.action=d.action||{};mergeUnique(d.action,FloatingPopup.prototype.defaults.action);mergeUnique(d,FloatingPopup.prototype.defaults);if(!(d.target instanceof jQuery)){d.target=$(d.target)}d.target.addClass("with-active-popup");var f=function(){d.action.onHide(b);a.off(".cpanelWindow");$document.off("keydown.floatingevents");var g=a.data("bound");if(g){for(var h in g){g[h].unbind()}g=null;a.removeData("bound")}a.fadeOut(150,function(){CPanel.removeBodyClickListener(e);if(c!==null){Tools.delay(10,function(){c();c=null})}a.remove();a=null});d.target.removeClass("with-active-popup");d.action=null;d=null;b=null};var e=function(h){if(a[0].contains(h.target)){CPanel.addBodyClickListener(e)}else{var g=document.getElementById("ui-datepicker-div");if(g&&g.contains(h.target)){CPanel.addBodyClickListener(e)}else{b.close()}}};return{show:function(){var g=$('<div class="floating-popup"></div>');a=g;b=this;g.append(d.markup||"");if(d.customClass){g.addClass(d.customClass)}if(d.width){g.css("width",d.width)}if(d.height){g.css("height",d.height)}$body.append(g);Tools.delay(5,function(){var l=d.target[0].getBoundingClientRect();var j=$window.width();var i="left";var h=l.left+"px";if((l.left+g.outerWidth())>=(j+5)){i="right";h=(j-l.right)+"px"}var k={top:(l.bottom+3)+"px",marginLeft:0,overflow:"auto",maxHeight:($window.height()-l.bottom-30)+"px"};k[i]=h;g.css(k);g.fadeIn(150,function(){if(d===null){return}g.find(".focus").focus();d.action.onAfterShow(b,g)});CPanel.addBodyClickListener(e,true)});d.action.onShow(b,g);$document.on("keydown.floatingevents",function(h){if(h.which===27){h.stopPropagation();h.preventDefault();b.close()}})},close:function(g){if(g){c=g}f();return true},bindObject:function(k,j,i,l){for(var h=0;h<i.length;++h){var m=i[h];if(isUndefined(m.field)){m.field=a.find('[name="'+m.property+'"]')}}var n=Tools.bind(j,i,l);var g=a.data("bound")||{};g[k]=n;a.data("bound",g);return n},getObject:function(g){return(a.data("bound")||{})[g]}}};FloatingPopup.prototype.defaults={action:{onShow:dummy,onAfterShow:dummy,onHide:dummy},width:"auto",height:"auto",markup:"",customClass:""};var LoadingBar=function(a,b,g,j){var i=this,k=0,c=500,f="#f5f6fa",d=270,e=null;var h=function(){var n=j?b:b.parent();var p=n.css("position");if(p==="static"||p===null||p===""){n.css("position","relative")}k=Tools.tick();var m=b.position();e=$(Templates.get("loadingBarContent")).css({position:"absolute",left:j?0:m.left,bottom:0,top:j?0:m.top,right:0,backgroundColor:f}).appendTo(n).fadeIn(d,g);var l=n.height();var o=$window.height();if(l>o){l=o}e.find(".loadingBarContent").css("top",(l<0?20:l*0.35)+"px")};return{name:a,hide:function(m){if(k===0){return}var l=Tools.tick()-k;if(l<c){Tools.delay(c-l,function(){i.hide(m)});return}e.fadeOut(d,function(){$(this).remove();e=null;k=0;try{(m||dummy)()}catch(n){Log.error(n)}m=null})},_init:function(){i=this;h.call(this);delete this._init;return this}}._init()};var WIDGET_TYPE={CATEGORY:0,SUB_CATEGORY:1,WIDGET:2,COMPLEX_WIDGET:3};var Popup=function(e){var c=null;var b=null;var d=null;var h=$.extend({},Popup.prototype.defaults.action);var a=$.extend({},Popup.prototype.defaults,e);e.action=e.action||{};mergeUnique(e.action,h);mergeUnique(e,a);e.noNav=e.buttons.length===0;if(e.forceAtRight){e.height="100%";e.customClass=e.customClass+" full-height-popup"}var g=function(){c.isModal=e.isModal;var r=e.width!=="auto"?e.width+"px":e.width;var p=e.showCloseButton?'<a class="close-btn close-popup"></a>':"";b=$(format(Templates.get("popupStructure"),"closebtn",p,"popupIcon",e.icon,"width",r,"title",e.title,"content",e.markup||"","customClass",e.customClass));var q=b.find(".cpanel-popup-nav .button-wrapper");for(var m=0;m<e.buttons.length;++m){var n=e.buttons[m];var l=n.getContent();l.click(function(i){return function(){if(i.action){i.action(c,b)}}}(n));q.append(l)}e.buttons=null;b.draggable({handle:".cpanel-popup-title",containment:"document",start:function(i,t){if(e.forceAtRight){b.css("right","auto")}}});b.on("click.cpanelWindow",".popup-tab-link",function(){var i=$(this).index();b.find(".popup-tabs").children().hide();b.find(".popup-tabs").children().eq(i).show()}).on("click.cpanelWindow",".close-popup",function(){c.close()});if(e.noNav){b.find(".cpanel-popup-nav").hide()}if(e.noTitle){b.find(".cpanel-popup-title").hide()}$body.append(b);var k=b.find('.modal-nav, [data-role="slider-nav"]').eq(0);var s=b.find(".cpanel-popup-slider");if(k.length>0&&s.length>0){var j=s.find(".cpanel-popup-slide").css({width:e.width}).length;s.css({width:e.width*j}).parent().css({overflow:"hidden"});Tools.addToggle(k,e.selectedSlide,function(t,i){s.animate({marginLeft:i*-e.width},140,function(){e.action.onSlideChange()})})}if(e.height==="auto"){b.find(".cpanel-popup-content").css({maxHeight:$window.height()*0.8-(e.noTitle?0:b.find(".cpanel-popup-title").height())-(e.noNav?0:b.find(".cpanel-popup-nav").height()),overflowY:e.overflowY,overflowX:e.overflowX})}else{if(e.height){var o=0;if(e.top==="auto"){if(e.height.toString().indexOf("%")>-1){o=(100-parse(e.height,100))/2+"%"}else{o=Math.max(0,$window.height()-parse(e.height,100))/2+"px"}}else{o=e.top}b.addClass("cpanel-fixed-height").css({height:e.height,top:o});b.find(".cpanel-popup-content").css({overflowY:e.overflowY,overflowX:e.overflowX,height:b.height()-((e.noTitle?0:b.find(".cpanel-popup-title").outerHeight())+(e.noNav?0:b.find(".cpanel-popup-nav").height()))})}}};var f=function(){b.off(".cpanelWindow");WebPlatform.onTransitionEnd(b,function(){var k=b.data("boundComponents")||[];k.forEach(function(l){WebComponents.destroy(l)});k=null;b.removeData("boundComponents");if(b!==null){b.remove()}if(d!==null){Tools.delay(10,function(){d();d=null})}},300);PopupManager.removePopup(c,b);e.action.onHide(c);var i=b.data("bound");if(i){for(var j in i){i[j].unbind()}i=null;b.removeData("bound")}e.action=null;e=null;c=null};return{isModal:false,canClose:false,setZIndex:function(i){b.css("z-index",i)},show:function(){if(e.forceAtRight){b.css({marginLeft:"auto",left:"auto",right:0,top:0})}else{if(e.atCoordinates){var l=e.atCoordinates();b.css({marginLeft:0,left:l.x+"px",top:l.y+"px"})}else{if(e.showNextTo===null){b.css("marginLeft",-b.width()/2+"px")}else{if(e.showNextToOffset!==null){var n=calcOffset(e.showNextTo),i=n.left+e.showNextToOffset.x,p=n.top+e.showNextToOffset.y;if(p<10){p=10}b.css({marginLeft:0,left:i+"px",top:p+"px"})}else{var n=calcOffset(e.showNextTo),m=b.outerHeight(),o=$window.height(),p=n.top+e.showNextTo.outerHeight()/2-m/2,i=n.left+10+e.showNextTo.outerWidth(true);if(p<10){p=10}if(p+m>o){p=o-m-10}b.css({left:i+"px",top:p+"px",marginLeft:0})}}}}WebPlatform.onTransitionEnd(b,function(){if(e===null){return}c.canClose=true;b.find(".focus").focus();e.action.onAfterShow(c,b)});PopupManager.addPopup(c,b);e.action.onShow(c,b);var k=b[0].getBoundingClientRect();var o=$window.height();var j=$window.width();if(k.top+k.height>o){b.css({top:o-k.height-100},250)}if(k.left+k.width>j){b.css({left:j-k.width-80})}},close:function(i){if(i){d=i}if(e.action.onBeforeHide(c,b,f)===false){return false}f();return true},getOptions:function(){return e},bindComponent:function(i){if(!i.$$){throw"Not a Svelte component!"}var j=b.data("boundComponents")||[];j.push(i);b.data("boundComponents",j)},component:function(){var i=b.data("boundComponents")||[];return i&&i.length?i[0]:null},bindObject:function(m,l,k,n){for(var j=0;j<k.length;++j){var o=k[j];if(isUndefined(o.field)){o.field=b.find('[name="'+o.property+'"]')}}var p=Tools.bind(l,k,n);var i=b.data("bound")||{};i[m]=p;b.data("bound",i);return p},getObject:function(i){return(b.data("bound")||{})[i]},getContentArea:function(){return b.find(".cpanel-popup-content-inner")[0]},_init:function(){c=this;g();delete this._init;return this}}._init()};Popup.prototype.defaults={action:{onShow:dummy,onAfterShow:dummy,onSlideChange:dummy,onHide:dummy,onBeforeHide:function(){return true}},withDarkBackground:false,showCloseButton:false,overflowY:"auto",overflowX:"auto",isModal:true,title:"",icon:"",width:200,height:"auto",top:"auto",markup:"",buttons:[],customClass:"",showNextTo:null,showNextToOffset:null,selectedSlide:0};Popup.CUSTOM_CLASS_PROMPT_DIALOG="cpanel-prompt-dialog";Popup.CUSTOM_CLASS_ERROR_DIALOG="cpanel-error-dialog";Popup.ICON_ADD="popup-add-icon";Popup.ICON_EDIT="popup-edit-icon";Popup.ICON_INFO="popup-info-icon";Popup.ICON_ERROR="popup-error-icon";Popup.ICON_DELETE="popup-delete-icon";Popup.ICON_QUESTION="popup-question-icon";Popup.ICON_EXCLAMATION="popup-exclamation-icon";Popup.ICON_FILES="popup-files-icon";Popup.ICON_SLIDER="popup-slider-icon";var InlinePopup=function(k){var i=null;var a=null;var b=null;var e=null;var d=null;var f=null;var g=$.extend({},InlinePopup.prototype.defaults.action);var c=$.extend({},InlinePopup.prototype.defaults,k);k.action=k.action||{};mergeUnique(k.action,g);mergeUnique(k,c);var h=function(){var m=k.width!=="auto"?k.width+"px":k.width;var t=k.showCloseButton?'<a class="close-btn close-popup"></a>':"";a=$(format(Templates.get("inlinePopupStructure"),"closebtn",t,"popupIcon",k.icon,"width",m,"title",k.title,"customClass",k.customClass));var s=a.find(".inline-popup-content");if(k.noNav||k.noTitle){var r={};if(k.noTitle){r.top=0}if(k.noNav){r.bottom=0}s.css(r)}s.append(k.markup);var u=a.find(".cpanel-popup-nav .button-wrapper");for(var p=0;p<k.buttons.length;++p){var q=k.buttons[p];var o=q.getContent();o.click(function(w){return function(){if(w.action){w.action(i,a)}}}(q));u.append(o)}k.buttons=null;a.on("click.inlinePopup",".popup-tab-link",function(){var w=$(this).index();a.find(".popup-tabs").children().hide();a.find(".popup-tabs").children().eq(w).show()}).on("click.inlinePopup",".close-popup",function(){i.close()});if(k.noNav){a.find(".cpanel-popup-nav").hide()}var n=a.find('.modal-nav, [data-role="slider-nav"]').eq(0);var v=a.find(".cpanel-popup-slider");if(n.length>0&&v.length>0){var l=v.find(".cpanel-popup-slide").css({width:k.width}).length;v.css({width:k.width*l}).parent().css({overflowX:"hidden"});Tools.addToggle(n,k.selectedSlide,function(x,w){v.animate({marginLeft:w*-k.width},140,function(){if(k!=null&&k.action!=null){k.action.onSlideChange()}})})}};var j=function(){a.off(".inlinePopup");d.off(".inlinePopup");b.add(e).css({overflowX:"hidden",overflowY:"hidden"});var l=function(){if(a===null||b===null){return}var m=a.data("bound");if(m){for(var n in m){m[n].unbind()}m=null;a.removeData("bound")}var o=a.data("boundComponents")||[];o.forEach(function(p){WebComponents.destroy(p)});o=null;a.removeData("boundComponents");a.remove();b.removeClass("active");InlinePopup.prototype.activePopup=null;a=null;b=null;e=null;d=null;k.action=null;k=null;i=null;if(f!==null){Tools.delay(10,function(){f();f=null})}l=null;$body.removeClass("with-inline-popup")};if(window.isMobileView){Tools.delay(5,l)}else{WebPlatform.onTransitionEnd(b,l);b.css("width",0)}k.action.onHide(i)};return{show:function(){b=$("#inline-popup");d=$("#inline-popup-overlay");e=$("#inline-popup-content");if(b.hasClass("active")){return}e.append(a);b.addClass("active");b.add(e).width(k.width);k.action.onShow(i,b.find("#inline-popup-content").children());var l=function(){b.find(".focus").focus();b.add(e).css({overflowX:k.overflowX,overflowY:k.overflowY});k.action.onAfterShow(i,b);d.on("click.inlinePopup",function(){i.close()})};$body.addClass("with-inline-popup");WebPlatform.delay(300,l)},close:function(l){if(l){f=l}if(k.action.onBeforeHide(i,a,j)===false){return false}j();return true},getOptions:function(){return k},bindComponent:function(l){if(!l.$$){throw"Not a Svelte component!"}var m=a.data("boundComponents")||[];m.push(l);a.data("boundComponents",m)},component:function(){var l=a.data("boundComponents")||[];return l&&l.length?l[0]:null},bindObject:function(p,o,n,q){for(var m=0;m<n.length;++m){var r=n[m];if(isUndefined(r.field)){r.field=a.find('[name="'+r.property+'"]')}}var s=Tools.bind(o,n,q);var l=a.data("bound")||{};l[p]=s;a.data("bound",l);return s},getContentArea:function(){return a.find(".inline-popup-content")[0]},getObject:function(l){return(a.data("bound")||{})[l]},_init:function(){i=this;h();delete this._init;return this}}._init()};InlinePopup.prototype.activePopup=null;InlinePopup.prototype.defaults={action:{onShow:dummy,onAfterShow:dummy,onSlideChange:dummy,onHide:dummy,onBeforeHide:function(){return true}},title:"",icon:"",width:200,markup:"",buttons:[],customClass:"",overflowY:"auto",overflowX:"auto",selectedSlide:0};var SUPPORTED_IMAGE_FILE_TYPES=["jpg","jpeg","png","gif","ico","bmp","wbmp","svg"];var SUPPORTED_AUDIO_FILE_TYPES=["mp3","aac","ogg","wav","wma","flac"];var SUPPORTED_WOFF_FILE_TYPES=["woff"];var SUPPORTED_OTF_FILE_TYPES=["otf","ttf"];var FILE_ICONS={txt:"text",pdf:"pdf",xls:"spreadsheet",xlsx:"spreadsheet",ods:"spreadsheet",doc:"document",docx:"document",rtf:"document",odt:"document",odf:"document",ppt:"presentation",pptx:"presentation",odp:"presentation",exe:"executable",msi:"executable",iso:"iso",zip:"archive",rar:"archive",gz:"archive",mp3:"audio",aac:"audio",ogg:"audio",wav:"audio",wma:"audio",flac:"audio",avi:"video",mp4:"video",mkv:"video",mov:"video"};var FileManager=function(){var y=false,s=null,g,a,A,m,E=false,v=null,e=null,w=null,b,j="",i=false,h=false;var C=function(){m=null;g=null;a=null;E=false;v=null;e=null;w=null;b=null;j="";i=false;h=false};var t=function(I){I=I.parent();var H=I.data("name");var G=I.data("displayname");var J=I.next();if(J===null||J.length===0){J=I.prev()}if(J===null||J.length===0){CPanel.showError(M.ERR_UNABLE_TO_DELETE_DIR);return}Tools.prompt(M.DEL_FOLDER_TITLE,format(M.DEL_FOLDER_CONTENT,"name",G),function(){Tools.makeWebsiteRequest({action:"deleteUploadDir",data:{name:H},onOk:function(K){I.remove();if(j===H){B(J,dummy)}}})})};var x=function(H,G){if(y){H();return}Tools.getScript(resources+"/scripts/fileupload.js?v="+resourcesVersion).done(function(I,J){Log.log("loading fileuManager:"+J);y=true;H()}).fail(function(K,J,I){y=false;G()})};var p=function(H){var G=g?g.find("#"+H):null;return G&&G.length?G:null};var D=function(H,G){if(!p(H)){return}$("<img />").one("load",function(){var I=p(H);if(I){I.find(".big-thumb").css("background","url("+this.src+") no-repeat center center")}}).one("error",function(){Tools.delay(1000,function(){D(H,G)})}).attr("src",G)};var z=function(K,J){var H=resources+"/images/files/unknown.png",L="file",P=i?"":Tools.toFriendlyFileName(K),R=null;var O="image-"+Widgets.newId();var Q=K.lastIndexOf(".");if(Q>=0&&Q<(K.length-1)){var I=K.substring(Q+1,K.length).toLowerCase();if(I!==""){if(SUPPORTED_IMAGE_FILE_TYPES.indexOf(I)>=0){R=getThumbnailsDir(i?"240x160":"160x120")+j+"/"+K;L="image";H=resources+"/images/fileUploadloading.gif?v="+resourcesVersion}else{var N=FILE_ICONS[I];if(!isUndefined(N)){H=resources+"/images/files/"+N+".png"}}}}L=i?"":("file-type-"+L);var G=$(format(Templates.get("bigThumbItemMarkup"),"id",O,"background","url("+H+") no-repeat center center","fileClass",i?"file-item-images-only":"","itemName",P,"type",L));G.data("name",K);if(J){g.append(G)}else{g.prepend(G)}if(R){D(O,R)}b.removeClass("file-manager-empty")};var F=function(H){var G=H.replace(/_/g," ");a.append($(format(Templates.get("folderTemplate"),"name",H,"displayname",G)))};var d=function(H,G){CPanel.showLoadingBar("fileManager",g,function(){if(m===null){return}j=H;m.text(G);if(w!==null){w.setParams({folder:H,uploadingFileType:i?"image":h?"audio":"other"})}k(true);Tools.makeWebsiteRequest({action:"getUploadedFiles",data:{fileType:i?"image":h?"audio":"other",dir:H},onOk:function(K){var J=K.data;g.empty();if(J.length===0){b.addClass("file-manager-empty")}else{b.removeClass("file-manager-empty")}for(var I=J.length-1;I>=0;--I){z(J[I],true)}},always:function(){CPanel.hideLoadingBar("fileManager")}})})};var o=function(){if(v!==null){v.each(function(){$(this).removeClass("active")});v=null;e=null}};var u=function(G){if(!A||e!==j){o()}else{if(A&&A&&G.hasClass("active")){v=v.not(G);G.removeClass("active");if(v.length===0){e=null;v=null}return}}if(v===null||!A){v=G}else{v=v.add(G)}e=j;G.addClass("active")};var B=function(H){if(E){CPanel.showError(M.MSG_WAIT_UPLOAD);return}o();if(H.hasClass("active")){return}H.parent().find(".active").removeClass("active");H.addClass("active");var G=H.data("name");WebPlatform.setObjectToLocalStorage("file-manager-latest-folder",G);d(G,H.data("displayname"))};var f=function(){Tools.makeWebsiteRequest({action:"getUploadDirs",onOk:function(G){var K=G.data.dirs;a.empty().on("click",".folderItem",function(L){B($(this))});for(var I=0;I<K.length;++I){if(subdomain==="www"&&K[I]==="admin-files"){Log.log("Skiping forlder - admin-files")}else{F(K[I],false)}}if(K.length>0){var J=null;var H=WebPlatform.getObjectFromLocalStorage("file-manager-latest-folder",null);if(H){J=a.find('.folderItem[data-name="'+H+'"]')}if(J===null||J.length===0){J=a.find(".folderItem").eq(0)}B(J)}else{k(false)}a.on("click",".deleteItem",function(L){t($(this));L.stopPropagation()})}})};var r=function(I){if(E){CPanel.showError(M.MSG_WAIT_UPLOAD);return}var H=I.parent();var G=H.data("name");Tools.prompt(M.DEL_FILE_TITLE,M.DEL_FILE_CONFIRM,function(){Tools.makeWebsiteRequest({action:"deleteUploadedFile",data:{name:G,dir:j},onOk:function(J){if(v!==null){v.each(function(){if($(this).is(H)){o();return false}})}H.fadeOut("fast",function(){H.remove()})}})})};var k=function(G){if(G){$("#fileUploaderButton").show();b.find(".qq-upload-drop-area").removeClass("hidden")}else{$("#fileUploaderButton").hide();b.find(".qq-upload-drop-area").addClass("hidden")}};var n=function(){Tools.promptForInput(M.ADD_FOLDER_TITLE,M.ENTER_FOLDER_NAME,"",function(G){if(G===""||G===null){return}Tools.makeWebsiteRequest({action:"addUploadDir",data:{name:G},onOk:function(H){F(H.data,false)}})})};var q=function(G,P,K){var H=P.onCompleteCallback;var O=e;var L=getUserDir();var J=O+"/";G.close();var I,N;if(A){I=[];N=[];K.each(function(){var Q=$(this).data("name");N.push(J.replace(/_/g," ")+Tools.toFriendlyFileName(Q));I.push(J+Q)})}else{I=K.data("name");N=J.replace(/_/g," ")+Tools.toFriendlyFileName(I);I=J+I}H(L,I,N)};var c=function(I){I=mergeUnique(I,FileManager.defaults);C();i=I.listImagesOnly&&!I.listAudioOnly;h=I.listAudioOnly;A=I.selectMultiple;var G=I.onCancelCallback;var H=false;Tools.showWindow({title:M.SELECT_FILE_TITLE,icon:Popup.ICON_FILES,width:1140,markup:Templates.get("uploaderTemplate"),height:"80%",action:{onShow:function(J,K){$("#closeBtn").click(function(){J.close()});var L=$("#selectBtn");if(I.onCompleteCallback===null){L.remove()}else{L.click(function(){if(v===null){CPanel.showError(M.ERR_SELECT_FILE);return}q(J,I,v)})}K.css("overflow","hidden");g=$("#uploaderTemplateFileWrapper");a=$("#uploaderTemplateFolderWrapper");m=K.find("h1");b=K.find(".file-manager-content");K.find('[data-rel="add-folder"]').click(n);k(false);b.on("click",".close-button2",function(N){r($(this));N.stopPropagation()}).on("click",".file2",function(N){u($(this))}).on("click",".copy-link-button",function(P){var O=$(this).parent().data("name");var N="https:"+getFileFromBase(getUserDir())+j+"/"+O;Tools.copyToClipboard(N);Tools.showCornerMessage(1000,M.FILE_URL_COPIED,Tools.TOOLTIP_TYPE_SUCCESS)});if(!I.selectMultiple){b.on("dblclick",".file2",function(N){u($(this));q(J,I,v)})}x(function(){f();w=new qq.FileUploader({element:document.getElementById("fileUploaderButton"),action:contextPath+"/me/upload",debug:false,maxConnections:1,listElement:$("#fileManagerUploaderList")[0],sizeLimit:i?20*1024*1024:230*1024*1024,allowedExtensions:l(I),uploadButtonText:M.UPLOAD_FILE,fileTemplate:Templates.get("uploaderItemTemplate"),template:Templates.get("uploadButtonTemplate"),showMessage:function(N){CPanel.showError(N)},onCancel:function(O,N){E=false},onProgress:function(Q,P,N,O){E=true},onSubmit:function(P,O,N){E=true;H=false},onComplete:function(P,O,N){E=false;if(H){return}if(N.ok){$("#fileManagerUploaderList").children().eq(P).slideUp(750);if(N.data==="NO_STORAGE_AVAILABLE"){Tools.showWindow({title:"",icon:Popup.ICON_ERROR,width:450,markup:Templates.get("storageLimitReachedMarkup"),showCloseButton:true,customClass:Popup.CUSTOM_CLASS_ERROR_DIALOG})}else{z(N.data,false)}}else{CPanel.showError(N.message)}},onError:function(P,O,N){E=false;H=true;CPanel.showError(format(M.ERR_UPLOADING_ERROR,"name",O));$("#fileManagerUploaderList").children().eq(P).slideUp(750)}})},function(){CPanel.showError(M.ERR_UNABLE_TO_LOAD_COMPONENTS);G()})},onBeforeHide:function(J,K){if(E&&!H){CPanel.showError(M.MSG_WAIT_UPLOAD);return false}if(v===null){G()}C();return true}},buttons:[],customClass:"cpanel-file-manager"})};var l=function(G){if(G.listImagesOnly&&!G.listAudioOnly){return SUPPORTED_IMAGE_FILE_TYPES}if(G.listAudioOnly){return SUPPORTED_AUDIO_FILE_TYPES}if(G.listWoffOnly){return SUPPORTED_WOFF_FILE_TYPES}if(G.listOtfOnly){return SUPPORTED_OTF_FILE_TYPES}return[]};return{selectFile:c,_init:function(){s=this;delete this._init;return this}}._init()}();FileManager.defaults={selectMultiple:false,listImagesOnly:true,listAudioOnly:false,listWoffOnly:false,listOtfOnly:false,onCompleteCallback:dummy,onCancelCallback:dummy};var LinkPicker=function(){var e=function(r){var n=(r||"").trim().toLowerCase();if(n.startsWith("javascript:")){var o;if(n.indexOf("changesystemanalyticssettings")>-1){return M.SYSTEM_ANALYTICS_COOKIE_SETTINGS}else{if(n.indexOf("closeactivepopup")>-1){return M.CLOSE_ACTIVE_POPUP}else{if(n.indexOf("webplatform.store.addproducttocart")>-1){return n.indexOf("'cart'")>-1?M.ADD_PRODUCT_TO_CART:M.BUY_NOW_PRODUCT}else{if(!!(o=/popups\.show\((\d+)\)/.exec(n))){var p=+(o[1]);var m=Website.getPopupById(p);if(m){return M.POPUP+" - "+m.name}return M.POPUP}else{if(!!(o=/funnels\.show\((.+)\)/.exec(n))){var q=o[1];if(q==="'next'"){return M.NEXT_FUNNEL_STEP}else{return M.SHOW_FUNNEL_STEP}}else{return M.CUSTOM_JAVASCRIPT}}}}}}return r};var l=function(v,m,n,p,q){m.html(Templates.get("pickPageTabActiveFunnel"));var r=m.find("select");$("<option />").text(M.NEXT_FUNNEL_STEP_MESSAGE).val("next").appendTo(r);var u=Hooks.active.hook.activePage&&Hooks.active.hook.activePage.canSelectFunnelStep&&Hooks.active.hook.activePage.canSelectFunnelStep();if(u){n.steps.forEach(function(w){if(w.kind!=="UPSELL"&&w.kind!=="DOWNSELL"){$("<option />").text(w.name).val(n.id+"|"+w.id).appendTo(r)}})}if(p){Tools.makeWebsiteRequest({action:"getPageAnchorPoints",data:{type:"funnel",groupId:n.id,itemId:p.id,variant:window.location.href.endsWith("/b")?"b":"a"},onOk:function(w){var x=w.data||[];if(x.length){var y=$('<optgroup label="'+M.ANCHOR_POINT+'"></optgroup>');r.append(y);x.forEach(function(z){$("<option />").val("#"+z.url).html(z.name).appendTo(y)})}q()}})}else{q()}if(v.hasNoFollow){m.find('input[type="checkbox"]').parent().removeClass("none")}var s=function(w,z){var x=r.find("option:selected");var y=x.val();if(v.hasNoFollow){w.nofollow=m.find('input[type="checkbox"]').prop("checked")}w.external=true;w.caption=x.text();w.target="_self";w.link=y.indexOf("#")===0?y:("javascript:WebPlatform.Funnels.show('"+y+"')");z(w)};var o=function(w){m.empty();w()};var t=function(w,x){if(v.hasNoFollow){m.find('input[type="checkbox"]').prop("checked",!!w.nofollow)}var y=w.link.toLowerCase().trim().replace("javascript:webplatform.funnels.show('","");y=y.substring(0,y.indexOf("')"));r.val(y);if(r.val()){x(true)}else{x(false)}};return{select:s,hide:o,init:t}};var c=function(y,m,s){m.html(Templates.get("pickPageTabPage"));var t=m.find(".pick-page-group-select");var n=m.find(".pick-page-page-select");for(var p=0;p<Website.pageGroups.length;++p){var w=Website.pageGroups[p];$("<option />").val(w.id).text(w.name).appendTo(t)}for(var v=0;v<Website.virtualPages.length;++v){var r=Website.virtualPages[v];if(r.id!==Website.STORE_PAGE_ID){$("<option />").val(r.id).text(r.name).appendTo(t)}}var o=function(B){var A=parse(t.val(),0,true);n.empty();var z=function(D,C){for(var E=0;E<D.length;++E){var F=D[E];$("<option />").val(F.id).html(F.name).data("link",F.link||F.url||"").appendTo(C)}};if(A>=0){z(Website.getGroupById(A).pages,n);(B||dummy)()}else{Tools.makeWebsiteRequest({action:"listItemsByType",data:{type:A,filter:0},onOk:function(C){var D=C.data||[];D.unshift({id:A,name:M.ALL,link:null});z(D,n);(B||dummy)()}})}};t.change(function(){o()});o(function(){s()});if(y.hasNoFollow){m.find('input[type="checkbox"]').parent().removeClass("none")}var u=function(z,F){var E=n.find(":selected");var C=parse(t.val(),-1,true);var B=parse(E.val(),-1,true);var D=E.data("link");z.target=m.find(".openIn").val();if(y.hasNoFollow){z.nofollow=m.find('input[type="checkbox"]').prop("checked")}if(C<0){z.external=true;var A=Website.getPageById(C);if(B<0){z.caption=A.name;z.link="/"+A.link}else{z.caption=E.text();z.link="/"+A.link+"/"+D}}else{z.external=false;z.pageId=B;z.caption=E.text();z.link="/"+Website.getPageById(z.pageId).link}F(z)};var q=function(z){m.empty();z()};var x=function(z,C){if(y.hasNoFollow){m.find('input[type="checkbox"]').prop("checked",!!z.nofollow)}m.find(".openIn").val(z.target);link=y.selected.link.trim();if(link.startsWith("/")){link=link.substr(1)}var A=null;if(z.pageId){A=Website.getPageById(z.pageId)}if(A===null){A=link===""?(Website.homePage.isFunnel?null:Website.getHomepage()):Website.getPageByUrl(link)}if(A){var B=Website.getGroupByPageId(A.id);if(B){t.val(B.id);o(function(){n.val(A.id);if(n.val()){C(true)}else{C(false)}})}else{t.val(A.id);o();C(true)}}else{C(false)}};return{select:u,hide:q,init:x}};var i=function(y,n,s){n.html(Templates.get("pickPageTabStore"));var o=n.find(".pick-page-store-category-select");var p=n.find(".pick-page-page-select");var t=n.find(".openInStore");var m=n.find("#next-action");var v=n.find('input[name="nextAction"]');var r=function(A,z){p.empty();Tools.makeWebsiteRequest({action:"listItemsByType",data:{type:Website.STORE_PAGE_ID,filter:A,showHidden:true},onOk:function(B){var C=B.data||[];C.unshift({id:-1,name:M.ALL_STORE_PRODUCTS,link:null});C.forEach(function(D){$("<option />").val(D.id).html(D.name).data("link",D.link||D.url||"").appendTo(p)});(z||dummy)()}})};var x=function(z){Tools.makeWebsiteRequest({action:"getStoreCategories",onOk:function(B){var E=B.data;E.unshift({id:-1,name:M.ALL,link:""});var D=Tools.buildTree({items:E});var C=function(I,K,H){var J=I.name;for(var F=0;F<K;++F){J="&nbsp;&nbsp;&middot;&nbsp;&nbsp;"+J}$("<option />").val(I.id).html(J).data("link",H).data("name",I.name).appendTo(o);for(var F=0;F<I.items.length;++F){var G;if(K===0){G=H+"/sub/"+I.items[F].url}else{G=H+","+I.items[F].url}C(I.items[F],K+1,G)}};for(var A=0;A<D.length;++A){C(D[A],0,D[A].url)}(z||dummy)()}})};o.change(function(){var z=parse($(this).val(),0,true);r(z)});t.change(function(){m[this.value==="cart"?"slideDown":"slideUp"]("fast")});v.click(function(){Website.selectPage({allowEmptyCaption:true,allowFunnelStepPicking:true,selected:{link:v.data("link")||"",hasNoFollow:false,target:"_self"},onSelect:function(z){v.data("link",z.link);v.val(z.link.trim()===""?M.NOTHING:LinkPicker.getLinkDisplayText(z.link))}})});x(function(){var z=parse(o.val(),0,true);r(z,s)});v.val(M.NOTHING);if(y.hasNoFollow){n.find('input[type="checkbox"]').parent().removeClass("none")}var u=function(H,E){var z=o.find(":selected");var G=p.find(":selected");var D=parse(o.val(),-1,true);var B=parse(G.val(),-1,true);var C=G.data("link");H.external=true;H.target=t.val();if(y.hasNoFollow){H.nofollow=n.find('input[type="checkbox"]').prop("checked")}var F=Website.getPageById(Website.STORE_PAGE_ID);if(B<0){if(H.target!=="_self"){H.target="_self"}if(D>=0){H.caption=z.data("name");H.link="/"+F.link+"/category/"+z.data("link")}else{H.caption=F.name;H.link="/"+F.link}}else{H.caption=G.text();if(H.target==="buy"||H.target==="cart"){var A="";if(H.target==="cart"){A=v.data("link")||"";if(A){A=", nextact('"+b64EncodeUnicode(A)+"')"}}H.link="javascript: WebPlatform.Store.addProductToCart("+B+", '"+H.target+"'"+A+");";H.target="_self"}else{H.link="/"+F.link+"/"+C}}E(H)};var q=function(z){n.empty();z()};var w=function(C,D){if(y.hasNoFollow){n.find('input[type="checkbox"]').prop("checked",!!C.nofollow)}if(C.link.startsWith("javascript:")){var H=/^javascript: WebPlatform.Store.addProductToCart\((\d+), '([a-z]+)'(, nextact\(.*\))?\);/;var F;if(!!(F=H.exec(C.link))){var B=F[1];var I=F[2];var A=F[3]||"";var G="";if(A){var E;if(!!(E=/, nextact\('(.*)'\)/.exec(A))){G=E[1].trim();G=b64DecodeUnicode(G)}}v.data("link",G);v.val(G.trim()===""?M.NOTHING:LinkPicker.getLinkDisplayText(G));p.val(B);t.val(I).change();D(true)}}else{t.val(C.target);var z="/"+Website.getPageById(Website.STORE_PAGE_ID).link;if(C.link===z){D(true)}else{var J=C.link.substr(z.length+1);if(J.startsWith("category/")){D(false)}else{p.find("option").filter(function(){return $(this).data("link")===J}).prop("selected",true);if(p.val()){D(true)}else{D(false)}}}}};return{select:u,hide:q,init:w}};var d=function(o,q,t){q.html(Templates.get("pickPageTabFunnels"));var n=q.find(".pick-funnel-group-select");var r=q.find(".pick-funnel-page-select");Website.funnels.forEach(function(u){$("<option />").text(u.name).val(u.id).appendTo(n)});n.change(function(){var v=WebPlatform.parse($(this).val());var u=Website.getFunnelById(v);r.empty();if(u!==null){u.steps.forEach(function(w){if(w.type==="PAGE"){$("<option />").text(w.name).val(w.id).appendTo(r)}})}}).change();if(o.hasNoFollow){q.find('input[type="checkbox"]').parent().removeClass("none")}t();var m=function(v,z){var u=WebPlatform.parse(n.val());var y=WebPlatform.parse(r.val());var w=Website.getFunnelById(u);var x=null;if(w!==null){x=Website.getFunnelStepById(w,y);if(x.type!=="PAGE"){x=null}}if(w===null){CPanel.showError(M.ERR_FILL_ALL_FIELDS);return}v.target=q.find(".openIn").val();if(o.hasNoFollow){v.nofollow=q.find('input[type="checkbox"]').prop("checked")}v.external=false;v.caption=x?x.name:w.name;v.link="/"+w.url+"/"+(x?x.page.link:"");z(v)};var p=function(u){q.empty();u()};var s=function(w,x){if(o.hasNoFollow){q.find('input[type="checkbox"]').prop("checked",!!w.nofollow)}q.find(".openIn").val(w.target);var C=w.link;if(C.startsWith("/")){C=C.substr(1)}var v=C.split("/");var z=Website.getFunnelByUrl(v[0],true);var B,A;if(z!==null&&v.length>1){B=z.id;for(var y=0;y<z.steps.length;++y){var u=z.steps[y];if(u.type==="PAGE"&&u.page.link.toLowerCase()===v[1].toLowerCase()){A=u.id;break}}}if(B){n.val(B+"").change();if(A){r.val(A)}x(true)}else{x(false)}};return{select:m,hide:p,init:s}};var f=function(n,p,r){p.html(Templates.get("pickPageTabExternal"));if(n.hasNoFollow){p.find('input[type="checkbox"]').parent().removeClass("none")}r();var m=function(s,v){var t=p.find(".pickPageCaption").val().trim();var u=p.find(".pickPageUrl").val().trim();if((t.length===0&&!n.allowEmptyCaption)||u.length===0){CPanel.showError(M.ERR_FILL_ALL_FIELDS);return}s.external=true;s.target=p.find(".openIn").val();if(n.hasNoFollow){s.nofollow=p.find('input[type="checkbox"]').prop("checked")}if(u.toLowerCase().indexOf("www.")===0){u="http://"+u}s.caption=t;s.link=Tools.sanitizeUserCode(u).replace(/"/g,"%22");v(s)};var o=function(s){p.empty();s()};var q=function(s,t){if(n.hasNoFollow){p.find('input[type="checkbox"]').prop("checked",!!s.nofollow)}p.find(".openIn").val(s.target);p.find(".pickPageUrl").val((s.link||"").trim());p.find(".pickPageCaption").val(s.caption||"");t(true)};return{select:m,hide:o,init:q}};var b=function(A,m,u){m.html(Templates.get("pickPageTabAnchorPoint"));var v=m.find(".pick-page-group-select");var n=m.find(".pick-page-page-select");var t=m.find(".pick-page-anchor-select");for(var p=0;p<Website.pageGroups.length;++p){var y=Website.pageGroups[p];$("<option />").val(y.id).text(y.name).appendTo(v)}for(var x=0;x<Website.virtualPages.length;++x){var r=Website.virtualPages[x];$("<option />").val(r.id).text(r.name).appendTo(v)}var o=function(D){var C=parse(v.val(),0,true);n.empty();var B=function(F,E){for(var G=0;G<F.length;++G){var H=F[G];$("<option />").val(H.id).html(H.name).data("link",H.link||H.url||"").appendTo(E)}};if(C>=0){B(Website.getGroupById(C).pages,n);(D||dummy)()}else{Tools.makeWebsiteRequest({action:"listItemsByType",data:{type:C,filter:0},onOk:function(E){var F=E.data||[];B(F,n);(D||dummy)()}})}};var s=function(C,E){t.empty();if(C===""||C<0){(E||dummy)();return}var D=v.val();var B=n.val();Tools.makeWebsiteRequest({action:"getPageAnchorPoints",data:{type:D<0?"virtual":"page",groupId:D,itemId:B},onOk:function(F){var G=F.data||[];G.forEach(function(H){$("<option />").val(H.url).html(H.name).appendTo(t)});(E||dummy)()}})};n.change(function(){s(this.value)});v.change(function(){o(function(){n.change()})});o(function(){s(n.val(),u)});if(A.hasNoFollow){m.find('input[type="checkbox"]').parent().removeClass("none")}var w=function(B,H){var G=n.find(":selected");var E=parse(v.val(),-1,true);var C=parse(G.val(),-1,true);var F=G.data("link");var D=t.find(":selected");if(D.length===0){CPanel.showError(M.ERR_FILL_ALL_FIELDS);return}B.target=m.find(".openIn").val();if(A.hasNoFollow){B.nofollow=m.find('input[type="checkbox"]').prop("checked")}B.external=true;B.caption=D.text();if(E<0){B.link="/"+Website.getPageById(E).link+"/"+F+"#"+D.val()}else{if(F===Website.getHomepage().link){F=""}B.link="/"+F+"#"+D.val()}H(B)};var q=function(B){m.empty();B()};var z=function(E,H){if(A.hasNoFollow){m.find('input[type="checkbox"]').prop("checked",!!E.nofollow)}m.find(".openIn").val(E.target);link=A.selected.link.trim();var D=link.split("#");link=D[0];var C=D.length>0?D[1]:"";if(link.startsWith("/")){link=link.substr(1)}var F=null;if(E.pageId){F=Website.getPageById(E.pageId)}if(F===null){F=link===""?(Website.homePage.isFunnel?null:Website.getHomepage()):Website.getPageByUrl(link)}var B=function(){s(F.id,function(){t.val(C);if(t.val()){H(true)}else{H(false)}})};if(F){var G=Website.getGroupByPageId(F.id);if(G){v.val(G.id);o(function(){n.val(F.id);if(n.val()){B()}else{H(false)}})}else{v.val(F.id);o(B)}}else{H(false)}};return{select:w,hide:q,init:z}};var j=function(n,q,s){q.html(Templates.get("pickPageTabFile"));var p=q.find('[name="fileSelect"]');p.click(function(){FileManager.selectFile({listImagesOnly:false,onCompleteCallback:function(u,v,t){p.data("url",getFileFromBase(u)+v).val(t)}})});if(n.hasNoFollow){q.find('input[type="checkbox"]').parent().removeClass("none")}s();var m=function(t,w){var u=q.find(".pickFileCaption").val().trim();var v=p.data("url");if((u.length===0&&!n.allowEmptyCaption)||isUndefined(v)||v.length===0){CPanel.showError(M.ERR_FILL_ALL_FIELDS);return}if(n.hasNoFollow){t.nofollow=q.find('input[type="checkbox"]').prop("checked")}t.target=q.find(".openIn").val();t.external=true;t.caption=u;t.link=v;w(t)};var o=function(t){q.empty();t()};var r=function(u,v){if(n.hasNoFollow){q.find('input[type="checkbox"]').prop("checked",!!u.nofollow)}q.find(".openIn").val(u.target);var t=u.link.substring(u.link.indexOf("/uploads/")+9);p.data("url",u.link).val(Tools.toFriendlyFileName(t));q.find(".pickFileCaption").val(u.caption||"");v(true)};return{select:m,hide:o,init:r}};var g=function(u,n,r){n.html(Templates.get("pickPageTabPopup"));var o=n.find("select");for(var p=0;p<Website.popups.length;++p){var m=Website.popups[p];$("<option />").val(m.id).text(m.name).appendTo(o)}$("<option />").val("analytics").text(M.SYSTEM_ANALYTICS_COOKIE_SETTINGS).appendTo(o);$("<option />").val("close-popup").text(M.CLOSE_ACTIVE_POPUP).appendTo(o);r();var s=function(v,x){var w=n.find(".tab-popup").find("select").val();v.external=true;if(w==="analytics"){v.link="javascript:WebPlatform.ChangeSystemAnalyticsSettings();";v.caption=""}else{if(w==="close-popup"){v.link="javascript:WebPlatform.CloseActivePopup();";v.caption=""}else{if(w===""){CPanel.showError(M.ERR_FILL_ALL_FIELDS);return}v.external=true;v.link="javascript:WebPlatform.Popups.show("+w+");";v.caption=(Website.getPopupById(w)||{}).name}}x(v)};var q=function(v){n.empty();v()};var t=function(v,x){var w=v.link.toLowerCase();if(w.indexOf("changesystemanalyticssettings")>-1){o.val("analytics")}else{if(w.indexOf("closeactivepopup")>-1){o.val("close-popup")}else{var y=w.replace("javascript:webplatform.popups.show(","");y=y.substring(0,y.indexOf(")")).trim();if(Website.getPopupById(+y)!==null){o.val(y)}else{o.val("")}}}x(true)};return{select:s,hide:q,init:t}};var k=function(n,p,r){p.html(Templates.get("pickPageTabEmail"));r();var m=function(s,u){var t=p.find(".emailField").val().trim();if(t===""){CPanel.showError(M.ERR_FILL_ALL_FIELDS);return}s.external=false;s.caption=p.find(".emailCaption").val();s.link="mailto:"+t;u(s)};var o=function(s){p.empty();s()};var q=function(s,t){p.find(".emailField").val((s.link||"").replace("mailto:","").trim());p.find(".emailCaption").val(s.caption||"");t(true)};return{select:m,hide:o,init:q}};var a=function(n,p,r){p.html(Templates.get("pickPageTabPhone"));r();var m=function(s,u){var t=p.find(".phoneField").val().trim();if(t===""){CPanel.showError(M.ERR_FILL_ALL_FIELDS);return}s.external=false;s.caption=p.find(".phoneCaption").val();s.link="tel:"+t;u(s)};var o=function(s){p.empty();s()};var q=function(s,t){p.find(".phoneField").val((s.link||"").replace("tel:","").trim());p.find(".phoneCaption").val(s.caption||"");t(true)};return{select:m,hide:o,init:q}};var h=function(A){A=mergeUnique(A||{},LinkPicker.defaults);var r=A.allowFunnelStepPicking?(A.activeFunnel||Website.getActiveFunnel()):null;var w=r?(A.activeFunnelStep?A.activeFunnelStep:(Website.getActiveFunnelStep()||r.steps[0])):null;var u="active-funnel",v="page",o="store",n="funnels",x="external",t="anchor-point",p="file",s="popup",z="email",y="phone";var m=null;var q=function(B){if(B.link){var D=B.link.trim().toLowerCase();if(D.indexOf(content)===0){return p}if(D.indexOf("addproducttocart")>-1){return o}if(D.indexOf("changesystemanalyticssettings")>-1||D.indexOf("closeactivepopup")>-1||D.replace(/ /g,"").startsWith("javascript:webplatform.popups.show")){return s}if(r&&D.replace(/ /g,"").startsWith("javascript:webplatform.funnels.show")){return u}if(D.startsWith("tel:")){return y}if(D.startsWith("mailto:")){return z}if(D.startsWith("/")&&D.indexOf("#")>0){return t}if(D.startsWith("//")){return x}if(D.startsWith("/")){D=D.substring(1).split("/")[0];var E=Website.getPageById(Website.STORE_PAGE_ID);var C=E?E.link:"";if(D===C){return o}if(Website.getFunnelByUrl(D,true)!==null){return n}return v}return x}return null};Tools.showWindow({isModal:A.modal,title:M.SELECT_TITLE,icon:Popup.ICON_EDIT,width:650,markup:Templates.get("pickPageDialog"),action:{onShow:function(B,G){var F=G.find(".content-wrapper");var E=G.find(".categories-wrapper li");if(r){E.filter('[data-tab="'+u+'"]').removeClass("none")}else{if(Website.funnels.length){E.filter('[data-tab="'+n+'"]').removeClass("none")}}var D=function(I,J){var K=function(){if(J){Tools.delay(1,J);J=null}};var H=function(){E.filter(".active").removeClass("active");E.filter('[data-tab="'+I+'"]').addClass("active");switch(I){case u:m=l(A,F,r,w,K);break;case v:m=c(A,F,K);break;case o:m=i(A,F,K);break;case n:m=d(A,F,K);break;case x:m=f(A,F,K);break;case t:m=b(A,F,K);break;case p:m=j(A,F,K);break;case s:m=g(A,F,K);break;case z:m=k(A,F,K);break;case y:m=a(A,F,K);break}};if(m){m.hide(H)}else{H()}};E.click(function(){var H=$(this);if(H.hasClass("active")){return}D(H.data("tab"))});var C=q(A.selected);D(C?C:(r?u:v),function(){if(A.selected.link){m.init(A.selected,function(H){if(!H){D(x,function(){m.init(A.selected,dummy)})}})}})}},buttons:[Button(M.SELECT,Button.CLASS_MIDDLE_BLUE,function(C,D){if(!m){C.close();A.onCancel();return}var B={nofollow:false,external:false,target:"_self",pageId:-1,caption:"",link:""};m.select(B,function(E){if(E===null){return}if(E.target&&E.target.trim()!==""&&E.target!=="_blank"&&E.target!=="_self"){E.target="_self"}C.close();A.onSelect(E);C=null})}),Button(M.CANCEL,Button.CLASS_MIDDLE_GREY,function(B,C){B.close();A.onCancel()})]})};return{getLinkDisplayText:e,selectLink:h}}();LinkPicker.defaults={onSelect:dummy,onCancel:dummy,modal:true,allowEmptyCaption:true,allowFunnelStepPicking:true,hasNoFollow:false,selected:{target:"_self",nofollow:false}};(function(a,b){if(typeof exports==="object"){module.exports=b(a)}else{if(typeof define==="function"&&define.amd){define("colors",[],function(){return b(a)})}else{a.Colors=b(a)}}}(this,function(j,h){var o={rgb:{r:[0,255],g:[0,255],b:[0,255]},hsv:{h:[0,360],s:[0,100],v:[0,100]},hsl:{h:[0,360],s:[0,100],l:[0,100]},alpha:{alpha:[0,1]},HEX:{HEX:[0,16777215]}},a=j.Math,l=a.round,b={},q={},f={r:0.298954,g:0.586434,b:0.114612},u={r:0.2126,g:0.7152,b:0.0722},s=function(w){this.colors={RND:{}};this.options={color:"rgba(0,0,0,0)",grey:f,luminance:u,valueRanges:o};p(this,w||{})},p=function(A,y){var B,w=A.options,x;r(A);for(var z in y){if(y[z]!==h){w[z]=y[z]}}x=w.customBG;w.customBG=(typeof x==="string")?g.txt2color(x).rgb:x;q=e(A.colors,w.color,h,true)},r=function(w){if(b!==w){b=w;q=w.colors}};s.prototype.setColor=function(y,w,x){r(this);if(y){return e(this.colors,y,w,h,x)}else{if(x!==h){this.colors.alpha=m(x,0,1)}return t(w)}};s.prototype.setCustomBackground=function(w){r(this);this.options.customBG=(typeof w==="string")?g.txt2color(w).rgb:w;return e(this.colors,h,"rgb")};s.prototype.saveAsBackground=function(){r(this);return e(this.colors,h,"rgb",true)};s.prototype.toString=function(x,w){return g.color2text((x||"rgb").toLowerCase(),this.colors,w)};function e(w,x,y,z,A){if(typeof x==="string"){var x=g.txt2color(x);y=x.type;q[y]=x[y];A=A!==h?A:x.alpha}else{if(x){for(var B in x){w[y][B]=m(x[B]/o[y][B][1],0,1)}}}if(A!==h){w.alpha=m(+A,0,1)}return t(y,z?w:h)}function c(w,y,A){var z=b.options.grey,x={};x.RGB={r:w.r,g:w.g,b:w.b};x.rgb={r:y.r,g:y.g,b:y.b};x.alpha=A;x.equivalentGrey=l(z.r*w.r+z.g*w.g+z.b*w.b);x.rgbaMixBlack=v(y,{r:0,g:0,b:0},A,1);x.rgbaMixWhite=v(y,{r:1,g:1,b:1},A,1);x.rgbaMixBlack.luminance=d(x.rgbaMixBlack,true);x.rgbaMixWhite.luminance=d(x.rgbaMixWhite,true);if(b.options.customBG){x.rgbaMixCustom=v(y,b.options.customBG,A,1);x.rgbaMixCustom.luminance=d(x.rgbaMixCustom,true);b.options.customBG.luminance=d(b.options.customBG,true)}return x}function t(D,H){var J=H||q,I=g,C=b.options,B=o,L=J.RND,x,N="",P="",U={hsl:"hsv",rgb:D},z=L.rgb,y,R;if(D!=="alpha"){for(var X in B){if(!B[X][X]){if(D!==X){P=U[X]||"rgb";J[X]=I[P+"2"+X](J[P])}if(!L[X]){L[X]={}}x=J[X];for(N in x){L[X][N]=l(x[N]*B[X][N][1])}}}z=L.rgb;J.HEX=I.RGB2HEX(z);J.equivalentGrey=C.grey.r*J.rgb.r+C.grey.g*J.rgb.g+C.grey.b*J.rgb.b;J.webSave=y=k(z,51);J.webSmart=R=k(z,17);J.saveColor=z.r===y.r&&z.g===y.g&&z.b===y.b?"web save":z.r===R.r&&z.g===R.g&&z.b===R.b?"web smart":"";J.hueRGB=g.hue2RGB(J.hsv.h);if(H){J.background=c(z,J.rgb,J.alpha)}}var w=J.rgb,F=J.alpha,W="luminance",S=J.background,K,A,G,Q,V,O,E;K=v(w,{r:0,g:0,b:0},F,1);K[W]=d(K,true);J.rgbaMixBlack=K;A=v(w,{r:1,g:1,b:1},F,1);A[W]=d(A,true);J.rgbaMixWhite=A;if(C.customBG){E=v(w,S.rgbaMixCustom,F,1);E[W]=d(E,true);E.WCAG2Ratio=n(E[W],S.rgbaMixCustom[W]);J.rgbaMixBGMixCustom=E;E.luminanceDelta=a.abs(E[W]-S.rgbaMixCustom[W]);E.hueDelta=i(S.rgbaMixCustom,E,true)}J.RGBLuminance=d(z);J.HUELuminance=d(J.hueRGB);if(C.convertCallback){C.convertCallback(J,D)}return J}var g={txt2color:function(x){var z={},B=x.replace(/(?:#|\)|%)/g,"").split("("),y=(B[1]||"").split(/,\s*/),A=B[1]?B[0].substr(0,3):"rgb",w="";z.type=A;z[A]={};if(B[1]){for(var C=3;C--;){w=A[C]||A.charAt(C);z[A][w]=+y[C]/o[A][w][1]}}else{z.rgb=g.HEX2rgb(B[0])}z.alpha=y[3]?+y[3]:1;return z},color2text:function(B,w,C){var A=C!==false&&l(w.alpha*100)/100,E=typeof A==="number"&&C!==false&&(C||A!==1),z=w.RND.rgb,D=w.RND.hsl,x=B==="hex"&&E,y=B==="hex"&&!x,G=B==="rgb"||x,F=G?z.r+", "+z.g+", "+z.b:!y?D.h+", "+D.s+"%, "+D.l+"%":"#"+w.HEX;return y?F:(x?"rgb":B)+(E?"a":"")+"("+F+(E?", "+A:"")+")"},RGB2HEX:function(w){return((w.r<16?"0":"")+w.r.toString(16)+(w.g<16?"0":"")+w.g.toString(16)+(w.b<16?"0":"")+w.b.toString(16)).toUpperCase()},HEX2rgb:function(w){w=w.split("");return{r:+("0x"+w[0]+w[w[3]?1:0])/255,g:+("0x"+w[w[3]?2:1]+(w[3]||w[1]))/255,b:+("0x"+(w[4]||w[2])+(w[5]||w[2]))/255}},hue2RGB:function(w){var z=w*6,y=~~z%6,x=z===6?0:(z-y);return{r:l([1,1-x,0,0,x,1][y]*255),g:l([x,1,1,1-x,0,0][y]*255),b:l([0,0,x,1,1,1-x][y]*255)}},rgb2hsv:function(y){var D=y.r,C=y.g,w=y.b,x=0,A,z,B;if(C<w){C=w+(w=C,0);x=-1}z=w;if(D<C){D=C+(C=D,0);x=-2/6-x;z=a.min(C,w)}A=D-z;B=D?(A/D):0;return{h:B<1e-15?((q&&q.hsl&&q.hsl.h)||0):A?a.abs(x+(C-w)/(6*A)):0,s:D?(A/D):((q&&q.hsv&&q.hsv.s)||0),v:D}},hsv2rgb:function(A){var z=A.h*6,F=A.s,D=A.v,y=~~z,B=z-y,x=D*(1-F),w=D*(1-B*F),E=D*(1-(1-B)*F),C=y%6;return{r:[D,w,x,x,E,D][C],g:[E,D,D,w,x,x][C],b:[x,x,E,D,D,w][C]}},hsv2hsl:function(x){var w=(2-x.s)*x.v,y=x.s*x.v;y=!x.s?0:w<1?(w?y/w:0):y/(2-w);return{h:x.h,s:!x.v&&!y?((q&&q.hsl&&q.hsl.s)||0):y,l:w/2}},rgb2hsl:function(x,y){var w=g.rgb2hsv(x);return g.hsv2hsl(y?w:(q.hsv=w))},hsl2rgb:function(F){var B=F.h*6,I=F.s,z=F.l,D=z<0.5?z*(1+I):(z+I)-(I*z),y=z+z-D,E=D?((D-y)/D):0,A=~~B,H=B-A,x=D*E*H,G=y+x,w=D-x,C=A%6;return{r:[D,w,y,y,G,D][C],g:[G,D,D,w,y,y][C],b:[y,y,G,D,D,w][C]}}};function k(w,A){var x={},y=0,z=A/2;for(var B in w){y=w[B]%A;x[B]=w[B]+(y>z?A-y:-y)}return x}function i(x,w,y){return(a.max(x.r-w.r,w.r-x.r)+a.max(x.g-w.g,w.g-x.g)+a.max(x.b-w.b,w.b-x.b))*(y?255:1)/765}function d(y,A){var B=A?1:255,w=[y.r/B,y.g/B,y.b/B],x=b.options.luminance;for(var z=w.length;z--;){w[z]=w[z]<=0.03928?w[z]/12.92:a.pow(((w[z]+0.055)/1.055),2.4)}return((x.r*w[0])+(x.g*w[1])+(x.b*w[2]))}function v(D,x,C,w){var B={},E=(C!==h?C:1),A=(w!==h?w:1),z=E+A*(1-E);for(var y in D){B[y]=(D[y]*E+x[y]*A*(1-E))/z}B.a=z;return B}function n(x,w){var y=1;if(x>=w){y=(x+0.05)/(w+0.05)}else{y=(w+0.05)/(x+0.05)}return l(y*100)/100}function m(y,x,w){return(y>w?w:y<x?x:y)}return s}));(function(a,b){if(typeof exports==="object"){module.exports=b(a,require("jquery"),require("colors"))}else{if(typeof define==="function"&&define.amd){define(["jquery","colors"],function(c,d){return b(a,c,d)})}else{b(a,a.jQuery,a.Colors)}}}(this,function(x,r,e,f){var k=r(document),g=r(),c,p,B,A,i,I,G,E,H,s,l,b="touchmove.tcp mousemove.tcp pointermove.tcp",C="touchstart.tcp mousedown.tcp pointerdown.tcp",j="touchend.tcp mouseup.tcp pointerup.tcp",w=false,h=x.requestAnimationFrame||x.webkitRequestAnimationFrame||function(K){K()},o='<div class="cp-color-picker"><div class="cp-z-slider"><div class="cp-z-cursor"></div></div><div class="cp-xy-slider"><div class="cp-white"></div><div class="cp-xy-cursor"></div></div><div class="cp-alpha"><div class="cp-alpha-cursor"></div></div></div>',y=".cp-color-picker{position:absolute;overflow:hidden;padding:6px 6px 0;background-color:#444;color:#bbb;font-family:Arial,Helvetica,sans-serif;font-size:12px;font-weight:400;cursor:default;border-radius:5px}.cp-color-picker>div{position:relative;overflow:hidden}.cp-xy-slider{float:left;height:160px;width:160px;margin-bottom:13px;background:linear-gradient(to right,#FFF,rgba(255,255,255,0))}.cp-white{height:100%;width:100%;background:linear-gradient(rgba(0,0,0,0),#000)}.cp-xy-cursor{position:absolute;top:0;width:14px;height:14px;margin:-7px;border:1px solid #fff;border-radius:100%;box-sizing:border-box}.cp-z-slider{overflow:visible !important;border-radius:20px;float:right;margin-left:6px;height:160px;width:10px;background:linear-gradient(red 0,#f0f 17%,#00f 33%,#0ff 50%,#0f0 67%,#ff0 83%,red 100%)}.cp-z-cursor{position:absolute;margin-top:-4px;width:100%;border:4px solid #fff;border-color:transparent #fff;box-sizing:border-box}.cp-alpha{clear:both;width:183px;height:10px;overflow:visible !important;border-radius:20px;margin:6px 0;background:linear-gradient(to right,rgb(47, 51, 58),rgba(0,0,0,0))}.cp-alpha-cursor{position:absolute;margin-left:-4px;height:100%;border:4px solid #fff;border-color:#fff transparent;box-sizing:border-box}",F=function(K){p=this.color=new e(K);B=p.options;c=this};F.prototype={render:J,toggle:n};function t(K){return K.value||K.getAttribute("value")||r(K).css("background-color")||"#FFF"}function m(K){K=K.originalEvent&&K.originalEvent.touches?K.originalEvent.touches[0]:K;return K.originalEvent?K.originalEvent:K}function d(K){return r(K.find(B.doRender)[0]||K[0])}function n(L){var N=r(this),K=N.offset(),O=r(x),P=B.gap;if(L){A=d(N);A._colorMode=A.data("colorMode");c.$trigger=N;(i||v()).css(B.positionCallback.call(c,N)||{left:(i._left=K.left)-((i._left+=i._width-(O.scrollLeft()+O.width()))+P>0?i._left+P:0),top:(i._top=K.top+N.outerHeight())-((i._top+=i._height-(O.scrollTop()+O.height()))+P>0?i._top+P:0)}).show(B.animationSpeed,function(){if(L===true){return}s.toggle(!!B.opacity)._width=s.width();G._width=G.width();G._height=G.height();I._height=I.height();p.setColor(t(A[0]));J(true)}).off(".tcp").on(C,".cp-xy-slider,.cp-z-slider,.cp-alpha",u)}else{if(c.$trigger){r(i).hide(B.animationSpeed,function(){J(false);c.$trigger=null}).off(".tcp")}}}function v(){r("head")[B.cssPrepend?"prepend":"append"]('<style type="text/css" id="tinyColorPickerStyles">'+(B.css||y)+(B.cssAddon||"")+"</style>");return r(o).css({margin:B.margin}).appendTo("body").show(0,function(){c.$UI=i=r(this);w=B.GPU&&i.css("perspective")!==f;I=r(".cp-z-slider",this);G=r(".cp-xy-slider",this);E=r(".cp-xy-cursor",this);H=r(".cp-z-cursor",this);s=r(".cp-alpha",this);l=r(".cp-alpha-cursor",this);B.buildCallback.call(c,i);i.prepend("<div>").children().eq(0).css("width",i.children().eq(0).width());i._width=this.offsetWidth;i._height=this.offsetHeight}).hide()}function u(L){var K=this.className.replace(/cp-(.*?)(?:\s*|$)/,"$1").replace("-","_");if((L.button||L.which)>1){return}L.preventDefault&&L.preventDefault();L.returnValue=false;A._offset=r(this).offset();(K=K==="xy_slider"?a:K==="z_slider"?D:z)(L);J();k.on(j,function(N){k.off(".tcp")}).on(b,function(N){K(N);J()})}function a(N){var O=m(N),K=O.pageX-A._offset.left,P=O.pageY-A._offset.top,L=p.colors.alpha;p.setColor({s:K/G._width*100,v:100-(P/G._height*100)},"hsv",L<0.001?1:L)}function D(K){var L=m(K).pageY-A._offset.top;p.setColor({h:360-(L/I._height*360)},"hsv")}function z(L){var K=m(L).pageX-A._offset.left,N=K/s._width;p.setColor({},"rgb",N)}function J(O){var L=p.colors,W=L.hueRGB,P=L.RND.rgb,U=L.RND.hsl,X=B.dark,Q=B.light,Z=p.toString(A._colorMode,B.forceAlpha),K=L.HUELuminance>0.22?X:Q,N=L.rgbaMixBlack.luminance>0.22?X:Q,S=(1-L.hsv.h)*I._height,ac=L.hsv.s*G._width,aa=(1-L.hsv.v)*G._height,Y=L.alpha*s._width,R=w?"translate3d":"",V=A[0].value,ab=A[0].hasAttribute("value")&&V===""&&O!==f;G._css={backgroundColor:"rgb("+W.r+","+W.g+","+W.b+")"};E._css={transform:R+"("+ac+"px, "+aa+"px, 0)",left:!w?ac:"",top:!w?aa:"",borderColor:L.RGBLuminance>0.22?X:Q};H._css={transform:R+"(0, "+S+"px, 0)",top:!w?S:"",borderColor:"transparent "+K};s._css={backgroundColor:"#"+L.HEX};l._css={transform:R+"("+Y+"px, 0, 0)",left:!w?Y:"",borderColor:N+" transparent"};A._css={backgroundColor:ab?"":Z,color:ab?"":L.rgbaMixBGMixCustom.luminance>0.22?X:Q};A.text=ab?"":V!==Z?Z:"";O!==f?q(O):h(q)}function q(K){G.css(G._css);E.css(E._css);H.css(H._css);s.css(s._css);l.css(l._css);B.doRender&&A.css(A._css);A.text&&A.val(A.text);B.renderCallback.call(c,A,typeof K==="boolean"?K:f)}r.fn.colorPicker=function(K){var N=this,L=function(){};K=r.extend({animationSpeed:150,GPU:true,doRender:true,customBG:"#FFF",opacity:true,renderCallback:L,buildCallback:L,positionCallback:L,body:document.body,scrollResize:true,gap:4,dark:"#222",light:"#DDD"},K);!c&&K.scrollResize&&r(x).on("resize.tcp scroll.tcp",function(){if(c.$trigger){c.toggle.call(c.$trigger[0],true)}});g=g.add(this);this.colorPicker=c||new F(K);this.options=K;r(K.body).off(".tcp").on(C,function(O){g.add(i).add(r(i).find(O.target)).index(O.target)===-1&&n()});return this.on("focusin.tcp click.tcp",function(O){c.color.options=r.extend(c.color.options,B=N.options);n.call(this,O)}).on("change.tcp",function(){p.setColor(this.value||"#FFF");N.colorPicker.render(true)}).each(function(){var P=t(this),Q=P.split("("),O=d(r(this));O.data("colorMode",Q[1]?Q[0].substr(0,3):"HEX").attr("readonly",B.preventFocus);K.doRender&&O.css({"background-color":P,color:function(){return p.setColor(P).rgbaMixBGMixCustom.luminance>0.22?K.dark:K.light}})})};r.fn.colorPicker.destroy=function(){r("*").off(".tcp");c.toggle(false);g=r()}}));
/*!
 * Bootstrap v3.3.5 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
;
/*!
 * Generated using the Bootstrap Customizer (http://getbootstrap.com/customize/?id=aa44ec7de23ab72c7184)
 * Config saved to config.json and https://gist.github.com/aa44ec7de23ab72c7184
 */
;if("undefined"==typeof jQuery){throw new Error("Bootstrap's JavaScript requires jQuery")}+function(a){var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1){throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}}(jQuery),+function(d){function h(l){var m=l.attr("data-target");m||(m=l.attr("href"),m=m&&/#[A-Za-z]/.test(m)&&m.replace(/.*(?=#[^\s]*$)/,""));var a=m&&d(m);return a&&a.length?a:l.parent()}function j(a){a&&3===a.which||(d(k).remove(),d(g).each(function(){var e=d(this),m=h(e),l={relatedTarget:this};m.hasClass("open")&&(a&&"click"==a.type&&/input|textarea/i.test(a.target.tagName)&&d.contains(m[0],a.target)||(m.trigger(a=d.Event("hide.bs.dropdown",l)),a.isDefaultPrevented()||(e.attr("aria-expanded","false"),m.removeClass("open").trigger("hidden.bs.dropdown",l))))}))}function c(a){return this.each(function(){var l=d(this),e=l.data("bs.dropdown");e||l.data("bs.dropdown",e=new f(this)),"string"==typeof a&&e[a].call(l)})}var k=".dropdown-backdrop",g='[data-toggle="dropdown"]',f=function(a){d(a).on("click.bs.dropdown",this.toggle)};f.VERSION="3.3.5",f.prototype.toggle=function(l){var p=d(this);if(!p.is(".disabled, :disabled")){var o=h(p),m=o.hasClass("open");if(j(),!m){"ontouchstart" in document.documentElement&&!o.closest(".navbar-nav").length&&d(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(d(this)).on("click",j);var e={relatedTarget:this};if(o.trigger(l=d.Event("show.bs.dropdown",e)),l.isDefaultPrevented()){return}p.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger("shown.bs.dropdown",e)}return !1}},f.prototype.keydown=function(u){if(/(38|40|27|32)/.test(u.which)&&!/input|textarea/i.test(u.target.tagName)){var q=d(this);if(u.preventDefault(),u.stopPropagation(),!q.is(".disabled, :disabled")){var v=h(q),r=v.hasClass("open");if(!r&&27!=u.which||r&&27==u.which){return 27==u.which&&v.find(g).trigger("focus"),q.trigger("click")}var m=" li:not(.disabled):visible a",t=v.find(".dropdown-menu"+m);if(t.length){var e=t.index(u.target);38==u.which&&e>0&&e--,40==u.which&&e<t.length-1&&e++,~e||(e=0),t.eq(e).trigger("focus")}}}};var b=d.fn.dropdown;d.fn.dropdown=c,d.fn.dropdown.Constructor=f,d.fn.dropdown.noConflict=function(){return d.fn.dropdown=b,this},d(document).on("click.bs.dropdown.data-api",j).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",g,f.prototype.toggle).on("keydown.bs.dropdown.data-api",g,f.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",f.prototype.keydown)}(jQuery),+function(b){function c(f){return this.each(function(){var e=b(this),h=e.data("bs.tooltip"),g="object"==typeof f&&f;(h||!/destroy|hide/.test(f))&&(h||e.data("bs.tooltip",h=new d(this,g)),"string"==typeof f&&h[f]())})}var d=function(f,g){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",f,g)};d.VERSION="3.3.5",d.TRANSITION_DURATION=150,d.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},d.prototype.init=function(l,m,g){if(this.enabled=!0,this.type=l,this.$element=b(m),this.options=this.getOptions(g),this.$viewport=this.options.viewport&&b(b.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0] instanceof document.constructor&&!this.options.selector){throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!")}for(var q=this.options.trigger.split(" "),j=q.length;j--;){var h=q[j];if("click"==h){this.$element.on("click."+this.type,this.options.selector,b.proxy(this.toggle,this))}else{if("manual"!=h){var f="hover"==h?"mouseenter":"focusin",k="hover"==h?"mouseleave":"focusout";this.$element.on(f+"."+this.type,this.options.selector,b.proxy(this.enter,this)),this.$element.on(k+"."+this.type,this.options.selector,b.proxy(this.leave,this))}}}this.options.selector?this._options=b.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},d.prototype.getDefaults=function(){return d.DEFAULTS},d.prototype.getOptions=function(f){return f=b.extend({},this.getDefaults(),this.$element.data(),f),f.delay&&"number"==typeof f.delay&&(f.delay={show:f.delay,hide:f.delay}),f},d.prototype.getDelegateOptions=function(){var f={},g=this.getDefaults();return this._options&&b.each(this._options,function(h,e){g[h]!=e&&(f[h]=e)}),f},d.prototype.enter=function(f){var g=f instanceof this.constructor?f:b(f.currentTarget).data("bs."+this.type);return g||(g=new this.constructor(f.currentTarget,this.getDelegateOptions()),b(f.currentTarget).data("bs."+this.type,g)),f instanceof b.Event&&(g.inState["focusin"==f.type?"focus":"hover"]=!0),g.tip().hasClass("in")||"in"==g.hoverState?void (g.hoverState="in"):(clearTimeout(g.timeout),g.hoverState="in",g.options.delay&&g.options.delay.show?void (g.timeout=setTimeout(function(){"in"==g.hoverState&&g.show()},g.options.delay.show)):g.show())},d.prototype.isInStateTrue=function(){for(var e in this.inState){if(this.inState[e]){return !0}}return !1},d.prototype.leave=function(f){var g=f instanceof this.constructor?f:b(f.currentTarget).data("bs."+this.type);return g||(g=new this.constructor(f.currentTarget,this.getDelegateOptions()),b(f.currentTarget).data("bs."+this.type,g)),f instanceof b.Event&&(g.inState["focusout"==f.type?"focus":"hover"]=!1),g.isInStateTrue()?void 0:(clearTimeout(g.timeout),g.hoverState="out",g.options.delay&&g.options.delay.hide?void (g.timeout=setTimeout(function(){"out"==g.hoverState&&g.hide()},g.options.delay.hide)):g.hide())},d.prototype.show=function(){var y=b.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(y);var q=b.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(y.isDefaultPrevented()||!q){return}var m=this,j=this.tip(),E=this.getUID(this.type);this.setContent(),j.attr("id",E),this.$element.attr("aria-describedby",E),this.options.animation&&j.addClass("fade");var B="function"==typeof this.options.placement?this.options.placement.call(this,j[0],this.$element[0]):this.options.placement,k=/\s?auto?\s?/i,o=k.test(B);o&&(B=B.replace(k,"")||"top"),j.detach().css({top:0,left:0,display:"block"}).addClass(B).data("bs."+this.type,this),this.options.container?j.appendTo(this.options.container):j.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var t=this.getPosition(),z=j[0].offsetWidth,A=j[0].offsetHeight;if(o){var D=B,x=this.getPosition(this.$viewport);B="bottom"==B&&t.bottom+A>x.bottom?"top":"top"==B&&t.top-A<x.top?"bottom":"right"==B&&t.right+z>x.width?"left":"left"==B&&t.left-z<x.left?"right":B,j.removeClass(D).addClass(B)}var C=this.getCalculatedOffset(B,t,z,A);this.applyPlacement(C,B);var w=function(){var e=m.hoverState;m.$element.trigger("shown.bs."+m.type),m.hoverState=null,"out"==e&&m.leave(m)};b.support.transition&&this.$tip.hasClass("fade")?j.one("bsTransitionEnd",w).emulateTransitionEnd(d.TRANSITION_DURATION):w()}},d.prototype.applyPlacement=function(v,j){var q=this.tip(),k=q[0].offsetWidth,f=q[0].offsetHeight,A=parseInt(q.css("margin-top"),10),y=parseInt(q.css("margin-left"),10);isNaN(A)&&(A=0),isNaN(y)&&(y=0),v.top+=A,v.left+=y,b.offset.setOffset(q[0],b.extend({using:function(e){q.css({top:Math.round(e.top),left:Math.round(e.left)})}},v),0),q.addClass("in");var g=q[0].offsetWidth,m=q[0].offsetHeight;"top"==j&&m!=f&&(v.top=v.top+f-m);var t=this.getViewportAdjustedDelta(j,v,g,m);t.left?v.left+=t.left:v.top+=t.top;var w=/top|bottom/.test(j),x=w?2*t.left-k+g:2*t.top-f+m,z=w?"offsetWidth":"offsetHeight";q.offset(v),this.replaceArrow(x,q[0][z],w)},d.prototype.replaceArrow=function(f,g,h){this.arrow().css(h?"left":"top",50*(1-f/g)+"%").css(h?"top":"left","")},d.prototype.setContent=function(){var f=this.tip(),g=this.getTitle();f.find(".tooltip-inner")[this.options.html?"html":"text"](g),f.removeClass("fade in top bottom left right")},d.prototype.hide=function(j){function f(){"in"!=k.hoverState&&h.detach(),k.$element.removeAttr("aria-describedby").trigger("hidden.bs."+k.type),j&&j()}var k=this,h=b(this.$tip),g=b.Event("hide.bs."+this.type);return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(h.removeClass("in"),b.support.transition&&h.hasClass("fade")?h.one("bsTransitionEnd",f).emulateTransitionEnd(d.TRANSITION_DURATION):f(),this.hoverState=null,this)},d.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},d.prototype.hasContent=function(){return this.getTitle()},d.prototype.getPosition=function(k){k=k||this.$element;var l=k[0],g="BODY"==l.tagName,m=l.getBoundingClientRect();null==m.width&&(m=b.extend({},m,{width:m.right-m.left,height:m.bottom-m.top}));var j=g?{top:0,left:0}:k.offset(),h={scroll:g?document.documentElement.scrollTop||document.body.scrollTop:k.scrollTop()},f=g?{width:b(window).width(),height:b(window).height()}:null;return b.extend({},m,h,f,j)},d.prototype.getCalculatedOffset=function(g,h,j,f){return"bottom"==g?{top:h.top+h.height,left:h.left+h.width/2-j/2}:"top"==g?{top:h.top-f,left:h.left+h.width/2-j/2}:"left"==g?{top:h.top+h.height/2-f/2,left:h.left-j}:{top:h.top+h.height/2-f/2,left:h.left+h.width}},d.prototype.getViewportAdjustedDelta=function(x,v,j,q){var k={top:0,left:0};if(!this.$viewport){return k}var f=this.options.viewport&&this.options.viewport.padding||0,y=this.getPosition(this.$viewport);if(/right|left/.test(x)){var w=v.top-f-y.scroll,g=v.top+f-y.scroll+q;w<y.top?k.top=y.top-w:g>y.top+y.height&&(k.top=y.top+y.height-g)}else{var m=v.left-f,u=v.left+f+j;m<y.left?k.left=y.left-m:u>y.right&&(k.left=y.left+y.width-u)}return k},d.prototype.getTitle=function(){var f,g=this.$element,h=this.options;return f=g.attr("data-original-title")||("function"==typeof h.title?h.title.call(g[0]):h.title)},d.prototype.getUID=function(e){do{e+=~~(1000000*Math.random())}while(document.getElementById(e));return e},d.prototype.tip=function(){if(!this.$tip&&(this.$tip=b(this.options.template),1!=this.$tip.length)){throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!")}return this.$tip},d.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},d.prototype.enable=function(){this.enabled=!0},d.prototype.disable=function(){this.enabled=!1},d.prototype.toggleEnabled=function(){this.enabled=!this.enabled},d.prototype.toggle=function(f){var g=this;f&&(g=b(f.currentTarget).data("bs."+this.type),g||(g=new this.constructor(f.currentTarget,this.getDelegateOptions()),b(f.currentTarget).data("bs."+this.type,g))),f?(g.inState.click=!g.inState.click,g.isInStateTrue()?g.enter(g):g.leave(g)):g.tip().hasClass("in")?g.leave(g):g.enter(g)},d.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null})};var a=b.fn.tooltip;b.fn.tooltip=c,b.fn.tooltip.Constructor=d,b.fn.tooltip.noConflict=function(){return b.fn.tooltip=a,this}}(jQuery),+function(b){function c(f){return this.each(function(){var e=b(this),h=e.data("bs.popover"),g="object"==typeof f&&f;(h||!/destroy|hide/.test(f))&&(h||e.data("bs.popover",h=new d(this,g)),"string"==typeof f&&h[f]())})}var d=function(f,g){this.init("popover",f,g)};if(!b.fn.tooltip){throw new Error("Popover requires tooltip.js")}d.VERSION="3.3.5",d.DEFAULTS=b.extend({},b.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),d.prototype=b.extend({},b.fn.tooltip.Constructor.prototype),d.prototype.constructor=d,d.prototype.getDefaults=function(){return d.DEFAULTS},d.prototype.setContent=function(){var f=this.tip(),g=this.getTitle(),h=this.getContent();f.find(".popover-title")[this.options.html?"html":"text"](g),f.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof h?"html":"append":"text"](h),f.removeClass("fade top bottom left right in"),f.find(".popover-title").html()||f.find(".popover-title").hide()},d.prototype.hasContent=function(){return this.getTitle()||this.getContent()},d.prototype.getContent=function(){var f=this.$element,g=this.options;return f.attr("data-content")||("function"==typeof g.content?g.content.call(f[0]):g.content)},d.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var a=b.fn.popover;b.fn.popover=c,b.fn.popover.Constructor=d,b.fn.popover.noConflict=function(){return b.fn.popover=a,this}}(jQuery),+function(a){function b(){var c=document.createElement("bootstrap"),d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var f in d){if(void 0!==c.style[f]){return{end:d[f]}}}return !1}a.fn.emulateTransitionEnd=function(d){var f=!1,c=this;a(this).one("bsTransitionEnd",function(){f=!0});var g=function(){f||a(c).trigger(a.support.transition.end)};return setTimeout(g,d),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(c){return a(c.target).is(this)?c.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery);(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(window.jQuery)}}(function(C){if(!Array.prototype.reduce){Array.prototype.reduce=function(W){var U=Object(this),R=U.length>>>0,S=0,V;if(arguments.length===2){V=arguments[1]}else{while(S<R&&!(S in U)){S++}if(S>=R){throw new TypeError("Reduce of empty array with no initial value")}V=U[S++]}for(;S<R;S++){if(S in U){V=W(V,U[S],S,U)}}return V}}if("function"!==typeof Array.prototype.filter){Array.prototype.filter=function(X){var W=Object(this),R=W.length>>>0;var V=[];var S=arguments.length>=2?arguments[1]:void 0;for(var U=0;U<R;U++){if(U in W){var Y=W[U];if(X.call(S,Y,U,W)){V.push(Y)}}}return V}}if(!Array.prototype.map){Array.prototype.map=function(aa,Z){var S,R,U;if(this===null){throw new TypeError(" this is null or not defined")}var W=Object(this);var X=W.length>>>0;if(typeof aa!=="function"){throw new TypeError(aa+" is not a function")}if(arguments.length>1){S=Z}R=new Array(X);U=0;while(U<X){var V,Y;if(U in W){V=W[U];Y=aa.call(S,V,U,W);R[U]=Y}U++}return R}}var v=typeof define==="function"&&define.amd;var l=function(R){return true};var D=navigator.userAgent;var h=/MSIE|Trident/i.test(D);var K;if(h){var a=/MSIE (\d+[.]\d+)/.exec(D);if(a){K=parseFloat(a[1])}a=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(D);if(a){K=parseFloat(a[1])}}var P={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:h,isFF:/firefox/i.test(D),isWebkit:/webkit/i.test(D),isSafari:/safari/i.test(D),browserVersion:K,jqueryVersion:parseFloat(C.fn.jquery),isSupportAmd:v,hasCodeMirror:v?require.specified("CodeMirror"):!!window.CodeMirror,isFontInstalled:l,isW3CRangeSupport:!!document.createRange};var r=(function(){var ae=function(af){return function(ag){return af===ag}};var Z=function(ag,af){return ag===af};var U=function(af){return function(ah,ag){return ah[af]===ag[af]}};var ab=function(){return true};var W=function(){return false};var V=function(af){return function(){return !af.apply(af,arguments)}};var Y=function(ag,af){return function(ah){return ag(ah)&&af(ah)}};var ad=function(af){return af};var S=0;var aa=function(af){var ag=++S+"";return af?af+ag:ag};var R=function(af){var ag=C(document);return{top:af.top+ag.scrollTop(),left:af.left+ag.scrollLeft(),width:af.right-af.left,height:af.bottom-af.top}};var X=function(ah){var af={};for(var ag in ah){if(ah.hasOwnProperty(ag)){af[ah[ag]]=ag}}return af};var ac=function(af,ag){ag=ag||"";return ag+af.split(".").map(function(ah){return ah.substring(0,1).toUpperCase()+ah.substring(1)}).join("")};return{eq:ae,eq2:Z,peq2:U,ok:ab,fail:W,self:ad,not:V,and:Y,uniqueId:aa,rect2bnd:R,invertObject:X,namespaceToCamel:ac}})();var s=(function(){var ad=function(ah){return ah[0]};var ag=function(ah){return ah[ah.length-1]};var Z=function(ah){return ah.slice(0,ah.length-1)};var aa=function(ah){return ah.slice(1)};var Y=function(al,aj){for(var ai=0,ah=al.length;ai<ah;ai++){var ak=al[ai];if(aj(ak)){return ak}}};var af=function(ak,aj){for(var ai=0,ah=ak.length;ai<ah;ai++){if(!aj(ak[ai])){return false}}return true};var ac=function(ai,ah){return C.inArray(ah,ai)};var S=function(ai,ah){return ac(ai,ah)!==-1};var X=function(ai,ah){ah=ah||r.self;return ai.reduce(function(ak,aj){return ak+ah(aj)},0)};var ae=function(ak){var ai=[],ah=-1,aj=ak.length;while(++ah<aj){ai[ah]=ak[ah]}return ai};var V=function(aj,ah){if(!aj.length){return[]}var ai=aa(aj);return ai.reduce(function(am,al){var ak=ag(am);if(ah(ag(ak),al)){ak[ak.length]=al}else{am[am.length]=[al]}return am},[[ad(aj)]])};var ab=function(ak){var aj=[];for(var ai=0,ah=ak.length;ai<ah;ai++){if(ak[ai]){aj.push(ak[ai])}}return aj};var U=function(ak){var aj=[];for(var ai=0,ah=ak.length;ai<ah;ai++){if(!S(aj,ak[ai])){aj.push(ak[ai])}}return aj};var W=function(aj,ai){var ah=ac(aj,ai);if(ah===-1){return null}return aj[ah+1]};var R=function(aj,ai){var ah=ac(aj,ai);if(ah===-1){return null}return aj[ah-1]};return{head:ad,last:ag,initial:Z,tail:aa,prev:R,next:W,find:Y,contains:S,all:af,sum:X,from:ae,clusterBy:V,compact:ab,unique:U}})();var Q=String.fromCharCode(160);var J="\ufeff";var b=(function(){var W=function(a9){return a9&&C(a9).hasClass("note-editable")};var aE=function(a9){return a9&&C(a9).hasClass("note-control-sizing")};var a7=function(bb){var bc;if(bb.hasClass("note-air-editor")){var bd=s.last(bb.attr("id").split("-"));bc=function(be){return function(){return C(be+bd)}};return{editor:function(){return bb},holder:function(){return bb.data("holder")},editable:function(){return bb},popover:bc("#note-popover-"),handle:bc("#note-handle-"),dialog:bc("#note-dialog-")}}else{bc=function(bf,be){be=be||bb;return function(){return be.find(bf)}};var a9=bb.data("options");var ba=(a9&&a9.dialogsInBody)?C(document.body):null;return{editor:function(){return bb},holder:function(){return bb.data("holder")},dropzone:bc(".note-dropzone"),toolbar:bc(".note-toolbar"),editable:bc(".note-editable"),codable:bc(".note-codable"),statusbar:bc(".note-statusbar"),popover:bc(".note-popover"),handle:bc(".note-handle"),dialog:bc(".note-dialog",ba)}}};var aB=function(ba){var a9=C(ba).closest(".note-editor, .note-air-editor, .note-air-layout");if(!a9.length){return null}var bb;if(a9.is(".note-editor, .note-air-editor")){bb=a9}else{bb=C("#note-editor-"+s.last(a9.attr("id").split("-")))}return a7(bb)};var a3=function(a9){a9=a9.toUpperCase();return function(ba){return ba&&ba.nodeName&&ba.nodeName.toUpperCase()===a9}};var ac=function(a9){return a9&&a9.nodeType===3};var aX=function(a9){return a9&&/^BR|^IMG|^HR|^IFRAME|^BUTTON/.test(a9.nodeName.toUpperCase())};var Z=function(a9){if(W(a9)){return false}return a9&&/^DIV|^P|^LI|^H[1-7]/.test(a9.nodeName.toUpperCase())};var a0=a3("LI");var a5=function(a9){return Z(a9)&&!a0(a9)};var aS=a3("TABLE");var al=function(a9){return !R(a9)&&!S(a9)&&!Y(a9)&&!Z(a9)&&!aS(a9)&&!a8(a9)};var S=function(a9){return a9&&/^UL|^OL/.test(a9.nodeName.toUpperCase())};var Y=a3("HR");var ad=function(a9){return a9&&/^TD|^TH/.test(a9.nodeName.toUpperCase())};var a8=a3("BLOCKQUOTE");var R=function(a9){return ad(a9)||a8(a9)||W(a9)};var ab=a3("A");var aJ=function(a9){return al(a9)&&!!aI(a9,Z)};var aK=function(a9){return al(a9)&&!aI(a9,Z)};var V=a3("BODY");var aH=function(ba,a9){return ba.nextSibling===a9||ba.previousSibling===a9};var ak=function(ba,a9){a9=a9||r.ok;var bb=[];if(ba.previousSibling&&a9(ba.previousSibling)){bb.push(ba.previousSibling)}bb.push(ba);if(ba.nextSibling&&a9(ba.nextSibling)){bb.push(ba.nextSibling)}return bb};var aV=P.isMSIE&&P.browserVersion<11?"&nbsp;":"<br>";var X=function(a9){if(ac(a9)){return a9.nodeValue.length}return a9.childNodes.length};var an=function(ba){var a9=X(ba);if(a9===0){return true}else{if(!ac(ba)&&a9===1&&ba.innerHTML===aV){return true}else{if(s.all(ba.childNodes,ac)&&ba.innerHTML===""){return true}}}return false};var af=function(a9){if(!aX(a9)&&!X(a9)){a9.innerHTML=aV}};var aI=function(ba,a9){while(ba){if(a9(ba)){return ba}if(W(ba)){break}ba=ba.parentNode}return null};var aT=function(ba,a9){ba=ba.parentNode;while(ba){if(X(ba)!==1){break}if(a9(ba)){return ba}if(W(ba)){break}ba=ba.parentNode}return null};var aA=function(bb,a9){a9=a9||r.fail;var ba=[];aI(bb,function(bc){if(!W(bc)){ba.push(bc)}return a9(bc)});return ba};var U=function(bb,a9){var ba=aA(bb);return s.last(ba.filter(a9))};var ap=function(bb,ba){var a9=aA(bb);for(var bc=ba;bc;bc=bc.parentNode){if(C.inArray(bc,a9)>-1){return bc}}return null};var aQ=function(bb,ba){ba=ba||r.fail;var a9=[];while(bb){if(ba(bb)){break}a9.push(bb);bb=bb.previousSibling}return a9};var aj=function(bb,ba){ba=ba||r.fail;var a9=[];while(bb){if(ba(bb)){break}a9.push(bb);bb=bb.nextSibling}return a9};var aa=function(ba,a9){var bc=[];a9=a9||r.ok;(function bb(bf){if(ba!==bf&&a9(bf)){bc.push(bf)}for(var be=0,bd=bf.childNodes.length;be<bd;be++){bb(bf.childNodes[be])}})(ba);return bc};var aU=function(bb,ba){var a9=bb.parentNode;var bc=C("<"+ba+">")[0];a9.insertBefore(bc,bb);bc.appendChild(bb);return bc};var ai=function(bc,bb){var ba=bb.nextSibling,a9=bb.parentNode;if(ba){a9.insertBefore(bc,ba)}else{a9.appendChild(bc)}return bc};var a4=function(a9,ba){C.each(ba,function(bb,bc){a9.appendChild(bc)});return a9};var aq=function(a9){return a9.offset===0};var aF=function(a9){return a9.offset===X(a9.node)};var aN=function(a9){return aq(a9)||aF(a9)};var aW=function(ba,a9){while(ba&&ba!==a9){if(aP(ba)!==0){return false}ba=ba.parentNode}return true};var at=function(ba,a9){while(ba&&ba!==a9){if(aP(ba)!==X(ba.parentNode)-1){return false}ba=ba.parentNode}return true};var aM=function(a9,ba){return aq(a9)&&aW(a9.node,ba)};var ay=function(a9,ba){return aF(a9)&&at(a9.node,ba)};var aP=function(a9){var ba=0;while((a9=a9.previousSibling)){ba+=1}return ba};var ar=function(a9){return !!(a9&&a9.childNodes&&a9.childNodes.length)};var ag=function(a9,ba){var bb,bc;if(a9.offset===0){if(W(a9.node)){return null}bb=a9.node.parentNode;bc=aP(a9.node)}else{if(ar(a9.node)){bb=a9.node.childNodes[a9.offset-1];bc=X(bb)}else{bb=a9.node;bc=ba?0:a9.offset-1}}return{node:bb,offset:bc}};var am=function(a9,ba){var bb,bc;if(X(a9.node)===a9.offset){if(W(a9.node)){return null}bb=a9.node.parentNode;bc=aP(a9.node)+1}else{if(ar(a9.node)){bb=a9.node.childNodes[a9.offset];bc=0}else{bb=a9.node;bc=ba?X(a9.node):a9.offset+1}}return{node:bb,offset:bc}};var aw=function(a9,ba){return a9.node===ba.node&&a9.offset===ba.offset};var av=function(a9){if(ac(a9.node)||!ar(a9.node)||an(a9.node)){return true}var bb=a9.node.childNodes[a9.offset-1];var ba=a9.node.childNodes[a9.offset];if((!bb||aX(bb))&&(!ba||aX(ba))){return true}return false};var aY=function(a9,ba){while(a9){if(ba(a9)){return a9}a9=ag(a9)}return null};var aG=function(a9,ba){while(a9){if(ba(a9)){return a9}a9=am(a9)}return null};var a2=function(a9){if(!ac(a9.node)){return false}var ba=a9.node.nodeValue.charAt(a9.offset-1);return ba&&(ba!==" "&&ba!==Q)};var ae=function(be,bb,bc,ba){var a9=be;while(a9){bc(a9);if(aw(a9,bb)){break}var bd=ba&&be.node!==a9.node&&bb.node!==a9.node;a9=am(a9,bd)}};var ao=function(a9,bb){var ba=aA(bb,r.eq(a9));return ba.map(aP).reverse()};var aZ=function(bb,bc){var bd=bb;for(var ba=0,a9=bc.length;ba<a9;ba++){if(bd.childNodes.length<=bc[ba]){bd=bd.childNodes[bd.childNodes.length-1]}else{bd=bd.childNodes[bc[ba]]}}return bd};var a6=function(a9,bb){var bd=bb&&bb.isSkipPaddingBlankHTML;var ba=bb&&bb.isNotSplitEdgePoint;if(aN(a9)&&(ac(a9.node)||ba)){if(aq(a9)){return a9.node}else{if(aF(a9)){return a9.node.nextSibling}}}if(ac(a9.node)){return a9.node.splitText(a9.offset)}else{var bc=a9.node.childNodes[a9.offset];var be=ai(a9.node.cloneNode(false),a9.node);a4(be,aj(bc));if(!bd){af(a9.node);af(be)}return be}};var aO=function(ba,a9,bb){var bc=aA(a9.node,r.eq(ba));if(!bc.length){return null}else{if(bc.length===1){return a6(a9,bb)}}return bc.reduce(function(be,bd){if(be===a9.node){be=a6(a9,bb)}return a6({node:bd,offset:be?b.position(be):X(bd)},bb)})};var aD=function(a9,be){var bc=be?Z:R;var bd=aA(a9.node,bc);var bg=s.last(bd)||a9.node;var bf,bb;if(bc(bg)){bf=bd[bd.length-2];bb=bg}else{bf=bg;bb=bf.parentNode}var ba=bf&&aO(bf,a9,{isSkipPaddingBlankHTML:be,isNotSplitEdgePoint:be});if(!ba&&bb===a9.node){ba=a9.node.childNodes[a9.offset]}return{rightNode:ba,container:bb}};var ah=function(a9){return document.createElement(a9)};var a1=function(a9){return document.createTextNode(a9)};var az=function(bd,be){if(!bd||!bd.parentNode){return}if(bd.removeNode){return bd.removeNode(be)}var bc=bd.parentNode;if(!be){var ba=[];var bb,a9;for(bb=0,a9=bd.childNodes.length;bb<a9;bb++){ba.push(bd.childNodes[bb])}for(bb=0,a9=ba.length;bb<a9;bb++){bc.insertBefore(ba[bb],bd)}}bc.removeChild(bd)};var aL=function(bb,a9){while(bb){if(W(bb)||!a9(bb)){break}var ba=bb.parentNode;az(bb);bb=ba}};var ax=function(ba,bb){if(ba.nodeName.toUpperCase()===bb.toUpperCase()){return ba}var a9=ah(bb);if(ba.style.cssText){a9.style.cssText=ba.style.cssText}a4(a9,s.from(ba.childNodes));ai(a9,ba);az(ba);return a9};var au=a3("TEXTAREA");var aR=function(ba,a9){var bb=au(ba[0])?ba.val():ba.html();if(a9){return bb.replace(/[\n\r]/g,"")}return bb};var aC=function(ba,bb){var a9=aR(ba);if(bb){var bc=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;a9=a9.replace(bc,function(be,bh,bd){bd=bd.toUpperCase();var bg=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(bd)&&!!bh;var bf=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(bd);return be+((bg||bf)?"\n":"")});a9=C.trim(a9)}return a9};return{NBSP_CHAR:Q,ZERO_WIDTH_NBSP_CHAR:J,blank:aV,emptyPara:"<p>"+aV+"</p>",makePredByNodeName:a3,isEditable:W,isControlSizing:aE,buildLayoutInfo:a7,makeLayoutInfo:aB,isText:ac,isVoid:aX,isPara:Z,isPurePara:a5,isInline:al,isBlock:r.not(al),isBodyInline:aK,isBody:V,isParaInline:aJ,isList:S,isTable:aS,isCell:ad,isBlockquote:a8,isBodyContainer:R,isAnchor:ab,isDiv:a3("DIV"),isLi:a0,isBR:a3("BR"),isSpan:a3("SPAN"),isB:a3("B"),isU:a3("U"),isS:a3("S"),isI:a3("I"),isImg:a3("IMG"),isTextarea:au,isEmpty:an,isEmptyAnchor:r.and(ab,an),isClosestSibling:aH,withClosestSiblings:ak,nodeLength:X,isLeftEdgePoint:aq,isRightEdgePoint:aF,isEdgePoint:aN,isLeftEdgeOf:aW,isRightEdgeOf:at,isLeftEdgePointOf:aM,isRightEdgePointOf:ay,prevPoint:ag,nextPoint:am,isSamePoint:aw,isVisiblePoint:av,prevPointUntil:aY,nextPointUntil:aG,isCharPoint:a2,walkPoint:ae,ancestor:aI,singleChildAncestor:aT,listAncestor:aA,lastAncestor:U,listNext:aj,listPrev:aQ,listDescendant:aa,commonAncestor:ap,wrap:aU,insertAfter:ai,appendChildNodes:a4,position:aP,hasChildren:ar,makeOffsetPath:ao,fromOffsetPath:aZ,splitTree:aO,splitPoint:aD,create:ah,createText:a1,remove:az,removeWhile:aL,replace:ax,html:aC,value:aR}})();var k=(function(){var U=function(af,V){var Y=af.parentElement(),aa;var ae=document.body.createTextRange(),ac;var ad=s.from(Y.childNodes);for(aa=0;aa<ad.length;aa++){if(b.isText(ad[aa])){continue}ae.moveToElementText(ad[aa]);if(ae.compareEndPoints("StartToStart",af)>=0){break}ac=ad[aa]}if(aa!==0&&b.isText(ad[aa-1])){var ag=document.body.createTextRange(),ab=null;ag.moveToElementText(ac||Y);ag.collapse(!ac);ab=ac?ac.nextSibling:Y.firstChild;var X=af.duplicate();X.setEndPoint("StartToStart",ag);var W=X.text.replace(/[\r\n]/g,"").length;while(W>ab.nodeValue.length&&ab.nextSibling){W-=ab.nodeValue.length;ab=ab.nextSibling}var Z=ab.nodeValue;if(V&&ab.nextSibling&&b.isText(ab.nextSibling)&&W===ab.nodeValue.length){W-=ab.nodeValue.length;ab=ab.nextSibling}Y=ab;aa=W}return{cont:Y,offset:aa}};var R=function(V){var Y=function(ab,ae){var ad,aa;if(b.isText(ab)){var Z=b.listPrev(ab,r.not(b.isText));var ac=s.last(Z).previousSibling;ad=ac||ab.parentNode;ae+=s.sum(s.tail(Z),b.nodeLength);aa=!ac}else{ad=ab.childNodes[ae]||ab;if(b.isText(ad)){return Y(ad,0)}ae=0;aa=false}return{node:ad,collapseToStart:aa,offset:ae}};var W=document.body.createTextRange();var X=Y(V.node,V.offset);W.moveToElementText(X.node);W.collapse(X.collapseToStart);W.moveStart("character",X.offset);return W};var S=function(aa,Z,W,V){this.sc=aa;this.so=Z;this.ec=W;this.eo=V;var Y=function(){if(P.isW3CRangeSupport){var ab=document.createRange();ab.setStart(aa,Z);ab.setEnd(W,V);return ab}else{var ac=R({node:aa,offset:Z});ac.setEndPoint("EndToEnd",R({node:W,offset:V}));return ac}};this.getPoints=function(){return{sc:aa,so:Z,ec:W,eo:V}};this.getStartPoint=function(){return{node:aa,offset:Z}};this.getEndPoint=function(){return{node:W,offset:V}};this.select=function(){var ac=Y();if(P.isW3CRangeSupport){var ab=document.getSelection();if(ab.rangeCount>0){ab.removeAllRanges()}ab.addRange(ac)}else{ac.select()}return this};this.normalize=function(){var ad=function(ae,af){if((b.isVisiblePoint(ae)&&!b.isEdgePoint(ae))||(b.isVisiblePoint(ae)&&b.isRightEdgePoint(ae)&&!af)||(b.isVisiblePoint(ae)&&b.isLeftEdgePoint(ae)&&af)||(b.isVisiblePoint(ae)&&b.isBlock(ae.node)&&b.isEmpty(ae.node))){return ae}var ah=b.ancestor(ae.node,b.isBlock);if(((b.isLeftEdgePointOf(ae,ah)||b.isVoid(b.prevPoint(ae).node))&&!af)||((b.isRightEdgePointOf(ae,ah)||b.isVoid(b.nextPoint(ae).node))&&af)){if(b.isVisiblePoint(ae)){return ae}af=!af}var ag=af?b.nextPointUntil(b.nextPoint(ae),b.isVisiblePoint):b.prevPointUntil(b.prevPoint(ae),b.isVisiblePoint);return ag||ae};var ab=ad(this.getEndPoint(),false);var ac=this.isCollapsed()?ab:ad(this.getStartPoint(),true);return new S(ac.node,ac.offset,ab.node,ab.offset)};this.nodes=function(ad,ae){ad=ad||r.ok;var ab=ae&&ae.includeAncestor;var ai=ae&&ae.fullyContains;var ag=this.getStartPoint();var af=this.getEndPoint();var ac=[];var ah=[];b.walkPoint(ag,af,function(aj){if(b.isEditable(aj.node)){return}var ak;if(ai){if(b.isLeftEdgePoint(aj)){ah.push(aj.node)}if(b.isRightEdgePoint(aj)&&s.contains(ah,aj.node)){ak=aj.node}}else{if(ab){ak=b.ancestor(aj.node,ad)}else{ak=aj.node}}if(ak&&ad(ak)){ac.push(ak)}},true);return s.unique(ac)};this.commonAncestor=function(){return b.commonAncestor(aa,W)};this.expand=function(ab){var ad=b.ancestor(aa,ab);var ae=b.ancestor(W,ab);if(!ad&&!ae){return new S(aa,Z,W,V)}var ac=this.getPoints();if(ad){ac.sc=ad;ac.so=0}if(ae){ac.ec=ae;ac.eo=b.nodeLength(ae)}return new S(ac.sc,ac.so,ac.ec,ac.eo)};this.collapse=function(ab){if(ab){return new S(aa,Z,aa,Z)}else{return new S(W,V,W,V)}};this.splitText=function(){var ab=aa===W;var ac=this.getPoints();if(b.isText(W)&&!b.isEdgePoint(this.getEndPoint())){W.splitText(V)}if(b.isText(aa)&&!b.isEdgePoint(this.getStartPoint())){ac.sc=aa.splitText(Z);ac.so=0;if(ab){ac.ec=ac.sc;ac.eo=V-Z}}return new S(ac.sc,ac.so,ac.ec,ac.eo)};this.deleteContents=function(){if(this.isCollapsed()){return this}var ac=this.splitText();var ad=ac.nodes(null,{fullyContains:true});var ab=b.prevPointUntil(ac.getStartPoint(),function(af){return !s.contains(ad,af.node)});var ae=[];C.each(ad,function(af,ah){var ag=ah.parentNode;if(ab.node!==ag&&b.nodeLength(ag)===1){ae.push(ag)}b.remove(ah,false)});C.each(ae,function(af,ag){b.remove(ag,false)});return new S(ab.node,ab.offset,ab.node,ab.offset).normalize()};var X=function(ab){return function(){var ac=b.ancestor(aa,ab);return !!ac&&(ac===b.ancestor(W,ab))}};this.isOnEditable=X(b.isEditable);this.isOnList=X(b.isList);this.isOnAnchor=X(b.isAnchor);this.isOnCell=X(b.isCell);this.isLeftEdgeOf=function(ab){if(!b.isLeftEdgePoint(this.getStartPoint())){return false}var ac=b.ancestor(this.sc,ab);return ac&&b.isLeftEdgeOf(this.sc,ac)};this.isCollapsed=function(){return aa===W&&Z===V};this.wrapBodyInlineWithPara=function(){if(b.isBodyContainer(aa)&&b.isEmpty(aa)){aa.innerHTML=b.emptyPara;return new S(aa.firstChild,0,aa.firstChild,0)}var ac=this.normalize();if(b.isParaInline(aa)||b.isPara(aa)){return ac}var af;if(b.isInline(ac.sc)){var ad=b.listAncestor(ac.sc,r.not(b.isInline));af=s.last(ad);if(!b.isInline(af)){af=ad[ad.length-2]||ac.sc.childNodes[ac.so]}}else{af=ac.sc.childNodes[ac.so>0?ac.so-1:0]}var ae=b.listPrev(af,b.isParaInline).reverse();ae=ae.concat(b.listNext(af.nextSibling,b.isParaInline));if(ae.length){var ab=b.wrap(s.head(ae),"p");b.appendChildNodes(ab,s.tail(ae))}return this.normalize()};this.insertNode=function(ac){var ab=this.wrapBodyInlineWithPara().deleteContents();var ad=b.splitPoint(ab.getStartPoint(),b.isInline(ac));if(ad.rightNode){ad.rightNode.parentNode.insertBefore(ac,ad.rightNode)}else{ad.container.appendChild(ac)}return ac};this.pasteHTML=function(ad){var ac=C("<div></div>").html(ad)[0];var ae=s.from(ac.childNodes);var ab=this.wrapBodyInlineWithPara().deleteContents();return ae.reverse().map(function(af){return ab.insertNode(af)}).reverse()};this.toString=function(){var ab=Y();return P.isW3CRangeSupport?ab.toString():ab.text};this.getWordRange=function(ad){var ab=this.getEndPoint();if(!b.isCharPoint(ab)){return this}var ac=b.prevPointUntil(ab,function(ae){return !b.isCharPoint(ae)});if(ad){ab=b.nextPointUntil(ab,function(ae){return !b.isCharPoint(ae)})}return new S(ac.node,ac.offset,ab.node,ab.offset)};this.bookmark=function(ab){return{s:{path:b.makeOffsetPath(ab,aa),offset:Z},e:{path:b.makeOffsetPath(ab,W),offset:V}}};this.paraBookmark=function(ab){return{s:{path:s.tail(b.makeOffsetPath(s.head(ab),aa)),offset:Z},e:{path:s.tail(b.makeOffsetPath(s.last(ab),W)),offset:V}}};this.getClientRects=function(){var ab=Y();return ab.getClientRects()}};return{create:function(aa,X,Z,V){if(!arguments.length){if(P.isW3CRangeSupport){var ad=document.getSelection();if(!ad||ad.rangeCount===0){return null}else{if(b.isBody(ad.anchorNode)){return null}}var ac=ad.getRangeAt(0);aa=ac.startContainer;X=ac.startOffset;Z=ac.endContainer;V=ac.endOffset}else{var af=document.selection.createRange();var Y=af.duplicate();Y.collapse(false);var ae=af;ae.collapse(true);var W=U(ae,true),ab=U(Y,false);if(b.isText(W.node)&&b.isLeftEdgePoint(W)&&b.isTextNode(ab.node)&&b.isRightEdgePoint(ab)&&ab.node.nextSibling===W.node){W=ab}aa=W.cont;X=W.offset;Z=ab.cont;V=ab.offset}}else{if(arguments.length===2){Z=aa;V=X}}return new S(aa,X,Z,V)},createFromNode:function(X){var Z=X;var Y=0;var W=X;var V=b.nodeLength(W);if(b.isVoid(Z)){Y=b.listPrev(Z).length-1;Z=Z.parentNode}if(b.isBR(W)){V=b.listPrev(W).length-1;W=W.parentNode}else{if(b.isVoid(W)){V=b.listPrev(W).length;W=W.parentNode}}return this.create(Z,Y,W,V)},createFromNodeBefore:function(V){return this.createFromNode(V).collapse(true)},createFromNodeAfter:function(V){return this.createFromNode(V).collapse()},createFromBookmark:function(X,Y){var aa=b.fromOffsetPath(X,Y.s.path);var Z=Y.s.offset;var W=b.fromOffsetPath(X,Y.e.path);var V=Y.e.offset;return new S(aa,Z,W,V)},createFromParaBookmark:function(Y,X){var Z=Y.s.offset;var V=Y.e.offset;var aa=b.fromOffsetPath(s.head(X),Y.s.path);var W=b.fromOffsetPath(s.last(X),Y.e.path);return new S(aa,Z,W,V)}}})();var E={version:"0.6.16",options:{width:null,height:null,minHeight:null,maxHeight:null,focus:false,tabsize:4,styleWithSpan:true,disableLinkTarget:false,disableDragAndDrop:false,disableResizeEditor:false,disableResizeImage:false,shortcuts:true,textareaAutoSync:true,placeholder:false,prettifyHtml:true,iconPrefix:"fa fa-",icons:{font:{bold:"bold",italic:"italic",underline:"underline",clear:"eraser",height:"text-height",strikethrough:"strikethrough",superscript:"superscript",subscript:"subscript"},image:{image:"picture-o",floatLeft:"align-left",floatRight:"align-right",floatNone:"align-justify",shapeRounded:"square",shapeCircle:"circle-o",shapeThumbnail:"picture-o",shapeNone:"times",remove:"trash-o"},link:{link:"link",unlink:"unlink",edit:"edit"},table:{table:"table"},hr:{insert:"minus"},style:{style:"magic"},lists:{unordered:"list-ul",ordered:"list-ol"},options:{help:"question",fullscreen:"arrows-alt",codeview:"code"},paragraph:{paragraph:"align-left",outdent:"outdent",indent:"indent",left:"align-left",center:"align-center",right:"align-right",justify:"align-justify"},color:{recent:"font"},history:{undo:"undo",redo:"repeat"},misc:{check:"check"}},dialogsInBody:false,codemirror:{mode:"text/html",htmlMode:true,lineNumbers:true},lang:"en-US",direction:null,toolbar:[["style",["style"]],["font",["bold","italic","underline","clear"]],["fontname",["fontname"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","hr"]],["view",["fullscreen","codeview"]],["help",["help"]]],plugin:{},airMode:false,airPopover:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]],styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],defaultFontName:"Helvetica Neue",fontNames:["Arial","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana","Roboto","Open Sans","PT Sans"],fontNamesIgnoreCheck:[],fontSizes:["8","9","10","11","12","13","14","15","16","18","24","36","42","60"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],insertTableMaxSize:{col:10,row:10},maximumImageFileSize:null,oninit:null,onfocus:null,onblur:null,onenter:null,onkeyup:null,onkeydown:null,onImageUpload:null,onImageUploadError:null,onMediaDelete:null,onToolbarClick:null,onsubmit:null,onCreateLink:function(R){if(R.indexOf("@")!==-1&&R.indexOf(":")===-1){R="mailto:"+R}return R},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"showLinkDialog"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"showLinkDialog"}}},lang:{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},history:{undo:"Undo",redo:"Redo"}}}};var H=(function(){var R=function(U){return C.Deferred(function(V){C.extend(new FileReader(),{onload:function(X){var W=X.target.result;V.resolve(W)},onerror:function(){V.reject(this)}}).readAsDataURL(U)}).promise()};var S=function(V,U){return C.Deferred(function(W){var X=C("<img>");X.one("load",function(){X.off("error abort");W.resolve(X)}).one("error abort",function(){X.off("load").detach();W.reject(X)}).css({display:"none"}).appendTo(document.body).attr({src:V,"data-filename":U})}).promise()};return{readFileAsDataURL:R,createImage:S}})();var q=(function(){var R={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221};return{isEdit:function(S){return s.contains([8,9,13,32],S)},isMove:function(S){return s.contains([37,38,39,40],S)},nameFromCode:r.invertObject(R),code:R}})();var j=function(V){var S=[],U=-1;var W=V[0];var R=function(){var Y=k.create();var Z={s:{path:[],offset:0},e:{path:[],offset:0}};return{contents:V.html(),bookmark:(Y?Y.bookmark(W):Z)}};var X=function(Y){try{if(Y.contents!==null){V.html(Y.contents)}if(Y.bookmark!==null){k.createFromBookmark(W,Y.bookmark).select()}}catch(Z){}};this.undo=function(){if(V.html()!==S[U].contents){this.recordUndo()}if(0<U){U--;X(S[U])}};this.redo=function(){if(S.length-1>U){U++;X(S[U])}};this.recordUndo=function(){U++;if(S.length>U){S=S.slice(0,U)}S.push(R())};this.recordUndo()};var A=function(){var R=function(V,U){if(P.jqueryVersion<1.9){var S={};C.each(U,function(W,X){S[X]=V.css(X)});return S}return V.css.call(V,U)};this.fromNode=function(S){var U=["font-family","font-size","text-align","list-style-type","line-height"];var V=R(S,U)||{};V["font-size"]=parseInt(V["font-size"],10);return V};this.stylePara=function(S,U){C.each(S.nodes(b.isPara,{includeAncestor:true}),function(W,V){C(V).css(U)})};this.styleNodes=function(S,X){S=S.splitText();var aa=X&&X.nodeName||"SPAN";var Y=!!(X&&X.expandClosestSibling);var W=!!(X&&X.onlyPartialContains);if(S.isCollapsed()){return[S.insertNode(b.create(aa))]}var V=b.makePredByNodeName(aa);var U=S.nodes(b.isText,{fullyContains:true}).map(function(ab){return b.singleChildAncestor(ab,V)||b.wrap(ab,aa)});if(Y){if(W){var Z=S.nodes();V=r.and(V,function(ab){return s.contains(Z,ab)})}return U.map(function(ac){var ae=b.withClosestSiblings(ac,V);var ab=s.head(ae);var ad=s.tail(ae);C.each(ad,function(af,ag){b.appendChildNodes(ab,ag.childNodes);b.remove(ag)});return s.head(ae)})}else{return U}};this.current=function(V){var Y=C(b.isText(V.sc)?V.sc.parentNode:V.sc);var Z=this.fromNode(Y);Z["font-bold"]=document.queryCommandState("bold")?"bold":"normal";Z["font-italic"]=document.queryCommandState("italic")?"italic":"normal";Z["font-underline"]=document.queryCommandState("underline")?"underline":"normal";Z["font-strikethrough"]=document.queryCommandState("strikeThrough")?"strikethrough":"normal";Z["font-superscript"]=document.queryCommandState("superscript")?"superscript":"normal";Z["font-subscript"]=document.queryCommandState("subscript")?"subscript":"normal";if(!V.isOnList()){Z["list-style"]="none"}else{var U=["circle","disc","disc-leading-zero","square"];var W=C.inArray(Z["list-style-type"],U)>-1;Z["list-style"]=W?"unordered":"ordered"}var S=b.ancestor(V.sc,b.isPara);if(S&&S.style["line-height"]){Z["line-height"]=S.style.lineHeight}else{var X=parseInt(Z["line-height"],10)/parseInt(Z["font-size"],10);Z["line-height"]=X.toFixed(1)}Z.anchor=V.isOnAnchor()&&b.ancestor(V.sc,b.isAnchor);Z.ancestors=b.listAncestor(V.sc,b.isEditable);Z.range=V;return Z}};var G=function(){this.insertOrderedList=function(){this.toggleList("OL")};this.insertUnorderedList=function(){this.toggleList("UL")};this.indent=function(){var S=this;var R=k.create().wrapBodyInlineWithPara();var U=R.nodes(b.isPara,{includeAncestor:true});var V=s.clusterBy(U,r.peq2("parentNode"));C.each(V,function(W,X){var Y=s.head(X);if(b.isLi(Y)){S.wrapList(X,Y.parentNode.nodeName)}else{C.each(X,function(aa,Z){C(Z).css("marginLeft",function(ab,ac){return(parseInt(ac,10)||0)+25})})}});R.select()};this.outdent=function(){var S=this;var R=k.create().wrapBodyInlineWithPara();var U=R.nodes(b.isPara,{includeAncestor:true});var V=s.clusterBy(U,r.peq2("parentNode"));C.each(V,function(W,X){var Y=s.head(X);if(b.isLi(Y)){S.releaseList([X])}else{C.each(X,function(aa,Z){C(Z).css("marginLeft",function(ab,ac){ac=(parseInt(ac,10)||0);return ac>25?ac-25:""})})}});R.select()};this.toggleList=function(W){var S=this;var R=k.create().wrapBodyInlineWithPara();var V=R.nodes(b.isPara,{includeAncestor:true});var X=R.paraBookmark(V);var Z=s.clusterBy(V,r.peq2("parentNode"));if(s.find(V,b.isPurePara)){var U=[];C.each(Z,function(aa,ab){U=U.concat(S.wrapList(ab,W))});V=U}else{var Y=R.nodes(b.isList,{includeAncestor:true}).filter(function(aa){return !C.nodeName(aa,W)});if(Y.length){C.each(Y,function(aa,ab){b.replace(ab,W)})}else{V=this.releaseList(Z,true)}}k.createFromParaBookmark(X,V).select()};this.wrapList=function(V,U){var W=s.head(V);var Y=s.last(V);var S=b.isList(W.previousSibling)&&W.previousSibling;var R=b.isList(Y.nextSibling)&&Y.nextSibling;var X=S||b.insertAfter(b.create(U||"UL"),Y);V=V.map(function(Z){return b.isPurePara(Z)?b.replace(Z,"LI"):Z});b.appendChildNodes(X,V);if(R){b.appendChildNodes(X,s.from(R.childNodes));b.remove(R)}return V};this.releaseList=function(U,R){var S=[];C.each(U,function(V,W){var X=s.head(W);var Y=s.last(W);var ab=R?b.lastAncestor(X,b.isList):X.parentNode;var aa=ab.childNodes.length>1?b.splitTree(ab,{node:Y.parentNode,offset:b.position(Y)+1},{isSkipPaddingBlankHTML:true}):null;var Z=b.splitTree(ab,{node:X.parentNode,offset:b.position(X)},{isSkipPaddingBlankHTML:true});W=R?b.listDescendant(Z,b.isLi):s.from(Z.childNodes).filter(b.isLi);if(R||!b.isList(ab.parentNode)){W=W.map(function(ad){return b.replace(ad,"P")})}C.each(s.from(W).reverse(),function(ae,ad){b.insertAfter(ad,ab)});var ac=s.compact([ab,Z,aa]);C.each(ac,function(ad,ae){var af=[ae].concat(b.listDescendant(ae,b.isList));C.each(af.reverse(),function(ag,ah){if(!b.nodeLength(ah)){b.remove(ah,true)}})});S=S.concat(W)});return S}};var d=function(){var R=new G();this.insertTab=function(V,U,S){var W=b.createText(new Array(S+1).join(b.NBSP_CHAR));U=U.deleteContents();U.insertNode(W,true);U=k.create(W,S);U.select()};this.insertParagraph=function(){var U=k.create();U=U.deleteContents();U=U.wrapBodyInlineWithPara();var X=b.ancestor(U.sc,b.isPara);var W;if(X){if(b.isEmpty(X)&&b.isLi(X)){R.toggleList(X.parentNode.nodeName);return}else{W=b.splitTree(X,U.getStartPoint());var S=b.listDescendant(X,b.isEmptyAnchor);S=S.concat(b.listDescendant(W,b.isEmptyAnchor));C.each(S,function(Y,Z){b.remove(Z)})}}else{var V=U.sc.childNodes[U.so];W=C(b.emptyPara)[0];if(V){U.sc.insertBefore(W,V)}else{U.sc.appendChild(W)}}k.create(W,0).normalize().select()}};var i=function(){this.tab=function(S,V){var R=b.ancestor(S.commonAncestor(),b.isCell);var X=b.ancestor(R,b.isTable);var U=b.listDescendant(X,b.isCell);var W=s[V?"prev":"next"](U,R);if(W){k.create(W,0).select()}};this.createTable=function(X,U){var W=[],S;for(var V=0;V<X;V++){W.push("<td>"+b.blank+"</td>")}S=W.join("");var R=[],Y;for(var Z=0;Z<U;Z++){R.push("<tr>"+S+"</tr>")}Y=R.join("");return C('<table class="table table-bordered">'+Y+"</table>")[0]}};var e="bogus";var u=function(ac){var ad=this;var S=new A();var ab=new i();var Z=new d();var R=new G();this.createRange=function(af){this.focus(af);return k.create()};this.saveRange=function(af,ag){this.focus(af);af.data("range",k.create());if(ag){k.create().collapse().select()}};this.saveNode=function(ag){var ai=[];for(var ah=0,af=ag[0].childNodes.length;ah<af;ah++){ai.push(ag[0].childNodes[ah])}ag.data("childNodes",ai)};this.restoreRange=function(ag){var af=ag.data("range");if(af){af.select();this.focus(ag)}};this.restoreNode=function(ag){ag.html("");var ai=ag.data("childNodes");for(var ah=0,af=ai.length;ah<af;ah++){ag[0].appendChild(ai[ah])}};this.currentStyle=function(ag){var af=k.create();var ah=af&&af.isOnEditable()?S.current(af.normalize()):{};if(b.isImg(ag)){ah.image=ag}return ah};this.styleFromNode=function(af){return S.fromNode(af)};this.triggerOnChange=function(af){V(af)};var aa=function(af){var ag=b.makeLayoutInfo(af).holder();ac.bindCustomEvent(ag,af.data("callbacks"),"before.command")(af.html(),af)};var V=function(af){var ag=b.makeLayoutInfo(af).holder();ac.bindCustomEvent(ag,af.data("callbacks"),"change")(af.html(),af)};this.undo=function(af){aa(af);af.data("NoteHistory").undo();V(af)};this.redo=function(af){aa(af);af.data("NoteHistory").redo();V(af)};var Y=this.beforeCommand=function(af){aa(af);ad.focus(af)};var ae=this.afterCommand=function(af,ag){af.data("NoteHistory").recordUndo();if(!ag){V(af)}};var U=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor","foreColor","fontName"];for(var X=0,W=U.length;X<W;X++){this[U[X]]=(function(af){return function(ag,ah){Y(ag);document.execCommand(af,false,ah);ae(ag,true)}})(U[X])}this.tab=function(ag,ah){var af=this.createRange(ag);if(af.isCollapsed()&&af.isOnCell()){ab.tab(af)}else{Y(ag);Z.insertTab(ag,af,ah.tabsize);ae(ag)}};this.untab=function(ag){var af=this.createRange(ag);if(af.isCollapsed()&&af.isOnCell()){ab.tab(af,true)}};this.insertParagraph=function(af){Y(af);Z.insertParagraph(af);ae(af)};this.insertOrderedList=function(af){Y(af);R.insertOrderedList(af);ae(af)};this.insertUnorderedList=function(af){Y(af);R.insertUnorderedList(af);ae(af)};this.indent=function(af){Y(af);R.indent(af);ae(af)};this.outdent=function(af){Y(af);R.outdent(af);ae(af)};this.insertImage=function(ag,ah,af){H.createImage(ah,af).then(function(ai){Y(ag);ai.css({display:"",width:Math.min(ag.width(),ai.width())});k.create().insertNode(ai[0]);k.createFromNodeAfter(ai[0]).select();ae(ag)}).fail(function(){var ai=b.makeLayoutInfo(ag).holder();ac.bindCustomEvent(ai,ag.data("callbacks"),"image.upload.error")()})};this.insertNode=function(af,ag){Y(af);k.create().insertNode(ag);k.createFromNodeAfter(ag).select();ae(af)};this.insertText=function(af,ah){Y(af);var ag=k.create().insertNode(b.createText(ah));k.create(ag,b.nodeLength(ag)).select();ae(af)};this.resetStyles=function(af){Y(af);var ai=k.create().insertNode(b.createText((window.getSelection()||"").toString()));var ag=C(ai).parent();if(ag.length){var ah=ag[0].style.textAlign;ag.removeAttr("style").find(":empty").remove();if(ah){ag[0].style.textAlign=ah}}k.create(ai,b.nodeLength(ai)).select();ae(af)};this.pasteHTML=function(ag,af){Y(ag);var ah=k.create().pasteHTML(af);k.createFromNodeAfter(s.last(ah)).select();ae(ag)};this.formatBlock=function(af,ag){Y(af);ag=P.isMSIE?"<"+ag+">":ag;document.execCommand("FormatBlock",false,ag);ae(af)};this.formatPara=function(af){Y(af);this.formatBlock(af,"P");ae(af)};for(var X=1;X<=6;X++){this["formatH"+X]=function(af){return function(ag){this.formatBlock(ag,"H"+af)}}(X)}this.fontSize=function(ag,aj){var af=k.create();if(af.isCollapsed()){var ah=S.styleNodes(af);var ai=s.head(ah);C(ah).css({"font-size":aj+"px"});if(ai&&!b.nodeLength(ai)){ai.innerHTML=b.ZERO_WIDTH_NBSP_CHAR;k.createFromNodeAfter(ai.firstChild).select();ag.data(e,ai)}}else{Y(ag);C(S.styleNodes(af)).css({"font-size":aj+"px"});ae(ag)}};this.insertHorizontalRule=function(ah){Y(ah);var af=k.create();var ag=af.insertNode(C("<HR/>")[0]);if(ag.nextSibling){k.create(ag.nextSibling,0).normalize().select()}ae(ah)};this.removeBogus=function(ah){var ag=ah.data(e);if(!ag){return}var ai=s.find(s.from(ag.childNodes),b.isText);var af=ai.nodeValue.indexOf(b.ZERO_WIDTH_NBSP_CHAR);if(af!==-1){ai.deleteData(af,1)}if(b.isEmpty(ag)){b.remove(ag)}ah.removeData(e)};this.lineHeight=function(af,ag){Y(af);S.stylePara(k.create(),{lineHeight:ag});ae(af)};this.unlink=function(ag){var af=this.createRange(ag);if(af.isOnAnchor()){var ah=b.ancestor(af.sc,b.isAnchor);af=k.createFromNode(ah);af.select();Y(ag);document.execCommand("unlink");ae(ag)}};this.wrap=function(af){return S.styleNodes(this.createRange(af),{nodeName:"span"})};this.createLink=function(ar,am,au){var an=am.url;var ai=am.text;var aq=am.isNewWindow;var aj=am.isNoFollow;var af=am.range||this.createRange(ar);var at=af.toString()!==ai;au=au||b.makeLayoutInfo(ar).editor().data("options");Y(ar);if(au.onCreateLink){an=au.onCreateLink(an)}var ag=[];if(at){var al=af.insertNode(C("<A>"+ai+"</A>")[0]);ag.push(al)}else{ag=S.styleNodes(af,{nodeName:"A",expandClosestSibling:true,onlyPartialContains:true})}ag.forEach(function(av){av.href=an;if(aj){av.rel="nofollow"}else{if(av.rel&&av.rel==="nofollow"){av.removeAttribute("rel")}}if(aq){av.target="_blank"}else{av.removeAttribute("target")}});var ap=k.createFromNodeBefore(s.head(ag));var ah=ap.getStartPoint();var ak=k.createFromNodeAfter(s.last(ag));var ao=ak.getEndPoint();k.create(ah.node,ah.offset,ao.node,ao.offset).select();ae(ar)};this.getLinkInfo=function(ag){this.focus(ag);var af=k.create().expand(b.isAnchor);var ah=C(s.head(af.nodes(b.isAnchor)));return{range:af,text:af.toString(),isNewWindow:ah.length?ah.attr("target")==="_blank":false,isNoFollow:ah.length?ah.attr("rel")==="nofollow":false,url:ah.length?ah.attr("href"):""}};this.color=function(ag,ah){var aj=JSON.parse(ah);var ai=aj.foreColor,af=aj.backColor;Y(ag);if(ai){document.execCommand("foreColor",false,ai)}if(af){document.execCommand("backColor",false,af)}ae(ag)};this.insertTable=function(ah,af){var ai=af.split("x");Y(ah);var ag=k.create().deleteContents();ag.insertNode(ab.createTable(ai[0],ai[1]));ae(ah)};this.floatMe=function(ag,ah,af){Y(ag);af.removeClass("pull-left pull-right");if(ah&&ah!=="none"){af.addClass("pull-"+ah)}af.css("float",ah);ae(ag)};this.imageShape=function(ag,ah,af){Y(ag);af.removeClass("img-rounded img-circle img-thumbnail");if(ah){af.addClass(ah)}ae(ag)};this.resize=function(ag,ah,af){Y(ag);af.css({width:ah*100+"%",height:""});ae(ag)};this.resizeTo=function(ak,af,ag){var aj;if(ag){var ai=ak.y/ak.x;var ah=af.data("ratio");aj={width:ah>ai?ak.x:ak.y/ah,height:ah>ai?ak.x*ah:ak.y}}else{aj={width:ak.x,height:ak.y}}af.css(aj)};this.removeMedia=function(ag,ah,af){Y(ag);af.detach();ac.bindCustomEvent(C(),ag.data("callbacks"),"media.delete")(af,ag);ae(ag)};this.focus=function(af){af.focus();if(P.isFF&&!k.create().isOnEditable()){k.createFromNode(af[0]).normalize().collapse().select()}};this.isEmpty=function(af){return b.isEmpty(af[0])||b.emptyPara===af.html()}};var L=function(){this.update=function(af,X){var S=function(ag,ah){ag.find(".dropdown-menu li a").each(function(){var ai=(C(this).data("value")+"")===(ah+"");this.className=ai?"checked":""})};var ad=function(ag,ah){var ai=af.find(ag);ai.toggleClass("active",ah())};if(X.image){var U=C(X.image);ad('button[data-event="imageShape"][data-value="img-rounded"]',function(){return U.hasClass("img-rounded")});ad('button[data-event="imageShape"][data-value="img-circle"]',function(){return U.hasClass("img-circle")});ad('button[data-event="imageShape"][data-value="img-thumbnail"]',function(){return U.hasClass("img-thumbnail")});ad('button[data-event="imageShape"]:not([data-value])',function(){return !U.is(".img-rounded, .img-circle, .img-thumbnail")});var ae=U.css("float");ad('button[data-event="floatMe"][data-value="left"]',function(){return ae==="left"});ad('button[data-event="floatMe"][data-value="right"]',function(){return ae==="right"});ad('button[data-event="floatMe"][data-value="none"]',function(){return ae!=="left"&&ae!=="right"});var V=U.attr("style");ad('button[data-event="resize"][data-value="1"]',function(){return !!/(^|\s)(max-)?width\s*:\s*100%/.test(V)});ad('button[data-event="resize"][data-value="0.5"]',function(){return !!/(^|\s)(max-)?width\s*:\s*50%/.test(V)});ad('button[data-event="resize"][data-value="0.25"]',function(){return !!/(^|\s)(max-)?width\s*:\s*25%/.test(V)});return}var W=af.find(".note-fontname");if(W.length){var aa=X["font-family"];if(!!aa){var ac=aa.split(",");for(var Z=0,ab=ac.length;Z<ab;Z++){aa=ac[Z].replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"");if(P.isFontInstalled(aa)){break}}W.find(".note-current-fontname").text(aa);S(W,aa)}}var R=af.find(".note-fontsize");R.find(".note-current-fontsize").text(X["font-size"]);S(R,parseFloat(X["font-size"]));var Y=af.find(".note-height");S(Y,parseFloat(X["line-height"]));ad('button[data-event="bold"]',function(){return X["font-bold"]==="bold"});ad('button[data-event="italic"]',function(){return X["font-italic"]==="italic"});ad('button[data-event="underline"]',function(){return X["font-underline"]==="underline"});ad('button[data-event="strikethrough"]',function(){return X["font-strikethrough"]==="strikethrough"});ad('button[data-event="superscript"]',function(){return X["font-superscript"]==="superscript"});ad('button[data-event="subscript"]',function(){return X["font-subscript"]==="subscript"});ad('button[data-event="justifyLeft"]',function(){return X["text-align"]==="left"||X["text-align"]==="start"});ad('button[data-event="justifyCenter"]',function(){return X["text-align"]==="center"});ad('button[data-event="justifyRight"]',function(){return X["text-align"]==="right"});ad('button[data-event="justifyFull"]',function(){return X["text-align"]==="justify"});ad('button[data-event="insertUnorderedList"]',function(){return X["list-style"]==="unordered"});ad('button[data-event="insertOrderedList"]',function(){return X["list-style"]==="ordered"})};this.updateRecentColor=function(S,R,X){var Y=C(S).closest(".note-color");var V=Y.find(".note-recent-color");var U=JSON.parse(V.attr("data-value"));U[R]=X;V.attr("data-value",JSON.stringify(U));var W=R==="backColor"?"background-color":"color";V.find("i").css(W,X)}};var m=function(){var R=new L();this.update=function(S,U){R.update(S,U)};this.updateRecentColor=function(U,S,V){R.updateRecentColor(U,S,V)};this.activate=function(S){S.find("button").not('button[data-event="codeview"]').removeClass("disabled")};this.deactivate=function(S){S.find("button").not('button[data-event="codeview"]').addClass("disabled")};this.updateFullscreen=function(V,U){var S=V.find('button[data-event="fullscreen"]');S.toggleClass("active",U)};this.updateCodeview=function(V,S){var U=V.find('button[data-event="codeview"]');U.toggleClass("active",S);if(S){this.deactivate(V)}else{this.activate(V)}};this.get=function(S,V){var U=b.makeLayoutInfo(S).toolbar();return U.find("[data-name="+V+"]")};this.setButtonState=function(S,U,V){V=(V===false)?false:true;var W=this.get(S,U);W.toggleClass("active",V)}};var N=24;var x=function(){var R=C(document);this.attach=function(V,U){if(!U.disableResizeEditor){V.statusbar().on("mousedown",S)}};var S=function(X){X.preventDefault();X.stopPropagation();var U=b.makeLayoutInfo(X.target).editable();var W=U.offset().top-R.scrollTop();var Y=b.makeLayoutInfo(X.currentTarget||X.target);var V=Y.editor().data("options");R.on("mousemove",function(aa){var Z=aa.clientY-(W+N);Z=(V.minHeight>0)?Math.max(Z,V.minHeight):Z;Z=(V.maxHeight>0)?Math.min(Z,V.maxHeight):Z;U.height(Z)}).one("mouseup",function(){R.off("mousemove")})}};var z=function(){var S=new L();var R=function(ab,Y){var aa=Y&&Y.isAirMode;var Z=Y&&Y.isLeftTop;var X=C(ab);var ac=aa?X.offset():X.position();var W=Z?0:X.outerHeight(true);return{left:ac.left,top:ac.top+W}};var V=function(W,X){W.css({display:"block",left:X.left,top:X.top})};var U=20;this.update=function(Z,aa,Y){S.update(Z,aa);var ab=Z.find(".note-link-popover");if(aa.anchor){var ag=ab.find("a");var X=C(aa.anchor).attr("href");var ac=C(aa.anchor).attr("target");ag.attr("href",X).html(X);if(!ac){ag.removeAttr("target")}else{ag.attr("target","_blank")}V(ab,R(aa.anchor,{isAirMode:Y}))}else{ab.hide()}var W=Z.find(".note-image-popover");if(aa.image){V(W,R(aa.image,{isAirMode:Y,isLeftTop:false}))}else{W.hide()}var ad=Z.find(".note-air-popover");if(Y&&aa.range&&!aa.range.isCollapsed()){var af=s.last(aa.range.getClientRects());if(af){var ae=r.rect2bnd(af);V(ad,{left:Math.max(ae.left+ae.width/2-U,0),top:ae.top+ae.height})}}else{ad.hide()}};this.updateRecentColor=function(X,W,Y){X.updateRecentColor(X,W,Y)};this.hide=function(W){W.children().hide()}};var O=function(S){var U=C(document);var R=function(V){if(b.isControlSizing(V.target)){V.preventDefault();V.stopPropagation();var ab=b.makeLayoutInfo(V.target),W=ab.handle(),ad=ab.popover(),af=ab.editable(),X=ab.editor();var ae=W.find(".note-control-selection").data("target"),Z=C(ae),ac=Z.offset(),Y=U.scrollTop();var aa=X.data("options").airMode;U.on("mousemove",function(ag){S.invoke("editor.resizeTo",{x:ag.clientX-ac.left,y:ag.clientY-(ac.top-Y)},Z,!ag.shiftKey);S.invoke("handle.update",W,{image:ae},aa);S.invoke("popover.update",ad,{image:ae},aa)}).one("mouseup",function(){U.off("mousemove");S.invoke("editor.afterCommand",af)});if(!Z.data("ratio")){Z.data("ratio",Z.height()/Z.width())}}};this.attach=function(V){V.handle().on("mousedown",R)};this.update=function(ac,aa,Y){var V=ac.find(".note-control-selection");if(aa.image){var W=C(aa.image);var ab=Y?W.offset():W.position();var X={w:W.outerWidth(true),h:W.outerHeight(true)};V.css({display:"block",left:ab.left,top:ab.top,width:X.w,height:X.h}).data("target",aa.image);var Z=X.w+"x"+X.h;V.find(".note-control-selection-info").text(Z)}else{V.hide()}};this.hide=function(V){V.children().hide()}};var n=function(S){var U=C(window);var R=C("html, body");this.toggle=function(ab){var aa=ab.editor(),Y=ab.toolbar(),W=ab.editable(),V=ab.codable();var X=function(ac){W.css("height",ac.h);V.css("height",ac.h);if(V.data("cmeditor")){V.data("cmeditor").setsize(null,ac.h)}};aa.toggleClass("fullscreen");var Z=aa.hasClass("fullscreen");if(Z){W.data("orgheight",W.css("height"));U.on("resize",function(){X({h:U.height()-Y.outerHeight()})}).trigger("resize");R.css("overflow","hidden")}else{U.off("resize");X({h:W.data("orgheight")});R.css("overflow","visible")}S.invoke("toolbar.updateFullscreen",Y,Z)}};var t;if(P.hasCodeMirror){if(P.isSupportAmd){require(["CodeMirror"],function(R){t=R})}else{t=window.CodeMirror}}var y=function(R){this.sync=function(U){var S=R.invoke("codeview.isActivated",U);if(S&&P.hasCodeMirror){U.codable().data("cmEditor").save()}};this.isActivated=function(U){var S=U.editor();return S.hasClass("codeview")};this.toggle=function(S){if(this.isActivated(S)){this.deactivate(S)}else{this.activate(S)}};this.activate=function(Y){var V=Y.editor(),W=Y.toolbar(),ab=Y.editable(),aa=Y.codable(),Z=Y.popover(),U=Y.handle();var ac=V.data("options");aa.val(b.html(ab,ac.prettifyHtml));aa.height(ab.height());R.invoke("toolbar.updateCodeview",W,true);R.invoke("popover.hide",Z);R.invoke("handle.hide",U);V.addClass("codeview");aa.focus();if(P.hasCodeMirror){var S=t.fromTextArea(aa[0],ac.codemirror);if(ac.codemirror.tern){var X=new t.TernServer(ac.codemirror.tern);S.ternServer=X;S.on("cursorActivity",function(ad){X.updateArgHints(ad)})}S.setSize(null,ab.outerHeight());aa.data("cmEditor",S)}};this.deactivate=function(W){var X=W.holder(),U=W.editor(),V=W.toolbar(),ab=W.editable(),Z=W.codable();var ac=U.data("options");if(P.hasCodeMirror){var S=Z.data("cmEditor");Z.val(S.getValue());S.toTextArea()}var aa=b.value(Z,ac.prettifyHtml)||b.emptyPara;var Y=ab.html()!==aa;ab.html(aa);ab.height(ac.height?Z.height():"auto");U.removeClass("codeview");if(Y){R.bindCustomEvent(X,ab.data("callbacks"),"change")(ab.html(),ab)}ab.focus();R.invoke("toolbar.updateCodeview",V,false)}};var B=function(R){var S=C(document);this.attach=function(V,U){if(U.airMode||U.disableDragAndDrop){S.on("drop",function(W){W.preventDefault()})}else{this.attachDragAndDropEvent(V,U)}};this.attachDragAndDropEvent=function(X,U){var Y=C(),W=X.editor(),Z=X.dropzone(),V=Z.find(".note-dropzone-message");S.on("dragenter",function(ac){var ab=R.invoke("codeview.isActivated",X);var aa=W.width()>0&&W.height()>0;if(!ab&&!Y.length&&aa){W.addClass("dragover");Z.width(W.width());Z.height(W.height());V.text(U.langInfo.image.dragImageHere)}Y=Y.add(ac.target)}).on("dragleave",function(aa){Y=Y.not(aa.target);if(!Y.length){W.removeClass("dragover")}}).on("drop",function(){Y=C();W.removeClass("dragover")});Z.on("dragenter",function(){Z.addClass("hover");V.text(U.langInfo.image.dropImage)}).on("dragleave",function(){Z.removeClass("hover");V.text(U.langInfo.image.dragImageHere)});Z.on("drop",function(af){var ag=af.originalEvent.dataTransfer;var ah=b.makeLayoutInfo(af.currentTarget||af.target);if(ag&&ag.files&&ag.files.length){af.preventDefault();ah.editable().focus();R.insertImages(ah,ag.files)}else{var ab=function(){ah.holder().summernote("insertNode",this)};for(var ac=0,aa=ag.types.length;ac<aa;ac++){var ad=ag.types[ac];var ae=ag.getData(ad);if(ad.toLowerCase().indexOf("text")>-1){ah.holder().summernote("pasteHTML",ae)}else{C(ae).each(ab)}}}}).on("dragover",false)}};var o=function(V){var S;this.attach=function(W){if((P.isMSIE&&P.browserVersion>10)){S=C("<div />").attr("contenteditable",true).css({position:"absolute",left:-100000,opacity:0});W.editable().on("keydown",function(X){if(X.ctrlKey&&X.keyCode===q.code.V){V.invoke("saveRange",W.editable());S.focus();setTimeout(function(){R(W)},0)}});W.editable().before(S)}else{W.editable().on("paste",U)}};var R=function(Z){var ae=Z.editable();var Y=S[0].firstChild;if(b.isImg(Y)){var aa=Y.src;var ac=atob(aa.split(",")[1]);var ad=new Uint8Array(ac.length);for(var ab=0;ab<ac.length;ab++){ad[ab]=ac.charCodeAt(ab)}var W=new Blob([ad],{type:"image/png"});W.name="clipboard.png";V.invoke("restoreRange",ae);V.invoke("focus",ae);V.insertImages(Z,[W])}else{var X=C("<div />").html(S.html()).html();V.invoke("restoreRange",ae);V.invoke("focus",ae);if(X){V.invoke("pasteHTML",ae,X)}}S.empty()};var U=function(Y){var aa=Y.originalEvent.clipboardData;var Z=b.makeLayoutInfo(Y.currentTarget||Y.target);var W=Z.editable();if(aa&&aa.items&&aa.items.length){var X=s.head(aa.items);if(X.kind==="file"&&X.type.indexOf("image/")!==-1){V.insertImages(Z,[X.getAsFile()])}V.invoke("editor.afterCommand",W)}}};var I=function(R){var S=function(W,V){W.toggleClass("disabled",!V);W.attr("disabled",!V)};var U=function(W,V){W.on("keypress",function(X){if(X.keyCode===q.code.ENTER){V.trigger("click")}})};this.showLinkDialog=function(V,X,W){return C.Deferred(function(ab){var ac=X.find(".note-link-dialog");var aa=ac.find(".note-link-text"),ad=ac.find(".note-link-url"),Z=ac.find(".note-link-btn"),Y=ac.find("input[type=checkbox]");ac.one("shown.bs.modal",function(){aa.val(W.text);aa.on("input",function(){S(Z,aa.val()&&ad.val());W.text=aa.val()});if(!W.url){W.url=W.text||"http://";S(Z,W.text)}ad.on("input",function(){S(Z,aa.val()&&ad.val());if(!W.text){aa.val(ad.val())}}).val(W.url).trigger("focus").trigger("select");U(ad,Z);U(aa,Z);Y.prop("checked",W.isNewWindow);Z.one("click",function(ae){ae.preventDefault();ab.resolve({range:W.range,url:ad.val(),text:aa.val(),isNewWindow:Y.is(":checked")});ac.modal("hide")})}).one("hidden.bs.modal",function(){aa.off("input keypress");ad.off("input keypress");Z.off("click");if(ab.state()==="pending"){ab.reject()}}).modal("show")}).promise()};this.show=function(ab){var aa=ab.editor(),Z=ab.dialog(),V=ab.editable(),Y=ab.popover(),X=R.invoke("editor.getLinkInfo",V);var W=aa.data("options");R.invoke("editor.saveRange",V);this.showLinkDialog(V,Z,X).then(function(ac){R.invoke("editor.restoreRange",V);R.invoke("editor.createLink",V,ac,W);R.invoke("popover.hide",Y)}).fail(function(){R.invoke("editor.restoreRange",V)})}};var w=function(R){var S=function(W,V){W.toggleClass("disabled",!V);W.attr("disabled",!V)};var U=function(W,V){W.on("keypress",function(X){if(X.keyCode===q.code.ENTER){V.trigger("click")}})};this.show=function(X){var W=X.dialog(),V=X.editable();R.invoke("editor.saveRange",V);this.showImageDialog(V,W).then(function(Y){R.invoke("editor.restoreRange",V);if(typeof Y==="string"){R.invoke("editor.insertImage",V,Y)}else{R.insertImages(X,Y)}}).fail(function(){R.invoke("editor.restoreRange",V)})};this.showImageDialog=function(V,W){return C.Deferred(function(Z){var ab=W.find(".note-image-dialog");var aa=W.find(".note-image-input"),X=W.find(".note-image-url"),Y=W.find(".note-image-btn");ab.one("shown.bs.modal",function(){aa.replaceWith(aa.clone().on("change",function(){Z.resolve(this.files||this.value);ab.modal("hide")}).val(""));Y.click(function(ac){ac.preventDefault();Z.resolve(X.val());ab.modal("hide")});X.on("keyup paste",function(ad){var ac;if(ad.type==="paste"){ac=ad.originalEvent.clipboardData.getData("text")}else{ac=X.val()}S(Y,ac)}).val("").trigger("focus");U(X,Y)}).one("hidden.bs.modal",function(){aa.off("change");X.off("keyup paste keypress");Y.off("click");if(Z.state()==="pending"){Z.reject()}}).modal("show")})}};var c=function(R){this.showHelpDialog=function(S,U){return C.Deferred(function(V){var W=U.find(".note-help-dialog");W.one("hidden.bs.modal",function(){V.resolve()}).modal("show")}).promise()};this.show=function(V){var U=V.dialog(),S=V.editable();R.invoke("editor.saveRange",S,true);this.showHelpDialog(S,U).then(function(){R.invoke("editor.restoreRange",S)})}};var f=function(){var ad=this;var V=this.modules={editor:new u(this),toolbar:new m(this),statusbar:new x(this),popover:new z(this),handle:new O(this),fullscreen:new n(this),codeview:new y(this),dragAndDrop:new B(this),clipboard:new o(this),linkDialog:new I(this),imageDialog:new w(this),helpDialog:new c(this)};this.invoke=function(){var ai=s.head(s.from(arguments));var ag=s.tail(s.from(arguments));var ak=ai.split(".");var aj=ak.length>1;var af=aj&&s.head(ak);var ae=aj?s.last(ak):s.head(ak);var ah=this.getModule(af);var al=ah[ae];return al&&al.apply(ah,ag)};this.getModule=function(ae){return this.modules[ae]||this.modules.editor};var Z=this.bindCustomEvent=function(ag,af,ae){return function(){var ah=af[r.namespaceToCamel(ae,"on")];if(ah){ah.apply(ag[0],arguments)}return ag.trigger("summernote."+ae,arguments)}};this.insertImages=function(ak,ah){var aj=ak.editor(),ae=ak.editable(),ai=ak.holder();var ag=ae.data("callbacks");var af=aj.data("options");if(ag.onImageUpload){Z(ai,ag,"image.upload")(ah)}else{C.each(ah,function(al,an){var am=an.name;if(af.maximumImageFileSize&&af.maximumImageFileSize<an.size){Z(ai,ag,"image.upload.error")(af.langInfo.image.maximumFileSizeError)}else{H.readFileAsDataURL(an).then(function(ao){V.editor.insertImage(ae,ao,am)}).fail(function(){Z(ai,ag,"image.upload.error")(af.langInfo.image.maximumFileSizeError)})}})}};var U={showLinkDialog:function(ae){V.linkDialog.show(ae)},showImageDialog:function(ae){V.imageDialog.show(ae)},showHelpDialog:function(ae){V.helpDialog.show(ae)},fullscreen:function(ae){V.fullscreen.toggle(ae)},codeview:function(ae){V.codeview.toggle(ae)}};var ac=function(ae){if(b.isImg(ae.target)){ae.preventDefault()}};var ab=function(ae){var af=b.makeLayoutInfo(ae.currentTarget||ae.target);V.editor.removeBogus(af.editable());R(ae)};this.updateStyleInfo=function(ag,af){if(!ag){return}var ae=af.editor().data("options").airMode;if(!ae){V.toolbar.update(af.toolbar(),ag)}V.popover.update(af.popover(),ag,ae);V.handle.update(af.handle(),ag,ae)};var R=function(ae){var af=ae.target;setTimeout(function(){var ag=b.makeLayoutInfo(af);var ah=V.editor.currentStyle(af);ad.updateStyleInfo(ah,ag)},0)};var X=function(ae){var af=b.makeLayoutInfo(ae.currentTarget||ae.target);V.popover.hide(af.popover());V.handle.hide(af.handle())};var aa=function(af){var ae=C(af.target).closest("[data-event]");if(ae.length){af.preventDefault()}};var S=function(ae){var al=C(ae.target).closest("[data-event]");if(!al.length){return}var ak=al.attr("data-event"),am=al.attr("data-value"),aj=al.attr("data-hide");var ah=b.makeLayoutInfo(ae.target);var ag;if(C.inArray(ak,["resize","floatMe","removeMedia","imageShape"])!==-1){var ai=ah.handle().find(".note-control-selection");ag=C(ai.data("target"))}if(aj){al.parents(".popover").hide()}if(C.isFunction(C.summernote.pluginEvents[ak])){C.summernote.pluginEvents[ak](ae,V.editor,ah,am)}else{if(V.editor[ak]){var an=ah.editable();an.focus();V.editor[ak](an,am,ag);ae.preventDefault()}else{if(U[ak]){U[ak].call(this,ah);ae.preventDefault()}}}if(C.inArray(ak,["backColor","foreColor"])!==-1){var ao=ah.editor().data("options",ao);var af=ao.airMode?V.popover:V.toolbar;af.updateRecentColor(s.head(al),ak,am)}R(ae)};var Y=18;var W=function(af,an){var ah=C(af.target.parentNode);var ag=ah.next();var am=ah.find(".note-dimension-picker-mousecatcher");var ai=ah.find(".note-dimension-picker-highlighted");var aj=ah.find(".note-dimension-picker-unhighlighted");var al;if(af.offsetX===undefined){var ae=C(af.target).offset();al={x:af.pageX-ae.left,y:af.pageY-ae.top}}else{al={x:af.offsetX,y:af.offsetY}}var ak={c:Math.ceil(al.x/Y)||1,r:Math.ceil(al.y/Y)||1};ai.css({width:ak.c+"em",height:ak.r+"em"});am.attr("data-value",ak.c+"x"+ak.r);if(3<ak.c&&ak.c<an.insertTableMaxSize.col){aj.css({width:ak.c+1+"em"})}if(3<ak.r&&ak.r<an.insertTableMaxSize.row){aj.css({height:ak.r+1+"em"})}ag.html(ak.c+" x "+ak.r)};this.bindKeyMap=function(ag,ah){var af=ag.editor();var ae=ag.editable();ae.on("keydown",function(an){var am=[];if(an.metaKey){am.push("CMD")}if(an.ctrlKey&&!an.altKey){am.push("CTRL")}if(an.shiftKey){am.push("SHIFT")}var al=q.nameFromCode[an.keyCode];if(al){am.push(al)}var ak;var aj=am.join("+");var ai=ah[aj];if(ai){ak=C.summernote.pluginEvents[aj];if(C.isFunction(ak)){if(ak(an,V.editor,ag)){return false}}ak=C.summernote.pluginEvents[ai];if(C.isFunction(ak)){ak(an,V.editor,ag)}else{if(V.editor[ai]){V.editor[ai](ae,af.data("options"));an.preventDefault()}else{if(U[ai]){U[ai].call(this,ag);an.preventDefault()}}}}else{if(q.isEdit(an.keyCode)){V.editor.afterCommand(ae)}}})};this.attach=function(ah,af){if(af.shortcuts){this.bindKeyMap(ah,af.keyMap[P.isMac?"mac":"pc"])}ah.editable().on("mousedown",ac);ah.editable().on("keyup mouseup",ab);ah.editable().on("scroll",X);V.clipboard.attach(ah,af);V.handle.attach(ah,af);ah.popover().on("click",S);ah.popover().on("mousedown",aa);V.dragAndDrop.attach(ah,af);if(!af.airMode){ah.toolbar().on("click",S);ah.toolbar().on("mousedown",aa);V.statusbar.attach(ah,af)}var ae=af.airMode?ah.popover():ah.toolbar();var aj=ae.find(".note-dimension-picker-mousecatcher");aj.css({width:af.insertTableMaxSize.col+"em",height:af.insertTableMaxSize.row+"em"}).on("mousemove",function(ak){W(ak,af)});ah.editor().data("options",af);if(!P.isMSIE){setTimeout(function(){document.execCommand("styleWithCSS",0,af.styleWithSpan)},0)}var ag=new j(ah.editable());ah.editable().data("NoteHistory",ag);ah.editable().data("callbacks",{onInit:af.onInit,onFocus:af.onFocus,onBlur:af.onBlur,onKeydown:af.onKeydown,onKeyup:af.onKeyup,onMousedown:af.onMousedown,onEnter:af.onEnter,onPaste:af.onPaste,onBeforeCommand:af.onBeforeCommand,onChange:af.onChange,onImageUpload:af.onImageUpload,onImageUploadError:af.onImageUploadError,onMediaDelete:af.onMediaDelete,onToolbarClick:af.onToolbarClick});var ai=V.editor.styleFromNode(ah.editable());this.updateStyleInfo(ai,ah)};this.attachCustomEvent=function(al,ag){var ak=al.holder();var af=al.editable();var aj=af.data("callbacks");af.focus(Z(ak,aj,"focus"));af.blur(Z(ak,aj,"blur"));af.keydown(function(am){if(am.keyCode===q.code.ENTER){Z(ak,aj,"enter").call(this,am)}Z(ak,aj,"keydown").call(this,am)});af.keyup(Z(ak,aj,"keyup"));af.on("mousedown",Z(ak,aj,"mousedown"));af.on("mouseup",Z(ak,aj,"mouseup"));af.on("scroll",Z(ak,aj,"scroll"));af.on("paste",Z(ak,aj,"paste"));var ai=P.isMSIE?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input";af.on(ai,function(){Z(ak,aj,"change")(af.html(),af)});if(!ag.airMode){al.toolbar().click(Z(ak,aj,"toolbar.click"));al.popover().click(Z(ak,aj,"popover.click"))}if(b.isTextarea(s.head(ak))){ak.closest("form").submit(function(am){al.holder().val(al.holder().code());Z(ak,aj,"submit").call(this,am,ak.code())})}if(b.isTextarea(s.head(ak))&&ag.textareaAutoSync){ak.on("summernote.change",function(){al.holder().val(al.holder().code())})}Z(ak,aj,"init")(al);for(var ah=0,ae=C.summernote.plugins.length;ah<ae;ah++){if(C.isFunction(C.summernote.plugins[ah].init)){C.summernote.plugins[ah].init(al)}}};this.detach=function(af,ae){af.holder().off();af.editable().off();af.popover().off();af.handle().off();af.dialog().off();if(!ae.airMode){af.dropzone().off();af.toolbar().off();af.statusbar().off()}}};var g=function(){var U=function(ap,ao){var at=ao.event;var au=ao.value;var av=ao.title;var ar=ao.className;var aw=ao.dropdown;var aq=ao.hide;return(aw?'<div class="btn-group'+(ar?" "+ar:"")+'">':"")+'<button type="button" class="btn btn-default btn-sm'+((!aw&&ar)?" "+ar:"")+(aw?" dropdown-toggle":"")+'"'+(aw?' data-toggle="dropdown"':"")+(av?' title="'+av+'"':"")+(at?' data-event="'+at+'"':"")+(au?" data-value='"+au+"'":"")+(aq?" data-hide='"+aq+"'":"")+' tabindex="-1">'+ap+(aw?' <span class="caret"></span>':"")+"</button>"+(aw||"")+(aw?"</div>":"")};var Y=function(aq,ap){var ao='<i class="'+aq+'"></i>';return U(ao,ap)};var ad=function(ao,aq){var ap=C('<div class="'+ao+' popover bottom in" style="display: none;"><div class="arrow"></div><div class="popover-content"></div></div>');ap.find(".popover-content").append(aq);return ap};var an=function(ap,aq,ao,ar){return'<div class="'+ap+' modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content">'+(aq?'<div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4 class="modal-title">'+aq+"</h4></div>":"")+'<div class="modal-body">'+ao+"</div>"+(ar?'<div class="modal-footer">'+ar+"</div>":"")+"</div></div></div>"};var ag=function(aq,ap,ar){var ao="dropdown-menu"+(ap?" "+ap:"");ar=ar||"ul";if(aq instanceof Array){aq=aq.join("")}return"<"+ar+' class="'+ao+'">'+aq+"</"+ar+">"};var aj={picture:function(ap,ao){return Y(ao.iconPrefix+ao.icons.image.image,{event:"showImageDialog",title:ap.image.image,hide:true})},link:function(ap,ao){return Y(ao.iconPrefix+ao.icons.link.link,{event:"showLinkDialog",title:ap.link.link,hide:true})},table:function(ap,ao){var aq=['<div class="note-dimension-picker">','<div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div>','<div class="note-dimension-picker-highlighted"></div>','<div class="note-dimension-picker-unhighlighted"></div>',"</div>",'<div class="note-dimension-display"> 1 x 1 </div>'];return Y(ao.iconPrefix+ao.icons.table.table,{title:ap.table.table,dropdown:ag(aq,"note-table")})},style:function(aq,ap){var ao=ap.styleTags.reduce(function(at,ar){var au=aq.style[ar==="p"?"normal":ar];return at+'<li><a data-event="formatBlock" href="#" data-value="'+ar+'">'+((ar==="p"||ar==="pre")?au:"<"+ar+">"+au+"</"+ar+">")+"</a></li>"},"");return Y(ap.iconPrefix+ap.icons.style.style,{title:aq.style.style,dropdown:ag(ao)})},fontname:function(au,aq){var at=[];var ao=aq.fontNames.reduce(function(ax,aw){if(!P.isFontInstalled(aw)&&!s.contains(aq.fontNamesIgnoreCheck,aw)){return ax}at.push(aw);return ax+'<li><a data-event="fontName" href="#" data-value="'+aw+'" style="font-family:\''+aw+'\'"><i class="'+aq.iconPrefix+aq.icons.misc.check+'"></i> '+aw+"</a></li>"},"");var av=P.isFontInstalled(aq.defaultFontName);var ar=(av)?aq.defaultFontName:at[0];var ap='<span class="note-current-fontname">'+ar+"</span>";return U(ap,{title:au.font.name,className:"note-fontname",dropdown:ag(ao,"note-check")})},fontsize:function(ar,aq){var ao=aq.fontSizes.reduce(function(au,at){return au+'<li><a data-event="fontSize" href="#" data-value="'+at+'"><i class="'+aq.iconPrefix+aq.icons.misc.check+'"></i> '+at+"</a></li>"},"");var ap='<span class="note-current-fontsize">11</span>';return U(ap,{title:ar.font.size,className:"note-fontsize",dropdown:ag(ao,"note-check")})},color:function(au,aq){var at='<i class="'+aq.iconPrefix+aq.icons.color.recent+'" style="color:black;background-color:yellow;"></i>';var ap=U(at,{className:"note-recent-color",title:au.color.recent,event:"color",value:'{"backColor":"yellow"}'});var ao=['<li><div class="btn-group">','<div class="note-palette-title">'+au.color.background+"</div>",'<div class="note-color-reset" data-event="backColor"',' data-value="inherit" title="'+au.color.transparent+'">'+au.color.setTransparent+"</div>",'<div class="note-color-palette" data-target-event="backColor"></div>','</div><div class="btn-group">','<div class="note-palette-title">'+au.color.foreground+"</div>",'<div class="note-color-reset" data-event="foreColor" data-value="inherit" title="'+au.color.reset+'">',au.color.resetToDefault,"</div>",'<div class="note-color-palette" data-target-event="foreColor"></div>',"</div></li>"];var ar=U("",{title:au.color.more,dropdown:ag(ao)});return ap+ar},bold:function(ap,ao){return Y(ao.iconPrefix+ao.icons.font.bold,{event:"bold",title:ap.font.bold})},italic:function(ap,ao){return Y(ao.iconPrefix+ao.icons.font.italic,{event:"italic",title:ap.font.italic})},underline:function(ap,ao){return Y(ao.iconPrefix+ao.icons.font.underline,{event:"underline",title:ap.font.underline})},strikethrough:function(ap,ao){return Y(ao.iconPrefix+ao.icons.font.strikethrough,{event:"strikethrough",title:ap.font.strikethrough})},superscript:function(ap,ao){return Y(ao.iconPrefix+ao.icons.font.superscript,{event:"superscript",title:ap.font.superscript})},subscript:function(ap,ao){return Y(ao.iconPrefix+ao.icons.font.subscript,{event:"subscript",title:ap.font.subscript})},clear:function(ap,ao){return Y(ao.iconPrefix+ao.icons.font.clear,{event:"removeFormat",title:ap.font.clear})},ul:function(ap,ao){return Y(ao.iconPrefix+ao.icons.lists.unordered,{event:"insertUnorderedList",title:ap.lists.unordered})},ol:function(ap,ao){return Y(ao.iconPrefix+ao.icons.lists.ordered,{event:"insertOrderedList",title:ap.lists.ordered})},paragraph:function(ao,ax){var ap=Y(ax.iconPrefix+ax.icons.paragraph.left,{title:ao.paragraph.left,event:"justifyLeft"});var au=Y(ax.iconPrefix+ax.icons.paragraph.center,{title:ao.paragraph.center,event:"justifyCenter"});var ar=Y(ax.iconPrefix+ax.icons.paragraph.right,{title:ao.paragraph.right,event:"justifyRight"});var aq=Y(ax.iconPrefix+ax.icons.paragraph.justify,{title:ao.paragraph.justify,event:"justifyFull"});var av=Y(ax.iconPrefix+ax.icons.paragraph.outdent,{title:ao.paragraph.outdent,event:"outdent"});var at=Y(ax.iconPrefix+ax.icons.paragraph.indent,{title:ao.paragraph.indent,event:"indent"});var aw=['<div class="note-align btn-group">',ap+au+ar+aq,'</div><div class="note-list btn-group">',at+av,"</div>"];return Y(ax.iconPrefix+ax.icons.paragraph.paragraph,{title:ao.paragraph.paragraph,dropdown:ag(aw,"","div")})},height:function(aq,ap){var ao=ap.lineHeights.reduce(function(at,ar){return at+'<li><a data-event="lineHeight" href="#" data-value="'+parseFloat(ar)+'"><i class="'+ap.iconPrefix+ap.icons.misc.check+'"></i> '+ar+"</a></li>"},"");return Y(ap.iconPrefix+ap.icons.font.height,{title:aq.font.height,dropdown:ag(ao,"note-check")})},help:function(ap,ao){return Y(ao.iconPrefix+ao.icons.options.help,{event:"showHelpDialog",title:ap.options.help,hide:true})},fullscreen:function(ap,ao){return Y(ao.iconPrefix+ao.icons.options.fullscreen,{event:"fullscreen",title:ap.options.fullscreen})},codeview:function(ap,ao){return Y(ao.iconPrefix+ao.icons.options.codeview,{event:"codeview",title:ap.options.codeview})},undo:function(ap,ao){return Y(ao.iconPrefix+ao.icons.history.undo,{event:"undo",title:ap.history.undo})},redo:function(ap,ao){return Y(ao.iconPrefix+ao.icons.history.redo,{event:"redo",title:ap.history.redo})},hr:function(ap,ao){return Y(ao.iconPrefix+ao.icons.hr.insert,{event:"insertHorizontalRule",title:ap.hr.insert})}};var V=function(au,ao){var at=function(){var av=Y(ao.iconPrefix+ao.icons.link.edit,{title:au.link.edit,event:"showLinkDialog",hide:true});var ax=Y(ao.iconPrefix+ao.icons.link.unlink,{title:au.link.unlink,event:"unlink"});var aw='<a href="http://www.google.com" target="_blank">www.google.com</a>&nbsp;&nbsp;<div class="note-insert btn-group">'+av+ax+"</div>";return ad("note-link-popover",aw)};var aq=function(){var ax=U('<span class="note-fontsize-10">100%</span>',{title:au.image.resizeFull,event:"resize",value:"1"});var av=U('<span class="note-fontsize-10">50%</span>',{title:au.image.resizeHalf,event:"resize",value:"0.5"});var aC=U('<span class="note-fontsize-10">25%</span>',{title:au.image.resizeQuarter,event:"resize",value:"0.25"});var aw=Y(ao.iconPrefix+ao.icons.image.floatLeft,{title:au.image.floatLeft,event:"floatMe",value:"left"});var aE=Y(ao.iconPrefix+ao.icons.image.floatRight,{title:au.image.floatRight,event:"floatMe",value:"right"});var aB=Y(ao.iconPrefix+ao.icons.image.floatNone,{title:au.image.floatNone,event:"floatMe",value:"none"});var ay=Y(ao.iconPrefix+ao.icons.image.shapeRounded,{title:au.image.shapeRounded,event:"imageShape",value:"img-rounded"});var aF=Y(ao.iconPrefix+ao.icons.image.shapeCircle,{title:au.image.shapeCircle,event:"imageShape",value:"img-circle"});var aA=Y(ao.iconPrefix+ao.icons.image.shapeThumbnail,{title:au.image.shapeThumbnail,event:"imageShape",value:"img-thumbnail"});var aG=Y(ao.iconPrefix+ao.icons.image.shapeNone,{title:au.image.shapeNone,event:"imageShape",value:""});var az=Y(ao.iconPrefix+ao.icons.image.remove,{title:au.image.remove,event:"removeMedia",value:"none"});var aD=(ao.disableResizeImage?"":'<div class="btn-group">'+ax+av+aC+"</div>")+'<div class="btn-group">'+aw+aE+aB+'</div><br><div class="btn-group">'+ay+aF+aA+aG+'</div><div class="btn-group">'+az+"</div>";return ad("note-image-popover",aD)};var ap=function(){var ax=C("<div />");for(var aw=0,av=ao.airPopover.length;aw<av;aw++){var aC=ao.airPopover[aw];var az=C('<div class="note-'+aC[0]+' btn-group">');for(var ay=0,aB=aC[1].length;ay<aB;ay++){var aA=C(aj[aC[1][ay]](au,ao));aA.attr("data-name",aC[1][ay]);az.append(aA)}ax.append(az)}return ad("note-air-popover",ax.children())};var ar=C('<div class="note-popover" />');ar.append(at());ar.append(aq());if(ao.airMode){ar.append(ap())}return ar};var am=function(ao){return'<div class="note-handle"><div class="note-control-selection"><div class="note-control-selection-bg"></div><div class="note-control-holder note-control-nw"></div><div class="note-control-holder note-control-ne"></div><div class="note-control-holder note-control-sw"></div><div class="'+(ao.disableResizeImage?"note-control-holder":"note-control-sizing")+' note-control-se"></div>'+(ao.disableResizeImage?"":'<div class="note-control-selection-info"></div>')+"</div></div>"};var ab=function(at,aq){var ar="note-shortcut-col col-xs-6 note-shortcut-";var ao=[];for(var ap in aq){if(aq.hasOwnProperty(ap)){ao.push('<div class="'+ar+'key">'+aq[ap].kbd+'</div><div class="'+ar+'name">'+aq[ap].text+"</div>")}}return'<div class="note-shortcut-row row"><div class="'+ar+'title col-xs-offset-6">'+at+'</div></div><div class="note-shortcut-row row">'+ao.join('</div><div class="note-shortcut-row row">')+"</div>"};var R=function(ap){var ao=[{kbd:"Ã¢Å’Ëœ + B",text:ap.font.bold},{kbd:"Ã¢Å’Ëœ + I",text:ap.font.italic},{kbd:"Ã¢Å’Ëœ + U",text:ap.font.underline},{kbd:"Ã¢Å’Ëœ + \\",text:ap.font.clear}];return ab(ap.shortcut.textFormatting,ao)};var al=function(ap){var ao=[{kbd:"Ã¢Å’Ëœ + Z",text:ap.history.undo},{kbd:"Ã¢Å’Ëœ + Ã¢â€¡Â§ + Z",text:ap.history.redo},{kbd:"Ã¢Å’Ëœ + ]",text:ap.paragraph.indent},{kbd:"Ã¢Å’Ëœ + [",text:ap.paragraph.outdent},{kbd:"Ã¢Å’Ëœ + ENTER",text:ap.hr.insert}];return ab(ap.shortcut.action,ao)};var af=function(ap){var ao=[{kbd:"Ã¢Å’Ëœ + Ã¢â€¡Â§ + L",text:ap.paragraph.left},{kbd:"Ã¢Å’Ëœ + Ã¢â€¡Â§ + E",text:ap.paragraph.center},{kbd:"Ã¢Å’Ëœ + Ã¢â€¡Â§ + R",text:ap.paragraph.right},{kbd:"Ã¢Å’Ëœ + Ã¢â€¡Â§ + J",text:ap.paragraph.justify},{kbd:"Ã¢Å’Ëœ + Ã¢â€¡Â§ + NUM7",text:ap.lists.ordered},{kbd:"Ã¢Å’Ëœ + Ã¢â€¡Â§ + NUM8",text:ap.lists.unordered}];return ab(ap.shortcut.paragraphFormatting,ao)};var ai=function(ap){var ao=[{kbd:"Ã¢Å’Ëœ + NUM0",text:ap.style.normal},{kbd:"Ã¢Å’Ëœ + NUM1",text:ap.style.h1},{kbd:"Ã¢Å’Ëœ + NUM2",text:ap.style.h2},{kbd:"Ã¢Å’Ëœ + NUM3",text:ap.style.h3},{kbd:"Ã¢Å’Ëœ + NUM4",text:ap.style.h4},{kbd:"Ã¢Å’Ëœ + NUM5",text:ap.style.h5},{kbd:"Ã¢Å’Ëœ + NUM6",text:ap.style.h6}];return ab(ap.shortcut.documentStyle,ao)};var W=function(at,ao){var aq=ao.extraKeys;var ar=[];for(var ap in aq){if(aq.hasOwnProperty(ap)){ar.push({kbd:ap,text:aq[ap]})}}return ab(at.shortcut.extraKeys,ar)};var ak=function(ar,ao){var aq='class="note-shortcut note-shortcut-col col-sm-6 col-xs-12"';var ap=["<div "+aq+">"+al(ar,ao)+"</div><div "+aq+">"+R(ar,ao)+"</div>","<div "+aq+">"+ai(ar,ao)+"</div><div "+aq+">"+af(ar,ao)+"</div>"];if(ao.extraKeys){ap.push("<div "+aq+">"+W(ar,ao)+"</div>")}return'<div class="note-shortcut-row row">'+ap.join('</div><div class="note-shortcut-row row">')+"</div>"};var ac=function(ao){return ao.replace(/Ã¢Å’Ëœ/g,"Ctrl").replace(/Ã¢â€¡Â§/g,"Shift")};var ae={image:function(au,ap){var ar="";if(ap.maximumImageFileSize){var aq=Math.floor(Math.log(ap.maximumImageFileSize)/Math.log(1024));var at=(ap.maximumImageFileSize/Math.pow(1024,aq)).toFixed(2)*1+" "+" KMGTP"[aq]+"B";ar="<small>"+au.image.maximumFileSize+" : "+at+"</small>"}var ao='<div class="form-group row note-group-select-from-files"><label>'+au.image.selectFromFiles+'</label><input class="note-image-input form-control" type="file" name="files" accept="image/*" multiple="multiple" />'+ar+'</div><div class="form-group row"><label>'+au.image.url+'</label><input class="note-image-url form-control col-md-12" type="text" /></div>';var av='<button href="#" class="btn btn-primary note-image-btn disabled" disabled>'+au.image.insert+"</button>";return an("note-image-dialog",au.image.insert,ao,av)},link:function(aq,ap){var ao='<div class="form-group row"><label>'+aq.link.textToDisplay+'</label><input class="note-link-text form-control col-md-12" type="text" /></div><div class="form-group row"><label>'+aq.link.url+'</label><input class="note-link-url form-control col-md-12" type="text" value="http://" /></div>'+(!ap.disableLinkTarget?'<div class="checkbox"><label><input type="checkbox" checked> '+aq.link.openInNewWindow+"</label></div>":"");var ar='<button href="#" class="btn btn-primary note-link-btn disabled" disabled>'+aq.link.insert+"</button>";return an("note-link-dialog",aq.link.insert,ao,ar)},help:function(aq,ap){var ao='<a class="modal-close pull-right" aria-hidden="true" tabindex="-1">'+aq.shortcut.close+'</a><div class="title">'+aq.shortcut.shortcuts+"</div>"+(P.isMac?ak(aq,ap):ac(ak(aq,ap)))+'<p class="text-center"><a href="//summernote.org/" target="_blank">Summernote 0.6.16</a> Ã‚Â· <a href="//github.com/summernote/summernote" target="_blank">Project</a> Ã‚Â· <a href="//github.com/summernote/summernote/issues" target="_blank">Issues</a></p>';return an("note-help-dialog","",ao,"")}};var S=function(aq,ao){var ap="";C.each(ae,function(ar,at){ap+=at(aq,ao)});return'<div class="note-dialog">'+ap+"</div>"};var aa=function(){return'<div class="note-resizebar"><div class="note-icon-bar"></div><div class="note-icon-bar"></div><div class="note-icon-bar"></div></div>'};var Z=function(ao){if(P.isMac){ao=ao.replace("CMD","Ã¢Å’Ëœ").replace("SHIFT","Ã¢â€¡Â§")}return ao.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]")};var ah=function(ar,at,ao){var aq=r.invertObject(at);var ap=ar.find("button");ap.each(function(av,ax){var aw=C(ax);var au=aq[aw.data("event")];if(au){aw.attr("title",function(az,ay){return ay+" ("+Z(au)+")"})}}).tooltip({container:"body",trigger:"hover",placement:ao||"top"}).on("click",function(){C(this).tooltip("hide")})};var X=function(aq,ao){var ap=ao.colors;aq.find(".note-color-palette").each(function(){var ay=C(this),aw=ay.attr("data-target-event");var au=[];for(var aB=0,ax=ap.length;aB<ax;aB++){var ar=ap[aB];var az=[];for(var at=0,aA=ar.length;at<aA;at++){var av=ar[at];az.push(['<button type="button" class="note-color-btn" style="background-color:',av,';" data-event="',aw,'" data-value="',av,'" title="',av,'" data-toggle="button" tabindex="-1"></button>'].join(""))}au.push('<div class="note-color-row">'+az.join("")+"</div>")}ay.html(au.join(""))})};this.createLayoutByAirMode=function(ar,ax){var aw=ax.langInfo;var av=ax.keyMap[P.isMac?"mac":"pc"];var ao=r.uniqueId();ar.addClass("note-air-editor note-editable panel-body");ar.attr({id:"note-editor-"+ao,contentEditable:true});var au=document.body;var at=C(V(aw,ax));at.addClass("note-air-layout");at.attr("id","note-popover-"+ao);at.appendTo(au);ah(at,av);X(at,ax);var ap=C(am(ax));ap.addClass("note-air-layout");ap.attr("id","note-handle-"+ao);ap.appendTo(au);var aq=C(S(aw,ax));aq.addClass("note-air-layout");aq.attr("id","note-dialog-"+ao);aq.find("button.close, a.modal-close").click(function(){C(this).closest(".modal").modal("hide")});aq.appendTo(au)};this.createLayoutByFrame=function(aC,ap){var aE=ap.langInfo;var av=C('<div class="note-editor panel panel-default" />');if(ap.width){av.width(ap.width)}if(ap.height>0){C('<div class="note-statusbar">'+(ap.disableResizeEditor?"":aa())+"</div>").prependTo(av)}var ao=C('<div class="note-editing-area" />');var aG=!aC.is(":disabled");var aJ=C('<div class="note-editable panel-body" contentEditable="'+aG+'"></div>').prependTo(ao);if(ap.height){aJ.height(ap.height)}if(ap.direction){aJ.attr("dir",ap.direction)}var at=aC.attr("placeholder")||ap.placeholder;if(at){aJ.attr("data-placeholder",at)}aJ.html(b.html(aC)||b.emptyPara);C('<textarea class="note-codable"></textarea>').prependTo(ao);var ar=C(V(aE,ap)).prependTo(ao);X(ar,ap);ah(ar,aB);C(am(ap)).prependTo(ao);ao.prependTo(av);var aK=C('<div class="note-toolbar panel-heading" />');for(var az=0,aF=ap.toolbar.length;az<aF;az++){var ax=ap.toolbar[az][0];var ay=ap.toolbar[az][1];var aI=C('<div class="note-'+ax+' btn-group" />');for(var aD=0,aA=ay.length;aD<aA;aD++){var au=aj[ay[aD]];if(!C.isFunction(au)){continue}var aq=C(au(aE,ap));aq.attr("data-name",ay[aD]);aI.append(aq)}aK.append(aI)}var aB=ap.keyMap[P.isMac?"mac":"pc"];X(aK,ap);ah(aK,aB,"bottom");aK.prependTo(av);C('<div class="note-dropzone"><div class="note-dropzone-message"></div></div>').prependTo(av);var aw=ap.dialogsInBody?C(document.body):av;var aH=C(S(aE,ap)).prependTo(aw);aH.find("button.close, a.modal-close").click(function(){C(this).closest(".modal").modal("hide")});av.insertAfter(aC);aC.hide()};this.hasNoteEditor=function(ao){return this.noteEditorFromHolder(ao).length>0};this.noteEditorFromHolder=function(ao){if(ao.hasClass("note-air-editor")){return ao}else{if(ao.next().hasClass("note-editor")){return ao.next()}else{return C()}}};this.createLayout=function(ap,ao){if(ao.airMode){this.createLayoutByAirMode(ap,ao)}else{this.createLayoutByFrame(ap,ao)}};this.layoutInfoFromHolder=function(ao){var ap=this.noteEditorFromHolder(ao);if(!ap.length){return}ap.data("holder",ao);return b.buildLayoutInfo(ap)};this.removeLayout=function(ap,aq,ao){if(ao.airMode){ap.removeClass("note-air-editor note-editable").removeAttr("id contentEditable");aq.popover().remove();aq.handle().remove();aq.dialog().remove()}else{ap.html(aq.editable().html());if(ao.dialogsInBody){aq.dialog().remove()}aq.editor().remove();ap.show()}};this.getTemplate=function(){return{button:U,iconButton:Y,dialog:an,dropdown:ag}};this.addButtonInfo=function(ao,ap){aj[ao]=ap};this.addDialogInfo=function(ap,ao){ae[ap]=ao}};C.summernote=C.summernote||{};C.extend(C.summernote,E);var F=new g();var p=new f();C.extend(C.summernote,{renderer:F,eventHandler:p,core:{agent:P,list:s,dom:b,range:k},pluginEvents:{},plugins:[]});C.summernote.addPlugin=function(R){C.summernote.plugins.push(R);if(R.buttons){C.each(R.buttons,function(S,U){F.addButtonInfo(S,U)})}if(R.dialogs){C.each(R.dialogs,function(S,U){F.addDialogInfo(S,U)})}if(R.events){C.each(R.events,function(S,U){C.summernote.pluginEvents[S]=U})}if(R.langs){C.each(R.langs,function(S,U){if(C.summernote.lang[S]){C.extend(C.summernote.lang[S],U)}})}if(R.options){C.extend(C.summernote.options,R.options)}};C.fn.extend({summernote:function(){var aa=C.type(s.head(arguments));var R=aa==="string";var ab=aa==="object";var ad=ab?s.head(arguments):{};ad=C.extend({},C.summernote.options,ad);ad.icons=C.extend({},C.summernote.options.icons,ad.icons);ad.langInfo=C.extend(true,{},C.summernote.lang["en-US"],C.summernote.lang[ad.lang]);if(!R&&ab){for(var W=0,Y=C.summernote.plugins.length;W<Y;W++){var X=C.summernote.plugins[W];if(ad.plugin[X.name]){C.summernote.plugins[W]=C.extend(true,X,ad.plugin[X.name])}}}this.each(function(ae,af){var ag=C(af);if(!F.hasNoteEditor(ag)){F.createLayout(ag,ad);var ah=F.layoutInfoFromHolder(ag);ag.data("layoutInfo",ah);p.attach(ah,ad);p.attachCustomEvent(ah,ad)}});var V=this.first();if(V.length){var S=F.layoutInfoFromHolder(V);if(R){var ac=s.head(s.from(arguments));var Z=s.tail(s.from(arguments));var U=[ac,S.editable()].concat(Z);return p.invoke.apply(p,U)}else{if(ad.focus){S.editable().focus()}}}return this},code:function(U){if(U===undefined){var V=this.first();if(!V.length){return}var W=F.layoutInfoFromHolder(V);var S=W&&W.editable();if(S&&S.length){var R=p.invoke("codeview.isActivated",W);p.invoke("codeview.sync",W);return R?W.codable().val():W.editable().html()}return b.value(V)}this.each(function(Z,Y){var aa=F.layoutInfoFromHolder(C(Y));var X=aa&&aa.editable();if(X){X.html(U)}});return this},destroy:function(){this.each(function(R,U){var V=C(U);if(!F.hasNoteEditor(V)){return}var W=F.layoutInfoFromHolder(V);var S=W.editor().data("options");p.detach(W,S);F.removeLayout(V,W,S)});return this}})}));+function(){$.summernote.lang.custom={font:{bold:M.BOLD,italic:M.ITALIC,underline:M.UNDERLINE,clear:M.REMOVE_FONT_STYLE,height:M.LINE_HEIGHT,name:M.FONT,strikethrough:M.STRIKETHROUGH,subscript:M.SUBSCRIPT,superscript:M.SUPERSCRIPT,size:M.FONT_SIZE},image:{image:M.PICTURE_LBL,insert:M.INSERT_IMAGE,resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",remove:M.REMOVE_IMAGE},link:{link:M.LINK,insert:M.INSERT_LINK,unlink:M.UNLINK,edit:M.EDIT,textToDisplay:M.TEXT_TO_DISPLAY},style:{style:M.STYLE,normal:M.STYLE_NORMAL,blockquote:M.STYLE_QUOTE,pre:M.CODE_WIDGET_NAME,h1:M.HEADING_LBL+" 1",h2:M.HEADING_LBL+" 2",h3:M.HEADING_LBL+" 3",h4:M.HEADING_LBL+" 4",h5:M.HEADING_LBL+" 5",h6:M.HEADING_LBL+" 6"},lists:{unordered:M.UNORDERED_LIST,ordered:M.ORDERED_LIST},paragraph:{paragraph:M.PARAGRAPH,outdent:M.OUTDENT,indent:M.INDENT,left:M.ALIGN_LEFT,center:M.ALIGN_CENTER,right:M.ALIGN_RIGHT,justify:M.JUSTIFY},color:{background:M.BACKGROUND_COLOR,foreground:M.TEXT_COLOR},shortcut:{shortcuts:"Keyboard shortcuts",close:M.CLOSE,textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},history:{undo:M.UNDO,redo:M.REDO}};var c=$.summernote.renderer.getTemplate();$.summernote.addPlugin({name:"tmdpImage",buttons:{tmdpImage:function(){return c.iconButton("fa fa-picture-o",{event:"tmdpImage",title:M.PICTURE_LBL,hide:true})}},events:{tmdpImage:function(h,g,k,i){var f=$.summernote.eventHandler;var d=k.editable();var j=k.editor();f.invoke("editor.saveRange",d);var e=j.data("options");e.popupOpen=true;FileManager.selectFile({onCompleteCallback:function(m,n){var l=getFileFromBase(m)+n;k.holder().summernote("insertImage",l,"");e.popupOpen=false},onCancelCallback:function(){f.invoke("editor.restoreRange",d);e.popupOpen=false}})}}});var b=/MSIE|Edge|Trident/i.test(navigator.userAgent);function a(n,d,k,i){var j="#ff0000",g=k.currentStyle(d.target),s=((g||{}).ancestors||[]),h=null;try{for(var o=0;o<s.length;++o){if(s[o].nodeType===1){h=s[o];break}}if(h!=null){j=window.getComputedStyle(h).getPropertyValue(n==="foreground"?"color":"background-color")}}catch(m){}var q=$.summernote.eventHandler;var p=i.editable();var f=i.editor();var r=f.data("options");r.popupOpen=true;q.invoke("editor.saveRange",p);if(j==="transparent"){j="rgba(0, 0, 0, 0)"}var l=$(d.target).closest(".btn-group");l=l.next().length===0?l:l.next();Tools.pickColor(j,l.find("button")[0],function(t,u){q.invoke("editor.restoreRange",p);var w=$(q.invoke("editor.wrap",p));var v,e,x;if(n==="foreground"){v=".color-primary, .color-secondary1, .color-secondary2, .color-secondary3, .color-secondary4";e="color-primary color-secondary1 color-secondary2 color-secondary3 color-secondary4";x="color"}else{v=".bg-color-primary, .bg-color-secondary1, .bg-color-secondary2, .bg-color-secondary3, .bg-color-secondary4";e="bg-color-primary bg-color-secondary1 bg-color-secondary2 bg-color-secondary3 bg-color-secondary4";x="background-color"}w.find(v).add(w).removeClass(e);w.find("*").add(w).css(x,"");if(u){newClass=n==="foreground"?("color-"+u):("bg-color-"+u);w.addClass(newClass);q.invoke("editor.saveRange",p);q.invoke("editor.triggerOnChange",p)}else{w.css(x,t)}q.invoke("editor.saveRange",p);q.invoke("editor.triggerOnChange",p)},function(){r.popupOpen=false})}$.summernote.addPlugin({name:"tmdpForeColor",buttons:{tmdpForeColor:function(){return c.iconButton("fa fa-font",{event:"tmdpForeColor",title:M.TEXT_COLOR,hide:true})}},events:{tmdpForeColor:function(e,d,g,f){a("foreground",e,d,g)}}});$.summernote.addPlugin({name:"tmdpBackColor",buttons:{tmdpBackColor:function(){return c.iconButton("fa fa-font note-editor-bgcolor-btn",{event:"tmdpBackColor",title:M.BACKGROUND_COLOR,hide:true})}},events:{tmdpBackColor:function(e,d,g,f){a("background",e,d,g)}}});$.summernote.addPlugin({name:"tmdpLink",buttons:{tmdpLink:function(){return c.iconButton("fa fa-link",{event:"showLinkDialog",title:M.LINK,hide:true})}},events:{showLinkDialog:function(d,j,f,l){var n=$.summernote.eventHandler;var e=f.editor();var m=f.editable();var g=f.popover();var i=n.invoke("editor.getLinkInfo",m);var o=e.data("options");n.invoke("editor.saveRange",m);o.popupOpen=true;var h={onSelect:function(p){if($.type(p)==="string"){p={link:p,text:i.text||p,target:"_blank"}}i.url=p.link;i.text=i.text||p.caption||p.link;i.isNewWindow=p.target==="_blank";i.isNoFollow=!!p.nofollow;n.invoke("editor.restoreRange",m);n.invoke("editor.createLink",m,i,o);n.invoke("popover.hide",g);o.popupOpen=false},onCancel:function(){n.invoke("editor.restoreRange",m);n.invoke("popover.hide",g);o.popupOpen=false}};if(Website&&Website.selectPage){h.hasNoFollow=true;if(i.url){var k=$(d.target).closest(".popover-content").find("a").first();h.selected={target:i.isNewWindow?"_blank":"_self",link:i.url,caption:"",nofollow:i.isNoFollow}}Website.selectPage(h)}else{Tools.promptForInput(M.FILL_LINK_TITLE,M.FILL_LINK_MESSAGE,i.url||"http://",h.onSelect,h.onCancel)}}}});$.summernote.addPlugin({name:"tmdpDelete",buttons:{tmdpDelete:function(){return c.iconButton("fa fa-trash-o",{event:"tmdpDelete",title:"Delete",hide:true})}},events:{tmdpDelete:function(e,d,g,f){}}});$.summernote.addPlugin({name:"clearStyles",buttons:{clearStyles:function(){return c.iconButton("fa fa-eraser",{event:"clearStyles",title:M.REMOVE_FONT_STYLE,hide:true})}},events:{clearStyles:function(e,d,g,f){d.resetStyles(g.editable())}}});$.summernote.addPlugin({name:"tmdpMarketingTags",buttons:{tmdpMarketingTags:function(){return c.iconButton("fa fa-tags",{event:"tmdpMarketingTags",title:M.ADD_TAGS,hide:true})}},events:{tmdpMarketingTags:function(i,h,k){i.stopPropagation();i.preventDefault();var g=$.summernote.eventHandler;var j=k.editor();var f=j.data("options");f.popupOpen=true;j.data("options",f);var e=f.marketingTags;var d=k.editable();g.invoke("editor.saveRange",d);UITools.selectMarketingProperty(e,function(l){g.invoke("editor.restoreRange",d);var m=new DataTransfer();m.setData("text/plain","{"+l+"}");d[0].dispatchEvent(new ClipboardEvent("paste",{clipboardData:m,bubbles:true,cancelable:true}));f.popupOpen=false;j.data("options",f)})}}});$.summernote.renderer.addButtonInfo("text-styles",function(h,f){var j=c.iconButton(f.iconPrefix+f.icons.font.underline,{event:"underline",title:h.font.underline});var d=c.iconButton(f.iconPrefix+f.icons.font.strikethrough,{event:"strikethrough",title:h.font.strikethrough});var g=c.iconButton(f.iconPrefix+f.icons.font.superscript,{event:"superscript",title:h.font.superscript});var e=c.iconButton(f.iconPrefix+f.icons.font.subscript,{event:"subscript",title:h.font.subscript});var i=['<div class="text-styles-btn-group btn-group">',j+d+g+e,"</div>"];return c.iconButton(f.iconPrefix+f.icons.font.underline,{title:h.paragraph.paragraph,dropdown:c.dropdown(i,"text-styles-dropdown","div")})})}();var DemoTour=(function(){var h=false,d,j,b,c,f,i;function g(n){if(h){return}h=true;j=mergeUnique(n||{},{onClose:dummy,items:[{title:"Tooltip",description:"Tooltip",position:"right",x:100,y:100}]});$body.addClass("with-tour");f=$('<div class="tmdp-cover-layer"></div>').appendTo($body);b=$('<ul class="tmdp-tour-wrapper"></ul>').appendTo($body);var l="";for(var k=0;k<j.items.length;++k){var m=j.items[k];m=mergeUnique(m,{position:"top",title:"",description:"",x:300,y:300});l+='<li class="tmdp-single-step step'+k+'" style="left: '+m.x+"px; top: "+m.y+'px"><div class="tmdp-more-info '+m.position+'">';if(m.title){l+='<div class="icon-wrapper"><p></p></div><h2>'+m.title+"</h2>"}l+='<div class="tmdp-nav"><span><b class="tmdp-actual-step">'+(k+1)+"</b> "+M.OF+" "+j.items.length+'</span><a class="tmdp-close">'+M.CLOSE+"</a></div>";if(m.description){l+=m.description}l+='<ul class="tmdp-tour-nav"><li><a class="tmdp-prev '+(k===0?"inactive":"")+'">&larr; '+M.PREVIOUS+'</a></li><li><a class="tmdp-next '+((k+1)===j.items.length?"inactive":"")+'">'+M.NEXT+" &rarr;</a></li></ul></div>";l+="</li>"}b.append(l);c=b.children("li");i=b.find(".tmdp-more-info");d=window.getComputedStyle(document.querySelector(".tmdp-tour-wrapper"),"::before").getPropertyValue("content").replace(/"/g,"").replace(/'/g,"");b.addClass("active");i.on("click",".tmdp-prev",function(o){if(!$(o.target).hasClass("inactive")){e(c,f,"prev")}});i.on("click",".tmdp-next",function(o){if(!$(o.target).hasClass("inactive")){e(c,f,"next")}});i.on("click",".tmdp-close",DemoTour.teardown);i.on("swiperight",function(o){if(!$(this).find(".tmdp-prev").hasClass("inactive")&&d==="mobile"){e(c,f,"prev")}});i.on("swipeleft",function(o){if(!$(this).find(".tmdp-next").hasClass("inactive")&&d==="mobile"){e(c,f,"next")}});$document.on("keyup.demoTour",function(o){if(o.which===37&&!c.filter(".is-selected").find(".tmdp-prev").hasClass("inactive")){e(c,f,"prev")}else{if(o.which===39&&!c.filter(".is-selected").find(".tmdp-next").hasClass("inactive")){e(c,f,"next")}else{if(o.which===27){DemoTour.teardown()}}}});Tools.delay(100,function(){a(c.eq(0),f)})}function a(l,k){l.addClass("is-selected").removeClass("move-left");WebPlatform.onAnimationEnd(k.addClass("is-visible"),function(){},1800)}function e(k,m,o){var n=k.filter(".is-selected"),l=(d==="desktop")?300:0;n.removeClass("is-selected");if(o==="next"){n.addClass("move-left")}Tools.delay(l,function(){a(o==="next"?n.next():n.prev(),m)})}return{setupTour:g,teardown:function(){if(!h){return}$document.off("keyup.demoTour");$body.removeClass("with-tour");c.removeClass("is-selected move-left");WebPlatform.onTransitionEnd(f,function(){h=false;b.remove();f.remove();j.onClose();j=null;b=null;c=null;f=null;i=null;d=null;j=null},400);f.removeClass("is-visible")}}})();
/*!
 * Shuffle.js by @Vestride
 * Categorize, sort, and filter a responsive grid of items.
 * Dependencies: jQuery 1.9+, Modernizr 2.6.2+
 * @license MIT license
 * @version 3.1.1
 */
;!function(b){"function"==typeof define&&define.amd?define(["jquery","modernizr"],b):"object"==typeof exports?module.exports=b(require("jquery"),window.Modernizr):window.Shuffle=b(window.jQuery,window.Modernizr)}(function(al,ak,aj){function ai(b){return b?b.replace(/([A-Z])/g,function(d,c){return"-"+c.toLowerCase()}).replace(/^ms-/,"-ms-"):""}function ah(r,q,p){var o,n,m,l=null,k=0;p=p||{};var a=function(){k=p.leading===!1?0:al.now(),l=null,m=r.apply(o,n),o=n=null};return function(){var c=al.now();k||p.leading!==!1||(k=c);var b=q-(c-k);return o=this,n=arguments,0>=b||b>q?(clearTimeout(l),l=null,k=c,m=r.apply(o,n),o=n=null):l||p.trailing===!1||(l=setTimeout(a,b)),m}}function ag(g,f,j){for(var i=0,h=g.length;h>i;i++){if(f.call(j,g[i],i,g)==={}){return}}}function af(a,f,e){return setTimeout(al.proxy(a,f),e)}function ae(b){return Math.max.apply(Math,b)}function ad(b){return Math.min.apply(Math,b)}function ac(a){return al.isNumeric(a)?a:0}function ab(f){var e,h,g=f.length;if(!g){return f}for(;--g;){h=Math.floor(Math.random()*(g+1)),e=f[h],f[h]=f[g],f[g]=e}return f}if("object"!=typeof ak){throw new Error("Shuffle.js requires Modernizr.\nhttp://vestride.github.io/Shuffle/#dependencies")}var aa=ak.prefixed("transition"),Z=ak.prefixed("transitionDelay"),Y=ak.prefixed("transitionDuration"),X={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[aa],W=ak.prefixed("transform"),U=ai(W),R=ak.csstransforms&&ak.csstransitions,P=ak.csstransforms3d,N=!!window.getComputedStyle,K="shuffle",J="all",I="groups",H=1,G=0.001,F=window.getComputedStyle||function(){},V=function(d,c){this.x=ac(d),this.y=ac(c)};V.equals=function(d,c){return d.x===c.x&&d.y===c.y};var S=function(){if(!N){return !1}var f=document.body||document.documentElement,e=document.createElement("div");e.style.cssText="width:10px;padding:2px;-webkit-box-sizing:border-box;box-sizing:border-box;",f.appendChild(e);var h=F(e,null).width,g="10px"===h;return f.removeChild(e),g}(),Q=0,O=al(window),L=function(a,d){d=d||{},al.extend(this,L.options,d,L.settings),this.$el=al(a),this.element=a,this.unique="shuffle_"+Q++,this._fire(L.EventType.LOADING),this._init(),af(function(){this.initialized=!0,this._fire(L.EventType.DONE)},this,16)};return L.EventType={LOADING:"loading",DONE:"done",LAYOUT:"layout",REMOVED:"removed"},L.ClassName={BASE:K,SHUFFLE_ITEM:"shuffle-item",FILTERED:"filtered",CONCEALED:"concealed"},L.options={group:J,speed:250,easing:"ease-out",itemSelector:"",sizer:null,gutterWidth:0,columnWidth:0,delimeter:null,buffer:0,columnThreshold:N?0.01:0.1,initialSort:null,throttle:ah,throttleTime:300,sequentialFadeDelay:150,supported:R},L.settings={useSizer:!1,itemCss:{position:"absolute",top:0,left:0,visibility:"visible"},revealAppendedDelay:300,lastSort:{},lastFilter:J,enabled:!0,destroyed:!1,initialized:!1,_animations:[],_transitions:[],_isMovementCanceled:!1,styleQueue:[]},L.Point=V,L._getItemTransformString=function(d,c){return P?"translate3d("+d.x+"px, "+d.y+"px, 0) scale3d("+c+", "+c+", 1)":"translate("+d.x+"px, "+d.y+"px) scale("+c+")"},L._getNumberStyle=function(a,h,g){if(N){g=g||F(a,null);var f=L._getFloat(g[h]);return S||"width"!==h?S||"height"!==h||(f+=L._getFloat(g.paddingTop)+L._getFloat(g.paddingBottom)+L._getFloat(g.borderTopWidth)+L._getFloat(g.borderBottomWidth)):f+=L._getFloat(g.paddingLeft)+L._getFloat(g.paddingRight)+L._getFloat(g.borderLeftWidth)+L._getFloat(g.borderRightWidth),f}return L._getFloat(al(a).css(h))},L._getFloat=function(b){return ac(parseFloat(b))},L._getOuterWidth=function(h,g){var l=F(h,null),k=L._getNumberStyle(h,"width",l);if(g){var j=L._getNumberStyle(h,"marginLeft",l),i=L._getNumberStyle(h,"marginRight",l);k+=j+i}return k},L._getOuterHeight=function(h,g){var l=F(h,null),k=L._getNumberStyle(h,"height",l);if(g){var j=L._getNumberStyle(h,"marginTop",l),i=L._getNumberStyle(h,"marginBottom",l);k+=j+i}return k},L._skipTransition=function(g,f,j){var i=g.style[Y];g.style[Y]="0ms",f.call(j);var h=g.offsetWidth;h=null,g.style[Y]=i},L.prototype._init=function(){this.$items=this._getItems(),this.sizer=this._getElementOption(this.sizer),this.sizer&&(this.useSizer=!0),this.$el.addClass(L.ClassName.BASE),this._initItems(),O.on("resize."+K+"."+this.unique,this._getResizeFunction());var d=this.$el.css(["position","overflow"]),c=L._getOuterWidth(this.element);this._validateStyles(d),this._setColumns(c),this.shuffle(this.group,this.initialSort),this.supported&&af(function(){this._setTransitions(),this.element.style[aa]="height "+this.speed+"ms "+this.easing},this)},L.prototype._getResizeFunction=function(){var a=al.proxy(this._onResize,this);return this.throttle?this.throttle(a,this.throttleTime):a},L.prototype._getElementOption=function(b){return"string"==typeof b?this.$el.find(b)[0]||null:b&&b.nodeType&&1===b.nodeType?b:b&&b.jquery?b[0]:null},L.prototype._validateStyles=function(b){"static"===b.position&&(this.element.style.position="relative"),"hidden"!==b.overflow&&(this.element.style.overflow="hidden")},L.prototype._filter=function(e,d){e=e||this.lastFilter,d=d||this.$items;var f=this._getFilteredSets(e,d);return this._toggleFilterClasses(f.filtered,f.concealed),this.lastFilter=e,"string"==typeof e&&(this.group=e),f.filtered},L.prototype._getFilteredSets=function(a,h){var g=al(),f=al();return a===J?g=h:ag(h,function(d){var b=al(d);this._doesPassFilter(a,b)?g=g.add(b):f=f.add(b)},this),{filtered:g,concealed:f}},L.prototype._doesPassFilter=function(a,h){if(al.isFunction(a)){return a.call(h[0],h,this)}var g=h.data(I),f=this.delimeter&&!al.isArray(g)?g.split(this.delimeter):g;return al.inArray(a,f)>-1},L.prototype._toggleFilterClasses=function(d,c){d.removeClass(L.ClassName.CONCEALED).addClass(L.ClassName.FILTERED),c.removeClass(L.ClassName.FILTERED).addClass(L.ClassName.CONCEALED)},L.prototype._initItems=function(b){b=b||this.$items,b.addClass([L.ClassName.SHUFFLE_ITEM,L.ClassName.FILTERED].join(" ")),b.css(this.itemCss).data("point",new V).data("scale",H)},L.prototype._updateItemCount=function(){this.visibleItems=this._getFilteredItems().length},L.prototype._setTransition=function(b){b.style[aa]=U+" "+this.speed+"ms "+this.easing+", opacity "+this.speed+"ms "+this.easing},L.prototype._setTransitions=function(b){b=b||this.$items,ag(b,function(c){this._setTransition(c)},this)},L.prototype._setSequentialDelay=function(b){this.supported&&ag(b,function(d,c){d.style[Z]="0ms,"+(c+1)*this.sequentialFadeDelay+"ms"},this)},L.prototype._getItems=function(){return this.$el.children(this.itemSelector)},L.prototype._getFilteredItems=function(){return this.$items.filter("."+L.ClassName.FILTERED)},L.prototype._getConcealedItems=function(){return this.$items.filter("."+L.ClassName.CONCEALED)},L.prototype._getColumnSize=function(a,f){var e;return e=al.isFunction(this.columnWidth)?this.columnWidth(a):this.useSizer?L._getOuterWidth(this.sizer):this.columnWidth?this.columnWidth:this.$items.length>0?L._getOuterWidth(this.$items[0],!0):a,0===e&&(e=a),e+f},L.prototype._getGutterSize=function(a){var d;return d=al.isFunction(this.gutterWidth)?this.gutterWidth(a):this.useSizer?L._getNumberStyle(this.sizer,"marginLeft"):this.gutterWidth},L.prototype._setColumns=function(g){var f=g||L._getOuterWidth(this.element),j=this._getGutterSize(f),i=this._getColumnSize(f,j),h=(f+j)/i;Math.abs(Math.round(h)-h)<this.columnThreshold&&(h=Math.round(h)),this.cols=Math.max(Math.floor(h),1),this.containerWidth=f,this.colWidth=i},L.prototype._setContainerSize=function(){this.$el.css("height",this._getContainerSize())},L.prototype._getContainerSize=function(){return ae(this.positions)},L.prototype._fire=function(d,c){this.$el.trigger(d+"."+K,c&&c.length?c:[this])},L.prototype._resetCols=function(){var b=this.cols;for(this.positions=[];b--;){this.positions.push(0)}},L.prototype._layout=function(d,c){ag(d,function(b){this._layoutItem(b,!!c)},this),this._processStyleQueue(),this._setContainerSize()},L.prototype._layoutItem=function(a,p){var o=al(a),n=o.data(),m=n.point,l=n.scale,k={width:L._getOuterWidth(a,!0),height:L._getOuterHeight(a,!0)},j=this._getItemPosition(k);V.equals(m,j)&&l===H||(n.point=j,n.scale=H,this.styleQueue.push({$item:o,point:j,scale:H,opacity:p?0:1,skipTransition:p||0===this.speed,callfront:function(){p||o.css("visibility","visible")},callback:function(){p&&o.css("visibility","hidden")}}))},L.prototype._getItemPosition=function(j){for(var i=this._getColumnSpan(j.width,this.colWidth,this.cols),p=this._getColumnSet(i,this.cols),o=this._getShortColumn(p,this.buffer),n=new V(Math.round(this.colWidth*o),Math.round(p[o])),m=p[o]+j.height,l=this.cols+1-p.length,k=0;l>k;k++){this.positions[o+k]=m}return n},L.prototype._getColumnSpan=function(f,e,h){var g=f/e;return Math.abs(Math.round(g)-g)<this.columnThreshold&&(g=Math.round(g)),Math.min(Math.ceil(g),h)},L.prototype._getColumnSet=function(g,f){if(1===g){return this.positions}for(var j=f+1-g,i=[],h=0;j>h;h++){i[h]=ae(this.positions.slice(h,h+g))}return i},L.prototype._getShortColumn=function(g,f){for(var j=ad(g),i=0,h=g.length;h>i;i++){if(g[i]>=j-f&&g[i]<=j+f){return i}}return 0},L.prototype._shrink=function(a){var d=a||this._getConcealedItems();ag(d,function(e){var g=al(e),f=g.data();f.scale!==G&&(f.scale=G,this.styleQueue.push({$item:g,point:f.point,scale:G,opacity:0,callback:function(){g.css("visibility","hidden")}}))},this)},L.prototype._onResize=function(){if(this.enabled&&!this.destroyed){var b=L._getOuterWidth(this.element);b!==this.containerWidth&&this.update()}},L.prototype._getStylesForTransition=function(d){var c={opacity:d.opacity};return this.supported?c[W]=L._getItemTransformString(d.point,d.scale):(c.left=d.point.x,c.top=d.point.y),c},L.prototype._transition=function(a){var d=this._getStylesForTransition(a);this._startItemAnimation(a.$item,d,a.callfront||al.noop,a.callback||al.noop)},L.prototype._startItemAnimation=function(a,p,o,n){function m(c){c.target===c.currentTarget&&(al(c.target).off(X,m),l._removeTransitionReference(k),n())}var l=this,k={$element:a,handler:m};if(o(),!this.initialized){return a.css(p),void n()}if(this.supported){a.css(p),a.on(X,m),this._transitions.push(k)}else{var j=a.stop(!0).animate(p,this.speed,"swing",n);this._animations.push(j.promise())}},L.prototype._processStyleQueue=function(a){this.isTransitioning&&this._cancelMovement();var d=al();ag(this.styleQueue,function(b){b.skipTransition?this._styleImmediately(b):(d=d.add(b.$item),this._transition(b))},this),d.length>0&&this.initialized&&this.speed>0?(this.isTransitioning=!0,this.supported?this._whenCollectionDone(d,X,this._movementFinished):this._whenAnimationsDone(this._movementFinished)):a||af(this._layoutEnd,this),this.styleQueue.length=0},L.prototype._cancelMovement=function(){this.supported?ag(this._transitions,function(b){b.$element.off(X,b.handler)}):(this._isMovementCanceled=!0,this.$items.stop(!0),this._isMovementCanceled=!1),this._transitions.length=0,this.isTransitioning=!1},L.prototype._removeTransitionReference=function(a){var d=al.inArray(a,this._transitions);d>-1&&this._transitions.splice(d,1)},L.prototype._styleImmediately=function(b){L._skipTransition(b.$item[0],function(){b.$item.css(this._getStylesForTransition(b))},this)},L.prototype._movementFinished=function(){this.isTransitioning=!1,this._layoutEnd()},L.prototype._layoutEnd=function(){this._fire(L.EventType.LAYOUT)},L.prototype._addItems=function(e,d,f){this._initItems(e),this._setTransitions(e),this.$items=this._getItems(),this._shrink(e),ag(this.styleQueue,function(b){b.skipTransition=!0}),this._processStyleQueue(!0),d?this._addItemsToEnd(e,f):this.shuffle(this.lastFilter)},L.prototype._addItemsToEnd=function(f,e){var h=this._filter(null,f),g=h.get();this._updateItemCount(),this._layout(g,!0),e&&this.supported&&this._setSequentialDelay(g),this._revealAppended(g)},L.prototype._revealAppended=function(a){af(function(){ag(a,function(d){var e=al(d);this._transition({$item:e,opacity:1,point:e.data("point"),scale:H})},this),this._whenCollectionDone(al(a),X,function(){al(a).css(Z,"0ms"),this._movementFinished()})},this,this.revealAppendedDelay)},L.prototype._whenCollectionDone=function(a,p,o){function n(c){c.target===c.currentTarget&&(al(c.target).off(p,n),m++,m===l&&(k._removeTransitionReference(j),o.call(k)))}var m=0,l=a.length,k=this,j={$element:a,handler:n};a.on(p,n),this._transitions.push(j)},L.prototype._whenAnimationsDone=function(a){al.when.apply(null,this._animations).always(al.proxy(function(){this._animations.length=0,this._isMovementCanceled||a.call(this)},this))},L.prototype.shuffle=function(d,c){this.enabled&&(d||(d=J),this._filter(d),this._updateItemCount(),this._shrink(),this.sort(c))},L.prototype.sort=function(e){if(this.enabled){this._resetCols();var d=e||this.lastSort,f=this._getFilteredItems().sorted(d);this._layout(f),this.lastSort=d}},L.prototype.update=function(b){this.enabled&&(b||this._setColumns(),this.sort())},L.prototype.layout=function(){this.update(!0)},L.prototype.appended=function(e,d,f){this._addItems(e,d===!0,f!==!1)},L.prototype.disable=function(){this.enabled=!1},L.prototype.enable=function(b){this.enabled=!0,b!==!1&&this.update()},L.prototype.remove=function(a){function d(){a.remove(),this.$items=this._getItems(),this._updateItemCount(),this._fire(L.EventType.REMOVED,[a,this]),a=null}a.length&&a.jquery&&(this._toggleFilterClasses(al(),a),this._shrink(a),this.sort(),this.$el.one(L.EventType.LAYOUT+"."+K,al.proxy(d,this)))},L.prototype.destroy=function(){O.off("."+this.unique),this.$el.removeClass(K).removeAttr("style").removeData(K),this.$items.removeAttr("style").removeData("point").removeData("scale").removeClass([L.ClassName.CONCEALED,L.ClassName.FILTERED,L.ClassName.SHUFFLE_ITEM].join(" ")),this.$items=null,this.$el=null,this.sizer=null,this.element=null,this._transitions=null,this.destroyed=!0},al.fn.shuffle=function(a){var d=Array.prototype.slice.call(arguments,1);return this.each(function(){var c=al(this),b=c.data(K);b?"string"==typeof a&&b[a]&&b[a].apply(b,d):(b=new L(this,a),c.data(K,b))})},al.fn.sorted=function(a){var h=al.extend({},al.fn.sorted.defaults,a),g=this.get(),c=!1;return g.length?h.randomize?ab(g):(al.isFunction(h.by)&&g.sort(function(d,j){if(c){return 0}var i=h.by(al(d)),f=h.by(al(j));return i===aj&&f===aj?(c=!0,0):f>i||"sortFirst"===i||"sortLast"===f?-1:i>f||"sortLast"===i||"sortFirst"===f?1:0}),c?this.get():(h.reverse&&g.reverse(),g)):[]},al.fn.sorted.defaults={reverse:!1,by:null,randomize:!1},L});
/*!
 * Font Awesome Icon Picker
 * http://mjolnic.github.io/fontawesome-iconpicker/
 *
 * Originally written by (c) 2014 Javier Aguilar @mjolnic
 * Licensed under the MIT License
 * https://github.com/mjolnic/fontawesome-iconpicker/blob/master/LICENSE
 *
 */
;!function(D,C){function B(e,d,f){return[parseFloat(e[0])*(q.test(e[0])?d/100:1),parseFloat(e[1])*(q.test(e[1])?f/100:1)]}function A(a,d){return parseInt(D.css(a,d),10)||0}function z(a){var d=a[0];return 9===d.nodeType?{width:a.width(),height:a.height(),offset:{top:0,left:0}}:D.isWindow(d)?{width:a.width(),height:a.height(),offset:{top:a.scrollTop(),left:a.scrollLeft()}}:d.preventDefault?{width:0,height:0,offset:{top:d.pageY,left:d.pageX}}:{width:a.outerWidth(),height:a.outerHeight(),offset:a.offset()}}D.ui=D.ui||{};var y,x=Math.max,w=Math.abs,v=Math.round,u=/left|center|right/,t=/top|center|bottom/,s=/[\+\-]\d+(\.[\d]+)?%?/,r=/^\w+/,q=/%$/,p=D.fn.pos;D.pos={scrollbarWidth:function(){if(y!==C){return y}var h,f,b=D("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=b.children()[0];return D("body").append(b),h=a.offsetWidth,b.css("overflow","scroll"),f=a.offsetWidth,h===f&&(f=b[0].clientWidth),b.remove(),y=h-f},getScrollInfo:function(a){var j=a.isWindow||a.isDocument?"":a.element.css("overflow-x"),i=a.isWindow||a.isDocument?"":a.element.css("overflow-y"),h="scroll"===j||"auto"===j&&a.width<a.element[0].scrollWidth,g="scroll"===i||"auto"===i&&a.height<a.element[0].scrollHeight;return{width:g?D.pos.scrollbarWidth():0,height:h?D.pos.scrollbarWidth():0}},getWithinInfo:function(a){var h=D(a||window),g=D.isWindow(h[0]),f=!!h[0]&&9===h[0].nodeType;return{element:h,isWindow:g,isDocument:f,offset:h.offset()||{left:0,top:0},scrollLeft:h.scrollLeft(),scrollTop:h.scrollTop(),width:g?h.width():h.outerWidth(),height:g?h.height():h.outerHeight()}}},D.fn.pos=function(h){if(!h||!h.of){return p.apply(this,arguments)}h=D.extend({},h);var g,e,d,c,a,o,m=D(h.of),l=D.pos.getWithinInfo(h.within),k=D.pos.getScrollInfo(l),j=(h.collision||"flip").split(" "),i={};return o=z(m),m[0].preventDefault&&(h.at="left top"),e=o.width,d=o.height,c=o.offset,a=D.extend({},c),D.each(["my","at"],function(){var b,n,f=(h[this]||"").split(" ");1===f.length&&(f=u.test(f[0])?f.concat(["center"]):t.test(f[0])?["center"].concat(f):["center","center"]),f[0]=u.test(f[0])?f[0]:"center",f[1]=t.test(f[1])?f[1]:"center",b=s.exec(f[0]),n=s.exec(f[1]),i[this]=[b?b[0]:0,n?n[0]:0],h[this]=[r.exec(f[0])[0],r.exec(f[1])[0]]}),1===j.length&&(j[1]=j[0]),"right"===h.at[0]?a.left+=e:"center"===h.at[0]&&(a.left+=e/2),"bottom"===h.at[1]?a.top+=d:"center"===h.at[1]&&(a.top+=d/2),g=B(i.at,e,d),a.left+=g[0],a.top+=g[1],this.each(function(){var I,H,G=D(this),F=G.outerWidth(),E=G.outerHeight(),n=A(this,"marginLeft"),L=A(this,"marginTop"),K=F+n+A(this,"marginRight")+k.width,J=E+L+A(this,"marginBottom")+k.height,f=D.extend({},a),b=B(i.my,G.outerWidth(),G.outerHeight());"right"===h.my[0]?f.left-=F:"center"===h.my[0]&&(f.left-=F/2),"bottom"===h.my[1]?f.top-=E:"center"===h.my[1]&&(f.top-=E/2),f.left+=b[0],f.top+=b[1],D.support.offsetFractions||(f.left=v(f.left),f.top=v(f.top)),I={marginLeft:n,marginTop:L},D.each(["left","top"],function(O,N){D.ui.pos[j[O]]&&D.ui.pos[j[O]][N](f,{targetWidth:e,targetHeight:d,elemWidth:F,elemHeight:E,collisionPosition:I,collisionWidth:K,collisionHeight:J,offset:[g[0]+b[0],g[1]+b[1]],my:h.my,at:h.at,within:l,elem:G})}),h.using&&(H=function(N){var S=c.left-f.left,R=S+e-F,Q=c.top-f.top,P=Q+d-E,O={target:{element:m,left:c.left,top:c.top,width:e,height:d},element:{element:G,left:f.left,top:f.top,width:F,height:E},horizontal:0>R?"left":S>0?"right":"center",vertical:0>P?"top":Q>0?"bottom":"middle"};F>e&&w(S+R)<e&&(O.horizontal="center"),E>d&&w(Q+P)<d&&(O.vertical="middle"),O.important=x(w(S),w(R))>x(w(Q),w(P))?"horizontal":"vertical",h.using.call(this,N,O)}),G.offset(D.extend(f,{using:H}))})},D.ui.pos={_trigger:function(f,e,h,g){e.elem&&e.elem.trigger({type:h,position:f,positionData:e,triggered:g})},fit:{left:function(G,F){D.ui.pos._trigger(G,F,"posCollide","fitLeft");var E,o=F.within,n=o.isWindow?o.scrollLeft:o.offset.left,m=o.width,l=G.left-F.collisionPosition.marginLeft,g=n-l,a=l+F.collisionWidth-m-n;F.collisionWidth>m?g>0&&0>=a?(E=G.left+g+F.collisionWidth-m-n,G.left+=g-E):G.left=a>0&&0>=g?n:g>a?n+m-F.collisionWidth:n:g>0?G.left+=g:a>0?G.left-=a:G.left=x(G.left-l,G.left),D.ui.pos._trigger(G,F,"posCollided","fitLeft")},top:function(G,F){D.ui.pos._trigger(G,F,"posCollide","fitTop");var E,o=F.within,n=o.isWindow?o.scrollTop:o.offset.top,m=F.within.height,l=G.top-F.collisionPosition.marginTop,g=n-l,a=l+F.collisionHeight-m-n;F.collisionHeight>m?g>0&&0>=a?(E=G.top+g+F.collisionHeight-m-n,G.top+=g-E):G.top=a>0&&0>=g?n:g>a?n+m-F.collisionHeight:n:g>0?G.top+=g:a>0?G.top-=a:G.top=x(G.top-l,G.top),D.ui.pos._trigger(G,F,"posCollided","fitTop")}},flip:{left:function(Q,P){D.ui.pos._trigger(Q,P,"posCollide","flipLeft");var O,N,L=P.within,K=L.offset.left+L.scrollLeft,J=L.width,I=L.isWindow?L.scrollLeft:L.offset.left,H=Q.left-P.collisionPosition.marginLeft,G=H-I,F=H+P.collisionWidth-J-I,E="left"===P.my[0]?-P.elemWidth:"right"===P.my[0]?P.elemWidth:0,h="left"===P.at[0]?P.targetWidth:"right"===P.at[0]?-P.targetWidth:0,a=-2*P.offset[0];0>G?(O=Q.left+E+h+a+P.collisionWidth-J-K,(0>O||O<w(G))&&(Q.left+=E+h+a)):F>0&&(N=Q.left-P.collisionPosition.marginLeft+E+h+a-I,(N>0||w(N)<F)&&(Q.left+=E+h+a)),D.ui.pos._trigger(Q,P,"posCollided","flipLeft")},top:function(R,Q){D.ui.pos._trigger(R,Q,"posCollide","flipTop");var P,O,N=Q.within,L=N.offset.top+N.scrollTop,K=N.height,J=N.isWindow?N.scrollTop:N.offset.top,I=R.top-Q.collisionPosition.marginTop,H=I-J,G=I+Q.collisionHeight-K-J,F="top"===Q.my[1],E=F?-Q.elemHeight:"bottom"===Q.my[1]?Q.elemHeight:0,h="top"===Q.at[1]?Q.targetHeight:"bottom"===Q.at[1]?-Q.targetHeight:0,a=-2*Q.offset[1];0>H?(O=R.top+E+h+a+Q.collisionHeight-K-L,R.top+E+h+a>H&&(0>O||O<w(H))&&(R.top+=E+h+a)):G>0&&(P=R.top-Q.collisionPosition.marginTop+E+h+a-J,R.top+E+h+a>G&&(P>0||w(P)<G)&&(R.top+=E+h+a)),D.ui.pos._trigger(R,Q,"posCollided","flipTop")}},flipfit:{left:function(){D.ui.pos.flip.left.apply(this,arguments),D.ui.pos.fit.left.apply(this,arguments)},top:function(){D.ui.pos.flip.top.apply(this,arguments),D.ui.pos.fit.top.apply(this,arguments)}}},function(){var a,n,m,l,k,j=document.getElementsByTagName("body")[0],i=document.createElement("div");a=document.createElement(j?"div":"body"),m={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},j&&D.extend(m,{position:"absolute",left:"-1000px",top:"-1000px"});for(k in m){a.style[k]=m[k]}a.appendChild(i),n=j||document.documentElement,n.insertBefore(a,n.firstChild),i.style.cssText="position: absolute; left: 10.7432222px;",l=D(i).offset().left,D.support.offsetFractions=l>10&&11>l,a.innerHTML="",n.removeChild(a)}()}(jQuery),function(b){"function"==typeof define&&define.amd?define(["jquery"],b):window.jQuery&&!window.jQuery.fn.iconpicker&&b(window.jQuery)}(function(e){var d={isEmpty:function(b){return b===!1||""===b||null===b||void 0===b},isEmptyObject:function(b){return this.isEmpty(b)===!0||0===b.length},isElement:function(a){return e(a).length>0},isString:function(b){return"string"==typeof b||b instanceof String},isArray:function(a){return e.isArray(a)},inArray:function(a,g){return -1!==e.inArray(a,g)},throwError:function(b){throw"Font Awesome Icon Picker Exception: "+b}},f=function(b,a){this._id=f._idCounter++,this.element=e(b).addClass("iconpicker-element"),this._trigger("iconpickerCreate"),this.options=e.extend({},f.defaultOptions,this.element.data(),a),this.options.templates=e.extend({},f.defaultOptions.templates,this.options.templates),this.options.originalPlacement=this.options.placement,this.container=d.isElement(this.options.container)?e(this.options.container):!1,this.container===!1&&(this.container=this.element.is("input")?this.element.parent():this.element),this.container.addClass("iconpicker-container").is(".dropdown-menu")&&(this.options.placement="inline"),this.input=this.element.is("input")?this.element.addClass("iconpicker-input"):!1,this.input===!1&&(this.input=this.container.find(this.options.input)),this.component=this.container.find(this.options.component).addClass("iconpicker-component"),0===this.component.length?this.component=!1:this.component.find("i").addClass(this.options.iconComponentBaseClass),this._createPopover(),this._createIconpicker(),0===this.getAcceptButton().length&&(this.options.mustAccept=!1),this.container.is(".input-group")?this.container.parent().append(this.popover):this.container.append(this.popover),this._bindElementEvents(),this._bindWindowEvents(),this.update(this.options.selected),this.isInline()&&this.show(),this._trigger("iconpickerCreated")};f._idCounter=0,f.defaultOptions={title:!1,selected:!1,defaultValue:!1,placement:"bottom",collision:"none",animation:!0,hideOnSelect:!1,showFooter:!1,searchInFooter:!1,mustAccept:!1,selectedCustomClass:"bg-primary",icons:[],iconBaseClass:"fa",iconComponentBaseClass:"fa fa-fw",iconClassPrefix:"fa-",input:"input",component:".input-group-addon",container:!1,templates:{popover:'<div class="iconpicker-popover popover"><div class="arrow"></div><div class="popover-title"></div><div class="popover-content"></div></div>',footer:'<div class="popover-footer"></div>',buttons:'<button class="iconpicker-btn iconpicker-btn-cancel btn btn-default btn-sm">Cancel</button> <button class="iconpicker-btn iconpicker-btn-accept btn btn-primary btn-sm">Accept</button>',search:'<input type="search" class="form-control iconpicker-search" placeholder="Type to filter" />',iconpicker:'<div class="iconpicker"><div class="iconpicker-items"></div></div>',iconpickerItem:'<div class="iconpicker-item"><i></i></div>'}},f.batch=function(a,h){var g=Array.prototype.slice.call(arguments,2);return e(a).each(function(){var c=e(this).data("iconpicker");c&&c[h].apply(c,g)})},f.prototype={constructor:f,options:{},_id:0,_trigger:function(a,g){g=g||{},this.element.trigger(e.extend({type:a,iconpickerInstance:this},g))},_createPopover:function(){this.popover=e(this.options.templates.popover);var b=this.popover.find(".popover-title");if(this.options.title&&b.append(e('<div class="popover-title-text">'+this.options.title+"</div>")),this.options.searchInFooter||d.isEmpty(this.options.templates.buttons)?this.options.title||b.remove():b.append(this.options.templates.search),this.options.showFooter&&!d.isEmpty(this.options.templates.footer)){var a=e(this.options.templates.footer);!d.isEmpty(this.options.templates.search)&&this.options.searchInFooter&&a.append(e(this.options.templates.search)),d.isEmpty(this.options.templates.buttons)||a.append(e(this.options.templates.buttons)),this.popover.append(a)}return this.options.animation===!0&&this.popover.addClass("fade"),this.popover},_createIconpicker:function(){var a=this;this.iconpicker=e(this.options.templates.iconpicker);var i=function(){var b=e(this);b.is("."+a.options.iconBaseClass)&&(b=b.parent()),a._trigger("iconpickerSelect",{iconpickerItem:b,iconpickerValue:a.iconpickerValue}),a.options.mustAccept===!1?(a.update(b.data("iconpickerValue")),a._trigger("iconpickerSelected",{iconpickerItem:this,iconpickerValue:a.iconpickerValue})):a.update(b.data("iconpickerValue"),!0),a.options.hideOnSelect&&a.options.mustAccept===!1&&a.hide()};for(var h in this.options.icons){var g=e(this.options.templates.iconpickerItem);g.find("i").addClass(a.options.iconBaseClass+" "+this.options.iconClassPrefix+this.options.icons[h]),g.data("iconpickerValue",this.options.icons[h]).on("click.iconpicker",i),this.iconpicker.find(".iconpicker-items").append(g.attr("title","."+this.getValue(this.options.icons[h])))}return this.popover.find(".popover-content").append(this.iconpicker),this.iconpicker},_isEventInsideIconpicker:function(a){var g=e(a.target);return g.hasClass("iconpicker-element")&&(!g.hasClass("iconpicker-element")||g.is(this.element))||0!==g.parents(".iconpicker-popover").length?!0:!1},_bindElementEvents:function(){var a=this;this.getSearchInput().on("keyup",function(){a.filter(e(this).val().toLowerCase())}),this.getAcceptButton().on("click.iconpicker",function(){var b=a.iconpicker.find(".iconpicker-selected").get(0);a.update(a.iconpickerValue),a._trigger("iconpickerSelected",{iconpickerItem:b,iconpickerValue:a.iconpickerValue}),a.isInline()||a.hide()}),this.getCancelButton().on("click.iconpicker",function(){a.isInline()||a.hide()}),this.element.on("focus.iconpicker",function(b){a.show(),b.stopPropagation()}),this.hasComponent()&&this.component.on("click.iconpicker",function(){a.toggle()}),this.hasInput()&&this.input.on("keyup.iconpicker",function(b){d.inArray(b.keyCode,[38,40,37,39,16,17,18,9,8,91,93,20,46,186,190,46,78,188,44,86])?a._updateFormGroupStatus(a.getValid(this.value)!==!1):a.update()})},_bindWindowEvents:function(){var a=e(window.document),h=this,g=".iconpicker.inst"+this._id;return e(window).on("resize.iconpicker"+g+" orientationchange.iconpicker"+g,function(){h.popover.hasClass("in")&&h.updatePlacement()}),h.isInline()||a.on("mouseup"+g,function(b){return h._isEventInsideIconpicker(b)||h.isInline()||h.hide(),b.stopPropagation(),b.preventDefault(),!1}),!1},_unbindElementEvents:function(){this.popover.off(".iconpicker"),this.element.off(".iconpicker"),this.hasInput()&&this.input.off(".iconpicker"),this.hasComponent()&&this.component.off(".iconpicker"),this.hasContainer()&&this.container.off(".iconpicker")},_unbindWindowEvents:function(){e(window).off(".iconpicker.inst"+this._id),e(window.document).off(".iconpicker.inst"+this._id)},updatePlacement:function(a,h){a=a||this.options.placement,this.options.placement=a,h=h||this.options.collision,h=h===!0?"flip":h;var g={at:"right bottom",my:"right top",of:this.hasInput()?this.input:this.container,collision:h===!0?"flip":h,within:window};if(this.popover.removeClass("inline topLeftCorner topLeft top topRight topRightCorner rightTop right rightBottom bottomRight bottomRightCorner bottom bottomLeft bottomLeftCorner leftBottom left leftTop"),"object"==typeof a){return this.popover.pos(e.extend({},g,a))}switch(a){case"inline":g=!1;break;case"topLeftCorner":g.my="right bottom",g.at="left top";break;case"topLeft":g.my="left bottom",g.at="left top";break;case"top":g.my="center bottom",g.at="center top";break;case"topRight":g.my="right bottom",g.at="right top";break;case"topRightCorner":g.my="left bottom",g.at="right top";break;case"rightTop":g.my="left bottom",g.at="right center";break;case"right":g.my="left center",g.at="right center";break;case"rightBottom":g.my="left top",g.at="right center";break;case"bottomRightCorner":g.my="left top",g.at="right bottom";break;case"bottomRight":g.my="right top",g.at="right bottom";break;case"bottom":g.my="center top",g.at="center bottom";break;case"bottomLeft":g.my="left top",g.at="left bottom";break;case"bottomLeftCorner":g.my="right top",g.at="left bottom";break;case"leftBottom":g.my="right top",g.at="left center";break;case"left":g.my="right center",g.at="left center";break;case"leftTop":g.my="right bottom",g.at="left center";break;default:return !1}return this.popover.css({display:"inline"===this.options.placement?"":"block"}),g!==!1?this.popover.pos(g).css("maxWidth",e(window).width()-this.container.offset().left-5):this.popover.css({top:"auto",right:"auto",bottom:"auto",left:"auto",maxWidth:"none"}),this.popover.addClass(this.options.placement),!0},_updateComponents:function(){if(this.iconpicker.find(".iconpicker-item.iconpicker-selected").removeClass("iconpicker-selected "+this.options.selectedCustomClass),this.iconpicker.find("."+this.options.iconBaseClass+"."+this.options.iconClassPrefix+this.iconpickerValue).parent().addClass("iconpicker-selected "+this.options.selectedCustomClass),this.hasComponent()){var b=this.component.find("i");b.length>0?b.attr("class",this.options.iconComponentBaseClass+" "+this.getValue()):this.component.html(this.getValueHtml())}},_updateFormGroupStatus:function(b){return this.hasInput()?(b!==!1?this.input.parents(".form-group:first").removeClass("has-error"):this.input.parents(".form-group:first").addClass("has-error"),!0):!1},getValid:function(b){d.isString(b)||(b="");var a=""===b;return b=e.trim(b.replace(this.options.iconClassPrefix,"")),d.inArray(b,this.options.icons)||a?b:!1},setValue:function(g){var c=this.getValid(g);return c!==!1?(this.iconpickerValue=c,this._trigger("iconpickerSetValue",{iconpickerValue:c}),this.iconpickerValue):(this._trigger("iconpickerInvalid",{iconpickerValue:g}),!1)},getValue:function(b){return this.options.iconClassPrefix+(b?b:this.iconpickerValue)},getValueHtml:function(){return'<i class="'+this.options.iconBaseClass+" "+this.getValue()+'"></i>'},setSourceValue:function(b){return b=this.setValue(b),b!==!1&&""!==b&&(this.hasInput()?this.input.val(this.getValue()):this.element.data("iconpickerValue",this.getValue()),this._trigger("iconpickerSetSourceValue",{iconpickerValue:b})),b},getSourceValue:function(g){g=g||this.options.defaultValue;var c=g;return c=this.hasInput()?this.input.val():this.element.data("iconpickerValue"),(void 0===c||""===c||null===c||c===!1)&&(c=g),c},hasInput:function(){return this.input!==!1},hasComponent:function(){return this.component!==!1},hasContainer:function(){return this.container!==!1},getAcceptButton:function(){return this.popover.find(".iconpicker-btn-accept")},getCancelButton:function(){return this.popover.find(".iconpicker-btn-cancel")},getSearchInput:function(){return this.popover.find(".iconpicker-search")},filter:function(b){if(d.isEmpty(b)){return this.iconpicker.find(".iconpicker-item").show(),e(!1)}var a=[];return this.iconpicker.find(".iconpicker-item").each(function(){var c=e(this),j=c.attr("title").toLowerCase(),i=!1;try{i=new RegExp(b,"g")}catch(h){i=!1}i!==!1&&j.match(i)?(a.push(c),c.show()):c.hide()}),a},show:function(){return this.popover.hasClass("in")?!1:(e.iconpicker.batch(e(".iconpicker-popover.in:not(.inline)").not(this.popover),"hide"),this._trigger("iconpickerShow"),this.updatePlacement(),this.popover.addClass("in"),void setTimeout(e.proxy(function(){this.popover.css("display",this.isInline()?"":"block"),this._trigger("iconpickerShown")},this),this.options.animation?300:1))},hide:function(){return this.popover.hasClass("in")?(this._trigger("iconpickerHide"),this.popover.removeClass("in"),void setTimeout(e.proxy(function(){this.popover.css("display","none"),this.getSearchInput().val(""),this.filter(""),this._trigger("iconpickerHidden")},this),this.options.animation?300:1)):!1},toggle:function(){this.popover.is(":visible")?this.hide():this.show(!0)},update:function(g,c){return g=g?g:this.getSourceValue(this.iconpickerValue),this._trigger("iconpickerUpdate"),c===!0?g=this.setValue(g):(g=this.setSourceValue(g),this._updateFormGroupStatus(g!==!1)),g!==!1&&this._updateComponents(),this._trigger("iconpickerUpdated"),g},destroy:function(){this._trigger("iconpickerDestroy"),this.element.removeData("iconpicker").removeData("iconpickerValue").removeClass("iconpicker-element"),this._unbindElementEvents(),this._unbindWindowEvents(),e(this.popover).remove(),this._trigger("iconpickerDestroyed")},disable:function(){return this.hasInput()?(this.input.prop("disabled",!0),!0):!1},enable:function(){return this.hasInput()?(this.input.prop("disabled",!1),!0):!1},isDisabled:function(){return this.hasInput()?this.input.prop("disabled")===!0:!1},isInline:function(){return"inline"===this.options.placement||this.popover.hasClass("inline")}},e.iconpicker=f,e.fn.iconpicker=function(a){return this.each(function(){var b=e(this);b.data("iconpicker")||b.data("iconpicker",new f(this,"object"==typeof a?a:{}))})},f.defaultOptions.icons=["glass","music","search","envelope-o","heart","star","star-o","user","film","th-large","th","th-list","check","remove","close","times","search-plus","search-minus","power-off","signal","gear","cog","trash-o","home","file-o","clock-o","road","download","arrow-circle-o-down","arrow-circle-o-up","inbox","play-circle-o","rotate-right","repeat","refresh","list-alt","lock","flag","headphones","volume-off","volume-down","volume-up","qrcode","barcode","tag","tags","book","bookmark","print","camera","font","bold","italic","text-height","text-width","align-left","align-center","align-right","align-justify","list","dedent","outdent","indent","video-camera","photo","image","picture-o","pencil","map-marker","adjust","tint","edit","pencil-square-o","share-square-o","check-square-o","arrows","step-backward","fast-backward","backward","play","pause","stop","forward","fast-forward","step-forward","eject","chevron-left","chevron-right","plus-circle","minus-circle","times-circle","check-circle","question-circle","info-circle","crosshairs","times-circle-o","check-circle-o","ban","arrow-left","arrow-right","arrow-up","arrow-down","mail-forward","share","expand","compress","plus","minus","asterisk","exclamation-circle","gift","leaf","fire","eye","eye-slash","warning","exclamation-triangle","plane","calendar","random","comment","magnet","chevron-up","chevron-down","retweet","shopping-cart","folder","folder-open","arrows-v","arrows-h","bar-chart-o","bar-chart","twitter-square","facebook-square","camera-retro","key","gears","cogs","comments","thumbs-o-up","thumbs-o-down","star-half","heart-o","sign-out","linkedin-square","thumb-tack","external-link","sign-in","trophy","github-square","upload","lemon-o","phone","square-o","bookmark-o","phone-square","twitter","facebook-f","facebook","github","unlock","credit-card","feed","rss","hdd-o","bullhorn","bell","certificate","hand-o-right","hand-o-left","hand-o-up","hand-o-down","arrow-circle-left","arrow-circle-right","arrow-circle-up","arrow-circle-down","globe","wrench","tasks","filter","briefcase","arrows-alt","group","users","chain","link","cloud","flask","cut","scissors","copy","files-o","paperclip","save","floppy-o","square","navicon","reorder","bars","list-ul","list-ol","strikethrough","underline","table","magic","truck","pinterest","pinterest-square","google-plus-square","google-plus","money","caret-down","caret-up","caret-left","caret-right","columns","unsorted","sort","sort-down","sort-desc","sort-up","sort-asc","envelope","linkedin","rotate-left","undo","legal","gavel","dashboard","tachometer","comment-o","comments-o","flash","bolt","sitemap","umbrella","paste","clipboard","lightbulb-o","exchange","cloud-download","cloud-upload","user-md","stethoscope","suitcase","bell-o","coffee","cutlery","file-text-o","building-o","hospital-o","ambulance","medkit","fighter-jet","beer","h-square","plus-square","angle-double-left","angle-double-right","angle-double-up","angle-double-down","angle-left","angle-right","angle-up","angle-down","desktop","laptop","tablet","mobile-phone","mobile","circle-o","quote-left","quote-right","spinner","circle","mail-reply","reply","github-alt","folder-o","folder-open-o","smile-o","frown-o","meh-o","gamepad","keyboard-o","flag-o","flag-checkered","terminal","code","mail-reply-all","reply-all","star-half-empty","star-half-full","star-half-o","location-arrow","crop","code-fork","unlink","chain-broken","question","info","exclamation","superscript","subscript","eraser","puzzle-piece","microphone","microphone-slash","shield","calendar-o","fire-extinguisher","rocket","maxcdn","chevron-circle-left","chevron-circle-right","chevron-circle-up","chevron-circle-down","html5","css3","anchor","unlock-alt","bullseye","ellipsis-h","ellipsis-v","rss-square","play-circle","ticket","minus-square","minus-square-o","level-up","level-down","check-square","pencil-square","external-link-square","share-square","compass","toggle-down","caret-square-o-down","toggle-up","caret-square-o-up","toggle-right","caret-square-o-right","euro","eur","gbp","dollar","usd","rupee","inr","cny","rmb","yen","jpy","ruble","rouble","rub","won","krw","bitcoin","btc","file","file-text","sort-alpha-asc","sort-alpha-desc","sort-amount-asc","sort-amount-desc","sort-numeric-asc","sort-numeric-desc","thumbs-up","thumbs-down","youtube-square","youtube","xing","xing-square","youtube-play","dropbox","stack-overflow","instagram","flickr","adn","bitbucket","bitbucket-square","tumblr","tumblr-square","long-arrow-down","long-arrow-up","long-arrow-left","long-arrow-right","apple","windows","android","linux","dribbble","skype","foursquare","trello","female","male","gittip","gratipay","sun-o","moon-o","archive","bug","vk","weibo","renren","pagelines","stack-exchange","arrow-circle-o-right","arrow-circle-o-left","toggle-left","caret-square-o-left","dot-circle-o","wheelchair","vimeo-square","turkish-lira","try","plus-square-o","space-shuttle","slack","envelope-square","wordpress","openid","institution","bank","university","mortar-board","graduation-cap","yahoo","google","reddit","reddit-square","stumbleupon-circle","stumbleupon","delicious","digg","pied-piper-pp","pied-piper-alt","drupal","joomla","language","fax","building","child","paw","spoon","cube","cubes","behance","behance-square","steam","steam-square","recycle","automobile","car","cab","taxi","tree","spotify","deviantart","soundcloud","database","file-pdf-o","file-word-o","file-excel-o","file-powerpoint-o","file-photo-o","file-picture-o","file-image-o","file-zip-o","file-archive-o","file-sound-o","file-audio-o","file-movie-o","file-video-o","file-code-o","vine","codepen","jsfiddle","life-bouy","life-buoy","life-saver","support","life-ring","circle-o-notch","ra","resistance","rebel","ge","empire","git-square","git","y-combinator-square","yc-square","hacker-news","tencent-weibo","qq","wechat","weixin","send","paper-plane","send-o","paper-plane-o","history","circle-thin","header","paragraph","sliders","share-alt","share-alt-square","bomb","soccer-ball-o","futbol-o","tty","binoculars","plug","slideshare","twitch","yelp","newspaper-o","wifi","calculator","paypal","google-wallet","cc-visa","cc-mastercard","cc-discover","cc-amex","cc-paypal","cc-stripe","bell-slash","bell-slash-o","trash","copyright","at","eyedropper","paint-brush","birthday-cake","area-chart","pie-chart","line-chart","lastfm","lastfm-square","toggle-off","toggle-on","bicycle","bus","ioxhost","angellist","cc","shekel","sheqel","ils","meanpath","buysellads","connectdevelop","dashcube","forumbee","leanpub","sellsy","shirtsinbulk","simplybuilt","skyatlas","cart-plus","cart-arrow-down","diamond","ship","user-secret","motorcycle","street-view","heartbeat","venus","mars","mercury","intersex","transgender","transgender-alt","venus-double","mars-double","venus-mars","mars-stroke","mars-stroke-v","mars-stroke-h","neuter","genderless","facebook-official","pinterest-p","whatsapp","server","user-plus","user-times","hotel","bed","viacoin","train","subway","medium","yc","y-combinator","optin-monster","opencart","expeditedssl","battery-4","battery","battery-full","battery-3","battery-three-quarters","battery-2","battery-half","battery-1","battery-quarter","battery-0","battery-empty","mouse-pointer","i-cursor","object-group","object-ungroup","sticky-note","sticky-note-o","cc-jcb","cc-diners-club","clone","balance-scale","hourglass-o","hourglass-1","hourglass-start","hourglass-2","hourglass-half","hourglass-3","hourglass-end","hourglass","hand-grab-o","hand-rock-o","hand-stop-o","hand-paper-o","hand-scissors-o","hand-lizard-o","hand-spock-o","hand-pointer-o","hand-peace-o","trademark","registered","creative-commons","gg","gg-circle","tripadvisor","odnoklassniki","odnoklassniki-square","get-pocket","wikipedia-w","safari","chrome","firefox","opera","internet-explorer","tv","television","contao","500px","amazon","calendar-plus-o","calendar-minus-o","calendar-times-o","calendar-check-o","industry","map-pin","map-signs","map-o","map","commenting","commenting-o","houzz","vimeo","black-tie","fonticons","reddit-alien","edge","credit-card-alt","codiepie","modx","fort-awesome","usb","product-hunt","mixcloud","scribd","pause-circle","pause-circle-o","stop-circle","stop-circle-o","shopping-bag","shopping-basket","hashtag","bluetooth","bluetooth-b","percent","gitlab","wpbeginner","wpforms","envira","universal-access","wheelchair-alt","question-circle-o","blind","audio-description","volume-control-phone","braille","assistive-listening-systems","asl-interpreting","american-sign-language-interpreting","deafness","hard-of-hearing","deaf","glide","glide-g","signing","sign-language","low-vision","viadeo","viadeo-square","snapchat","snapchat-ghost","snapchat-square","pied-piper","first-order","yoast","themeisle","google-plus-circle","google-plus-official","fa","font-awesome","handshake-o","envelope-open","envelope-open-o","linode","address-book","address-book-o","vcard","address-card","vcard-o","address-card-o","user-circle","user-circle-o","user-o","id-badge","drivers-license","id-card","drivers-license-o","id-card-o","quora","free-code-camp","telegram","thermometer-4","thermometer","thermometer-full","thermometer-3","thermometer-three-quarters","thermometer-2","thermometer-half","thermometer-1","thermometer-quarter","thermometer-0","thermometer-empty","shower","bathtub","s15","bath","podcast","window-maximize","window-minimize","window-restore","times-rectangle","window-close","times-rectangle-o","window-close-o","bandcamp","grav","etsy","imdb","ravelry","eercast","microchip","snowflake-o","superpowers","wpexplorer","meetup"]});
/*!
 * Chart.js
 * http://chartjs.org/
 * Version: 1.0.2
 *
 * Copyright 2015 Nick Downie
 * Released under the MIT license
 * https://github.com/nnnick/Chart.js/blob/master/LICENSE.md
 */
(function(){var X=this,aj=X.Chart,an=function(b){this.canvas=b.canvas,this.ctx=b;var a=function(f,e){return f["offset"+e]?f["offset"+e]:document.defaultView.getComputedStyle(f).getPropertyValue(e)},c=this.width=a(b.canvas,"Width"),d=this.height=a(b.canvas,"Height");b.canvas.width=c,b.canvas.height=d;var c=this.width=b.canvas.width,d=this.height=b.canvas.height;return this.aspectRatio=this.width/this.height,Y.retinaScale(this),this};an.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},an.types={};var Y=an.helpers={},af=Y.each=function(b,a,d){var c=Array.prototype.slice.call(arguments,3);if(b){if(b.length===+b.length){var g;for(g=0;g<b.length;g++){a.apply(d,[b[g],g].concat(c))}}else{for(var f in b){a.apply(d,[b[f],f].concat(c))}}}},ae=Y.clone=function(b){var a={};return af(b,function(d,c){b.hasOwnProperty(c)&&(a[c]=d)}),a},ar=Y.extend=function(a){return af(Array.prototype.slice.call(arguments,1),function(b){af(b,function(d,c){b.hasOwnProperty(c)&&(a[c]=d)})}),a},ak=Y.merge=function(){var a=Array.prototype.slice.call(arguments,0);return a.unshift({}),ar.apply(null,a)},ah=Y.indexOf=function(b,a){if(Array.prototype.indexOf){return b.indexOf(a)}for(var c=0;c<b.length;c++){if(b[c]===a){return c}}return -1},aa=(Y.where=function(b,a){var c=[];return Y.each(b,function(d){a(d)&&c.push(d)}),c},Y.findNextWhere=function(b,a,d){d||(d=-1);for(var c=d+1;c<b.length;c++){var f=b[c];if(a(f)){return f}}},Y.findPreviousWhere=function(b,a,d){d||(d=b.length);for(var c=d-1;c>=0;c--){var f=b[c];if(a(f)){return f}}},Y.inherits=function(b){var a=this,d=b&&b.hasOwnProperty("constructor")?b.constructor:function(){return a.apply(this,arguments)},c=function(){this.constructor=d};return c.prototype=a.prototype,d.prototype=new c,d.extend=aa,b&&ar(d.prototype,b),d.__super__=a.prototype,d}),ap=Y.noop=function(){},V=Y.uid=function(){var a=0;return function(){return"chart-"+a++}}(),ao=Y.warn=function(a){window.console&&"function"==typeof window.console.warn&&console.warn(a)},ad=Y.amd="function"==typeof define&&define.amd,am=Y.isNumber=function(a){return !isNaN(parseFloat(a))&&isFinite(a)},al=Y.max=function(a){return Math.max.apply(Math,a)},ag=Y.min=function(a){return Math.min.apply(Math,a)},Q=(Y.cap=function(b,a,c){if(am(a)){if(b>a){return a}}else{if(am(c)&&c>b){return c}}return b},Y.getDecimalPlaces=function(a){return a%1!==0&&am(a)?a.toString().split(".")[1].length:0}),D=Y.radians=function(a){return a*(Math.PI/180)},N=(Y.getAngleFromPoint=function(b,a){var d=a.x-b.x,c=a.y-b.y,g=Math.sqrt(d*d+c*c),f=2*Math.PI+Math.atan2(c,d);return 0>d&&0>c&&(f+=2*Math.PI),{angle:f,distance:g}},Y.aliasPixel=function(a){return a%2===0?0:0.5}),K=(Y.splineCurve=function(d,c,k,g){var m=Math.sqrt(Math.pow(c.x-d.x,2)+Math.pow(c.y-d.y,2)),l=Math.sqrt(Math.pow(k.x-c.x,2)+Math.pow(k.y-c.y,2)),b=g*m/(m+l),f=g*l/(m+l);return{inner:{x:c.x-b*(k.x-d.x),y:c.y-b*(k.y-d.y)},outer:{x:c.x+f*(k.x-d.x),y:c.y+f*(k.y-d.y)}}},Y.calculateOrderOfMagnitude=function(a){return Math.floor(Math.log(a)/Math.LN10)}),Z=(Y.calculateScaleRange=function(W,y,B,at,m){var k=2,L=Math.floor(y/(1.5*B)),z=k>=L,w=al(W),b=ag(W);w===b&&(w+=0.5,b>=0.5&&!at?b-=0.5:w+=0.5);for(var F=Math.abs(w-b),R=K(F),C=Math.ceil(w/(1*Math.pow(10,R)))*Math.pow(10,R),g=at?0:Math.floor(b/(1*Math.pow(10,R)))*Math.pow(10,R),A=C-g,P=Math.pow(10,R),x=Math.round(A/P);(x>L||L>2*x)&&!z;){if(x>L){P*=2,x=Math.round(A/P),x%1!==0&&(z=!0)}else{if(m&&R>=0){if(P/2%1!==0){break}P/=2,x=Math.round(A/P)}else{P/=2,x=Math.round(A/P)}}}return z&&(x=k,P=A/x),{steps:x,stepValue:P,min:g,max:g+x*P}},Y.template=function(b,a){function d(g,f){var h=/\W/.test(g)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+g.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):c[g]=c[g];return f?h(f):h}if(b instanceof Function){return b(a)}var c={};return d(b,a)}),O=(Y.generateLabels=function(b,a,d,c){var f=new Array(a);return labelTemplateString&&af(f,function(e,g){f[g]=Z(b,{value:d+c*(g+1)})}),f},Y.easingEffects={linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return -1*a*(a-2)},easeInOutQuad:function(a){return(a/=0.5)<1?0.5*a*a:-0.5*(--a*(a-2)-1)},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return 1*((a=a/1-1)*a*a+1)},easeInOutCubic:function(a){return(a/=0.5)<1?0.5*a*a*a:0.5*((a-=2)*a*a+2)},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return -1*((a=a/1-1)*a*a*a-1)},easeInOutQuart:function(a){return(a/=0.5)<1?0.5*a*a*a*a:-0.5*((a-=2)*a*a*a-2)},easeInQuint:function(a){return 1*(a/=1)*a*a*a*a},easeOutQuint:function(a){return 1*((a=a/1-1)*a*a*a*a+1)},easeInOutQuint:function(a){return(a/=0.5)<1?0.5*a*a*a*a*a:0.5*((a-=2)*a*a*a*a+2)},easeInSine:function(a){return -1*Math.cos(a/1*(Math.PI/2))+1},easeOutSine:function(a){return 1*Math.sin(a/1*(Math.PI/2))},easeInOutSine:function(a){return -0.5*(Math.cos(Math.PI*a/1)-1)},easeInExpo:function(a){return 0===a?1:1*Math.pow(2,10*(a/1-1))},easeOutExpo:function(a){return 1===a?1:1*(-Math.pow(2,-10*a/1)+1)},easeInOutExpo:function(a){return 0===a?0:1===a?1:(a/=0.5)<1?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*--a)+2)},easeInCirc:function(a){return a>=1?a:-1*(Math.sqrt(1-(a/=1)*a)-1)},easeOutCirc:function(a){return 1*Math.sqrt(1-(a=a/1-1)*a)},easeInOutCirc:function(a){return(a/=0.5)<1?-0.5*(Math.sqrt(1-a*a)-1):0.5*(Math.sqrt(1-(a-=2)*a)+1)},easeInElastic:function(b){var a=1.70158,d=0,c=1;return 0===b?0:1==(b/=1)?1:(d||(d=0.3),c<Math.abs(1)?(c=1,a=d/4):a=d/(2*Math.PI)*Math.asin(1/c),-(c*Math.pow(2,10*(b-=1))*Math.sin(2*(1*b-a)*Math.PI/d)))},easeOutElastic:function(b){var a=1.70158,d=0,c=1;return 0===b?0:1==(b/=1)?1:(d||(d=0.3),c<Math.abs(1)?(c=1,a=d/4):a=d/(2*Math.PI)*Math.asin(1/c),c*Math.pow(2,-10*b)*Math.sin(2*(1*b-a)*Math.PI/d)+1)},easeInOutElastic:function(b){var a=1.70158,d=0,c=1;return 0===b?0:2==(b/=0.5)?1:(d||(d=0.3*1.5),c<Math.abs(1)?(c=1,a=d/4):a=d/(2*Math.PI)*Math.asin(1/c),1>b?-0.5*c*Math.pow(2,10*(b-=1))*Math.sin(2*(1*b-a)*Math.PI/d):c*Math.pow(2,-10*(b-=1))*Math.sin(2*(1*b-a)*Math.PI/d)*0.5+1)},easeInBack:function(b){var a=1.70158;return 1*(b/=1)*b*((a+1)*b-a)},easeOutBack:function(b){var a=1.70158;return 1*((b=b/1-1)*b*((a+1)*b+a)+1)},easeInOutBack:function(b){var a=1.70158;return(b/=0.5)<1?0.5*b*b*(((a*=1.525)+1)*b-a):0.5*((b-=2)*b*(((a*=1.525)+1)*b+a)+2)},easeInBounce:function(a){return 1-O.easeOutBounce(1-a)},easeOutBounce:function(a){return(a/=1)<1/2.75?7.5625*a*a:2/2.75>a?1*(7.5625*(a-=1.5/2.75)*a+0.75):2.5/2.75>a?1*(7.5625*(a-=2.25/2.75)*a+0.9375):1*(7.5625*(a-=2.625/2.75)*a+0.984375)},easeInOutBounce:function(a){return 0.5>a?0.5*O.easeInBounce(2*a):0.5*O.easeOutBounce(2*a-1)+0.5}}),aq=Y.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return window.setTimeout(a,1000/60)}}(),G=Y.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(a){return window.clearTimeout(a,1000/60)}}(),I=(Y.animationLoop=function(p,f,k,r,c,b){var m=0,g=O[k]||O.linear,d=function(){m++;var h=m/f,a=g(h);p.call(b,a,h,m),r.call(b,a,h),f>m?b.animationFrame=aq(d):c.apply(b)};aq(d)},Y.getRelativePosition=function(b){var a,d,c=b.originalEvent||b,g=b.currentTarget||b.srcElement,f=g.getBoundingClientRect();return c.touches?(a=c.touches[0].clientX-f.left,d=c.touches[0].clientY-f.top):(a=c.clientX-f.left,d=c.clientY-f.top),{x:a,y:d}},Y.addEvent=function(b,a,c){b.addEventListener?b.addEventListener(a,c):b.attachEvent?b.attachEvent("on"+a,c):b["on"+a]=c}),ai=Y.removeEvent=function(b,a,c){b.removeEventListener?b.removeEventListener(a,c,!1):b.detachEvent?b.detachEvent("on"+a,c):b["on"+a]=ap},U=(Y.bindEvents=function(b,a,c){b.events||(b.events={}),af(a,function(d){b.events[d]=function(){c.apply(b,arguments)},I(b.chart.canvas,d,b.events[d])})},Y.unbindEvents=function(b,a){af(a,function(c,d){ai(b.chart.canvas,d,c)})}),E=Y.getMaximumWidth=function(b){var a=b.parentNode;return a.clientWidth},q=Y.getMaximumHeight=function(b){var a=b.parentNode;return a.clientHeight},ac=(Y.getMaximumSize=Y.getMaximumWidth,Y.retinaScale=function(b){var a=b.ctx,d=b.canvas.width,c=b.canvas.height;window.devicePixelRatio&&(a.canvas.style.width=d+"px",a.canvas.style.height=c+"px",a.canvas.height=c*window.devicePixelRatio,a.canvas.width=d*window.devicePixelRatio,a.scale(window.devicePixelRatio,window.devicePixelRatio))}),H=Y.clear=function(a){a.ctx.clearRect(0,0,a.width,a.height)},j=Y.fontString=function(b,a,c){return a+" "+b+"px "+c},J=Y.longestText=function(b,a,d){b.font=a;var c=0;return af(d,function(f){var g=b.measureText(f).width;c=g>c?g:c}),c},ab=Y.drawRoundedRectangle=function(b,a,d,c,g,f){b.beginPath(),b.moveTo(a+f,d),b.lineTo(a+c-f,d),b.quadraticCurveTo(a+c,d,a+c,d+f),b.lineTo(a+c,d+g-f),b.quadraticCurveTo(a+c,d+g,a+c-f,d+g),b.lineTo(a+f,d+g),b.quadraticCurveTo(a,d+g,a,d+g-f),b.lineTo(a,d+f),b.quadraticCurveTo(a,d,a+f,d),b.closePath()};an.instances={},an.Type=function(b,a,c){this.options=a,this.chart=c,this.id=V(),an.instances[this.id]=this,a.responsive&&this.resize(),this.initialize.call(this,b)},ar(an.Type.prototype,{initialize:function(){return this},clear:function(){return H(this.chart),this},stop:function(){return G(this.animationFrame),this},resize:function(b){this.stop();var a=this.chart.canvas,d=E(this.chart.canvas),c=this.options.maintainAspectRatio?d/this.chart.aspectRatio:q(this.chart.canvas);return a.width=this.chart.width=d,a.height=this.chart.height=c,ac(this.chart),"function"==typeof b&&b.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:ap,render:function(a){return a&&this.reflow(),this.options.animation&&!a?Y.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return Z(this.options.legendTemplate,this)},destroy:function(){this.clear(),U(this,this.events);var a=this.chart.canvas;a.width=this.chart.width,a.height=this.chart.height,a.style.removeProperty?(a.style.removeProperty("width"),a.style.removeProperty("height")):(a.style.removeAttribute("width"),a.style.removeAttribute("height")),delete an.instances[this.id]},showTooltip:function(p,f){"undefined"==typeof this.activeElements&&(this.activeElements=[]);var e=function(c){var a=!1;return c.length!==this.activeElements.length?a=!0:(af(c,function(d,h){d!==this.activeElements[h]&&(a=!0)},this),a)}.call(this,p);if(e||f){if(this.activeElements=p,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),p.length>0){if(this.datasets&&this.datasets.length>1){for(var m,g,b=this.datasets.length-1;b>=0&&(m=this.datasets[b].points||this.datasets[b].bars||this.datasets[b].segments,g=ah(m,p[0]),-1===g);b--){}var l=[],n=[],k=function(){var s,h,v,x,w,d=[],c=[],u=[];return Y.each(this.datasets,function(a){s=a.points||a.bars||a.segments,s[g]&&s[g].hasValue()&&d.push(s[g])}),Y.each(d,function(a){c.push(a.x),u.push(a.y),l.push(Y.template(this.options.multiTooltipTemplate,a)),n.push({fill:a._saved.fillColor||a.fillColor,stroke:a._saved.strokeColor||a.strokeColor})},this),w=ag(u),v=al(u),x=ag(c),h=al(c),{x:x>this.chart.width/2?x:h,y:(w+v)/2}}.call(this,g);new an.MultiTooltip({x:k.x,y:k.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:l,legendColors:n,legendColorBackground:this.options.multiTooltipKeyBackground,title:p[0].label,chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else{af(p,function(c){var a=c.tooltipPosition();new an.Tooltip({x:Math.round(a.x),y:Math.round(a.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:Z(this.options.tooltipTemplate,c),chart:this.chart,custom:this.options.customTooltips}).draw()},this)}}return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),an.Type.extend=function(c){var b=this,d=function(){return b.apply(this,arguments)};if(d.prototype=ae(b.prototype),ar(d.prototype,c),d.extend=an.Type.extend,c.name||b.prototype.name){var e=c.name||b.prototype.name,a=an.defaults[b.prototype.name]?ae(an.defaults[b.prototype.name]):{};an.defaults[e]=ar(a,c.defaults),an.types[e]=d,an.prototype[e]=function(g,f){var h=ak(an.defaults.global,an.defaults[e],f||{});return new d(g,h,this)}}else{ao("Name not provided for this chart, so it hasn't been registered")}return b},an.Element=function(a){ar(this,a),this.initialize.apply(this,arguments),this.save()},ar(an.Element.prototype,{initialize:function(){},restore:function(a){return a?af(a,function(b){this[b]=this._saved[b]},this):ar(this,this._saved),this},save:function(){return this._saved=ae(this),delete this._saved._saved,this},update:function(a){return af(a,function(c,b){this._saved[b]=this[b],this[b]=c},this),this},transition:function(b,a){return af(b,function(c,d){this[d]=(c-this._saved[d])*a+this._saved[d]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return am(this.value)}}),an.Element.extend=aa,an.Point=an.Element.extend({display:!0,inRange:function(b,a){var c=this.hitDetectionRadius+this.radius;return Math.pow(b-this.x,2)+Math.pow(a-this.y,2)<Math.pow(c,2)},draw:function(){if(this.display){var a=this.ctx;a.beginPath(),a.arc(this.x,this.y,this.radius,0,2*Math.PI),a.closePath(),a.strokeStyle=this.strokeColor,a.lineWidth=this.strokeWidth,a.fillStyle=this.fillColor,a.fill(),a.stroke()}}}),an.Arc=an.Element.extend({inRange:function(b,a){var c=Y.getAngleFromPoint(this,{x:b,y:a}),f=c.angle>=this.startAngle&&c.angle<=this.endAngle,d=c.distance>=this.innerRadius&&c.distance<=this.outerRadius;return f&&d},tooltipPosition:function(){var b=this.startAngle+(this.endAngle-this.startAngle)/2,a=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(b)*a,y:this.y+Math.sin(b)*a}},draw:function(b){var a=this.ctx;a.beginPath(),a.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),a.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),a.closePath(),a.strokeStyle=this.strokeColor,a.lineWidth=this.strokeWidth,a.fillStyle=this.fillColor,a.fill(),a.lineJoin="bevel",this.showStroke&&a.stroke()}}),an.Rectangle=an.Element.extend({draw:function(){var b=this.ctx,a=this.width/2,d=this.x-a,c=this.x+a,g=this.base-(this.base-this.y),f=this.strokeWidth/2;this.showStroke&&(d+=f,c-=f,g+=f),b.beginPath(),b.fillStyle=this.fillColor,b.strokeStyle=this.strokeColor,b.lineWidth=this.strokeWidth,b.moveTo(d,this.base),b.lineTo(d,g),b.lineTo(c,g),b.lineTo(c,this.base),b.fill(),this.showStroke&&b.stroke()},height:function(){return this.base-this.y},inRange:function(b,a){return b>=this.x-this.width/2&&b<=this.x+this.width/2&&a>=this.y&&a<=this.base}}),an.Tooltip=an.Element.extend({draw:function(){var d=this.chart.ctx;d.font=j(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var c=this.caretPadding=2,g=d.measureText(this.text).width+2*this.xPadding,f=this.fontSize+2*this.yPadding,k=f+this.caretHeight+c;this.x+g/2>this.chart.width?this.xAlign="left":this.x-g/2<0&&(this.xAlign="right"),this.y-k<0&&(this.yAlign="below");var h=this.x-g/2,b=this.y-k;if(d.fillStyle=this.fillColor,this.custom){this.custom(this)}else{switch(this.yAlign){case"above":d.beginPath(),d.moveTo(this.x,this.y-c),d.lineTo(this.x+this.caretHeight,this.y-(c+this.caretHeight)),d.lineTo(this.x-this.caretHeight,this.y-(c+this.caretHeight)),d.closePath(),d.fill();break;case"below":b=this.y+c+this.caretHeight,d.beginPath(),d.moveTo(this.x,this.y+c),d.lineTo(this.x+this.caretHeight,this.y+c+this.caretHeight),d.lineTo(this.x-this.caretHeight,this.y+c+this.caretHeight),d.closePath(),d.fill()}switch(this.xAlign){case"left":h=this.x-g+(this.cornerRadius+this.caretHeight);break;case"right":h=this.x-(this.cornerRadius+this.caretHeight)}ab(d,h,b,g,f,this.cornerRadius),d.fill(),d.fillStyle=this.textColor,d.textAlign="center",d.textBaseline="middle",d.fillText(this.text,h+g/2,b+f/2)}}}),an.MultiTooltip=an.Element.extend({initialize:function(){this.font=j(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=j(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var b=this.ctx.measureText(this.title).width,a=J(this.ctx,this.font,this.labels)+this.fontSize+3,d=al([a,b]);this.width=d+2*this.xPadding;var c=this.height/2;this.y-c<0?this.y=c:this.y+c>this.chart.height&&(this.y=this.chart.height-c),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(b){var a=this.y-this.height/2+this.yPadding,c=b-1;return 0===b?a+this.titleFontSize/2:a+(1.5*this.fontSize*c+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){if(this.custom){this.custom(this)}else{ab(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var a=this.ctx;a.fillStyle=this.fillColor,a.fill(),a.closePath(),a.textAlign="left",a.textBaseline="middle",a.fillStyle=this.titleTextColor,a.font=this.titleFont,a.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),a.font=this.font,Y.each(this.labels,function(b,c){a.fillStyle=this.textColor,a.fillText(b,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(c+1)),a.fillStyle=this.legendColorBackground,a.fillRect(this.x+this.xPadding,this.getLineHeight(c+1)-this.fontSize/2,this.fontSize,this.fontSize),a.fillStyle=this.legendColors[c].fill,a.fillRect(this.x+this.xPadding,this.getLineHeight(c+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}}),an.Scale=an.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var b=Q(this.stepValue),a=0;a<=this.steps;a++){this.yLabels.push(Z(this.templateString,{value:(this.min+a*this.stepValue).toFixed(b)}))}this.yLabelWidth=this.display&&this.showLabels?J(this.ctx,this.font,this.yLabels):0},addXLabel:function(a){this.xLabels.push(a),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var b,a=this.endPoint-this.startPoint;for(this.calculateYRange(a),this.buildYLabels(),this.calculateXLabelRotation();a>this.endPoint-this.startPoint;){a=this.endPoint-this.startPoint,b=this.yLabelWidth,this.calculateYRange(a),this.buildYLabels(),b<this.yLabelWidth&&this.calculateXLabelRotation()}},calculateXLabelRotation:function(){this.ctx.font=this.font;var d,c,g=this.ctx.measureText(this.xLabels[0]).width,f=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=f/2+3,this.xScalePaddingLeft=g/2>this.yLabelWidth+10?g/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var k,h=J(this.ctx,this.font,this.xLabels);this.xLabelWidth=h;for(var b=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>b&&0===this.xLabelRotation||this.xLabelWidth>b&&this.xLabelRotation<=90&&this.xLabelRotation>0;){k=Math.cos(D(this.xLabelRotation)),d=k*g,c=k*f,d+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=d+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=k*h}this.xLabelRotation>0&&(this.endPoint-=Math.sin(D(this.xLabelRotation))*h+3)}else{this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding}},calculateYRange:ap,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(b){var a=this.drawingArea()/(this.min-this.max);return this.endPoint-a*(b-this.min)},calculateX:function(b){var a=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),d=a/Math.max(this.valuesCount-(this.offsetGridLines?0:1),1),c=d*b+this.xScalePaddingLeft;return this.offsetGridLines&&(c+=d/2),Math.round(c)},update:function(a){Y.extend(this,a),this.fit()},draw:function(){var b=this.ctx,a=(this.endPoint-this.startPoint)/this.steps,c=Math.round(this.xScalePaddingLeft);this.display&&(b.fillStyle=this.textColor,b.font=this.font,af(this.yLabels,function(i,g){var e=this.endPoint-a*g,f=Math.round(e),d=this.showHorizontalLines;b.textAlign="right",b.textBaseline="middle",this.showLabels&&b.fillText(i,c-10,e),0!==g||d||(d=!0),d&&b.beginPath(),g>0?(b.lineWidth=this.gridLineWidth,b.strokeStyle=this.gridLineColor):(b.lineWidth=this.lineWidth,b.strokeStyle=this.lineColor),f+=Y.aliasPixel(b.lineWidth),d&&(b.moveTo(c,f),b.lineTo(this.width,f),b.stroke(),b.closePath()),b.lineWidth=this.lineWidth,b.strokeStyle=this.lineColor,b.beginPath(),b.moveTo(c-5,f),b.lineTo(c,f),b.stroke(),b.closePath()},this),af(this.xLabels,function(f,h){var g=this.calculateX(h)+N(this.lineWidth),l=this.calculateX(h-(this.offsetGridLines?0.5:0))+N(this.lineWidth),k=this.xLabelRotation>0,d=this.showVerticalLines;0!==h||d||(d=!0),d&&b.beginPath(),h>0?(b.lineWidth=this.gridLineWidth,b.strokeStyle=this.gridLineColor):(b.lineWidth=this.lineWidth,b.strokeStyle=this.lineColor),d&&(b.moveTo(l,this.endPoint),b.lineTo(l,this.startPoint-3),b.stroke(),b.closePath()),b.lineWidth=this.lineWidth,b.strokeStyle=this.lineColor,b.beginPath(),b.moveTo(l,this.endPoint),b.lineTo(l,this.endPoint+5),b.stroke(),b.closePath(),b.save(),b.translate(g,k?this.endPoint+12:this.endPoint+8),b.rotate(-1*D(this.xLabelRotation)),b.font=this.font,b.textAlign=k?"right":"center",b.textBaseline=k?"middle":"top",b.fillText(f,0,0),b.restore()},this))}}),an.RadialScale=an.Element.extend({initialize:function(){this.size=ag([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(b){var a=this.drawingArea/(this.max-this.min);return(b-this.min)*a},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var b=Q(this.stepValue),a=0;a<=this.steps;a++){this.yLabels.push(Z(this.templateString,{value:(this.min+a*this.stepValue).toFixed(b)}))}},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var L,w,z,P,m,k,C,x,v,b,B,F,A=ag([this.height/2-this.pointLabelFontSize-5,this.width/2]),f=this.width,y=0;for(this.ctx.font=j(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),w=0;w<this.valuesCount;w++){L=this.getPointPosition(w,A),z=this.ctx.measureText(Z(this.templateString,{value:this.labels[w]})).width+5,0===w||w===this.valuesCount/2?(P=z/2,L.x+P>f&&(f=L.x+P,m=w),L.x-P<y&&(y=L.x-P,C=w)):w<this.valuesCount/2?L.x+z>f&&(f=L.x+z,m=w):w>this.valuesCount/2&&L.x-z<y&&(y=L.x-z,C=w)}v=y,b=Math.ceil(f-this.width),k=this.getIndexAngle(m),x=this.getIndexAngle(C),B=b/Math.sin(k+Math.PI/2),F=v/Math.sin(x+Math.PI/2),B=am(B)?B:0,F=am(F)?F:0,this.drawingArea=A-(F+B)/2,this.setCenterPoint(F,B)},setCenterPoint:function(b,a){var d=this.width-a-this.drawingArea,c=b+this.drawingArea;this.xCenter=(c+d)/2,this.yCenter=this.height/2},getIndexAngle:function(b){var a=2*Math.PI/this.valuesCount;return b*a-Math.PI/2},getPointPosition:function(b,a){var c=this.getIndexAngle(b);return{x:Math.cos(c)*a+this.xCenter,y:Math.sin(c)*a+this.yCenter}},draw:function(){if(this.display){var n=this.ctx;if(af(this.yLabels,function(r,v){if(v>0){var u,x=v*(this.drawingArea/this.steps),w=this.yCenter-x;if(this.lineWidth>0){if(n.strokeStyle=this.lineColor,n.lineWidth=this.lineWidth,this.lineArc){n.beginPath(),n.arc(this.xCenter,this.yCenter,x,0,2*Math.PI),n.closePath(),n.stroke()}else{n.beginPath();for(var l=0;l<this.valuesCount;l++){u=this.getPointPosition(l,this.calculateCenterOffset(this.min+v*this.stepValue)),0===l?n.moveTo(u.x,u.y):n.lineTo(u.x,u.y)}n.closePath(),n.stroke()}}if(this.showLabels){if(n.font=j(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var t=n.measureText(r).width;n.fillStyle=this.backdropColor,n.fillRect(this.xCenter-t/2-this.backdropPaddingX,w-this.fontSize/2-this.backdropPaddingY,t+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}n.textAlign="center",n.textBaseline="middle",n.fillStyle=this.fontColor,n.fillText(r,this.xCenter,w)}}},this),!this.lineArc){n.lineWidth=this.angleLineWidth,n.strokeStyle=this.angleLineColor;for(var f=this.valuesCount-1;f>=0;f--){if(this.angleLineWidth>0){var k=this.getPointPosition(f,this.calculateCenterOffset(this.max));n.beginPath(),n.moveTo(this.xCenter,this.yCenter),n.lineTo(k.x,k.y),n.stroke(),n.closePath()}var p=this.getPointPosition(f,this.calculateCenterOffset(this.max)+5);n.font=j(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),n.fillStyle=this.pointLabelFontColor;var c=this.labels.length,m=this.labels.length/2,g=m/2,d=g>f||f>c-g,b=f===g||f===c-g;n.textAlign=0===f?"center":f===m?"center":m>f?"left":"right",n.textBaseline=b?"middle":d?"bottom":"top",n.fillText(this.labels[f],p.x,p.y)}}}}}),Y.addEvent(window,"resize",function(){var a;return function(){clearTimeout(a),a=setTimeout(function(){af(an.instances,function(b){b.options.responsive&&b.resize(b.render,!0)})},50)}}()),ad?define(function(){return an}):"object"==typeof module&&module.exports&&(module.exports=an),X.Chart=an,an.noConflict=function(){return X.Chart=aj,an}}).call(this),function(){var b=this,a=b.Chart,d=a.helpers,c={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};a.Type.extend({name:"Bar",defaults:c,initialize:function(e){var f=this.options;this.ScaleClass=a.Scale.extend({offsetGridLines:!0,calculateBarX:function(j,h,k){var m=this.calculateBaseWidth(),l=this.calculateX(k)-m/2,g=this.calculateBarWidth(j);return l+g*h+h*f.barDatasetSpacing+g/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*f.barValueSpacing},calculateBarWidth:function(h){var g=this.calculateBaseWidth()-(h-1)*f.barDatasetSpacing;return g/h}}),this.datasets=[],this.options.showTooltips&&d.bindEvents(this,this.options.tooltipEvents,function(h){var g="mouseout"!==h.type?this.getBarsAtEvent(h):[];this.eachBars(function(i){i.restore(["fillColor","strokeColor"])}),d.each(g,function(i){i.fillColor=i.highlightFill,i.strokeColor=i.highlightStroke}),this.showTooltip(g)}),this.BarClass=a.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),d.each(e.datasets,function(g){var h={label:g.label||null,fillColor:g.fillColor,strokeColor:g.strokeColor,bars:[]};this.datasets.push(h),d.each(g.data,function(i,j){h.bars.push(new this.BarClass({value:i,label:e.labels[j],datasetLabel:g.label,strokeColor:g.strokeColor,fillColor:g.fillColor,highlightFill:g.highlightFill||g.fillColor,highlightStroke:g.highlightStroke||g.strokeColor}))},this)},this),this.buildScale(e.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(h,g,j){d.extend(h,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,j,g),y:this.scale.endPoint}),h.save()},this),this.render()},update:function(){this.scale.update(),d.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachBars(function(e){e.save()}),this.render()},eachBars:function(e){d.each(this.datasets,function(f,g){d.each(f.bars,e,this,g)},this)},getBarsAtEvent:function(g){for(var f,h=[],k=d.getRelativePosition(g),j=function(i){h.push(i.bars[f])},e=0;e<this.datasets.length;e++){for(f=0;f<this.datasets[e].bars.length;f++){if(this.datasets[e].bars[f].inRange(k.x,k.y)){return d.each(this.datasets,j),h}}}return h},buildScale:function(f){var e=this,g=function(){var i=[];return e.eachBars(function(j){i.push(j.value)}),i},h={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:f.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(k){var j=d.calculateScaleRange(g(),k,this.fontSize,this.beginAtZero,this.integersOnly);d.extend(this,j)},xLabels:f,font:d.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&d.extend(h,{calculateYRange:d.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(h)},addData:function(f,e){d.each(f,function(g,h){this.datasets[h].bars.push(new this.BarClass({value:g,label:e,x:this.scale.calculateBarX(this.datasets.length,h,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[h].strokeColor,fillColor:this.datasets[h].fillColor}))},this),this.scale.addXLabel(e),this.update()},removeData:function(){this.scale.removeXLabel(),d.each(this.datasets,function(e){e.bars.shift()},this),this.update()},reflow:function(){d.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var e=d.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(f){var e=f||1;this.clear();this.chart.ctx;this.scale.draw(e),d.each(this.datasets,function(g,h){d.each(g.bars,function(i,j){i.hasValue()&&(i.base=this.scale.endPoint,i.transition({x:this.scale.calculateBarX(this.datasets.length,h,j),y:this.scale.calculateY(i.value),width:this.scale.calculateBarWidth(this.datasets.length)},e).draw())},this)},this)}})}.call(this),function(){var b=this,a=b.Chart,d=a.helpers,c={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};a.Type.extend({name:"Doughnut",defaults:c,initialize:function(e){this.segments=[],this.outerRadius=(d.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=a.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&d.bindEvents(this,this.options.tooltipEvents,function(g){var f="mouseout"!==g.type?this.getSegmentsAtEvent(g):[];d.each(this.segments,function(h){h.restore(["fillColor"])}),d.each(f,function(h){h.fillColor=h.highlightColor}),this.showTooltip(f)}),this.calculateTotal(e),d.each(e,function(g,f){this.addData(g,f,!0)},this),this.render()},getSegmentsAtEvent:function(f){var e=[],g=d.getRelativePosition(f);return d.each(this.segments,function(h){h.inRange(g.x,g.y)&&e.push(h)},this),e},addData:function(g,f,j){var h=f||this.segments.length;this.segments.splice(h,0,new this.SegmentArc({value:g.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:g.color,highlightColor:g.highlight||g.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(g.value),label:g.label})),j||(this.reflow(),this.update())},calculateCircumference:function(e){return 2*Math.PI*(Math.abs(e)/this.total)},calculateTotal:function(e){this.total=0,d.each(e,function(f){this.total+=Math.abs(f.value)},this)},update:function(){this.calculateTotal(this.segments),d.each(this.activeElements,function(e){e.restore(["fillColor"])}),d.each(this.segments,function(e){e.save()}),this.render()},removeData:function(f){var e=d.isNumber(f)?f:this.segments.length-1;this.segments.splice(e,1),this.reflow(),this.update()},reflow:function(){d.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(d.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,d.each(this.segments,function(e){e.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(f){var e=f?f:1;this.clear(),d.each(this.segments,function(g,h){g.transition({circumference:this.calculateCircumference(g.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},e),g.endAngle=g.startAngle+g.circumference,g.draw(),0===h&&(g.startAngle=1.5*Math.PI),h<this.segments.length-1&&(this.segments[h+1].startAngle=g.endAngle)},this)}}),a.types.Doughnut.extend({name:"Pie",defaults:d.merge(c,{percentageInnerCutout:0})})}.call(this),function(){var b=this,a=b.Chart,d=a.helpers,c={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:0.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};a.Type.extend({name:"Line",defaults:c,initialize:function(e){this.PointClass=a.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(f){return Math.pow(f-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&d.bindEvents(this,this.options.tooltipEvents,function(g){var f="mouseout"!==g.type?this.getPointsAtEvent(g):[];this.eachPoints(function(h){h.restore(["fillColor","strokeColor"])}),d.each(f,function(h){h.fillColor=h.highlightFill,h.strokeColor=h.highlightStroke}),this.showTooltip(f)}),d.each(e.datasets,function(f){var g={label:f.label||null,fillColor:f.fillColor,strokeColor:f.strokeColor,pointColor:f.pointColor,pointStrokeColor:f.pointStrokeColor,points:[]};this.datasets.push(g),d.each(f.data,function(h,i){g.points.push(new this.PointClass({value:h,label:e.labels[i],datasetLabel:f.label,strokeColor:f.pointStrokeColor,fillColor:f.pointColor,highlightFill:f.pointHighlightFill||f.pointColor,highlightStroke:f.pointHighlightStroke||f.pointStrokeColor}))},this),this.buildScale(e.labels),this.eachPoints(function(j,h){d.extend(j,{x:this.scale.calculateX(h),y:this.scale.endPoint}),j.save()},this)},this),this.render()},update:function(){this.scale.update(),d.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachPoints(function(e){e.save()}),this.render()},eachPoints:function(e){d.each(this.datasets,function(f){d.each(f.points,e,this)},this)},getPointsAtEvent:function(f){var e=[],g=d.getRelativePosition(f);return d.each(this.datasets,function(h){d.each(h.points,function(i){i.inRange(g.x,g.y)&&e.push(i)})},this),e},buildScale:function(e){var f=this,h=function(){var i=[];return f.eachPoints(function(j){i.push(j.value)}),i},g={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:e.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(k){var j=d.calculateScaleRange(h(),k,this.fontSize,this.beginAtZero,this.integersOnly);d.extend(this,j)},xLabels:e,font:d.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&d.extend(g,{calculateYRange:d.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new a.Scale(g)},addData:function(f,e){d.each(f,function(g,h){this.datasets[h].points.push(new this.PointClass({value:g,label:e,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[h].pointStrokeColor,fillColor:this.datasets[h].pointColor}))},this),this.scale.addXLabel(e),this.update()},removeData:function(){this.scale.removeXLabel(),d.each(this.datasets,function(e){e.points.shift()},this),this.update()},reflow:function(){var e=d.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(g){var f=g||1;this.clear();var h=this.chart.ctx,k=function(i){return null!==i.value},j=function(m,l,n){return d.findNextWhere(l,k,n)||m},e=function(m,l,n){return d.findPreviousWhere(l,k,n)||m};this.scale.draw(f),d.each(this.datasets,function(i){var l=d.where(i.points,k);d.each(i.points,function(m,n){m.hasValue()&&m.transition({y:this.scale.calculateY(m.value),x:this.scale.calculateX(n)},f)},this),this.options.bezierCurve&&d.each(l,function(n,m){var o=m>0&&m<l.length-1?this.options.bezierCurveTension:0;n.controlPoints=d.splineCurve(e(n,l,m),n,j(n,l,m),o),n.controlPoints.outer.y>this.scale.endPoint?n.controlPoints.outer.y=this.scale.endPoint:n.controlPoints.outer.y<this.scale.startPoint&&(n.controlPoints.outer.y=this.scale.startPoint),n.controlPoints.inner.y>this.scale.endPoint?n.controlPoints.inner.y=this.scale.endPoint:n.controlPoints.inner.y<this.scale.startPoint&&(n.controlPoints.inner.y=this.scale.startPoint)},this),h.lineWidth=this.options.datasetStrokeWidth,h.strokeStyle=i.strokeColor,h.beginPath(),d.each(l,function(n,m){if(0===m){h.moveTo(n.x,n.y)}else{if(this.options.bezierCurve){var o=e(n,l,m);h.bezierCurveTo(o.controlPoints.outer.x,o.controlPoints.outer.y,n.controlPoints.inner.x,n.controlPoints.inner.y,n.x,n.y)}else{h.lineTo(n.x,n.y)}}},this),h.stroke(),this.options.datasetFill&&l.length>0&&(h.lineTo(l[l.length-1].x,this.scale.endPoint),h.lineTo(l[0].x,this.scale.endPoint),h.fillStyle=i.fillColor,h.closePath(),h.fill()),d.each(l,function(m){m.draw()})},this)}})}.call(this),function(){var b=this,a=b.Chart,d=a.helpers,c={scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};a.Type.extend({name:"PolarArea",defaults:c,initialize:function(e){this.segments=[],this.SegmentArc=a.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new a.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:e.length}),this.updateScaleRange(e),this.scale.update(),d.each(e,function(g,f){this.addData(g,f,!0)},this),this.options.showTooltips&&d.bindEvents(this,this.options.tooltipEvents,function(g){var f="mouseout"!==g.type?this.getSegmentsAtEvent(g):[];d.each(this.segments,function(h){h.restore(["fillColor"])}),d.each(f,function(h){h.fillColor=h.highlightColor}),this.showTooltip(f)}),this.render()},getSegmentsAtEvent:function(f){var e=[],g=d.getRelativePosition(f);return d.each(this.segments,function(h){h.inRange(g.x,g.y)&&e.push(h)},this),e},addData:function(g,f,j){var h=f||this.segments.length;this.segments.splice(h,0,new this.SegmentArc({fillColor:g.color,highlightColor:g.highlight||g.color,label:g.label,value:g.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(g.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),j||(this.reflow(),this.update())},removeData:function(f){var e=d.isNumber(f)?f:this.segments.length-1;this.segments.splice(e,1),this.reflow(),this.update()},calculateTotal:function(e){this.total=0,d.each(e,function(f){this.total+=f.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(f){var e=[];d.each(f,function(h){e.push(h.value)});var g=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:d.calculateScaleRange(e,d.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);d.extend(this.scale,g,{size:d.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),d.each(this.segments,function(e){e.save()}),this.reflow(),this.render()},reflow:function(){d.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),d.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),d.each(this.segments,function(e){e.update({outerRadius:this.scale.calculateCenterOffset(e.value)})},this)},draw:function(f){var e=f||1;this.clear(),d.each(this.segments,function(g,h){g.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(g.value)},e),g.endAngle=g.startAngle+g.circumference,0===h&&(g.startAngle=1.5*Math.PI),h<this.segments.length-1&&(this.segments[h+1].startAngle=g.endAngle),g.draw()},this),this.scale.draw()}})}.call(this),function(){var b=this,a=b.Chart,c=a.helpers;a.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(d){this.PointClass=a.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(d),this.options.showTooltips&&c.bindEvents(this,this.options.tooltipEvents,function(f){var e="mouseout"!==f.type?this.getPointsAtEvent(f):[];this.eachPoints(function(g){g.restore(["fillColor","strokeColor"])}),c.each(e,function(g){g.fillColor=g.highlightFill,g.strokeColor=g.highlightStroke}),this.showTooltip(e)}),c.each(d.datasets,function(e){var f={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,pointColor:e.pointColor,pointStrokeColor:e.pointStrokeColor,points:[]};this.datasets.push(f),c.each(e.data,function(g,i){var h;this.scale.animation||(h=this.scale.getPointPosition(i,this.scale.calculateCenterOffset(g))),f.points.push(new this.PointClass({value:g,label:d.labels[i],datasetLabel:e.label,x:this.options.animation?this.scale.xCenter:h.x,y:this.options.animation?this.scale.yCenter:h.y,strokeColor:e.pointStrokeColor,fillColor:e.pointColor,highlightFill:e.pointHighlightFill||e.pointColor,highlightStroke:e.pointHighlightStroke||e.pointStrokeColor}))},this)},this),this.render()},eachPoints:function(d){c.each(this.datasets,function(e){c.each(e.points,d,this)},this)},getPointsAtEvent:function(f){var e=c.getRelativePosition(f),g=c.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},e),j=2*Math.PI/this.scale.valuesCount,h=Math.round((g.angle-1.5*Math.PI)/j),d=[];return(h>=this.scale.valuesCount||0>h)&&(h=0),g.distance<=this.scale.drawingArea&&c.each(this.datasets,function(i){d.push(i.points[h])}),d},buildScale:function(d){this.scale=new a.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:d.labels,valuesCount:d.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(d.datasets),this.scale.buildYLabels()},updateScaleRange:function(e){var d=function(){var g=[];return c.each(e,function(h){h.data?g=g.concat(h.data):c.each(h.points,function(i){g.push(i.value)})}),g}(),f=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:c.calculateScaleRange(d,c.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);c.extend(this.scale,f)},addData:function(e,d){this.scale.valuesCount++,c.each(e,function(f,h){var g=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(f));this.datasets[h].points.push(new this.PointClass({value:f,label:d,x:g.x,y:g.y,strokeColor:this.datasets[h].pointStrokeColor,fillColor:this.datasets[h].pointColor}))},this),this.scale.labels.push(d),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),c.each(this.datasets,function(d){d.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(d){d.save()}),this.reflow(),this.render()},reflow:function(){c.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:c.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(e){var d=e||1,f=this.chart.ctx;this.clear(),this.scale.draw(),c.each(this.datasets,function(g){c.each(g.points,function(h,i){h.hasValue()&&h.transition(this.scale.getPointPosition(i,this.scale.calculateCenterOffset(h.value)),d)},this),f.lineWidth=this.options.datasetStrokeWidth,f.strokeStyle=g.strokeColor,f.beginPath(),c.each(g.points,function(j,h){0===h?f.moveTo(j.x,j.y):f.lineTo(j.x,j.y)},this),f.closePath(),f.stroke(),f.fillStyle=g.fillColor,f.fill(),c.each(g.points,function(h){h.hasValue()&&h.draw()})},this)}})}.call(this);!function(q){function h(){c=function(a){return p+"-"+a},k=function(a){return p+"-"+a},m=function(a){return a+"."+p},q.each([c,k,m],function(d,a){a.add=function(i){i=i.split(" ");for(var l in i){a[i[l]]=a(i[l])}}}),c.add("touch desktop scale-1 scale-2 scale-3 wrapper opened opening fixed inline hover slider slide loading noanimation fastanimation"),k.add("slide anchor"),m.add("open opening close closing prev next slideTo sliding click pinch scroll resize orientationchange load loading loaded transitionend webkitTransitionEnd"),b={complObject:function(a,d){return q.isPlainObject(a)||(a=d),a},complBoolean:function(d,a){return"boolean"!=typeof d&&(d=a),d},complNumber:function(a,d){return q.isNumeric(a)||(a=d),a},complString:function(d,a){return"string"!=typeof d&&(d=a),d},isPercentage:function(a){return"string"==typeof a&&"%"==a.slice(-1)},getPercentage:function(a){return parseInt(a.slice(0,-1))},resizeRatio:function(r,l,u,a,x){var w=l.width(),v=l.height();u&&w>u&&(w=u),a&&v>a&&(v=a),x>w/v?v=w/x:w=v*x,r.width(w).height(v)},transitionend:function(l,d,o){var a=!1,r=function(){a||d.call(l[0]),a=!0};l.one(m.transitionend,r),l.one(m.webkitTransitionEnd,r),setTimeout(r,1.1*o)},setViewportScale:function(){if(g.viewportScale){var a=g.viewportScale.getScale();"undefined"!=typeof a&&(a=1/a,g.$body.removeClass(c["scale-1"]).removeClass(c["scale-2"]).removeClass(c["scale-3"]).addClass(c["scale-"+Math.max(Math.min(Math.round(a),3),1)]))}}},g={$wndw:q(window),$html:q("html"),$body:q("body"),scrollPosition:0,viewportScale:null,viewportScaleInterval:null},g.$body.addClass(q[j].support.touch?c.touch:c.desktop),g.$wndw.on(m.scroll,function(a){g.$body.hasClass(c.opened)&&(window.scrollTo(0,g.scrollPosition),a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation())}),!g.viewportScale&&q[j].support.touch&&"undefined"!=typeof FlameViewportScale&&(g.viewportScale=new FlameViewportScale,b.setViewportScale(),g.$wndw.on(m.orientationchange+" "+m.resize,function(){g.viewportScaleInterval&&(clearTimeout(g.viewportScaleInterval),g.viewportScaleInterval=null),g.viewportScaleInterval=setTimeout(function(){b.setViewportScale()},500)})),q[j]._c=c,q[j]._d=k,q[j]._e=m,q[j]._f=b,q[j]._g=g}var j="tosrus",p="tos",f="2.4.2";if(!q[j]){var c={},k={},m={},b={},g={};q[j]=function(d,a,l){return this.$node=d,this.opts=a,this.conf=l,this.vars={},this.nodes={},this.slides={},this._init(),this},q[j].prototype={_init:function(){var d=this;this._complementOptions(),this.vars.fixed="window"==this.opts.wrapper.target,this.nodes.$wrpr=q('<div class="'+c.wrapper+'" />'),this.nodes.$sldr=q('<div class="'+c.slider+'" />').appendTo(this.nodes.$wrpr),this.nodes.$wrpr.addClass(this.vars.fixed?c.fixed:c.inline).addClass(c("fx-"+this.opts.effect)).addClass(c(this.opts.slides.scale)).addClass(this.opts.wrapper.classes),this.nodes.$wrpr.on(m.open+" "+m.close+" "+m.prev+" "+m.next+" "+m.slideTo,function(i){arguments=Array.prototype.slice.call(arguments);var i=arguments.shift(),l=i.type;i.stopPropagation(),"function"==typeof d[l]&&d[l].apply(d,arguments)}).on(m.opening+" "+m.closing+" "+m.sliding+" "+m.loading+" "+m.loaded,function(i){i.stopPropagation()}).on(m.click,function(i){switch(i.stopPropagation(),d.opts.wrapper.onClick){case"toggleUI":d.nodes.$wrpr.toggleClass(c.hover);break;case"close":q(i.target).is("img")||d.close()}}),this.nodes.$anchors=this._initAnchors(),this.nodes.$slides=this._initSlides(),this.slides.total=this.nodes.$slides.length,this.slides.visible=this.opts.slides.visible,this.slides.index=0,this.vars.opened=!0;for(var a=0;a<q[j].addons.length;a++){q.isFunction(this["_addon_"+q[j].addons[a]])&&this["_addon_"+q[j].addons[a]]()}for(var e=0;e<q[j].ui.length;e++){this.nodes.$wrpr.find("."+c[q[j].ui[e]]).length&&this.nodes.$wrpr.addClass(c("has-"+q[j].ui[e]))}"close"==this.opts.wrapper.onClick&&(this.nodes.$uibg||q().add(this.nodes.$capt||q()).add(this.nodes.$pagr||q()).on(m.click,function(i){i.stopPropagation()})),this.vars.fixed?(this.nodes.$wrpr.appendTo(g.$body),this.close(!0)):(this.nodes.$wrpr.appendTo(this.opts.wrapper.target),this.opts.show?(this.vars.opened=!1,this.open(0,!0)):this.close(!0))},open:function(d,l){var a=this;this.vars.opened||(this.vars.fixed&&(g.scrollPosition=g.$wndw.scrollTop(),g.$body.addClass(c.opened),b.setViewportScale()),l?this.nodes.$wrpr.addClass(c.opening).trigger(m.opening,[d,l]):setTimeout(function(){a.nodes.$wrpr.addClass(c.opening).trigger(m.opening,[d,l])},5),this.nodes.$wrpr.addClass(c.hover).addClass(c.opened)),this.vars.opened=!0,this._loadContents(),q.isNumeric(d)&&(l=l||!this.vars.opened,this.slideTo(d,l))},close:function(a){this.vars.opened&&(this.vars.fixed&&g.$body.removeClass(c.opened),a?this.nodes.$wrpr.removeClass(c.opened):b.transitionend(this.nodes.$wrpr,function(){q(this).removeClass(c.opened)},this.conf.transitionDuration),this.nodes.$wrpr.removeClass(c.hover).removeClass(c.opening).trigger(m.closing,[this.slides.index,a])),this.vars.opened=!1},prev:function(a,d){q.isNumeric(a)||(a=this.opts.slides.slide),this.slideTo(this.slides.index-a,d)},next:function(a,d){q.isNumeric(a)||(a=this.opts.slides.slide),this.slideTo(this.slides.index+a,d)},slideTo:function(o,e){if(!this.vars.opened){return !1}if(!q.isNumeric(o)){return !1}var v=!0;if(0>o){var s=0==this.slides.index;this.opts.infinite?o=s?this.slides.total-this.slides.visible:0:(o=0,s&&(v=!1))}if(o+this.slides.visible>this.slides.total){var a=this.slides.index+this.slides.visible>=this.slides.total;this.opts.infinite?o=a?0:this.slides.total-this.slides.visible:(o=this.slides.total-this.slides.visible,a&&(v=!1))}if(this.slides.index=o,this._loadContents(),v){var r=0-this.slides.index*this.opts.slides.width+this.opts.slides.offset;this.slides.widthPercentage&&(r+="%"),e&&(this.nodes.$sldr.addClass(c.noanimation),b.transitionend(this.nodes.$sldr,function(){q(this).removeClass(c.noanimation)},5));for(var u in q[j].effects){if(u==this.opts.effect){q[j].effects[u].call(this,r,e);break}}this.nodes.$wrpr.trigger(m.sliding,[o,e])}},_initAnchors:function(){var d=this,a=q();if(this.$node.is("a")){for(var e in q[j].media){a=a.add(this.$node.filter(function(){if(d.opts.media[e]&&d.opts.media[e].filterAnchors){var i=d.opts.media[e].filterAnchors.call(d,q(this));if("boolean"==typeof i){return i}}return q[j].media[e].filterAnchors.call(d,q(this))}))}}return a},_initSlides:function(){return this[this.$node.is("a")?"_initSlidesFromAnchors":"_initSlidesFromContent"](),this.nodes.$sldr.children().css("width",this.opts.slides.width+(this.slides.widthPercentage?"%":"px"))},_initSlidesFromAnchors:function(){var a=this;this.nodes.$anchors.each(function(i){var d=q(this),l=q('<div class="'+c.slide+" "+c.loading+'" />').data(k.anchor,d).appendTo(a.nodes.$sldr);d.data(k.slide,l).on(m.click,function(e){e.preventDefault(),a.open(i)})})},_initSlidesFromContent:function(){var a=this;this.$node.children().each(function(){var e=q(this);q('<div class="'+c.slide+'" />').append(e).appendTo(a.nodes.$sldr);for(var l in q[j].media){var i=null;if(a.opts.media[l]&&a.opts.media[l].filterSlides&&(i=a.opts.media[l].filterSlides.call(a,e)),"boolean"!=typeof i&&(i=q[j].media[l].filterSlides.call(a,e)),i){q[j].media[l].initSlides.call(a,e),e.parent().addClass(c(l));break}}})},_loadContents:function(){var a=this;switch(this.opts.slides.load){case"all":this._loadContent(0,this.slides.total);break;case"visible":this._loadContent(this.slides.index,this.slides.index+this.slides.visible);break;case"near-visible":default:this._loadContent(this.slides.index,this.slides.index+this.slides.visible),setTimeout(function(){a._loadContent(a.slides.index-a.slides.visible,a.slides.index),a._loadContent(a.slides.index+a.slides.visible,a.slides.index+2*a.slides.visible)},this.conf.transitionDuration)}},_loadContent:function(d,a){var e=this;this.nodes.$slides.slice(d,a).each(function(){var s=q(this);if(0==s.children().length){var o=s.data(k.anchor),v=o.attr("href");for(var n in q[j].media){var u=null;if(e.opts.media[n]&&e.opts.media[n].filterAnchors&&(u=e.opts.media[n].filterAnchors.call(e,o)),"boolean"!=typeof u&&(u=q[j].media[n].filterAnchors.call(e,o)),u){q[j].media[n].initAnchors.call(e,s,v),s.addClass(c(n));break}}s.trigger(m.loading,[s.data(k.anchor)])}})},_complementOptions:function(){if("undefined"==typeof this.opts.wrapper.target&&(this.opts.wrapper.target=this.$node.is("a")?"window":this.$node),"window"!=this.opts.wrapper.target&&"string"==typeof this.opts.wrapper.target&&(this.opts.wrapper.target=q(this.opts.wrapper.target)),this.opts.show=b.complBoolean(this.opts.show,"window"!=this.opts.wrapper.target),q.isNumeric(this.opts.slides.width)){this.slides.widthPercentage=!1,this.opts.slides.visible=b.complNumber(this.opts.slides.visible,1)}else{var a=b.isPercentage(this.opts.slides.width)?b.getPercentage(this.opts.slides.width):!1;this.slides.widthPercentage=!0,this.opts.slides.visible=b.complNumber(this.opts.slides.visible,a?Math.floor(100/a):1),this.opts.slides.width=a?a:Math.ceil(10000/this.opts.slides.visible)/100}this.opts.slides.slide=b.complNumber(this.opts.slides.slide,this.opts.slides.visible),this.opts.slides.offset=b.isPercentage(this.opts.slides.offset)?b.getPercentage(this.opts.slides.offset):b.complNumber(this.opts.slides.offset,0)},_uniqueID:function(){return this.__uniqueID||(this.__uniqueID=0),this.__uniqueID++,c("uid-"+this.__uniqueID)}},q.fn[j]=function(i,s,r,l){g.$wndw||h(),i=q.extend(!0,{},q[j].defaults,i),i=q.extend(!0,{},i,q[j].support.touch?r:s),l=q.extend(!0,{},q[j].configuration,l);var e=new q[j](this,i,l);return this.data(j,e),e.nodes.$wrpr},q[j].support={touch:"ontouchstart" in window.document||navigator.msMaxTouchPoints},q[j].defaults={infinite:!1,effect:"slide",wrapper:{classes:"",onClick:"toggleUI"},slides:{offset:0,scale:"fit",load:"near-visible",visible:1},media:{}},q[j].configuration={transitionDuration:400},q[j].constants={},q[j].debug=function(){},q[j].deprecated=function(d,a){"undefined"!=typeof console&&"undefined"!=typeof console.warn&&console.warn(j+": "+d+" is deprecated, use "+a+" instead.")},q[j].effects={slide:function(a){this.nodes.$sldr.css("left",a)},fade:function(a){b.transitionend(this.nodes.$sldr,function(){q(this).css("left",a).css("opacity",1)},this.conf.transitionDuration),this.nodes.$sldr.css("opacity",0)}},q[j].version=f,q[j].media={},q[j].addons=[],q[j].ui=[]}}(jQuery);!function(k){var c,l,j,h,f,d="tosrus",g="autoplay",b=!1;k[d].prototype["_addon_"+g]=function(){b||(c=k[d]._c,l=k[d]._d,j=k[d]._e,h=k[d]._f,f=k[d]._g,j.add("mouseover mouseout"),b=!0);var a=this,e=this.opts[g];e.play&&(this.opts.infinite=!0,this.nodes.$wrpr.on(j.sliding,function(){a.autoplay()}),e.pauseOnHover&&this.nodes.$wrpr.on(j.mouseover,function(){a.autostop()}).on(j.mouseout,function(){a.autoplay()}),this.autoplay())},k[d].prototype.autoplay=function(){var a=this;this.autostop(),this.vars.autoplay=setTimeout(function(){a.next()},this.opts[g].timeout)},k[d].prototype.autostop=function(){this.vars.autoplay&&clearTimeout(this.vars.autoplay)},k[d].defaults[g]={play:!1,timeout:4000,pauseOnHover:!1},k[d].addons.push(g)}(jQuery);!function(v){function k(a,d){return v('<a class="'+u[a]+d+'" href="#"><span></span></a>')}function g(d,i,l,a){i.on(f.click,function(n){n.preventDefault(),n.stopPropagation(),d.trigger(f[l],[a])})}var u,j,f,m,c,h="tosrus",b="buttons",q=!1;v[h].prototype["_addon_"+b]=function(){q||(u=v[h]._c,j=v[h]._d,f=v[h]._e,m=v[h]._f,c=v[h]._g,u.add("prev next close disabled"),q=!0);var a=this,d=this.opts[b];this.nodes.$prev=null,this.nodes.$next=null,this.nodes.$clse=null,("boolean"==typeof d||"string"==typeof d&&"inline"==d)&&(d={prev:d,next:d}),"undefined"==typeof d.close&&(d.close=this.vars.fixed),this.nodes.$slides.length<2&&(d.prev=!1,d.next=!1),v.each({prev:"prev",next:"next",close:"clse"},function(e,l){d[e]&&("string"==typeof d[e]&&"inline"==d[e]?a.vars.fixed&&"close"!=e&&a.nodes.$slides.on(f.loading,function(){var i=k(e," "+u.inline)["prev"==e?"prependTo":"appendTo"](this);g(a.nodes.$wrpr,i,e,1),a.opts.infinite||("prev"==e&&v(this).is(":first-child")||"next"==e&&v(this).is(":last-child"))&&i.addClass(u.disabled)}):("string"==typeof d[e]&&(d[e]=v(d[e])),a.nodes["$"+l]=d[e] instanceof v?d[e]:k(e,"").appendTo(a.nodes.$wrpr),g(a.nodes.$wrpr,a.nodes["$"+l],e,null)))}),this.opts.infinite||(this.updateButtons(),this.nodes.$wrpr.on(f.sliding,function(){a.updateButtons()}))},v[h].prototype.updateButtons=function(){this.nodes.$prev&&this.nodes.$prev[(this.slides.index<1?"add":"remove")+"Class"](u.disabled),this.nodes.$next&&this.nodes.$next[(this.slides.index>=this.slides.total-this.slides.visible?"add":"remove")+"Class"](u.disabled)},v[h].defaults[b]={prev:!v[h].support.touch,next:!v[h].support.touch},v[h].addons.push(b),v[h].ui.push("prev"),v[h].ui.push("next"),v[h].ui.push("close")}(jQuery);!function(l){var g,m,k,h,j,f="tosrus",b="caption",c=!1;l[f].prototype["_addon_"+b]=function(){c||(g=l[f]._c,m=l[f]._d,k=l[f]._e,h=l[f]._f,j=l[f]._g,g.add("caption uibg"),m.add("caption"),c=!0);var e=this,i=this.opts[b];if(i.add){i.attributes=i.attributes||[],"string"==typeof i.target&&(i.target=l(i.target)),i.target instanceof l?this.nodes.$capt=i.target:(this.nodes.$capt=l('<div class="'+g.caption+'" />').appendTo(this.nodes.$wrpr),this.nodes.$uibg||(this.nodes.$uibg=l('<div class="'+g.uibg+'" />').prependTo(this.nodes.$wrpr)));for(var d=0,a=this.slides.visible;a>d;d++){l('<div class="'+g.caption+"-"+d+'" />').css("width",this.opts.slides.width+(this.slides.widthPercentage?"%":"px")).appendTo(this.nodes.$capt)}this.nodes.$slides.each(function(){var p=l(this),o=e.vars.fixed?p.data(m.anchor):p.children();p.data(m.caption,"");for(var q=0,r=i.attributes.length;r>q;q++){var s=o.attr(i.attributes[q]);if(s&&s.length){p.data(m.caption,s);break}}}),this.nodes.$wrpr.on(k.sliding,function(){for(var o=0,n=e.slides.visible;n>o;o++){e.nodes.$capt.children().eq(o).html(e.nodes.$sldr.children().eq(e.slides.index+o).data(m.caption)||"")}})}},l[f].defaults[b]={add:!1,target:null,attributes:["title","alt","rel"]},l[f].addons.push(b),l[f].ui.push("caption")}(jQuery);!function(h){if("function"==typeof Hammer){var f,m,l,g,b,k="tosrus",c="drag",j=!1;h[k].prototype["_addon_"+c]=function(){j||(f=h[k]._c,m=h[k]._d,l=h[k]._e,g=h[k]._f,b=h[k]._g,j=!0);var a=this;if(this.opts[c]&&"slide"==this.opts.effect){if(Hammer.VERSION<2){return h[k].deprecated("Older version of the Hammer library","version 2 or newer"),void 0}if(this.nodes.$slides.length>1){var e=0,i=!1,d=!1,n=new Hammer(this.nodes.$wrpr[0]);n.on("panstart panleft panright panend swipeleft swiperight",function(o){o.preventDefault()}).on("panstart",function(){a.nodes.$sldr.addClass(f.noanimation)}).on("panleft panright",function(o){switch(e=o.deltaX,d=!1,o.direction){case 2:i="left";break;case 4:i="right";break;default:i=!1}("left"==i&&a.slides.index+a.slides.visible>=a.slides.total||"right"==i&&0==a.slides.index)&&(e/=2.5),a.nodes.$sldr.css("margin-left",Math.round(e))}).on("swipeleft swiperight",function(){d=!0}).on("panend",function(){if(a.nodes.$sldr.removeClass(f.noanimation).addClass(f.fastanimation),g.transitionend(a.nodes.$sldr,function(){a.nodes.$sldr.removeClass(f.fastanimation)},a.conf.transitionDuration/2),a.nodes.$sldr.css("margin-left",0),"left"==i||"right"==i){if(d){var p=a.slides.visible}else{var o=a.nodes.$slides.first().width(),p=Math.floor((Math.abs(e)+o/2)/o)}p>0&&a.nodes.$wrpr.trigger(l["left"==i?"next":"prev"],[p])}i=!1})}}},h[k].defaults[c]=h[k].support.touch,h[k].addons.push(c)}}(jQuery);!function(h){var k,f,g,l,j,b="tosrus",d="keys",i=!1;h[b].prototype["_addon_"+d]=function(){i||(k=h[b]._c,f=h[b]._d,g=h[b]._e,l=h[b]._f,j=h[b]._g,g.add("keyup"),i=!0);var a=this,e=this.opts[d];if("boolean"==typeof e&&e&&(e={prev:!0,next:!0,close:!0}),h.isPlainObject(e)){for(var c in h[b].constants[d]){"boolean"==typeof e[c]&&e[c]&&(e[c]=h[b].constants[d][c])}this.nodes.$slides.length<2&&(e.prev=!1,e.next=!1),h(document).on(g.keyup,function(n){if(a.vars.opened){var m=!1;switch(n.keyCode){case e.prev:m=g.prev;break;case e.next:m=g.next;break;case e.close:m=g.close}m&&(n.preventDefault(),n.stopPropagation(),a.nodes.$wrpr.trigger(m))}})}},h[b].defaults[d]=!1,h[b].constants[d]={prev:37,next:39,close:27},h[b].addons.push(d)}(jQuery);!function(l){var h,g,f,m,k,b="tosrus",c="pagination",j=!1;l[b].prototype["_addon_"+c]=function(){j||(h=l[b]._c,g=l[b]._d,f=l[b]._e,m=l[b]._f,k=l[b]._g,h.add("pagination selected uibg bullets thumbnails"),j=!0);var d=this,a=this.opts[c];if(this.nodes.$slides.length<2&&(a.add=!1),a.add){if("string"==typeof a.target&&(a.target=l(a.target)),a.target instanceof l?this.nodes.$pagr=a.target:(this.nodes.$pagr=l('<div class="'+h.pagination+" "+h[a.type]+'" />').appendTo(this.nodes.$wrpr),this.nodes.$uibg||(this.nodes.$uibg=l('<div class="'+h.uibg+'" />').prependTo(this.nodes.$wrpr))),"function"!=typeof a.anchorBuilder){switch(a.type){case"thumbnails":var e='<a href="#" style="background-image: url(',i=');"></a>';a.anchorBuilder=this.vars.fixed?function(){return e+l(this).data(g.anchor).attr("href")+i}:function(){return e+l(this).find("img").attr("src")+i};break;case"bullets":default:a.anchorBuilder=function(){return'<a href="#"></a>'}}}this.nodes.$slides.each(function(n){l(a.anchorBuilder.call(this,n+1)).appendTo(d.nodes.$pagr).on(f.click,function(o){o.preventDefault(),o.stopPropagation(),d.nodes.$wrpr.trigger(f.slideTo,[n])})}),this.updatePagination(),this.nodes.$wrpr.on(f.sliding,function(){d.updatePagination()})}},l[b].prototype.updatePagination=function(){this.nodes.$pagr&&this.nodes.$pagr.children().removeClass(h.selected).eq(this.slides.index).addClass(h.selected)},l[b].defaults[c]={add:!1,type:"bullets",target:null,anchorBuilder:null},l[b].addons.push(c),l[b].ui.push("pagination"),l[b].ui.push("bullets"),l[b].ui.push("thumbnails")}(jQuery);!function(a){var b="tosrus",c="html";a[b].media[c]={filterAnchors:function(d){var f=d.attr("href");return"#"==f.slice(0,1)&&a(f).is("div")},initAnchors:function(e,d){a('<div class="'+a[b]._c("html")+'" />').append(a(d)).appendTo(e),e.removeClass(a[b]._c.loading).trigger(a[b]._e.loaded)},filterSlides:function(d){return d.is("div")},initSlides:function(){}},a[b].defaults.media[c]={}}(jQuery);!function(a){var b="tosrus",c="image";a[b].media[c]={filterAnchors:function(d){return a.inArray(d.attr("href").toLowerCase().split(".").pop().split("?")[0],["jpg","jpe","jpeg","gif","png"])>-1},initAnchors:function(e,d){a('<img border="0" />').on(a[b]._e.load,function(f){f.stopPropagation(),e.removeClass(a[b]._c.loading).trigger(a[b]._e.loaded)}).appendTo(e).attr("src",d)},filterSlides:function(d){return d.is("img")},initSlides:function(){}},a[b].defaults.media[c]={}}(jQuery);!function(h){function p(e){function c(){o.length&&(o.attr("src",""),o.attr("src",i))}l||(m=h[q]._c,j=h[q]._d,f=h[q]._e,b=h[q]._f,g=h[q]._g,j.add("ratio maxWidth maxHeight"),l=!0);var o=e.children(),a=e.data(h[q]._d.anchor)||h(),i=o.attr("src"),d=a.data(j.ratio)||this.opts[k].ratio,n=a.data(j.maxWidth)||this.opts[k].maxWidth,r=a.data(j.maxHeight)||this.opts[k].maxHeight;e.removeClass(m.loading).trigger(f.loaded).on(f.loading,function(){b.resizeRatio(o,e,n,r,d)}),this.nodes.$wrpr.on(f.sliding,function(){c()}).on(f.closing,function(){c()}),g.$wndw.on(f.resize,function(){b.resizeRatio(o,e,n,r,d)})}var m,j,f,b,g,q="tosrus",k="vimeo",l=!1;h[q].media[k]={filterAnchors:function(a){return a.attr("href").toLowerCase().indexOf("vimeo.com/")>-1},initAnchors:function(c,d){var i=this._uniqueID();d=d.split("vimeo.com/")[1].split("?")[0]+"?api=1&player_id="+i,h('<iframe id="'+i+'" src="http://player.vimeo.com/video/'+d+'" frameborder="0" allowfullscreen />').appendTo(c),p.call(this,c)},filterSlides:function(a){return a.is("iframe")&&a.attr("src")?a.attr("src").toLowerCase().indexOf("vimeo.com/video/")>-1:!1},initSlides:function(a){p.call(this,a)}},h[q].defaults.media[k]={},h[q].defaults[k]={ratio:16/9,maxWidth:!1,maxHeight:!1}}(jQuery);!function(p){function j(r){function d(e){c.length&&c[0].contentWindow.postMessage('{ "event": "command", "func": "'+e+'Video" }',"*")}l||(h=p[q]._c,f=p[q]._d,m=p[q]._e,g=p[q]._f,b=p[q]._g,f.add("ratio maxWidth maxHeight"),l=!0);var c=r.children(),a=r.data(p[q]._d.anchor)||p(),n=a.data(f.ratio)||this.opts[k].ratio,i=a.data(f.maxWidth)||this.opts[k].maxWidth,o=a.data(f.maxHeight)||this.opts[k].maxHeight;r.removeClass(h.loading).trigger(m.loaded).on(m.loading,function(){g.resizeRatio(c,r,i,o,n)}),this.nodes.$wrpr.on(m.sliding,function(){d("pause")}).on(m.closing,function(){d("stop")}),b.$wndw.on(m.resize,function(){g.resizeRatio(c,r,i,o,n)})}var h,f,m,g,b,q="tosrus",k="youtube",l=!1;p[q].media[k]={filterAnchors:function(a){return a.attr("href").toLowerCase().indexOf("youtube.com/watch?v=")>-1},initAnchors:function(d,e){var c=e;e=e.split("?v=")[1].split("&")[0],this.opts[k].imageLink?(e="http://img.youtube.com/vi/"+e+"/0.jpg",p('<a href="'+c+'" class="'+p[q]._c("play")+'" target="_blank" />').appendTo(d),p('<img border="0" />').on(p[q]._e.load,function(a){a.stopPropagation(),d.removeClass(p[q]._c.loading).trigger(p[q]._e.loaded)}).appendTo(d).attr("src",e)):(p('<iframe src="http://www.youtube.com/embed/'+e+'?enablejsapi=1" frameborder="0" allowfullscreen />').appendTo(d),j.call(this,d))},filterSlides:function(a){return a.is("iframe")&&a.attr("src")?a.attr("src").toLowerCase().indexOf("youtube.com/embed/")>-1:!1},initSlides:function(a){j.call(this,a)}},p[q].defaults.media[k]={},p[q].defaults[k]={ratio:16/9,maxWidth:!1,maxHeight:!1,imageLink:p[q].support.touch}}(jQuery);
/*!
 *  CodeMirror
   Generated on 05/03/2020
   Version: 5.52.0

   CodeMirror Library:
   - codemirror.js
   Modes:
   - css.js
   - htmlmixed.js
   - javascript.js
   - sql.js
   - xml.js
   Add-ons:
   - match-brackets.js
   - active-line.js
   - fullscreen.js
 */
(function(b,a){typeof exports==="object"&&typeof module!=="undefined"?module.exports=a():typeof define==="function"&&define.amd?define(a):(b.CodeMirror=a())}(this,(function(){var eB=navigator.userAgent;var eM=navigator.platform;var cR=/gecko\/\d/i.test(eB);var fu=/MSIE \d/.test(eB);var b5=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(eB);var c5=/Edge\/(\d+)/.exec(eB);var eh=fu||b5||c5;var n=eh&&(fu?document.documentMode||6:+(c5||b5)[1]);var dv=!c5&&/WebKit\//.test(eB);var ek=dv&&/Qt\/\d+\.\d+/.test(eB);var dL=!c5&&/Chrome\//.test(eB);var eD=/Opera\//.test(eB);var aO=/Apple Computer/.test(navigator.vendor);var dD=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(eB);var gg=/PhantomJS/.test(eB);var fO=!c5&&/AppleWebKit/.test(eB)&&/Mobile\/\w+/.test(eB);var aZ=/Android/.test(eB);var eS=fO||aZ||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(eB);var cv=fO||/Mac/.test(eM);var gz=/\bCrOS\b/.test(eB);var a2=/win/i.test(eM);var bc=eD&&eB.match(/Version\/(\d*\.\d*)/);if(bc){bc=Number(bc[1])}if(bc&&bc>=15){eD=false;dv=true}var cd=cv&&(ek||eD&&(bc==null||bc<12.11));var hb=cR||(eh&&n>=9);function Z(i){return new RegExp("(^|\\s)"+i+"(?:$|\\s)\\s*")}var h=function(hn,i){var ho=hn.className;var hm=Z(i).exec(ho);if(hm){var hp=ho.slice(hm.index+hm[0].length);hn.className=ho.slice(0,hm.index)+(hp?hm[1]+hp:"")}};function eC(hm){for(var i=hm.childNodes.length;i>0;--i){hm.removeChild(hm.firstChild)}return hm}function cf(i,hm){return eC(i).appendChild(hm)}function g2(hm,hq,hp,ho){var hr=document.createElement(hm);if(hp){hr.className=hp}if(ho){hr.style.cssText=ho}if(typeof hq=="string"){hr.appendChild(document.createTextNode(hq))}else{if(hq){for(var hn=0;hn<hq.length;++hn){hr.appendChild(hq[hn])}}}return hr}function g8(i,ho,hn,hm){var hp=g2(i,ho,hn,hm);hp.setAttribute("role","presentation");return hp}var cO;if(document.createRange){cO=function(ho,hp,hm,i){var hn=document.createRange();hn.setEnd(i||ho,hm);hn.setStart(ho,hp);return hn}}else{cO=function(hn,hp,i){var hm=document.body.createTextRange();try{hm.moveToElementText(hn.parentNode)}catch(ho){return hm}hm.collapse(true);hm.moveEnd("character",i);hm.moveStart("character",hp);return hm}}function hc(i,hm){if(hm.nodeType==3){hm=hm.parentNode}if(i.contains){return i.contains(hm)}do{if(hm.nodeType==11){hm=hm.host}if(hm==i){return true}}while(hm=hm.parentNode)}function el(){var i;try{i=document.activeElement}catch(hm){i=document.body||null}while(i&&i.shadowRoot&&i.shadowRoot.activeElement){i=i.shadowRoot.activeElement}return i}function gp(hm,i){var hn=hm.className;if(!Z(i).test(hn)){hm.className+=(hn?" ":"")+i}}function gP(ho,hm){var hn=ho.split(" ");for(var hp=0;hp<hn.length;hp++){if(hn[hp]&&!Z(hn[hp]).test(hm)){hm+=" "+hn[hp]}}return hm}var ei=function(i){i.select()};if(fO){ei=function(i){i.selectionStart=0;i.selectionEnd=i.value.length}}else{if(eh){ei=function(hm){try{hm.select()}catch(i){}}}}function cY(hm){var i=Array.prototype.slice.call(arguments,1);return function(){return hm.apply(null,i)}}function a0(hn,hm,i){if(!hm){hm={}}for(var ho in hn){if(hn.hasOwnProperty(ho)&&(i!==false||!hm.hasOwnProperty(ho))){hm[ho]=hn[ho]}}return hm}function ce(hp,hn,hr,hs,ho){if(hn==null){hn=hp.search(/[^\s\u00a0]/);if(hn==-1){hn=hp.length}}for(var hq=hs||0,ht=ho||0;;){var hm=hp.indexOf("\t",hq);if(hm<0||hm>=hn){return ht+(hn-hq)}ht+=hm-hq;ht+=hr-(ht%hr);hq=hm+1}}var hl=function(){this.id=null;this.f=null;this.time=0;this.handler=cY(this.onTimeout,this)};hl.prototype.onTimeout=function(i){i.id=0;if(i.time<=+new Date){i.f()}else{setTimeout(i.handler,i.time-+new Date)}};hl.prototype.set=function(i,hm){this.f=hm;var hn=+new Date+i;if(!this.id||hn<this.time){clearTimeout(this.id);this.id=setTimeout(this.handler,i);this.time=hn}};function dR(ho,hm){for(var hn=0;hn<ho.length;++hn){if(ho[hn]==hm){return hn}}return -1}var ef=30;var cA={toString:function(){return"CodeMirror.Pass"}};var ai={scroll:false},S={origin:"*mouse"},dr={origin:"+move"};function e4(hp,ho,hq){for(var hr=0,hn=0;;){var hm=hp.indexOf("\t",hr);if(hm==-1){hm=hp.length}var i=hm-hr;if(hm==hp.length||hn+i>=ho){return hr+Math.min(i,ho-hn)}hn+=hm-hr;hn+=hq-(hn%hq);hr=hm+1;if(hn>=ho){return hr}}}var bd=[""];function cS(i){while(bd.length<=i){bd.push(gv(bd)+" ")}return bd[i]}function gv(i){return i[i.length-1]}function cg(hp,ho){var hm=[];for(var hn=0;hn<hp.length;hn++){hm[hn]=ho(hp[hn],hn)}return hm}function cy(hp,hm,hn){var ho=0,i=hn(hm);while(ho<hp.length&&hn(hp[ho])<=i){ho++}hp.splice(ho,0,hm)}function gQ(){}function cM(hn,i){var hm;if(Object.create){hm=Object.create(hn)}else{gQ.prototype=hn;hm=new gQ()}if(i){a0(i,hm)}return hm}var bq=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function gs(i){return/\w/.test(i)||i>"\x80"&&(i.toUpperCase()!=i.toLowerCase()||bq.test(i))}function c3(i,hm){if(!hm){return gs(i)}if(hm.source.indexOf("\\w")>-1&&gs(i)){return true}return hm.test(i)}function fG(i){for(var hm in i){if(i.hasOwnProperty(hm)&&i[hm]){return false}}return true}var ft=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function gb(i){return i.charCodeAt(0)>=768&&ft.test(i)}function eW(hm,hn,i){while((i<0?hn>0:hn<hm.length)&&gb(hm.charAt(hn))){hn+=i}return hn}function cP(i,hq,hp){var hn=hq>hp?-1:1;for(;;){if(hq==hp){return hq}var ho=(hq+hp)/2,hm=hn<0?Math.ceil(ho):Math.floor(ho);if(hm==hq){return i(hm)?hq:hp}if(i(hm)){hp=hm}else{hq=hm+hn}}}function eG(hm,hs,hr,hq){if(!hm){return hq(hs,hr,"ltr",0)}var hp=false;for(var ho=0;ho<hm.length;++ho){var hn=hm[ho];if(hn.from<hr&&hn.to>hs||hs==hr&&hn.to==hs){hq(Math.max(hn.from,hs),Math.min(hn.to,hr),hn.level==1?"rtl":"ltr",ho);hp=true}}if(!hp){hq(hs,hr,"ltr")}}var fQ=null;function aT(hm,ho,hq){var hp;fQ=null;for(var hn=0;hn<hm.length;++hn){var hr=hm[hn];if(hr.from<ho&&hr.to>ho){return hn}if(hr.to==ho){if(hr.from!=hr.to&&hq=="before"){hp=hn}else{fQ=hn}}if(hr.from==ho){if(hr.from!=hr.to&&hq!="before"){hp=hn}else{fQ=hn}}}return hp!=null?hp:fQ}var bw=(function(){var hr="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN";var hp="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function ho(hu){if(hu<=247){return hr.charAt(hu)}else{if(1424<=hu&&hu<=1524){return"R"}else{if(1536<=hu&&hu<=1785){return hp.charAt(hu-1536)}else{if(1774<=hu&&hu<=2220){return"r"}else{if(8192<=hu&&hu<=8203){return"w"}else{if(hu==8204){return"b"}else{return"L"}}}}}}}var i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;var ht=/[stwN]/,hn=/[LRr]/,hm=/[Lb1n]/,hq=/[1n]/;function hs(hw,hv,hu){this.level=hw;this.from=hv;this.to=hu}return function(hR,hx){var hG=hx=="ltr"?"L":"R";if(hR.length==0||hx=="ltr"&&!i.test(hR)){return false}var hA=hR.length,h1=[];for(var h4=0;h4<hA;++h4){h1.push(ho(hR.charCodeAt(h4)))}for(var hO=0,hN=hG;hO<hA;++hO){var h5=h1[hO];if(h5=="m"){h1[hO]=hN}else{hN=h5}}for(var hM=0,hw=hG;hM<hA;++hM){var h0=h1[hM];if(h0=="1"&&hw=="r"){h1[hM]="n"}else{if(hn.test(h0)){hw=h0;if(h0=="r"){h1[hM]="R"}}}}for(var hL=1,hv=h1[0];hL<hA-1;++hL){var hY=h1[hL];if(hY=="+"&&hv=="1"&&h1[hL+1]=="1"){h1[hL]="1"}else{if(hY==","&&hv==h1[hL+1]&&(hv=="1"||hv=="n")){h1[hL]=hv}}hv=hY}for(var hK=0;hK<hA;++hK){var hX=h1[hK];if(hX==","){h1[hK]="N"}else{if(hX=="%"){var hz=(void 0);for(hz=hK+1;hz<hA&&h1[hz]=="%";++hz){}var hE=(hK&&h1[hK-1]=="!")||(hz<hA&&h1[hz]=="1")?"1":"N";for(var h3=hK;h3<hz;++h3){h1[h3]=hE}hK=hz-1}}}for(var hJ=0,hD=hG;hJ<hA;++hJ){var hV=h1[hJ];if(hD=="L"&&hV=="1"){h1[hJ]="L"}else{if(hn.test(hV)){hD=hV}}}for(var hI=0;hI<hA;++hI){if(ht.test(h1[hI])){var hS=(void 0);for(hS=hI+1;hS<hA&&ht.test(h1[hS]);++hS){}var hU=(hI?h1[hI-1]:hG)=="L";var hW=(hS<hA?h1[hS]:hG)=="L";var hQ=hU==hW?(hU?"L":"R"):hG;for(var hC=hI;hC<hS;++hC){h1[hC]=hQ}hI=hS-1}}var hT=[],h2;for(var hH=0;hH<hA;){if(hm.test(h1[hH])){var hF=hH;for(++hH;hH<hA&&hm.test(h1[hH]);++hH){}hT.push(new hs(0,hF,hH))}else{var hP=hH,hu=hT.length,hZ=hx=="rtl"?1:0;for(++hH;hH<hA&&h1[hH]!="L";++hH){}for(var hB=hP;hB<hH;){if(hq.test(h1[hB])){if(hP<hB){hT.splice(hu,0,new hs(1,hP,hB));hu+=hZ}var hy=hB;for(++hB;hB<hH&&hq.test(h1[hB]);++hB){}hT.splice(hu,0,new hs(2,hy,hB));hu+=hZ;hP=hB}else{++hB}}if(hP<hH){hT.splice(hu,0,new hs(1,hP,hH))}}}if(hx=="ltr"){if(hT[0].level==1&&(h2=hR.match(/^\s+/))){hT[0].from=h2[0].length;hT.unshift(new hs(0,0,h2[0].length))}if(gv(hT).level==1&&(h2=hR.match(/\s+$/))){gv(hT).to-=h2[0].length;hT.push(new hs(0,hA-h2[0].length,hA))}}return hx=="rtl"?hT.reverse():hT}})();function a(hm,hn){var i=hm.order;if(i==null){i=hm.order=bw(hm.text,hn)}return i}var fT=[];var ck=function(ho,i,hn){if(ho.addEventListener){ho.addEventListener(i,hn,false)}else{if(ho.attachEvent){ho.attachEvent("on"+i,hn)}else{var hm=ho._handlers||(ho._handlers={});hm[i]=(hm[i]||fT).concat(hn)}}};function eY(hm,i){return hm._handlers&&hm._handlers[i]||fT}function eR(hq,hn,hp){if(hq.removeEventListener){hq.removeEventListener(hn,hp,false)}else{if(hq.detachEvent){hq.detachEvent("on"+hn,hp)}else{var ho=hq._handlers,i=ho&&ho[hn];if(i){var hm=dR(i,hp);if(hm>-1){ho[hn]=i.slice(0,hm).concat(i.slice(hm+1))}}}}}function aP(hq,hp){var hm=eY(hq,hp);if(!hm.length){return}var hn=Array.prototype.slice.call(arguments,2);for(var ho=0;ho<hm.length;++ho){hm[ho].apply(null,hn)}}function a4(i,hn,hm){if(typeof hn=="string"){hn={type:hn,preventDefault:function(){this.defaultPrevented=true}}}aP(i,hm||hn.type,i,hn);return b7(hn)||hn.codemirrorIgnore}function ac(hn){var hm=hn._handlers&&hn._handlers.cursorActivity;if(!hm){return}var hp=hn.curOp.cursorActivityHandlers||(hn.curOp.cursorActivityHandlers=[]);for(var ho=0;ho<hm.length;++ho){if(dR(hp,hm[ho])==-1){hp.push(hm[ho])}}}function f7(hm,i){return eY(hm,i).length>0}function bU(i){i.prototype.on=function(hm,hn){ck(this,hm,hn)};i.prototype.off=function(hm,hn){eR(this,hm,hn)}}function c9(i){if(i.preventDefault){i.preventDefault()}else{i.returnValue=false}}function dZ(i){if(i.stopPropagation){i.stopPropagation()}else{i.cancelBubble=true}}function b7(i){return i.defaultPrevented!=null?i.defaultPrevented:i.returnValue==false}function e5(i){c9(i);dZ(i)}function R(i){return i.target||i.srcElement}function gG(hm){var i=hm.which;if(i==null){if(hm.button&1){i=1}else{if(hm.button&2){i=3}else{if(hm.button&4){i=2}}}}if(cv&&hm.ctrlKey&&i==1){i=3}return i}var fv=function(){if(eh&&n<9){return false}var i=g2("div");return"draggable" in i||"dragDrop" in i}();var gE;function bG(i){if(gE==null){var hn=g2("span","\u200b");cf(i,g2("span",[hn,document.createTextNode("x")]));if(i.firstChild.offsetHeight!=0){gE=hn.offsetWidth<=1&&hn.offsetHeight>2&&!(eh&&n<8)}}var hm=gE?g2("span","\u200b"):g2("span","\u00a0",null,"display: inline-block; width: 1px; margin-right: -1px");hm.setAttribute("cm-text","");return hm}var gF;function ca(ho){if(gF!=null){return gF}var i=cf(ho,document.createTextNode("A\u062eA"));var hn=cO(i,0,1).getBoundingClientRect();var hm=cO(i,1,2).getBoundingClientRect();eC(ho);if(!hn||hn.left==hn.right){return false}return gF=(hm.right-hn.right<3)}var gL="\n\nb".split(/\n/).length!=3?function(hq){var hr=0,i=[],hp=hq.length;while(hr<=hp){var ho=hq.indexOf("\n",hr);if(ho==-1){ho=hq.length}var hn=hq.slice(hr,hq.charAt(ho-1)=="\r"?ho-1:ho);var hm=hn.indexOf("\r");if(hm!=-1){i.push(hn.slice(0,hm));hr+=hm+1}else{i.push(hn);hr=ho+1}}return i}:function(i){return i.split(/\r\n?|\n/)};var bM=window.getSelection?function(hm){try{return hm.selectionStart!=hm.selectionEnd}catch(i){return false}}:function(hn){var hm;try{hm=hn.ownerDocument.selection.createRange()}catch(i){}if(!hm||hm.parentElement()!=hn){return false}return hm.compareEndPoints("StartToEnd",hm)!=0};var dI=(function(){var i=g2("div");if("oncopy" in i){return true}i.setAttribute("oncopy","return;");return typeof i.oncopy=="function"})();var fU=null;function aX(hm){if(fU!=null){return fU}var hn=cf(hm,g2("span","x"));var ho=hn.getBoundingClientRect();var i=cO(hn,0,1).getBoundingClientRect();return fU=Math.abs(ho.left-i.left)>1}var d1={},a5={};function e8(i,hm){if(arguments.length>2){hm.dependencies=Array.prototype.slice.call(arguments,2)}d1[i]=hm}function bF(hm,i){a5[hm]=i}function hd(i){if(typeof i=="string"&&a5.hasOwnProperty(i)){i=a5[i]}else{if(i&&typeof i.name=="string"&&a5.hasOwnProperty(i.name)){var hm=a5[i.name];if(typeof hm=="string"){hm={name:hm}}i=cM(hm,i);i.name=hm.name}else{if(typeof i=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(i)){return hd("application/xml")}else{if(typeof i=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(i)){return hd("application/json")}}}}if(typeof i=="string"){return{name:i}}else{return i||{name:"null"}}}function go(hn,hm){hm=hd(hm);var hp=d1[hm.name];if(!hp){return go(hn,"text/plain")}var hq=hp(hn,hm);if(dY.hasOwnProperty(hm.name)){var ho=dY[hm.name];for(var hr in ho){if(!ho.hasOwnProperty(hr)){continue}if(hq.hasOwnProperty(hr)){hq["_"+hr]=hq[hr]}hq[hr]=ho[hr]}}hq.name=hm.name;if(hm.helperType){hq.helperType=hm.helperType}if(hm.modeProps){for(var i in hm.modeProps){hq[i]=hm.modeProps[i]}}return hq}var dY={};function fl(hn,hm){var i=dY.hasOwnProperty(hn)?dY[hn]:(dY[hn]={});a0(hm,i)}function cr(ho,i){if(i===true){return i}if(ho.copyState){return ho.copyState(i)}var hn={};for(var hp in i){var hm=i[hp];if(hm instanceof Array){hm=hm.concat([])}hn[hp]=hm}return hn}function g9(hn,i){var hm;while(hn.innerMode){hm=hn.innerMode(i);if(!hm||hm.mode==hn){break}i=hm.state;hn=hm.mode}return hm||{mode:hn,state:i}}function co(hn,hm,i){return hn.startState?hn.startState(hm,i):true}var fF=function(i,hn,hm){this.pos=this.start=0;this.string=i;this.tabSize=hn||8;this.lastColumnPos=this.lastColumnValue=0;this.lineStart=0;this.lineOracle=hm};fF.prototype.eol=function(){return this.pos>=this.string.length};fF.prototype.sol=function(){return this.pos==this.lineStart};fF.prototype.peek=function(){return this.string.charAt(this.pos)||undefined};fF.prototype.next=function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}};fF.prototype.eat=function(i){var hn=this.string.charAt(this.pos);var hm;if(typeof i=="string"){hm=hn==i}else{hm=hn&&(i.test?i.test(hn):i(hn))}if(hm){++this.pos;return hn}};fF.prototype.eatWhile=function(i){var hm=this.pos;while(this.eat(i)){}return this.pos>hm};fF.prototype.eatSpace=function(){var hm=this;var i=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++hm.pos}return this.pos>i};fF.prototype.skipToEnd=function(){this.pos=this.string.length};fF.prototype.skipTo=function(i){var hm=this.string.indexOf(i,this.pos);if(hm>-1){this.pos=hm;return true}};fF.prototype.backUp=function(i){this.pos-=i};fF.prototype.column=function(){if(this.lastColumnPos<this.start){this.lastColumnValue=ce(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start}return this.lastColumnValue-(this.lineStart?ce(this.string,this.lineStart,this.tabSize):0)};fF.prototype.indentation=function(){return ce(this.string,null,this.tabSize)-(this.lineStart?ce(this.string,this.lineStart,this.tabSize):0)};fF.prototype.match=function(hp,hm,i){if(typeof hp=="string"){var hq=function(hr){return i?hr.toLowerCase():hr};var ho=this.string.substr(this.pos,hp.length);if(hq(ho)==hq(hp)){if(hm!==false){this.pos+=hp.length}return true}}else{var hn=this.string.slice(this.pos).match(hp);if(hn&&hn.index>0){return null}if(hn&&hm!==false){this.pos+=hn[0].length}return hn}};fF.prototype.current=function(){return this.string.slice(this.start,this.pos)};fF.prototype.hideFirstChars=function(hm,i){this.lineStart+=hm;try{return i()}finally{this.lineStart-=hm}};fF.prototype.lookAhead=function(hm){var i=this.lineOracle;return i&&i.lookAhead(hm)};fF.prototype.baseToken=function(){var i=this.lineOracle;return i&&i.baseToken(this.pos)};function f2(hp,hr){hr-=hp.first;if(hr<0||hr>=hp.size){throw new Error("There is no line "+(hr+hp.first)+" in the document.")}var hm=hp;while(!hm.lines){for(var hn=0;;++hn){var hq=hm.children[hn],ho=hq.chunkSize();if(hr<ho){hm=hq;break}hr-=ho}}return hm.lines[hr]}function g4(hn,hp,i){var hm=[],ho=hp.line;hn.iter(hp.line,i.line+1,function(hq){var hr=hq.text;if(ho==i.line){hr=hr.slice(0,i.ch)}if(ho==hp.line){hr=hr.slice(hp.ch)}hm.push(hr);++ho});return hm}function bg(hm,ho,hn){var i=[];hm.iter(ho,hn,function(hp){i.push(hp.text)});return i}function g7(hm,i){var hn=i-hm.height;if(hn){for(var ho=hm;ho;ho=ho.parent){ho.height+=hn}}}function b9(hm){if(hm.parent==null){return null}var hq=hm.parent,hp=dR(hq.lines,hm);for(var hn=hq.parent;hn;hq=hn,hn=hn.parent){for(var ho=0;;++ho){if(hn.children[ho]==hq){break}hp+=hn.children[ho].chunkSize()}}return hp+hq.first}function b2(hs,hr){var hp=hs.first;outer:do{for(var ho=0;ho<hs.children.length;++ho){var hn=hs.children[ho],hm=hn.height;if(hr<hm){hs=hn;continue outer}hr-=hm;hp+=hn.chunkSize()}return hp}while(!hs.lines);var hq=0;for(;hq<hs.lines.length;++hq){var hu=hs.lines[hq],ht=hu.height;if(hr<ht){break}hr-=ht}return hp+hq}function cx(hm,i){return i>=hm.first&&i<hm.first+hm.size}function e7(hm,hn){return String(hm.lineNumberFormatter(hn+hm.firstLineNumber))}function ad(i,hm,hn){if(hn===void 0){hn=null}if(!(this instanceof ad)){return new ad(i,hm,hn)}this.line=i;this.ch=hm;this.sticky=hn}function cF(hm,i){return hm.line-i.line||hm.ch-i.ch}function ae(hm,i){return hm.sticky==i.sticky&&cF(hm,i)==0}function cI(i){return ad(i.line,i.ch)}function bS(hm,i){return cF(hm,i)<0?i:hm}function aC(hm,i){return cF(hm,i)<0?hm:i}function dA(i,hm){return Math.max(i.first,Math.min(hm,i.first+i.size-1))}function gA(hm,hn){if(hn.line<hm.first){return ad(hm.first,0)}var i=hm.first+hm.size-1;if(hn.line>i){return ad(i,f2(hm,i).text.length)}return ge(hn,f2(hm,hn.line).text.length)}function ge(hn,hm){var i=hn.ch;if(i==null||i>hm){return ad(hn.line,hm)}else{if(i<0){return ad(hn.line,0)}else{return hn}}}function eA(ho,hp){var hm=[];for(var hn=0;hn<hp.length;hn++){hm[hn]=gA(ho,hp[hn])}return hm}var aR=function(hm,i){this.state=hm;this.lookAhead=i};var ah=function(ho,hn,i,hm){this.state=hn;this.doc=ho;this.line=i;this.maxLookAhead=hm||0;this.baseTokens=null;this.baseTokenPos=1};ah.prototype.lookAhead=function(hm){var i=this.doc.getLine(this.line+hm);if(i!=null&&hm>this.maxLookAhead){this.maxLookAhead=hm}return i};ah.prototype.baseToken=function(hn){var hm=this;if(!this.baseTokens){return null}while(this.baseTokens[this.baseTokenPos]<=hn){hm.baseTokenPos+=2}var i=this.baseTokens[this.baseTokenPos+1];return{type:i&&i.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-hn}};ah.prototype.nextLine=function(){this.line++;if(this.maxLookAhead>0){this.maxLookAhead--}};ah.fromSaved=function(hn,hm,i){if(hm instanceof aR){return new ah(hn,cr(hn.mode,hm.state),i,hm.lookAhead)}else{return new ah(hn,cr(hn.mode,hm),i)}};ah.prototype.save=function(hm){var i=hm!==false?cr(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new aR(i,this.maxLookAhead):i};function gm(hr,ht,hm,hp){var hs=[hr.state.modeGen],ho={};y(hr,ht.text,hr.doc.mode,hm,function(hu,hv){return hs.push(hu,hv)},ho,hp);var i=hm.state;var hq=function(hx){hm.baseTokens=hs;var hv=hr.state.overlays[hx],hw=1,hu=0;hm.state=true;y(hr,ht.text,hv.mode,hm,function(hy,hA){var hC=hw;while(hu<hy){var hz=hs[hw];if(hz>hy){hs.splice(hw,1,hy,hs[hw+1],hz)}hw+=2;hu=Math.min(hy,hz)}if(!hA){return}if(hv.opaque){hs.splice(hC,hw-hC,hy,"overlay "+hA);hw=hC+2}else{for(;hC<hw;hC+=2){var hB=hs[hC+1];hs[hC+1]=(hB?hB+" ":"")+"overlay "+hA}}},ho);hm.state=i;hm.baseTokens=null;hm.baseTokenPos=1};for(var hn=0;hn<hr.state.overlays.length;++hn){hq(hn)}return{styles:hs,classes:ho.bgClass||ho.textClass?ho:null}}function dE(hm,ho,hq){if(!ho.styles||ho.styles[0]!=hm.state.modeGen){var hp=fJ(hm,b9(ho));var hn=ho.text.length>hm.options.maxHighlightLength&&cr(hm.doc.mode,hp.state);var i=gm(hm,ho,hp);if(hn){hp.state=hn}ho.stateAfter=hp.save(!hn);ho.styles=i.styles;if(i.classes){ho.styleClasses=i.classes}else{if(ho.styleClasses){ho.styleClasses=null}}if(hq===hm.doc.highlightFrontier){hm.doc.modeFrontier=Math.max(hm.doc.modeFrontier,++hm.doc.highlightFrontier)}}return ho.styles}function fJ(i,hs,hm){var hq=i.doc,hp=i.display;if(!hq.mode.startState){return new ah(hq,true,hs)}var hr=c1(i,hs,hm);var ho=hr>hq.first&&f2(hq,hr-1).stateAfter;var hn=ho?ah.fromSaved(hq,ho,hr):new ah(hq,co(hq.mode),hr);hq.iter(hr,hs,function(ht){d5(i,ht.text,hn);var hu=hn.line;ht.stateAfter=hu==hs-1||hu%5==0||hu>=hp.viewFrom&&hu<hp.viewTo?hn.save():null;hn.nextLine()});if(hm){hq.modeFrontier=hn.line}return hn}function d5(i,hq,hn,hm){var hp=i.doc.mode;var ho=new fF(hq,i.options.tabSize,hn);ho.start=ho.pos=hm||0;if(hq==""){gc(hp,hn.state)}while(!ho.eol()){fj(hp,ho,hn.state);ho.start=ho.pos}}function gc(hn,hm){if(hn.blankLine){return hn.blankLine(hm)}if(!hn.innerMode){return}var i=g9(hn,hm);if(i.mode.blankLine){return i.mode.blankLine(i.state)}}function fj(hr,hq,hp,hm){for(var hn=0;hn<10;hn++){if(hm){hm[0]=g9(hr,hp).mode}var ho=hr.token(hq,hp);if(hq.pos>hq.start){return ho}}throw new Error("Mode "+hr.name+" failed to advance stream.")}var dH=function(hn,i,hm){this.start=hn.start;this.end=hn.pos;this.string=hn.current();this.type=i||null;this.state=hm};function cT(ht,hr,ho,hn){var hs=ht.doc,hp=hs.mode,i;hr=gA(hs,hr);var hv=f2(hs,hr.line),hm=fJ(ht,hr.line,ho);var hu=new fF(hv.text,ht.options.tabSize,hm),hq;if(hn){hq=[]}while((hn||hu.pos<hr.ch)&&!hu.eol()){hu.start=hu.pos;i=fj(hp,hu,hm.state);if(hn){hq.push(new dH(hu,i,cr(hs.mode,hm.state)))}}return hn?hq:new dH(hu,i,hm.state)}function dS(hn,hm){if(hn){for(;;){var i=hn.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!i){break}hn=hn.slice(0,i.index)+hn.slice(i.index+i[0].length);var ho=i[1]?"bgClass":"textClass";if(hm[ho]==null){hm[ho]=i[2]}else{if(!(new RegExp("(?:^|s)"+i[2]+"(?:$|s)")).test(hm[ho])){hm[ho]+=" "+i[2]}}}}return hn}function y(hv,hx,hq,hn,hr,ho,hp){var hm=hq.flattenSpans;if(hm==null){hm=hv.options.flattenSpans}var ht=0,hs=null;var hw=new fF(hx,hv.options.tabSize,hn),i;var hz=hv.options.addModeClass&&[null];if(hx==""){dS(gc(hq,hn.state),ho)}while(!hw.eol()){if(hw.pos>hv.options.maxHighlightLength){hm=false;if(hp){d5(hv,hx,hn,hw.pos)}hw.pos=hx.length;i=null}else{i=dS(fj(hq,hw,hn.state,hz),ho)}if(hz){var hy=hz[0].name;if(hy){i="m-"+(i?hy+" "+i:hy)}}if(!hm||hs!=i){while(ht<hw.start){ht=Math.min(hw.start,ht+5000);hr(ht,hs)}hs=i}hw.start=hw.pos}while(ht<hw.pos){var hu=Math.min(hw.pos,ht+5000);hr(hu,hs);ht=hu}}function c1(hs,hm,hp){var hn,hq,hr=hs.doc;var ho=hp?-1:hm-(hs.doc.mode.innerMode?1000:100);for(var hv=hm;hv>ho;--hv){if(hv<=hr.first){return hr.first}var hu=f2(hr,hv-1),i=hu.stateAfter;if(i&&(!hp||hv+(i instanceof aR?i.lookAhead:0)<=hr.modeFrontier)){return hv}var ht=ce(hu.text,null,hs.options.tabSize);if(hq==null||hn>ht){hq=hv-1;hn=ht}}return hq}function hf(hn,hp){hn.modeFrontier=Math.min(hn.modeFrontier,hp);if(hn.highlightFrontier<hp-10){return}var ho=hn.first;for(var i=hp-1;i>ho;i--){var hm=f2(hn,i).stateAfter;if(hm&&(!(hm instanceof aR)||i+hm.lookAhead<hp)){ho=i+1;break}}hn.highlightFrontier=Math.min(hn.highlightFrontier,ho)}var hg=false,bl=false;function gn(){hg=true}function bR(){bl=true}function eV(i,hn,hm){this.marker=i;this.from=hn;this.to=hm}function fX(ho,hm){if(ho){for(var hn=0;hn<ho.length;++hn){var hp=ho[hn];if(hp.marker==hm){return hp}}}}function fr(hn,ho){var hp;for(var hm=0;hm<hn.length;++hm){if(hn[hm]!=ho){(hp||(hp=[])).push(hn[hm])}}return hp}function cD(i,hm){i.markedSpans=i.markedSpans?i.markedSpans.concat([hm]):[hm];hm.marker.attachLine(i)}function a3(hn,ho,hs){var ht;if(hn){for(var hq=0;hq<hn.length;++hq){var hu=hn[hq],hr=hu.marker;var hm=hu.from==null||(hr.inclusiveLeft?hu.from<=ho:hu.from<ho);if(hm||hu.from==ho&&hr.type=="bookmark"&&(!hs||!hu.marker.insertLeft)){var hp=hu.to==null||(hr.inclusiveRight?hu.to>=ho:hu.to>ho);(ht||(ht=[])).push(new eV(hr,hu.from,hp?null:hu.to))}}}return ht}function aM(hn,hp,hs){var ht;if(hn){for(var hq=0;hq<hn.length;++hq){var hu=hn[hq],hr=hu.marker;var ho=hu.to==null||(hr.inclusiveRight?hu.to>=hp:hu.to>hp);if(ho||hu.from==hp&&hr.type=="bookmark"&&(!hs||hu.marker.insertLeft)){var hm=hu.from==null||(hr.inclusiveLeft?hu.from<=hp:hu.from<hp);(ht||(ht=[])).push(new eV(hr,hm?null:hu.from-hp,hu.to==null?null:hu.to-hp))}}}return ht}function eX(hH,hx){if(hx.full){return null}var ho=cx(hH,hx.from.line)&&f2(hH,hx.from.line).markedSpans;var hv=cx(hH,hx.to.line)&&f2(hH,hx.to.line).markedSpans;if(!ho&&!hv){return null}var hu=hx.from.ch,hC=hx.to.ch,hz=cF(hx.from,hx.to)==0;var ht=a3(ho,hu,hz);var hw=aM(hv,hC,hz);var hA=hx.text.length==1,hr=gv(hx.text).length+(hA?hu:0);if(ht){for(var hF=0;hF<ht.length;++hF){var hE=ht[hF];if(hE.to==null){var hy=fX(hw,hE.marker);if(!hy){hE.to=hu}else{if(hA){hE.to=hy.to==null?null:hy.to+hr}}}}}if(hw){for(var hs=0;hs<hw.length;++hs){var hD=hw[hs];if(hD.to!=null){hD.to+=hr}if(hD.from==null){var hn=fX(ht,hD.marker);if(!hn){hD.from=hr;if(hA){(ht||(ht=[])).push(hD)}}}else{hD.from+=hr;if(hA){(ht||(ht=[])).push(hD)}}}}if(ht){ht=t(ht)}if(hw&&hw!=ht){hw=t(hw)}var hG=[ht];if(!hA){var hB=hx.text.length-2,hm;if(hB>0&&ht){for(var hq=0;hq<ht.length;++hq){if(ht[hq].to==null){(hm||(hm=[])).push(new eV(ht[hq].marker,null,null))}}}for(var hp=0;hp<hB;++hp){hG.push(hm)}hG.push(hw)}return hG}function t(hn){for(var hm=0;hm<hn.length;++hm){var ho=hn[hm];if(ho.from!=null&&ho.from==ho.to&&ho.marker.clearWhenEmpty!==false){hn.splice(hm--,1)}}if(!hn.length){return null}return hn}function dc(hy,hw,hx){var hq=null;hy.iter(hw.line,hx.line+1,function(hz){if(hz.markedSpans){for(var hA=0;hA<hz.markedSpans.length;++hA){var hB=hz.markedSpans[hA].marker;if(hB.readOnly&&(!hq||dR(hq,hB)==-1)){(hq||(hq=[])).push(hB)}}}});if(!hq){return null}var hr=[{from:hw,to:hx}];for(var hs=0;hs<hq.length;++hs){var ht=hq[hs],ho=ht.find(0);for(var hp=0;hp<hr.length;++hp){var hn=hr[hp];if(cF(hn.to,ho.from)<0||cF(hn.from,ho.to)>0){continue}var hv=[hp,1],hm=cF(hn.from,ho.from),hu=cF(hn.to,ho.to);if(hm<0||!ht.inclusiveLeft&&!hm){hv.push({from:hn.from,to:ho.from})}if(hu>0||!ht.inclusiveRight&&!hu){hv.push({from:ho.to,to:hn.to})}hr.splice.apply(hr,hv);hp+=hv.length-3}}return hr}function ha(hm){var ho=hm.markedSpans;if(!ho){return}for(var hn=0;hn<ho.length;++hn){ho[hn].marker.detachLine(hm)}hm.markedSpans=null}function dy(hm,ho){if(!ho){return}for(var hn=0;hn<ho.length;++hn){ho[hn].marker.attachLine(hm)}hm.markedSpans=ho}function x(i){return i.inclusiveLeft?-1:0}function cj(i){return i.inclusiveRight?1:0}function ep(ho,hm){var hq=ho.lines.length-hm.lines.length;if(hq!=0){return hq}var hn=ho.find(),hr=hm.find();var i=cF(hn.from,hr.from)||x(ho)-x(hm);if(i){return -i}var hp=cF(hn.to,hr.to)||cj(ho)-cj(hm);if(hp){return hp}return hm.id-ho.id}function bk(hn,hr){var hm=bl&&hn.markedSpans,hq;if(hm){for(var hp=(void 0),ho=0;ho<hm.length;++ho){hp=hm[ho];if(hp.marker.collapsed&&(hr?hp.from:hp.to)==null&&(!hq||ep(hq,hp.marker)<0)){hq=hp.marker}}}return hq}function fA(i){return bk(i,true)}function fb(i){return bk(i,false)}function cE(hn,hp){var hm=bl&&hn.markedSpans,hr;if(hm){for(var ho=0;ho<hm.length;++ho){var hq=hm[ho];if(hq.marker.collapsed&&(hq.from==null||hq.from<hp)&&(hq.to==null||hq.to>hp)&&(!hr||ep(hr,hq.marker)<0)){hr=hq.marker}}}return hr}function B(hu,hm,hs,ht,hq){var hx=f2(hu,hm);var hn=bl&&hx.markedSpans;if(hn){for(var hp=0;hp<hn.length;++hp){var ho=hn[hp];if(!ho.marker.collapsed){continue}var hw=ho.marker.find(0);var hv=cF(hw.from,hs)||x(ho.marker)-x(hq);var hr=cF(hw.to,ht)||cj(ho.marker)-cj(hq);if(hv>=0&&hr<=0||hv<=0&&hr>=0){continue}if(hv<=0&&(ho.marker.inclusiveRight&&hq.inclusiveLeft?cF(hw.to,hs)>=0:cF(hw.to,hs)>0)||hv>=0&&(ho.marker.inclusiveRight&&hq.inclusiveLeft?cF(hw.from,ht)<=0:cF(hw.from,ht)<0)){return true}}}}function A(hm){var i;while(i=fA(hm)){hm=i.find(-1,true).line}return hm}function cL(hm){var i;while(i=fb(hm)){hm=i.find(1,true).line}return hm}function g(hn){var i,hm;while(i=fb(hn)){hn=i.find(1,true).line;(hm||(hm=[])).push(hn)}return hm}function a9(ho,hm){var i=f2(ho,hm),hn=A(i);if(i==hn){return hm}return b9(hn)}function eE(ho,hn){if(hn>ho.lastLine()){return hn}var hm=f2(ho,hn),i;if(!gi(ho,hm)){return hn}while(i=fb(hm)){hm=i.find(1,true).line}return b9(hm)+1}function gi(hq,hn){var hm=bl&&hn.markedSpans;if(hm){for(var hp=(void 0),ho=0;ho<hm.length;++ho){hp=hm[ho];if(!hp.marker.collapsed){continue}if(hp.from==null){return true}if(hp.marker.widgetNode){continue}if(hp.from==0&&hp.marker.inclusiveLeft&&aa(hq,hn,hp)){return true}}}}function aa(hr,hn,hp){if(hp.to==null){var hm=hp.marker.find(1,true);return aa(hr,hm.line,fX(hm.line.markedSpans,hp.marker))}if(hp.marker.inclusiveRight&&hp.to==hn.text.length){return true}for(var hq=(void 0),ho=0;ho<hn.markedSpans.length;++ho){hq=hn.markedSpans[ho];if(hq.marker.collapsed&&!hq.marker.widgetNode&&hq.from==hp.to&&(hq.to==null||hq.to!=hp.from)&&(hq.marker.inclusiveLeft||hp.marker.inclusiveRight)&&aa(hr,hn,hq)){return true}}}function b8(ho){ho=A(ho);var hq=0,hn=ho.parent;for(var hp=0;hp<hn.lines.length;++hp){var hm=hn.lines[hp];if(hm==ho){break}else{hq+=hm.height}}for(var hr=hn.parent;hr;hn=hr,hr=hn.parent){for(var ht=0;ht<hr.children.length;++ht){var hs=hr.children[ht];if(hs==hn){break}else{hq+=hs.height}}}return hq}function e0(hn){if(hn.height==0){return 0}var hm=hn.text.length,i,hq=hn;while(i=fA(hq)){var ho=i.find(0,true);hq=ho.from.line;hm+=ho.from.ch-ho.to.ch}hq=hn;while(i=fb(hq)){var hp=i.find(0,true);hm-=hq.text.length-hp.from.ch;hq=hp.to.line;hm+=hq.text.length-hp.to.ch}return hm}function f(i){var hn=i.display,hm=i.doc;hn.maxLine=f2(hm,hm.first);hn.maxLineLength=e0(hn.maxLine);hn.maxLineChanged=true;hm.iter(function(hp){var ho=e0(hp);if(ho>hn.maxLineLength){hn.maxLineLength=ho;hn.maxLine=hp}})}var g6=function(hn,hm,i){this.text=hn;dy(this,hm);this.height=i?i(this):1};g6.prototype.lineNo=function(){return b9(this)};bU(g6);function e1(hm,hp,hn,i){hm.text=hp;if(hm.stateAfter){hm.stateAfter=null}if(hm.styles){hm.styles=null}if(hm.order!=null){hm.order=null}ha(hm);dy(hm,hn);var ho=i?i(hm):1;if(ho!=hm.height){g7(hm,ho)}}function bW(i){i.parent=null;ha(i)}var ev={},cq={};function fI(hn,hm){if(!hn||/^\s*$/.test(hn)){return null}var i=hm.addModeClass?cq:ev;return i[hn]||(i[hn]=hn.replace(/\S+/g,"cm-$&"))}function fD(hs,hr){var hq=g8("span",null,null,dv?"padding-right: .1px":null);var hp={pre:g8("pre",[hq],"CodeMirror-line"),content:hq,col:0,pos:0,cm:hs,trailingSpace:false,splitSpaces:hs.getOption("lineWrapping")};hr.measure={};for(var ho=0;ho<=(hr.rest?hr.rest.length:0);ho++){var hu=ho?hr.rest[ho-1]:hr.line,hn=(void 0);hp.pos=0;hp.addToken=v;if(ca(hs.display.measure)&&(hn=a(hu,hs.doc.direction))){hp.addToken=ab(hp.addToken,hn)}hp.map=[];var hm=hr!=hs.display.externalMeasured&&b9(hu);bH(hu,hp,dE(hs,hu,hm));if(hu.styleClasses){if(hu.styleClasses.bgClass){hp.bgClass=gP(hu.styleClasses.bgClass,hp.bgClass||"")}if(hu.styleClasses.textClass){hp.textClass=gP(hu.styleClasses.textClass,hp.textClass||"")}}if(hp.map.length==0){hp.map.push(0,0,hp.content.appendChild(bG(hs.display.measure)))}if(ho==0){hr.measure.map=hp.map;hr.measure.cache={}}else{(hr.measure.maps||(hr.measure.maps=[])).push(hp.map);(hr.measure.caches||(hr.measure.caches=[])).push({})}}if(dv){var ht=hp.content.lastChild;if(/\bcm-tab\b/.test(ht.className)||(ht.querySelector&&ht.querySelector(".cm-tab"))){hp.content.className="cm-tab-wrap-hack"}}aP(hs,"renderLine",hs,hr.line,hp.pre);if(hp.pre.className){hp.textClass=gP(hp.pre.className,hp.textClass||"")}return hp}function f1(hm){var i=g2("span","\u2022","cm-invalidchar");i.title="\\u"+hm.charCodeAt(0).toString(16);i.setAttribute("aria-label",i.title);return i}function v(hy,hs,hD,hA,hv,hr,hq){if(!hs){return}var hC=hy.splitSpaces?c8(hs,hy.trailingSpace):hs;var i=hy.cm.state.specialChars,hm=false;var hB;if(!i.test(hs)){hy.col+=hs.length;hB=document.createTextNode(hC);hy.map.push(hy.pos,hy.pos+hs.length,hB);if(eh&&n<9){hm=true}hy.pos+=hs.length}else{hB=document.createDocumentFragment();var ho=0;while(true){i.lastIndex=ho;var hz=i.exec(hs);var hF=hz?hz.index-ho:hs.length-ho;if(hF){var hu=document.createTextNode(hC.slice(ho,ho+hF));if(eh&&n<9){hB.appendChild(g2("span",[hu]))}else{hB.appendChild(hu)}hy.map.push(hy.pos,hy.pos+hF,hu);hy.col+=hF;hy.pos+=hF}if(!hz){break}ho+=hF+1;var hE=(void 0);if(hz[0]=="\t"){var hw=hy.cm.options.tabSize,ht=hw-hy.col%hw;hE=hB.appendChild(g2("span",cS(ht),"cm-tab"));hE.setAttribute("role","presentation");hE.setAttribute("cm-text","\t");hy.col+=ht}else{if(hz[0]=="\r"||hz[0]=="\n"){hE=hB.appendChild(g2("span",hz[0]=="\r"?"\u240d":"\u2424","cm-invalidchar"));hE.setAttribute("cm-text",hz[0]);hy.col+=1}else{hE=hy.cm.options.specialCharPlaceholder(hz[0]);hE.setAttribute("cm-text",hz[0]);if(eh&&n<9){hB.appendChild(g2("span",[hE]))}else{hB.appendChild(hE)}hy.col+=1}}hy.map.push(hy.pos,hy.pos+1,hE);hy.pos++}}hy.trailingSpace=hC.charCodeAt(hs.length-1)==32;if(hD||hA||hv||hm||hr){var hn=hD||"";if(hA){hn+=hA}if(hv){hn+=hv}var hp=g2("span",[hB],hn,hr);if(hq){for(var hx in hq){if(hq.hasOwnProperty(hx)&&hx!="style"&&hx!="class"){hp.setAttribute(hx,hq[hx])}}}return hy.content.appendChild(hp)}hy.content.appendChild(hB)}function c8(hr,hq){if(hr.length>1&&!/  /.test(hr)){return hr}var hn=hq,hm="";for(var ho=0;ho<hr.length;ho++){var hp=hr.charAt(ho);if(hp==" "&&hn&&(ho==hr.length-1||hr.charCodeAt(ho+1)==32)){hp="\u00a0"}hm+=hp;hn=hp==" "}return hm}function ab(hm,i){return function(hv,hw,hn,hs,hx,hu,hr){hn=hn?hn+" cm-force-border":"cm-force-border";var ho=hv.pos,hq=ho+hw.length;for(;;){var hp=(void 0);for(var ht=0;ht<i.length;ht++){hp=i[ht];if(hp.to>ho&&hp.from<=ho){break}}if(hp.to>=hq){return hm(hv,hw,hn,hs,hx,hu,hr)}hm(hv,hw.slice(0,hp.to-ho),hn,hs,null,hu,hr);hs=null;hw=hw.slice(hp.to-ho);ho=hp.to}}}function am(hm,ho,i,hn){var hp=!hn&&i.widgetNode;if(hp){hm.map.push(hm.pos,hm.pos+ho,hp)}if(!hn&&hm.cm.display.input.needsContentAttribute){if(!hp){hp=hm.content.appendChild(document.createElement("span"))}hp.setAttribute("cm-marker",i.id)}if(hp){hm.cm.display.input.setUneditable(hp);hm.content.appendChild(hp)}hm.pos+=ho;hm.trailingSpace=false}function bH(hy,hG,hx){var hr=hy.markedSpans,hv=hy.text,hD=0;if(!hr){for(var hs=1;hs<hx.length;hs+=2){hG.addToken(hG,hv.slice(hD,hD=hx[hs]),fI(hx[hs+1],hG.cm.options))}return}var hK=hv.length,hq=0,hJ=1,hB="",hL,hz;var hP=0,hm,hO,hC,ho,hu;for(;;){if(hP==hq){hm=hO=hC=hz="";hu=null;ho=null;hP=Infinity;var ht=[],hw=(void 0);for(var hH=0;hH<hr.length;++hH){var hI=hr[hH],hF=hI.marker;if(hF.type=="bookmark"&&hI.from==hq&&hF.widgetNode){ht.push(hF)}else{if(hI.from<=hq&&(hI.to==null||hI.to>hq||hF.collapsed&&hI.to==hq&&hI.from==hq)){if(hI.to!=null&&hI.to!=hq&&hP>hI.to){hP=hI.to;hO=""}if(hF.className){hm+=" "+hF.className}if(hF.css){hz=(hz?hz+";":"")+hF.css}if(hF.startStyle&&hI.from==hq){hC+=" "+hF.startStyle}if(hF.endStyle&&hI.to==hP){(hw||(hw=[])).push(hF.endStyle,hI.to)}if(hF.title){(hu||(hu={})).title=hF.title}if(hF.attributes){for(var hE in hF.attributes){(hu||(hu={}))[hE]=hF.attributes[hE]}}if(hF.collapsed&&(!ho||ep(ho.marker,hF)<0)){ho=hI}}else{if(hI.from>hq&&hP>hI.from){hP=hI.from}}}}if(hw){for(var hN=0;hN<hw.length;hN+=2){if(hw[hN+1]==hP){hO+=" "+hw[hN]}}}if(!ho||ho.from==hq){for(var hM=0;hM<ht.length;++hM){am(hG,0,ht[hM])}}if(ho&&(ho.from||0)==hq){am(hG,(ho.to==null?hK+1:ho.to)-hq,ho.marker,ho.from==null);if(ho.to==null){return}if(ho.to==hq){ho=false}}}if(hq>=hK){break}var hA=Math.min(hK,hP);while(true){if(hB){var hn=hq+hB.length;if(!ho){var hp=hn>hA?hB.slice(0,hA-hq):hB;hG.addToken(hG,hp,hL?hL+hm:hm,hC,hq+hp.length==hP?hO:"",hz,hu)}if(hn>=hA){hB=hB.slice(hA-hq);hq=hA;break}hq=hn;hC=""}hB=hv.slice(hD,hD=hx[hJ++]);hL=fI(hx[hJ++],hG.cm.options)}}}function bP(hn,i,hm){this.line=i;this.rest=g(i);this.size=this.rest?b9(gv(this.rest))-hm+1:1;this.node=this.text=null;this.hidden=gi(hn,i)}function fH(i,hr,hq){var hp=[],hn;for(var ho=hr;ho<hq;ho=hn){var hm=new bP(i.doc,f2(i.doc,ho),ho);hn=ho+hm.size;hp.push(hm)}return hp}var bJ=null;function fe(i){if(bJ){bJ.ops.push(i)}else{i.ownsGroup=bJ={ops:[i],delayedCallbacks:[]}}}function dp(hp){var ho=hp.delayedCallbacks,hn=0;do{for(;hn<ho.length;hn++){ho[hn].call(null)}for(var hm=0;hm<hp.ops.length;hm++){var hq=hp.ops[hm];if(hq.cursorActivityHandlers){while(hq.cursorActivityCalled<hq.cursorActivityHandlers.length){hq.cursorActivityHandlers[hq.cursorActivityCalled++].call(null,hq.cm)}}}}while(hn<ho.length)}function cl(hn,hm){var i=hn.ownsGroup;if(!i){return}try{dp(i)}finally{bJ=null;hm(i)}}var bT=null;function an(hs,hq){var hm=eY(hs,hq);if(!hm.length){return}var ho=Array.prototype.slice.call(arguments,2),hr;if(bJ){hr=bJ.delayedCallbacks}else{if(bT){hr=bT}else{hr=bT=[];setTimeout(aY,0)}}var hn=function(ht){hr.push(function(){return hm[ht].apply(null,ho)})};for(var hp=0;hp<hm.length;++hp){hn(hp)}}function aY(){var hm=bT;bT=null;for(var hn=0;hn<hm.length;++hn){hm[hn]()}}function ak(i,hn,hp,hq){for(var hm=0;hm<hn.changes.length;hm++){var ho=hn.changes[hm];if(ho=="text"){f8(i,hn)}else{if(ho=="gutter"){dO(i,hn,hp,hq)}else{if(ho=="class"){ec(i,hn)}else{if(ho=="widget"){ay(i,hn,hq)}}}}}hn.changes=null}function gx(i){if(i.node==i.text){i.node=g2("div",null,null,"position: relative");if(i.text.parentNode){i.text.parentNode.replaceChild(i.node,i.text)}i.node.appendChild(i.text);if(eh&&n<8){i.node.style.zIndex=2}}return i.node}function fa(i,hn){var hm=hn.bgClass?hn.bgClass+" "+(hn.line.bgClass||""):hn.line.bgClass;if(hm){hm+=" CodeMirror-linebackground"}if(hn.background){if(hm){hn.background.className=hm}else{hn.background.parentNode.removeChild(hn.background);hn.background=null}}else{if(hm){var ho=gx(hn);hn.background=ho.insertBefore(g2("div",null,hm),ho.firstChild);i.display.input.setUneditable(hn.background)}}}function eu(i,hm){var hn=i.display.externalMeasured;if(hn&&hn.line==hm.line){i.display.externalMeasured=null;hm.measure=hn.measure;return hn.built}return fD(i,hm)}function f8(i,ho){var hm=ho.text.className;var hn=eu(i,ho);if(ho.text==ho.node){ho.node=hn.pre}ho.text.parentNode.replaceChild(hn.pre,ho.text);ho.text=hn.pre;if(hn.bgClass!=ho.bgClass||hn.textClass!=ho.textClass){ho.bgClass=hn.bgClass;ho.textClass=hn.textClass;ec(i,ho)}else{if(hm){ho.text.className=hm}}}function ec(hm,hn){fa(hm,hn);if(hn.line.wrapClass){gx(hn).className=hn.line.wrapClass}else{if(hn.node!=hn.text){hn.node.className=""}}var i=hn.textClass?hn.textClass+" "+(hn.line.textClass||""):hn.line.textClass;hn.text.className=i||""}function dO(ht,hr,hq,hs){if(hr.gutter){hr.node.removeChild(hr.gutter);hr.gutter=null}if(hr.gutterBackground){hr.node.removeChild(hr.gutterBackground);hr.gutterBackground=null}if(hr.line.gutterClass){var hm=gx(hr);hr.gutterBackground=g2("div",null,"CodeMirror-gutter-background "+hr.line.gutterClass,("left: "+(ht.options.fixedGutter?hs.fixedPos:-hs.gutterTotalWidth)+"px; width: "+(hs.gutterTotalWidth)+"px"));ht.display.input.setUneditable(hr.gutterBackground);hm.insertBefore(hr.gutterBackground,hr.text)}var ho=hr.line.gutterMarkers;if(ht.options.lineNumbers||ho){var hu=gx(hr);var hp=hr.gutter=g2("div",null,"CodeMirror-gutter-wrapper",("left: "+(ht.options.fixedGutter?hs.fixedPos:-hs.gutterTotalWidth)+"px"));ht.display.input.setUneditable(hp);hu.insertBefore(hp,hr.text);if(hr.line.gutterClass){hp.className+=" "+hr.line.gutterClass}if(ht.options.lineNumbers&&(!ho||!ho["CodeMirror-linenumbers"])){hr.lineNumber=hp.appendChild(g2("div",e7(ht.options,hq),"CodeMirror-linenumber CodeMirror-gutter-elt",("left: "+(hs.gutterLeft["CodeMirror-linenumbers"])+"px; width: "+(ht.display.lineNumInnerWidth)+"px")))}if(ho){for(var hn=0;hn<ht.display.gutterSpecs.length;++hn){var i=ht.display.gutterSpecs[hn].className,hv=ho.hasOwnProperty(i)&&ho[i];if(hv){hp.appendChild(g2("div",[hv],"CodeMirror-gutter-elt",("left: "+(hs.gutterLeft[i])+"px; width: "+(hs.gutterWidth[i])+"px")))}}}}}function ay(i,hn,hq){if(hn.alignable){hn.alignable=null}var hm=Z("CodeMirror-linewidget");for(var hp=hn.node.firstChild,ho=(void 0);hp;hp=ho){ho=hp.nextSibling;if(hm.test(hp.className)){hn.node.removeChild(hp)}}gf(i,hn,hq)}function aQ(i,hn,ho,hp){var hm=eu(i,hn);hn.text=hn.node=hm.pre;if(hm.bgClass){hn.bgClass=hm.bgClass}if(hm.textClass){hn.textClass=hm.textClass}ec(i,hn);dO(i,hn,ho,hp);gf(i,hn,hp);return hn.node}function gf(hm,ho,hp){g5(hm,ho.line,ho,hp,true);if(ho.rest){for(var hn=0;hn<ho.rest.length;hn++){g5(hm,ho.rest[hn],ho,hp,false)}}}function g5(hu,hv,hr,ht,hp){if(!hv.widgets){return}var hm=gx(hr);for(var ho=0,hs=hv.widgets;ho<hs.length;++ho){var hq=hs[ho],hn=g2("div",[hq.node],"CodeMirror-linewidget"+(hq.className?" "+hq.className:""));if(!hq.handleMouseEvents){hn.setAttribute("cm-ignore-events","true")}b0(hq,hn,hr,ht);hu.display.input.setUneditable(hn);if(hp&&hq.above){hm.insertBefore(hn,hr.gutter||hr.text)}else{hm.appendChild(hn)}an(hq,"redraw")}}function b0(ho,hn,i,hp){if(ho.noHScroll){(i.alignable||(i.alignable=[])).push(hn);var hm=hp.wrapperWidth;hn.style.left=hp.fixedPos+"px";if(!ho.coverGutter){hm-=hp.gutterTotalWidth;hn.style.paddingLeft=hp.gutterTotalWidth+"px"}hn.style.width=hm+"px"}if(ho.coverGutter){hn.style.zIndex=5;hn.style.position="relative";if(!ho.noHScroll){hn.style.marginLeft=-hp.gutterTotalWidth+"px"}}}function dt(hn){if(hn.height!=null){return hn.height}var i=hn.doc.cm;if(!i){return 0}if(!hc(document.body,hn.node)){var hm="position: relative;";if(hn.coverGutter){hm+="margin-left: -"+i.display.gutters.offsetWidth+"px;"}if(hn.noHScroll){hm+="width: "+i.display.wrapper.clientWidth+"px;"}cf(i.display.measure,g2("div",[hn.node],null,hm))}return hn.height=hn.node.parentNode.offsetHeight}function bp(hm,i){for(var hn=R(i);hn!=hm.wrapper;hn=hn.parentNode){if(!hn||(hn.nodeType==1&&hn.getAttribute("cm-ignore-events")=="true")||(hn.parentNode==hm.sizer&&hn!=hm.mover)){return true}}}function fW(i){return i.lineSpace.offsetTop}function b3(i){return i.mover.offsetHeight-i.lineSpace.offsetHeight}function fS(ho){if(ho.cachedPaddingH){return ho.cachedPaddingH}var hn=cf(ho.measure,g2("pre","x","CodeMirror-line-like"));var i=window.getComputedStyle?window.getComputedStyle(hn):hn.currentStyle;var hm={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};if(!isNaN(hm.left)&&!isNaN(hm.right)){ho.cachedPaddingH=hm}return hm}function dn(i){return ef-i.display.nativeBarWidth}function dU(i){return i.display.scroller.clientWidth-dn(i)-i.display.barWidth}function dq(i){return i.display.scroller.clientHeight-dn(i)-i.display.barHeight}function cH(ht,hp,hs){var ho=ht.options.lineWrapping;var hq=ho&&dU(ht);if(!hp.measure.heights||ho&&hp.measure.width!=hq){var hr=hp.measure.heights=[];if(ho){hp.measure.width=hq;var hv=hp.text.firstChild.getClientRects();for(var hm=0;hm<hv.length-1;hm++){var hu=hv[hm],hn=hv[hm+1];if(Math.abs(hu.bottom-hn.bottom)>2){hr.push((hu.bottom+hn.top)/2-hs.top)}}}hr.push(hs.bottom-hs.top)}}function cW(ho,hm,hp){if(ho.line==hm){return{map:ho.measure.map,cache:ho.measure.cache}}for(var hn=0;hn<ho.rest.length;hn++){if(ho.rest[hn]==hm){return{map:ho.measure.maps[hn],cache:ho.measure.caches[hn]}}}for(var hq=0;hq<ho.rest.length;hq++){if(b9(ho.rest[hq])>hp){return{map:ho.measure.maps[hq],cache:ho.measure.caches[hq],before:true}}}}function dx(i,hn){hn=A(hn);var hp=b9(hn);var hm=i.display.externalMeasured=new bP(i.doc,hn,hp);hm.lineN=hp;var ho=hm.built=fD(i,hm);hm.text=ho.pre;cf(i.display.lineMeasure,ho.pre);return hm}function eT(i,hm,ho,hn){return G(i,bj(i,hm),ho,hn)}function fZ(i,hn){if(hn>=i.display.viewFrom&&hn<i.display.viewTo){return i.display.view[d0(i,hn)]}var hm=i.display.externalMeasured;if(hm&&hn>=hm.lineN&&hn<hm.lineN+hm.size){return hm}}function bj(i,hn){var ho=b9(hn);var hm=fZ(i,ho);if(hm&&!hm.text){hm=null}else{if(hm&&hm.changes){ak(i,hm,ho,f0(i));i.curOp.forceUpdate=true}}if(!hm){hm=dx(i,hn)}var hp=cW(hm,hn,ho);return{line:hn,view:hm,rect:null,map:hp.map,cache:hp.cache,before:hp.before,hasHeights:false}}function G(i,hr,hp,hm,ho){if(hr.before){hp=-1}var hn=hp+(hm||""),hq;if(hr.cache.hasOwnProperty(hn)){hq=hr.cache[hn]}else{if(!hr.rect){hr.rect=hr.view.text.getBoundingClientRect()}if(!hr.hasHeights){cH(i,hr.view,hr.rect);hr.hasHeights=true}hq=l(i,hr,hp,hm);if(!hq.bogus){hr.cache[hn]=hq}}return{left:hq.left,right:hq.right,top:ho?hq.rtop:hq.top,bottom:ho?hq.rbottom:hq.bottom}}var fi={left:0,right:0,top:0,bottom:0};function aW(hv,hm,hs){var ho,hn,hq,ht,hp,hu;for(var hr=0;hr<hv.length;hr+=3){hp=hv[hr];hu=hv[hr+1];if(hm<hp){hn=0;hq=1;ht="left"}else{if(hm<hu){hn=hm-hp;hq=hn+1}else{if(hr==hv.length-3||hm==hu&&hv[hr+3]>hm){hq=hu-hp;hn=hq-1;if(hm>=hu){ht="right"}}}}if(hn!=null){ho=hv[hr+2];if(hp==hu&&hs==(ho.insertLeft?"left":"right")){ht=hs}if(hs=="left"&&hn==0){while(hr&&hv[hr-2]==hv[hr-3]&&hv[hr-1].insertLeft){ho=hv[(hr-=3)+2];ht="left"}}if(hs=="right"&&hn==hu-hp){while(hr<hv.length-3&&hv[hr+3]==hv[hr+4]&&!hv[hr+5].insertLeft){ho=hv[(hr+=3)+2];ht="right"}}break}}return{node:ho,start:hn,end:hq,collapse:ht,coverStart:hp,coverEnd:hu}}function fE(hn,hm){var hp=fi;if(hm=="left"){for(var ho=0;ho<hn.length;ho++){if((hp=hn[ho]).left!=hp.right){break}}}else{for(var hq=hn.length-1;hq>=0;hq--){if((hp=hn[hq]).left!=hp.right){break}}}return hp}function l(hu,hE,hx,hr){var hv=aW(hE.map,hx,hr);var hC=hv.node,hq=hv.start,hp=hv.end,hm=hv.collapse;var hn;if(hC.nodeType==3){for(var hs=0;hs<4;hs++){while(hq&&gb(hE.line.text.charAt(hv.coverStart+hq))){--hq}while(hv.coverStart+hp<hv.coverEnd&&gb(hE.line.text.charAt(hv.coverStart+hp))){++hp}if(eh&&n<9&&hq==0&&hp==hv.coverEnd-hv.coverStart){hn=hC.parentNode.getBoundingClientRect()}else{hn=fE(cO(hC,hq,hp).getClientRects(),hr)}if(hn.left||hn.right||hq==0){break}hp=hq;hq=hq-1;hm="right"}if(eh&&n<11){hn=fy(hu.display.measure,hn)}}else{if(hq>0){hm=hr="right"}var ho;if(hu.options.lineWrapping&&(ho=hC.getClientRects()).length>1){hn=ho[hr=="right"?ho.length-1:0]}else{hn=hC.getBoundingClientRect()}}if(eh&&n<9&&!hq&&(!hn||!hn.left&&!hn.right)){var ht=hC.parentNode.getClientRects()[0];if(ht){hn={left:ht.left,right:ht.left+d9(hu.display),top:ht.top,bottom:ht.bottom}}else{hn=fi}}var hA=hn.top-hE.rect.top,hy=hn.bottom-hE.rect.top;var hG=(hA+hy)/2;var hF=hE.view.measure.heights;var hD=0;for(;hD<hF.length-1;hD++){if(hG<hF[hD]){break}}var hB=hD?hF[hD-1]:0,hz=hF[hD];var hw={left:(hm=="right"?hn.right:hn.left)-hE.rect.left,right:(hm=="left"?hn.left:hn.right)-hE.rect.left,top:hB,bottom:hz};if(!hn.left&&!hn.right){hw.bogus=true}if(!hu.options.singleCursorHeightPerLine){hw.rtop=hA;hw.rbottom=hy}return hw}function fy(hn,ho){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!aX(hn)){return ho}var hm=screen.logicalXDPI/screen.deviceXDPI;var i=screen.logicalYDPI/screen.deviceYDPI;return{left:ho.left*hm,right:ho.right*hm,top:ho.top*i,bottom:ho.bottom*i}}function aF(hn){if(hn.measure){hn.measure.cache={};hn.measure.heights=null;if(hn.rest){for(var hm=0;hm<hn.rest.length;hm++){hn.measure.caches[hm]={}}}}}function a1(hm){hm.display.externalMeasure=null;eC(hm.display.lineMeasure);for(var hn=0;hn<hm.display.view.length;hn++){aF(hm.display.view[hn])}}function at(i){a1(i);i.display.cachedCharWidth=i.display.cachedTextHeight=i.display.cachedPaddingH=null;if(!i.options.lineWrapping){i.display.maxLineChanged=true}i.display.lineNumChars=null}function cX(){if(dL&&aZ){return -(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft))}return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function cV(){if(dL&&aZ){return -(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop))}return window.pageYOffset||(document.documentElement||document.body).scrollTop}function eg(hn){var hm=0;if(hn.widgets){for(var ho=0;ho<hn.widgets.length;++ho){if(hn.widgets[ho].above){hm+=dt(hn.widgets[ho])}}}return hm}function fB(hr,ho,hq,hm,hn){if(!hn){var hs=eg(ho);hq.top+=hs;hq.bottom+=hs}if(hm=="line"){return hq}if(!hm){hm="local"}var hp=b8(ho);if(hm=="local"){hp+=fW(hr.display)}else{hp-=hr.display.viewOffset}if(hm=="page"||hm=="window"){var i=hr.display.lineSpace.getBoundingClientRect();hp+=i.top+(hm=="window"?0:cV());var ht=i.left+(hm=="window"?0:cX());hq.left+=ht;hq.right+=ht}hq.top+=hp;hq.bottom+=hp;return hq}function hh(hm,hp,hn){if(hn=="div"){return hp}var hr=hp.left,hq=hp.top;if(hn=="page"){hr-=cX();hq-=cV()}else{if(hn=="local"||!hn){var ho=hm.display.sizer.getBoundingClientRect();hr+=ho.left;hq+=ho.top}}var i=hm.display.lineSpace.getBoundingClientRect();return{left:hr-i.left,top:hq-i.top}}function de(i,hp,ho,hn,hm){if(!hn){hn=f2(i.doc,hp.line)}return fB(i,hn,eT(i,hn,hp.ch,hm),ho)}function et(hw,hu,hn,hr,hy,hs){hr=hr||f2(hw.doc,hu.line);if(!hy){hy=bj(hw,hr)}function hp(hB,hA){var hz=G(hw,hy,hB,hA?"right":"left",hs);if(hA){hz.left=hz.right}else{hz.right=hz.left}return fB(hw,hr,hz,hn)}var hq=a(hr,hw.doc.direction),i=hu.ch,hv=hu.sticky;if(i>=hr.text.length){i=hr.text.length;hv="before"}else{if(i<=0){i=0;hv="after"}}if(!hq){return hp(hv=="before"?i-1:i,hv=="before")}function hx(hC,hz,hD){var hA=hq[hz],hB=hA.level==1;return hp(hD?hC-1:hC,hB!=hD)}var hm=aT(hq,i,hv);var ht=fQ;var ho=hx(i,hm,hv=="before");if(ht!=null){ho.other=hx(i,ht,hv!="before")}return ho}function ed(i,hp){var ho=0;hp=gA(i.doc,hp);if(!i.options.lineWrapping){ho=d9(i.display)*hp.ch}var hm=f2(i.doc,hp.line);var hn=b8(hm)+fW(i.display);return{left:ho,right:ho,top:hn,bottom:hn+hm.height}}function g0(i,hm,ho,hn,hq){var hp=ad(i,hm,ho);hp.xRel=hq;if(hn){hp.outside=hn}return hp}function gI(hs,hq,hp){var hr=hs.doc;hp+=hs.display.viewOffset;if(hp<0){return g0(hr.first,0,null,-1,-1)}var ho=b2(hr,hp),ht=hr.first+hr.size-1;if(ho>ht){return g0(hr.first+hr.size-1,f2(hr,ht).text.length,null,1,1)}if(hq<0){hq=0}var hn=f2(hr,ho);for(;;){var hu=du(hs,hn,ho,hq,hp);var hm=cE(hn,hu.ch+(hu.xRel>0||hu.outside>0?1:0));if(!hm){return hu}var i=hm.find(1);if(i.line==ho){return i}hn=f2(hr,ho=i.line)}}function bE(i,hn,hp,hq){hq-=eg(hn);var hm=hn.text.length;var ho=cP(function(hr){return G(i,hp,hr-1).bottom<=hq},hm,0);hm=cP(function(hr){return G(i,hp,hr).top>hq},ho,hm);return{begin:ho,end:hm}}function bC(i,hm,ho,hp){if(!ho){ho=bj(i,hm)}var hn=fB(i,hm,G(i,ho,hp),"line").top;return bE(i,hm,ho,hn)}function aB(hm,i,ho,hn){return hm.bottom<=ho?false:hm.top>ho?true:(hn?hm.left:hm.right)>i}function du(ho,hm,hD,hr,hq){hq-=b8(hm);var hv=bj(ho,hm);var hF=eg(hm);var hC=0,hn=hm.text.length,hz=true;var hx=a(hm,ho.doc.direction);if(hx){var hw=(ho.options.lineWrapping?gX:gC)(ho,hm,hD,hv,hx,hr,hq);hz=hw.level!=1;hC=hz?hw.from:hw.to-1;hn=hz?hw.to:hw.from-1}var hp=null,ht=null;var hu=cP(function(hG){var hH=G(ho,hv,hG);hH.top+=hF;hH.bottom+=hF;if(!aB(hH,hr,hq,false)){return false}if(hH.top<=hq&&hH.left<=hr){hp=hG;ht=hH}return true},hC,hn);var i,hE,hB=false;if(ht){var hA=hr-ht.left<ht.right-hr,hs=hA==hz;hu=hp+(hs?0:1);hE=hs?"after":"before";i=hA?ht.left:ht.right}else{if(!hz&&(hu==hn||hu==hC)){hu++}hE=hu==0?"after":hu==hm.text.length?"before":(G(ho,hv,hu-(hz?1:0)).bottom+hF<=hq)==hz?"after":"before";var hy=et(ho,ad(hD,hu,hE),"line",hm,hv);i=hy.left;hB=hq<hy.top?-1:hq>=hy.bottom?1:0}hu=eW(hm.text,hu,1);return g0(hD,hu,hE,hB,hr-i)}function gC(hu,hq,i,hv,hp,ht,hs){var hr=cP(function(hy){var hw=hp[hy],hx=hw.level!=1;return aB(et(hu,ad(i,hx?hw.to:hw.from,hx?"before":"after"),"line",hq,hv),ht,hs,true)},0,hp.length-1);var ho=hp[hr];if(hr>0){var hn=ho.level!=1;var hm=et(hu,ad(i,hn?ho.from:ho.to,hn?"after":"before"),"line",hq,hv);if(aB(hm,ht,hs,true)&&hm.top>hs){ho=hp[hr-1]}}return ho}function gX(hz,hu,hx,hC,hr,hy,hw){var hq=bE(hz,hu,hC,hw);var hp=hq.begin;var hs=hq.end;if(/\s/.test(hu.text.charAt(hs-1))){hs--}var ho=null,hA=null;for(var ht=0;ht<hr.length;ht++){var hm=hr[ht];if(hm.from>=hs||hm.to<=hp){continue}var hn=hm.level!=1;var hB=G(hz,hC,hn?Math.min(hs,hm.to)-1:Math.max(hp,hm.from)).right;var hv=hB<hy?hy-hB+1000000000:hB-hy;if(!ho||hA>hv){ho=hm;hA=hv}}if(!ho){ho=hr[hr.length-1]}if(ho.from<hp){ho={from:hp,to:ho.to,level:ho.level}}if(ho.to>hs){ho={from:ho.from,to:hs,level:ho.level}}return ho}var aS;function bb(ho){if(ho.cachedTextHeight!=null){return ho.cachedTextHeight}if(aS==null){aS=g2("pre",null,"CodeMirror-line-like");for(var hn=0;hn<49;++hn){aS.appendChild(document.createTextNode("x"));aS.appendChild(g2("br"))}aS.appendChild(document.createTextNode("x"))}cf(ho.measure,aS);var hm=aS.offsetHeight/50;if(hm>3){ho.cachedTextHeight=hm}eC(ho.measure);return hm||1}function d9(hp){if(hp.cachedCharWidth!=null){return hp.cachedCharWidth}var i=g2("span","xxxxxxxxxx");var ho=g2("pre",[i],"CodeMirror-line-like");cf(hp.measure,ho);var hn=i.getBoundingClientRect(),hm=(hn.right-hn.left)/10;if(hm>2){hp.cachedCharWidth=hm}return hm||10}function f0(hm){var hr=hm.display,hp={},ho={};var hq=hr.gutters.clientLeft;for(var ht=hr.gutters.firstChild,hn=0;ht;ht=ht.nextSibling,++hn){var hs=hm.display.gutterSpecs[hn].className;hp[hs]=ht.offsetLeft+ht.clientLeft+hq;ho[hs]=ht.clientWidth}return{fixedPos:ex(hr),gutterTotalWidth:hr.gutters.offsetWidth,gutterLeft:hp,gutterWidth:ho,wrapperWidth:hr.wrapper.clientWidth}}function ex(i){return i.scroller.getBoundingClientRect().left-i.sizer.getBoundingClientRect().left}function bs(i){var hn=bb(i.display),hm=i.options.lineWrapping;var ho=hm&&Math.max(5,i.display.scroller.clientWidth/d9(i.display)-3);return function(hq){if(gi(i.doc,hq)){return 0}var hp=0;if(hq.widgets){for(var hr=0;hr<hq.widgets.length;hr++){if(hq.widgets[hr].height){hp+=hq.widgets[hr].height}}}if(hm){return hp+(Math.ceil(hq.text.length/ho)||1)*hn}else{return hp+hn}}}function ag(i){var hn=i.doc,hm=bs(i);hn.iter(function(ho){var hp=hm(ho);if(hp!=ho.height){g7(ho,hp)}})}function cQ(hu,hp,hm,hn){var hq=hu.display;if(!hm&&R(hp).getAttribute("cm-not-content")=="true"){return null}var ht,hr,i=hq.lineSpace.getBoundingClientRect();try{ht=hp.clientX-i.left;hr=hp.clientY-i.top}catch(hp){return null}var hs=gI(hu,ht,hr),hv;if(hn&&hs.xRel>0&&(hv=f2(hu.doc,hs.line).text).length==hs.ch){var ho=ce(hv,hv.length,hu.options.tabSize)-hv.length;hs=ad(hs.line,Math.max(0,Math.round((ht-fS(hu.display).left)/d9(hu.display))-ho))}return hs}function d0(hm,hp){if(hp>=hm.display.viewTo){return null}hp-=hm.display.viewFrom;if(hp<0){return null}var hn=hm.display.view;for(var ho=0;ho<hn.length;ho++){hp-=hn[ho].size;if(hp<0){return ho}}}function aq(ht,hr,hs,hu){if(hr==null){hr=ht.doc.first}if(hs==null){hs=ht.doc.first+ht.doc.size}if(!hu){hu=0}var ho=ht.display;if(hu&&hs<ho.viewTo&&(ho.updateLineNumbers==null||ho.updateLineNumbers>hr)){ho.updateLineNumbers=hr}ht.curOp.viewChanged=true;if(hr>=ho.viewTo){if(bl&&a9(ht.doc,hr)<ho.viewTo){fc(ht)}}else{if(hs<=ho.viewFrom){if(bl&&eE(ht.doc,hs+hu)>ho.viewFrom){fc(ht)}else{ho.viewFrom+=hu;ho.viewTo+=hu}}else{if(hr<=ho.viewFrom&&hs>=ho.viewTo){fc(ht)}else{if(hr<=ho.viewFrom){var hq=dN(ht,hs,hs+hu,1);if(hq){ho.view=ho.view.slice(hq.index);ho.viewFrom=hq.lineN;ho.viewTo+=hu}else{fc(ht)}}else{if(hs>=ho.viewTo){var hm=dN(ht,hr,hr,-1);if(hm){ho.view=ho.view.slice(0,hm.index);ho.viewTo=hm.lineN}else{fc(ht)}}else{var hp=dN(ht,hr,hr,-1);var hn=dN(ht,hs,hs+hu,1);if(hp&&hn){ho.view=ho.view.slice(0,hp.index).concat(fH(ht,hp.lineN,hn.lineN)).concat(ho.view.slice(hn.index));ho.viewTo+=hu}else{fc(ht)}}}}}}var i=ho.externalMeasured;if(i){if(hs<i.lineN){i.lineN+=hu}else{if(hr<i.lineN+i.size){ho.externalMeasured=null}}}}function Y(hm,hn,hq){hm.curOp.viewChanged=true;var hr=hm.display,hp=hm.display.externalMeasured;if(hp&&hn>=hp.lineN&&hn<hp.lineN+hp.size){hr.externalMeasured=null}if(hn<hr.viewFrom||hn>=hr.viewTo){return}var ho=hr.view[d0(hm,hn)];if(ho.node==null){return}var i=ho.changes||(ho.changes=[]);if(dR(i,hq)==-1){i.push(hq)}}function fc(i){i.display.viewFrom=i.display.viewTo=i.doc.first;i.display.view=[];i.display.viewOffset=0}function dN(hu,ho,hq,hn){var hr=d0(hu,ho),ht,hs=hu.display.view;if(!bl||hq==hu.doc.first+hu.doc.size){return{index:hr,lineN:hq}}var hm=hu.display.viewFrom;for(var hp=0;hp<hr;hp++){hm+=hs[hp].size}if(hm!=ho){if(hn>0){if(hr==hs.length-1){return null}ht=(hm+hs[hr].size)-ho;hr++}else{ht=hm-ho}ho+=ht;hq+=ht}while(a9(hu.doc,hq)!=hq){if(hr==(hn<0?0:hs.length-1)){return null}hq+=hn*hs[hr-(hn<0?1:0)].size;hr+=hn}return{index:hr,lineN:hq}}function dm(i,hp,ho){var hn=i.display,hm=hn.view;if(hm.length==0||hp>=hn.viewTo||ho<=hn.viewFrom){hn.view=fH(i,hp,ho);hn.viewFrom=hp}else{if(hn.viewFrom>hp){hn.view=fH(i,hp,hn.viewFrom).concat(hn.view)}else{if(hn.viewFrom<hp){hn.view=hn.view.slice(d0(i,hp))}}hn.viewFrom=hp;if(hn.viewTo<ho){hn.view=hn.view.concat(fH(i,hn.viewTo,ho))}else{if(hn.viewTo>ho){hn.view=hn.view.slice(0,d0(i,ho))}}}hn.viewTo=ho}function dK(hm){var hn=hm.display.view,hq=0;for(var hp=0;hp<hn.length;hp++){var ho=hn[hp];if(!ho.hidden&&(!ho.node||ho.changes)){++hq}}return hq}function bX(i){i.display.input.showSelection(i.display.input.prepareSelection())}function gy(hs,hm){if(hm===void 0){hm=true}var hr=hs.doc,hu={};var hq=hu.cursors=document.createDocumentFragment();var hn=hu.selection=document.createDocumentFragment();for(var hp=0;hp<hr.sel.ranges.length;hp++){if(!hm&&hp==hr.sel.primIndex){continue}var ht=hr.sel.ranges[hp];if(ht.from().line>=hs.display.viewTo||ht.to().line<hs.display.viewFrom){continue}var ho=ht.empty();if(ho||hs.options.showCursorWhenSelecting){D(hs,ht.head,hq)}if(!ho){bY(hs,ht,hn)}}return hu}function D(i,ho,hn){var hq=et(i,ho,"div",null,null,!i.options.singleCursorHeightPerLine);var hp=hn.appendChild(g2("div","\u00a0","CodeMirror-cursor"));hp.style.left=hq.left+"px";hp.style.top=hq.top+"px";hp.style.height=Math.max(0,hq.bottom-hq.top)*i.options.cursorHeight+"px";if(hq.other){var hm=hn.appendChild(g2("div","\u00a0","CodeMirror-cursor CodeMirror-secondarycursor"));hm.style.display="";hm.style.left=hq.other.left+"px";hm.style.top=hq.other.top+"px";hm.style.height=(hq.other.bottom-hq.other.top)*0.85+"px"}}function gS(hm,i){return hm.top-i.top||hm.left-i.left}function bY(hr,hq,hs){var hz=hr.display,hD=hr.doc;var i=document.createDocumentFragment();var hw=fS(hr.display),ho=hw.left;var hA=Math.max(hz.sizerWidth,dU(hr)-hz.sizer.offsetLeft)-hw.right;var hp=hD.direction=="ltr";function hx(hH,hG,hF,hE){if(hG<0){hG=0}hG=Math.round(hG);hE=Math.round(hE);i.appendChild(g2("div",null,"CodeMirror-selected",("position: absolute; left: "+hH+"px;\n                             top: "+hG+"px; width: "+(hF==null?hA-hH:hF)+"px;\n                             height: "+(hE-hG)+"px")))}function hm(hN,hF,hM){var hJ=f2(hD,hN);var hK=hJ.text.length;var hE,hI;function hL(hP,hO){return de(hr,ad(hN,hP),"div",hJ,hO)}function hG(hT,hO,hP){var hR=bC(hr,hJ,null,hT);var hS=(hO=="ltr")==(hP=="after")?"left":"right";var hQ=hP=="after"?hR.begin:hR.end-(/\s/.test(hJ.text.charAt(hR.end-1))?2:1);return hL(hQ,hS)[hS]}var hH=a(hJ,hD.direction);eG(hH,hF||0,hM==null?hK:hM,function(hZ,hO,hU,h2){var h5=hU=="ltr";var h0=hL(hZ,h5?"left":"right");var hY=hL(hO-1,h5?"right":"left");var h4=hF==null&&hZ==0,h1=hM==null&&hO==hK;var hQ=h2==0,hS=!hH||h2==hH.length-1;if(hY.top-h0.top<=3){var hR=(hp?h4:h1)&&hQ;var hT=(hp?h1:h4)&&hS;var hP=hR?ho:(h5?h0:hY).left;var h6=hT?hA:(h5?hY:h0).right;hx(hP,h0.top,h6-hP,h0.bottom)}else{var hW,hV,h3,hX;if(h5){hW=hp&&h4&&hQ?ho:h0.left;hV=hp?hA:hG(hZ,hU,"before");h3=hp?ho:hG(hO,hU,"after");hX=hp&&h1&&hS?hA:hY.right}else{hW=!hp?ho:hG(hZ,hU,"before");hV=!hp&&h4&&hQ?hA:h0.right;h3=!hp&&h1&&hS?ho:hY.left;hX=!hp?hA:hG(hO,hU,"after")}hx(hW,h0.top,hV-hW,h0.bottom);if(h0.bottom<hY.top){hx(ho,h0.bottom,null,hY.top)}hx(h3,hY.top,hX-h3,hY.bottom)}if(!hE||gS(h0,hE)<0){hE=h0}if(gS(hY,hE)<0){hE=hY}if(!hI||gS(h0,hI)<0){hI=h0}if(gS(hY,hI)<0){hI=hY}});return{start:hE,end:hI}}var hC=hq.from(),hB=hq.to();if(hC.line==hB.line){hm(hC.line,hC.ch,hB.ch)}else{var hn=f2(hD,hC.line),hu=f2(hD,hB.line);var ht=A(hn)==A(hu);var hv=hm(hC.line,hC.ch,ht?hn.text.length+1:null).end;var hy=hm(hB.line,ht?0:null,hB.ch).start;if(ht){if(hv.top<hy.top-2){hx(hv.right,hv.top,null,hv.bottom);hx(ho,hy.top,hy.left,hy.bottom)}else{hx(hv.right,hv.top,hy.left-hv.right,hv.bottom)}}if(hv.bottom<hy.top){hx(ho,hv.bottom,null,hy.top)}}hs.appendChild(i)}function r(i){if(!i.state.focused){return}var hn=i.display;clearInterval(hn.blinker);var hm=true;hn.cursorDiv.style.visibility="";if(i.options.cursorBlinkRate>0){hn.blinker=setInterval(function(){return hn.cursorDiv.style.visibility=(hm=!hm)?"":"hidden"},i.options.cursorBlinkRate)}else{if(i.options.cursorBlinkRate<0){hn.cursorDiv.style.visibility="hidden"}}}function u(i){if(!i.state.focused){i.display.input.focus();c4(i)}}function au(i){i.state.delayingBlurEvent=true;setTimeout(function(){if(i.state.delayingBlurEvent){i.state.delayingBlurEvent=false;a8(i)}},100)}function c4(i,hm){if(i.state.delayingBlurEvent){i.state.delayingBlurEvent=false}if(i.options.readOnly=="nocursor"){return}if(!i.state.focused){aP(i,"focus",i,hm);i.state.focused=true;gp(i.display.wrapper,"CodeMirror-focused");if(!i.curOp&&i.display.selForContextMenu!=i.doc.sel){i.display.input.reset();if(dv){setTimeout(function(){return i.display.input.reset(true)},20)}}i.display.input.receivedFocus()}r(i)}function a8(i,hm){if(i.state.delayingBlurEvent){return}if(i.state.focused){aP(i,"blur",i,hm);i.state.focused=false;h(i.display.wrapper,"CodeMirror-focused")}clearInterval(i.display.blinker);setTimeout(function(){if(!i.state.focused){i.display.shift=false}},150)}function bn(hw){var hu=hw.display;var ho=hu.lineDiv.offsetTop;for(var hp=0;hp<hu.view.length;hp++){var hx=hu.view[hp],hr=hw.options.lineWrapping;var hy=(void 0),hm=0;if(hx.hidden){continue}if(eh&&n<8){var ht=hx.node.offsetTop+hx.node.offsetHeight;hy=ht-ho;ho=ht}else{var hq=hx.node.getBoundingClientRect();hy=hq.bottom-hq.top;if(!hr&&hx.text.firstChild){hm=hx.text.firstChild.getBoundingClientRect().right-hq.left-1}}var hv=hx.line.height-hy;if(hv>0.005||hv<-0.005){g7(hx.line,hy);cz(hx.line);if(hx.rest){for(var hn=0;hn<hx.rest.length;hn++){cz(hx.rest[hn])}}}if(hm>hw.display.sizerWidth){var hs=Math.ceil(hm/d9(hw.display));if(hs>hw.display.maxLineLength){hw.display.maxLineLength=hs;hw.display.maxLine=hx.line;hw.display.maxLineChanged=true}}}}function cz(hn){if(hn.widgets){for(var ho=0;ho<hn.widgets.length;++ho){var hm=hn.widgets[ho],hp=hm.node.parentNode;if(hp){hm.height=hp.offsetHeight}}}}function cu(ho,hs,hn){var hp=hn&&hn.top!=null?Math.max(0,hn.top):ho.scroller.scrollTop;hp=Math.floor(hp-fW(ho));var i=hn&&hn.bottom!=null?hn.bottom:hp+ho.wrapper.clientHeight;var hq=b2(hs,hp),hr=b2(hs,i);if(hn&&hn.ensure){var hm=hn.ensure.from.line,ht=hn.ensure.to.line;if(hm<hq){hq=hm;hr=b2(hs,b8(f2(hs,hm))+ho.wrapper.clientHeight)}else{if(Math.min(ht,hs.lastLine())>=hr){hq=b2(hs,b8(f2(hs,ht))-ho.wrapper.clientHeight);hr=ht}}}return{from:hq,to:Math.max(hr,hq+1)}}function eH(hm,ho){if(a4(hm,"scrollCursorIntoView")){return}var hq=hm.display,hn=hq.sizer.getBoundingClientRect(),i=null;if(ho.top+hn.top<0){i=true}else{if(ho.bottom+hn.top>(window.innerHeight||document.documentElement.clientHeight)){i=false}}if(i!=null&&!gg){var hp=g2("div","\u200b",null,("position: absolute;\n                         top: "+(ho.top-hq.viewOffset-fW(hm.display))+"px;\n                         height: "+(ho.bottom-ho.top+dn(hm)+hq.barHeight)+"px;\n                         left: "+(ho.left)+"px; width: "+(Math.max(2,ho.right-ho.left))+"px;"));hm.display.lineSpace.appendChild(hp);hp.scrollIntoView(i);hm.display.lineSpace.removeChild(hp)}}function H(hw,ht,hp,ho){if(ho==null){ho=0}var hu;if(!hw.options.lineWrapping&&ht==hp){ht=ht.ch?ad(ht.line,ht.sticky=="before"?ht.ch-1:ht.ch,"after"):ht;hp=ht.sticky=="before"?ad(ht.line,ht.ch+1,"before"):ht}for(var hq=0;hq<5;hq++){var hr=false;var hv=et(hw,ht);var i=!hp||hp==ht?hv:et(hw,hp);hu={left:Math.min(hv.left,i.left),top:Math.min(hv.top,i.top)-ho,right:Math.max(hv.left,i.left),bottom:Math.max(hv.bottom,i.bottom)+ho};var hn=N(hw,hu);var hs=hw.doc.scrollTop,hm=hw.doc.scrollLeft;if(hn.scrollTop!=null){C(hw,hn.scrollTop);if(Math.abs(hw.doc.scrollTop-hs)>1){hr=true}}if(hn.scrollLeft!=null){bZ(hw,hn.scrollLeft);if(Math.abs(hw.doc.scrollLeft-hm)>1){hr=true}}if(!hr){break}}return hu}function I(i,hm){var hn=N(i,hm);if(hn.scrollTop!=null){C(i,hn.scrollTop)}if(hn.scrollLeft!=null){bZ(i,hn.scrollLeft)}}function N(hu,ht){var hr=hu.display,hp=bb(hu.display);if(ht.top<0){ht.top=0}var hn=hu.curOp&&hu.curOp.scrollTop!=null?hu.curOp.scrollTop:hr.scroller.scrollTop;var hw=dq(hu),hy={};if(ht.bottom-ht.top>hw){ht.bottom=ht.top+hw}var hm=hu.doc.height+b3(hr);var i=ht.top<hp,hq=ht.bottom>hm-hp;if(ht.top<hn){hy.scrollTop=i?0:ht.top}else{if(ht.bottom>hn+hw){var hs=Math.min(ht.top,(hq?hm:ht.bottom)-hw);if(hs!=hn){hy.scrollTop=hs}}}var hx=hu.curOp&&hu.curOp.scrollLeft!=null?hu.curOp.scrollLeft:hr.scroller.scrollLeft;var hv=dU(hu)-(hu.options.fixedGutter?hr.gutters.offsetWidth:0);var ho=ht.right-ht.left>hv;if(ho){ht.right=ht.left+hv}if(ht.left<10){hy.scrollLeft=0}else{if(ht.left<hx){hy.scrollLeft=Math.max(0,ht.left-(ho?0:10))}else{if(ht.right>hv+hx-3){hy.scrollLeft=ht.right+(ho?0:10)-hv}}}return hy}function db(i,hm){if(hm==null){return}gr(i);i.curOp.scrollTop=(i.curOp.scrollTop==null?i.doc.scrollTop:i.curOp.scrollTop)+hm}function gu(i){gr(i);var hm=i.getCursor();i.curOp.scrollToPos={from:hm,to:hm,margin:i.options.cursorScrollMargin}}function fw(hm,i,hn){if(i!=null||hn!=null){gr(hm)}if(i!=null){hm.curOp.scrollLeft=i}if(hn!=null){hm.curOp.scrollTop=hn}}function cC(i,hm){gr(i);i.curOp.scrollToPos=hm}function gr(i){var hm=i.curOp.scrollToPos;if(hm){i.curOp.scrollToPos=null;var ho=ed(i,hm.from),hn=ed(i,hm.to);cc(i,ho,hn,hm.margin)}}function cc(i,hp,ho,hn){var hm=N(i,{left:Math.min(hp.left,ho.left),top:Math.min(hp.top,ho.top)-hn,right:Math.max(hp.right,ho.right),bottom:Math.max(hp.bottom,ho.bottom)+hn});fw(i,hm.scrollLeft,hm.scrollTop)}function C(i,hm){if(Math.abs(i.doc.scrollTop-hm)<2){return}if(!cR){es(i,{top:hm})}V(i,hm,true);if(cR){es(i)}eQ(i,100)}function V(i,hn,hm){hn=Math.max(0,Math.min(i.display.scroller.scrollHeight-i.display.scroller.clientHeight,hn));if(i.display.scroller.scrollTop==hn&&!hm){return}i.doc.scrollTop=hn;i.display.scrollbars.setScrollTop(hn);if(i.display.scroller.scrollTop!=hn){i.display.scroller.scrollTop=hn}}function bZ(i,ho,hn,hm){ho=Math.max(0,Math.min(ho,i.display.scroller.scrollWidth-i.display.scroller.clientWidth));if((hn?ho==i.doc.scrollLeft:Math.abs(i.doc.scrollLeft-ho)<2)&&!hm){return}i.doc.scrollLeft=ho;fm(i);if(i.display.scroller.scrollLeft!=ho){i.display.scroller.scrollLeft=ho}i.display.scrollbars.setScrollLeft(ho)}function d7(i){var ho=i.display,hn=ho.gutters.offsetWidth;var hm=Math.round(i.doc.height+b3(i.display));return{clientHeight:ho.scroller.clientHeight,viewHeight:ho.wrapper.clientHeight,scrollWidth:ho.scroller.scrollWidth,clientWidth:ho.scroller.clientWidth,viewWidth:ho.wrapper.clientWidth,barLeft:i.options.fixedGutter?hn:0,docHeight:hm,scrollHeight:hm+dn(i)+ho.barHeight,nativeBarWidth:ho.nativeBarWidth,gutterWidth:hn}}var dT=function(hn,hm,i){this.cm=i;var ho=this.vert=g2("div",[g2("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar");var hp=this.horiz=g2("div",[g2("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");ho.tabIndex=hp.tabIndex=-1;hn(ho);hn(hp);ck(ho,"scroll",function(){if(ho.clientHeight){hm(ho.scrollTop,"vertical")}});ck(hp,"scroll",function(){if(hp.clientWidth){hm(hp.scrollLeft,"horizontal")}});this.checkedZeroWidth=false;if(eh&&n<8){this.horiz.style.minHeight=this.vert.style.minWidth="18px"}};dT.prototype.update=function(ho){var hp=ho.scrollWidth>ho.clientWidth+1;var hn=ho.scrollHeight>ho.clientHeight+1;var hq=ho.nativeBarWidth;if(hn){this.vert.style.display="block";this.vert.style.bottom=hp?hq+"px":"0";var hm=ho.viewHeight-(hp?hq:0);this.vert.firstChild.style.height=Math.max(0,ho.scrollHeight-ho.clientHeight+hm)+"px"}else{this.vert.style.display="";this.vert.firstChild.style.height="0"}if(hp){this.horiz.style.display="block";this.horiz.style.right=hn?hq+"px":"0";this.horiz.style.left=ho.barLeft+"px";var i=ho.viewWidth-ho.barLeft-(hn?hq:0);this.horiz.firstChild.style.width=Math.max(0,ho.scrollWidth-ho.clientWidth+i)+"px"}else{this.horiz.style.display="";this.horiz.firstChild.style.width="0"}if(!this.checkedZeroWidth&&ho.clientHeight>0){if(hq==0){this.zeroWidthHack()}this.checkedZeroWidth=true}return{right:hn?hq:0,bottom:hp?hq:0}};dT.prototype.setScrollLeft=function(i){if(this.horiz.scrollLeft!=i){this.horiz.scrollLeft=i}if(this.disableHoriz){this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")}};dT.prototype.setScrollTop=function(i){if(this.vert.scrollTop!=i){this.vert.scrollTop=i}if(this.disableVert){this.enableZeroWidthBar(this.vert,this.disableVert,"vert")}};dT.prototype.zeroWidthHack=function(){var i=cv&&!dD?"12px":"18px";this.horiz.style.height=this.vert.style.width=i;this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new hl;this.disableVert=new hl};dT.prototype.enableZeroWidthBar=function(hn,i,hm){hn.style.pointerEvents="auto";function ho(){var hq=hn.getBoundingClientRect();var hp=hm=="vert"?document.elementFromPoint(hq.right-1,(hq.top+hq.bottom)/2):document.elementFromPoint((hq.right+hq.left)/2,hq.bottom-1);if(hp!=hn){hn.style.pointerEvents="none"}else{i.set(1000,ho)}}i.set(1000,ho)};dT.prototype.clear=function(){var i=this.horiz.parentNode;i.removeChild(this.horiz);i.removeChild(this.vert)};var fR=function(){};fR.prototype.update=function(){return{bottom:0,right:0}};fR.prototype.setScrollLeft=function(){};fR.prototype.setScrollTop=function(){};fR.prototype.clear=function(){};function fL(ho,hq){if(!hq){hq=d7(ho)}var hn=ho.display.barWidth,hm=ho.display.barHeight;a7(ho,hq);for(var hp=0;hp<4&&hn!=ho.display.barWidth||hm!=ho.display.barHeight;hp++){if(hn!=ho.display.barWidth&&ho.options.lineWrapping){bn(ho)}a7(ho,d7(ho));hn=ho.display.barWidth;hm=ho.display.barHeight}}function a7(i,hm){var ho=i.display;var hn=ho.scrollbars.update(hm);ho.sizer.style.paddingRight=(ho.barWidth=hn.right)+"px";ho.sizer.style.paddingBottom=(ho.barHeight=hn.bottom)+"px";ho.heightForcer.style.borderBottom=hn.bottom+"px solid transparent";if(hn.right&&hn.bottom){ho.scrollbarFiller.style.display="block";ho.scrollbarFiller.style.height=hn.bottom+"px";ho.scrollbarFiller.style.width=hn.right+"px"}else{ho.scrollbarFiller.style.display=""}if(hn.bottom&&i.options.coverGutterNextToScrollbar&&i.options.fixedGutter){ho.gutterFiller.style.display="block";ho.gutterFiller.style.height=hn.bottom+"px";ho.gutterFiller.style.width=hm.gutterWidth+"px"}else{ho.gutterFiller.style.display=""}}var bB={"native":dT,"null":fR};function aN(i){if(i.display.scrollbars){i.display.scrollbars.clear();if(i.display.scrollbars.addClass){h(i.display.wrapper,i.display.scrollbars.addClass)}}i.display.scrollbars=new bB[i.options.scrollbarStyle](function(hm){i.display.wrapper.insertBefore(hm,i.display.scrollbarFiller);ck(hm,"mousedown",function(){if(i.state.focused){setTimeout(function(){return i.display.input.focus()},0)}});hm.setAttribute("cm-not-content","true")},function(hn,hm){if(hm=="horizontal"){bZ(i,hn)}else{C(i,hn)}},i);if(i.display.scrollbars.addClass){gp(i.display.wrapper,i.display.scrollbars.addClass)}}var eL=0;function dd(i){i.curOp={cm:i,viewChanged:false,startHeight:i.doc.height,forceUpdate:false,updateInput:0,typing:false,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:false,updateMaxLine:false,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:false,id:++eL};fe(i.curOp)}function ax(i){var hm=i.curOp;if(hm){cl(hm,function(ho){for(var hn=0;hn<ho.ops.length;hn++){ho.ops[hn].cm.curOp=null}dg(ho)})}}function dg(hr){var hn=hr.ops;for(var hm=0;hm<hn.length;hm++){ct(hn[hm])}for(var hs=0;hs<hn.length;hs++){aA(hn[hs])}for(var hq=0;hq<hn.length;hq++){cp(hn[hq])}for(var hp=0;hp<hn.length;hp++){az(hn[hp])}for(var ho=0;ho<hn.length;ho++){fN(hn[ho])}}function ct(hn){var i=hn.cm,hm=i.display;P(i);if(hn.updateMaxLine){f(i)}hn.mustUpdate=hn.viewChanged||hn.forceUpdate||hn.scrollTop!=null||hn.scrollToPos&&(hn.scrollToPos.from.line<hm.viewFrom||hn.scrollToPos.to.line>=hm.viewTo)||hm.maxLineChanged&&i.options.lineWrapping;hn.update=hn.mustUpdate&&new aV(i,hn.mustUpdate&&{top:hn.scrollTop,ensure:hn.scrollToPos},hn.forceUpdate)}function aA(i){i.updatedDisplay=i.mustUpdate&&F(i.cm,i.update)}function cp(hn){var i=hn.cm,hm=i.display;if(hn.updatedDisplay){bn(i)}hn.barMeasure=d7(i);if(hm.maxLineChanged&&!i.options.lineWrapping){hn.adjustWidthTo=eT(i,hm.maxLine,hm.maxLine.text.length).left+3;i.display.sizerWidth=hn.adjustWidthTo;hn.barMeasure.scrollWidth=Math.max(hm.scroller.clientWidth,hm.sizer.offsetLeft+hn.adjustWidthTo+dn(i)+i.display.barWidth);hn.maxScrollLeft=Math.max(0,hm.sizer.offsetLeft+hn.adjustWidthTo-dU(i))}if(hn.updatedDisplay||hn.selectionChanged){hn.preparedSelection=hm.input.prepareSelection()}}function az(hn){var i=hn.cm;if(hn.adjustWidthTo!=null){i.display.sizer.style.minWidth=hn.adjustWidthTo+"px";if(hn.maxScrollLeft<i.doc.scrollLeft){bZ(i,Math.min(i.display.scroller.scrollLeft,hn.maxScrollLeft),true)}i.display.maxLineChanged=false}var hm=hn.focus&&hn.focus==el();if(hn.preparedSelection){i.display.input.showSelection(hn.preparedSelection,hm)}if(hn.updatedDisplay||hn.startHeight!=i.doc.height){fL(i,hn.barMeasure)}if(hn.updatedDisplay){d6(i,hn.barMeasure)}if(hn.selectionChanged){r(i)}if(i.state.focused&&hn.updateInput){i.display.input.reset(hn.typing)}if(hm){u(hn.cm)}}function fN(hp){var hu=hp.cm,hr=hu.display,ht=hu.doc;if(hp.updatedDisplay){cK(hu,hp.update)}if(hr.wheelStartX!=null&&(hp.scrollTop!=null||hp.scrollLeft!=null||hp.scrollToPos)){hr.wheelStartX=hr.wheelStartY=null}if(hp.scrollTop!=null){V(hu,hp.scrollTop,hp.forceScroll)}if(hp.scrollLeft!=null){bZ(hu,hp.scrollLeft,true,true)}if(hp.scrollToPos){var hs=H(hu,gA(ht,hp.scrollToPos.from),gA(ht,hp.scrollToPos.to),hp.scrollToPos.margin);eH(hu,hs)}var hq=hp.maybeHiddenMarkers,hm=hp.maybeUnhiddenMarkers;if(hq){for(var ho=0;ho<hq.length;++ho){if(!hq[ho].lines.length){aP(hq[ho],"hide")}}}if(hm){for(var hn=0;hn<hm.length;++hn){if(hm[hn].lines.length){aP(hm[hn],"unhide")}}}if(hr.wrapper.offsetHeight){ht.scrollTop=hu.display.scroller.scrollTop}if(hp.changeObjs){aP(hu,"changes",hu,hp.changeObjs)}if(hp.update){hp.update.finish()}}function dh(i,hm){if(i.curOp){return hm()}dd(i);try{return hm()}finally{ax(i)}}function dw(i,hm){return function(){if(i.curOp){return hm.apply(i,arguments)}dd(i);try{return hm.apply(i,arguments)}finally{ax(i)}}}function dG(i){return function(){if(this.curOp){return i.apply(this,arguments)}dd(this);try{return i.apply(this,arguments)}finally{ax(this)}}}function c7(i){return function(){var hm=this.cm;if(!hm||hm.curOp){return i.apply(this,arguments)}dd(hm);try{return i.apply(this,arguments)}finally{ax(hm)}}}function eQ(i,hm){if(i.doc.highlightFrontier<i.display.viewTo){i.state.highlight.set(hm,cY(dl,i))}}function dl(i){var hp=i.doc;if(hp.highlightFrontier>=i.display.viewTo){return}var hn=+new Date+i.options.workTime;var ho=fJ(i,hp.highlightFrontier);var hm=[];hp.iter(ho.line,Math.min(hp.first+hp.size,i.display.viewTo+500),function(hr){if(ho.line>=i.display.viewFrom){var hu=hr.styles;var hq=hr.text.length>i.options.maxHighlightLength?cr(hp.mode,ho.state):null;var hw=gm(i,hr,ho,true);if(hq){ho.state=hq}hr.styles=hw.styles;var ht=hr.styleClasses,hv=hw.classes;if(hv){hr.styleClasses=hv}else{if(ht){hr.styleClasses=null}}var hx=!hu||hu.length!=hr.styles.length||ht!=hv&&(!ht||!hv||ht.bgClass!=hv.bgClass||ht.textClass!=hv.textClass);for(var hs=0;!hx&&hs<hu.length;++hs){hx=hu[hs]!=hr.styles[hs]}if(hx){hm.push(ho.line)}hr.stateAfter=ho.save();ho.nextLine()}else{if(hr.text.length<=i.options.maxHighlightLength){d5(i,hr.text,ho)}hr.stateAfter=ho.line%5==0?ho.save():null;ho.nextLine()}if(+new Date>hn){eQ(i,i.options.workDelay);return true}});hp.highlightFrontier=ho.line;hp.modeFrontier=Math.max(hp.modeFrontier,ho.line);if(hm.length){dh(i,function(){for(var hq=0;hq<hm.length;hq++){Y(i,hm[hq],"text")}})}}var aV=function(hm,i,hn){var ho=hm.display;this.viewport=i;this.visible=cu(ho,hm.doc,i);this.editorIsHidden=!ho.wrapper.offsetWidth;this.wrapperHeight=ho.wrapper.clientHeight;this.wrapperWidth=ho.wrapper.clientWidth;this.oldDisplayWidth=dU(hm);this.force=hn;this.dims=f0(hm);this.events=[]};aV.prototype.signal=function(hm,i){if(f7(hm,i)){this.events.push(arguments)}};aV.prototype.finish=function(){var hn=this;for(var hm=0;hm<this.events.length;hm++){aP.apply(null,hn.events[hm])}};function P(i){var hm=i.display;if(!hm.scrollbarsClipped&&hm.scroller.offsetWidth){hm.nativeBarWidth=hm.scroller.offsetWidth-hm.scroller.clientWidth;hm.heightForcer.style.height=dn(i)+"px";hm.sizer.style.marginBottom=-hm.nativeBarWidth+"px";hm.sizer.style.borderRightWidth=dn(i)+"px";hm.scrollbarsClipped=true}}function bD(hm){if(hm.hasFocus()){return null}var ho=el();if(!ho||!hc(hm.display.lineDiv,ho)){return null}var i={activeElt:ho};if(window.getSelection){var hn=window.getSelection();if(hn.anchorNode&&hn.extend&&hc(hm.display.lineDiv,hn.anchorNode)){i.anchorNode=hn.anchorNode;i.anchorOffset=hn.anchorOffset;i.focusNode=hn.focusNode;i.focusOffset=hn.focusOffset}}return i}function j(i){if(!i||!i.activeElt||i.activeElt==el()){return}i.activeElt.focus();if(i.anchorNode&&hc(document.body,i.anchorNode)&&hc(document.body,i.focusNode)){var hm=window.getSelection(),hn=document.createRange();hn.setEnd(i.anchorNode,i.anchorOffset);hn.collapse(false);hm.removeAllRanges();hm.addRange(hn);hm.extend(i.focusNode,i.focusOffset)}}function F(hu,ho){var hp=hu.display,ht=hu.doc;if(ho.editorIsHidden){fc(hu);return false}if(!ho.force&&ho.visible.from>=hp.viewFrom&&ho.visible.to<=hp.viewTo&&(hp.updateLineNumbers==null||hp.updateLineNumbers>=hp.viewTo)&&hp.renderedView==hp.view&&dK(hu)==0){return false}if(eF(hu)){fc(hu);ho.dims=f0(hu)}var hn=ht.first+ht.size;var hr=Math.max(ho.visible.from-hu.options.viewportMargin,ht.first);var hs=Math.min(hn,ho.visible.to+hu.options.viewportMargin);if(hp.viewFrom<hr&&hr-hp.viewFrom<20){hr=Math.max(ht.first,hp.viewFrom)}if(hp.viewTo>hs&&hp.viewTo-hs<20){hs=Math.min(hn,hp.viewTo)}if(bl){hr=a9(hu.doc,hr);hs=eE(hu.doc,hs)}var hm=hr!=hp.viewFrom||hs!=hp.viewTo||hp.lastWrapHeight!=ho.wrapperHeight||hp.lastWrapWidth!=ho.wrapperWidth;dm(hu,hr,hs);hp.viewOffset=b8(f2(hu.doc,hp.viewFrom));hu.display.mover.style.top=hp.viewOffset+"px";var i=dK(hu);if(!hm&&i==0&&!ho.force&&hp.renderedView==hp.view&&(hp.updateLineNumbers==null||hp.updateLineNumbers>=hp.viewTo)){return false}var hq=bD(hu);if(i>4){hp.lineDiv.style.display="none"}cN(hu,hp.updateLineNumbers,ho.dims);if(i>4){hp.lineDiv.style.display=""}hp.renderedView=hp.view;j(hq);eC(hp.cursorDiv);eC(hp.selectionDiv);hp.gutters.style.height=hp.sizer.style.minHeight=0;if(hm){hp.lastWrapHeight=ho.wrapperHeight;hp.lastWrapWidth=ho.wrapperWidth;eQ(hu,400)}hp.updateLineNumbers=null;return true}function cK(hm,hp){var i=hp.viewport;for(var ho=true;;ho=false){if(!ho||!hm.options.lineWrapping||hp.oldDisplayWidth==dU(hm)){if(i&&i.top!=null){i={top:Math.min(hm.doc.height+b3(hm.display)-dq(hm),i.top)}}hp.visible=cu(hm.display,hm.doc,i);if(hp.visible.from>=hm.display.viewFrom&&hp.visible.to<=hm.display.viewTo){break}}if(!F(hm,hp)){break}bn(hm);var hn=d7(hm);bX(hm);fL(hm,hn);d6(hm,hn);hp.force=false}hp.signal(hm,"update",hm);if(hm.display.viewFrom!=hm.display.reportedViewFrom||hm.display.viewTo!=hm.display.reportedViewTo){hp.signal(hm,"viewportChange",hm,hm.display.viewFrom,hm.display.viewTo);hm.display.reportedViewFrom=hm.display.viewFrom;hm.display.reportedViewTo=hm.display.viewTo}}function es(hm,i){var ho=new aV(hm,i);if(F(hm,ho)){bn(hm);cK(hm,ho);var hn=d7(hm);bX(hm);fL(hm,hn);d6(hm,hn);ho.finish()}}function cN(hx,ho,hw){var ht=hx.display,hz=hx.options.lineNumbers;var hm=ht.lineDiv,hy=hm.firstChild;function hs(hA){var i=hA.nextSibling;if(dv&&cv&&hx.display.currentWheelTarget==hA){hA.style.display="none"}else{hA.parentNode.removeChild(hA)}return i}var hu=ht.view,hr=ht.viewFrom;for(var hp=0;hp<hu.length;hp++){var hq=hu[hp];if(hq.hidden){}else{if(!hq.node||hq.node.parentNode!=hm){var hn=aQ(hx,hq,hr,hw);hm.insertBefore(hn,hy)}else{while(hy!=hq.node){hy=hs(hy)}var hv=hz&&ho!=null&&ho<=hr&&hq.lineNumber;if(hq.changes){if(dR(hq.changes,"gutter")>-1){hv=false}ak(hx,hq,hr,hw)}if(hv){eC(hq.lineNumber);hq.lineNumber.appendChild(document.createTextNode(e7(hx.options,hr)))}hy=hq.node.nextSibling}}hr+=hq.size}while(hy){hy=hs(hy)}}function dz(hm){var i=hm.gutters.offsetWidth;hm.sizer.style.marginLeft=i+"px"}function d6(i,hm){i.display.sizer.style.minHeight=hm.docHeight+"px";i.display.heightForcer.style.top=hm.docHeight+"px";i.display.gutters.style.height=(hm.docHeight+i.display.barHeight+dn(i))+"px"}function fm(hu){var hs=hu.display,ht=hs.view;if(!hs.alignWidgets&&(!hs.gutters.firstChild||!hu.options.fixedGutter)){return}var hq=ex(hs)-hs.scroller.scrollLeft+hu.doc.scrollLeft;var hm=hs.gutters.offsetWidth,hn=hq+"px";for(var hp=0;hp<ht.length;hp++){if(!ht[hp].hidden){if(hu.options.fixedGutter){if(ht[hp].gutter){ht[hp].gutter.style.left=hn}if(ht[hp].gutterBackground){ht[hp].gutterBackground.style.left=hn}}var hr=ht[hp].alignable;if(hr){for(var ho=0;ho<hr.length;ho++){hr[ho].style.left=hn}}}}if(hu.options.fixedGutter){hs.gutters.style.left=(hq+hm)+"px"}}function eF(i){if(!i.options.lineNumbers){return false}var hq=i.doc,hm=e7(i.options,hq.first+hq.size-1),hp=i.display;if(hm.length!=hp.lineNumChars){var hr=hp.measure.appendChild(g2("div",[g2("div",hm)],"CodeMirror-linenumber CodeMirror-gutter-elt"));var hn=hr.firstChild.offsetWidth,ho=hr.offsetWidth-hn;hp.lineGutter.style.width="";hp.lineNumInnerWidth=Math.max(hn,hp.lineGutter.offsetWidth-ho)+1;hp.lineNumWidth=hp.lineNumInnerWidth+ho;hp.lineNumChars=hp.lineNumInnerWidth?hm.length:-1;hp.lineGutter.style.width=hp.lineNumWidth+"px";dz(i.display);return true}return false}function bf(hp,hn){var hm=[],ho=false;for(var hr=0;hr<hp.length;hr++){var hq=hp[hr],hs=null;if(typeof hq!="string"){hs=hq.style;hq=hq.className}if(hq=="CodeMirror-linenumbers"){if(!hn){continue}else{ho=true}}hm.push({className:hq,style:hs})}if(hn&&!ho){hm.push({className:"CodeMirror-linenumbers",style:null})}return hm}function m(hr){var hm=hr.gutters,ht=hr.gutterSpecs;eC(hm);hr.lineGutter=null;for(var hn=0;hn<ht.length;++hn){var hq=ht[hn];var hp=hq.className;var ho=hq.style;var hs=hm.appendChild(g2("div",null,"CodeMirror-gutter "+hp));if(ho){hs.style.cssText=ho}if(hp=="CodeMirror-linenumbers"){hr.lineGutter=hs;hs.style.width=(hr.lineNumWidth||1)+"px"}}hm.style.display=ht.length?"":"none";dz(hr)}function eO(i){m(i.display);aq(i);fm(i)}function fq(hm,hp,hn,ho){var hq=this;this.input=hn;hq.scrollbarFiller=g2("div",null,"CodeMirror-scrollbar-filler");hq.scrollbarFiller.setAttribute("cm-not-content","true");hq.gutterFiller=g2("div",null,"CodeMirror-gutter-filler");hq.gutterFiller.setAttribute("cm-not-content","true");hq.lineDiv=g8("div",null,"CodeMirror-code");hq.selectionDiv=g2("div",null,null,"position: relative; z-index: 1");hq.cursorDiv=g2("div",null,"CodeMirror-cursors");hq.measure=g2("div",null,"CodeMirror-measure");hq.lineMeasure=g2("div",null,"CodeMirror-measure");hq.lineSpace=g8("div",[hq.measure,hq.lineMeasure,hq.selectionDiv,hq.cursorDiv,hq.lineDiv],null,"position: relative; outline: none");var i=g8("div",[hq.lineSpace],"CodeMirror-lines");hq.mover=g2("div",[i],null,"position: relative");hq.sizer=g2("div",[hq.mover],"CodeMirror-sizer");hq.sizerWidth=null;hq.heightForcer=g2("div",null,null,"position: absolute; height: "+ef+"px; width: 1px;");hq.gutters=g2("div",null,"CodeMirror-gutters");hq.lineGutter=null;hq.scroller=g2("div",[hq.sizer,hq.heightForcer,hq.gutters],"CodeMirror-scroll");hq.scroller.setAttribute("tabIndex","-1");hq.wrapper=g2("div",[hq.scrollbarFiller,hq.gutterFiller,hq.scroller],"CodeMirror");if(eh&&n<8){hq.gutters.style.zIndex=-1;hq.scroller.style.paddingRight=0}if(!dv&&!(cR&&eS)){hq.scroller.draggable=true}if(hm){if(hm.appendChild){hm.appendChild(hq.wrapper)}else{hm(hq.wrapper)}}hq.viewFrom=hq.viewTo=hp.first;hq.reportedViewFrom=hq.reportedViewTo=hp.first;hq.view=[];hq.renderedView=null;hq.externalMeasured=null;hq.viewOffset=0;hq.lastWrapHeight=hq.lastWrapWidth=0;hq.updateLineNumbers=null;hq.nativeBarWidth=hq.barHeight=hq.barWidth=0;hq.scrollbarsClipped=false;hq.lineNumWidth=hq.lineNumInnerWidth=hq.lineNumChars=null;hq.alignWidgets=false;hq.cachedCharWidth=hq.cachedTextHeight=hq.cachedPaddingH=null;hq.maxLine=null;hq.maxLineLength=0;hq.maxLineChanged=false;hq.wheelDX=hq.wheelDY=hq.wheelStartX=hq.wheelStartY=null;hq.shift=false;hq.selForContextMenu=null;hq.activeTouch=null;hq.gutterSpecs=bf(ho.gutters,ho.lineNumbers);m(hq);hn.init(hq)}var f9=0,cG=null;if(eh){cG=-0.53}else{if(cR){cG=15}else{if(dL){cG=-0.7}else{if(aO){cG=-1/3}}}}function dk(hn){var hm=hn.wheelDeltaX,i=hn.wheelDeltaY;if(hm==null&&hn.detail&&hn.axis==hn.HORIZONTAL_AXIS){hm=hn.detail}if(i==null&&hn.detail&&hn.axis==hn.VERTICAL_AXIS){i=hn.detail}else{if(i==null){i=hn.wheelDelta}}return{x:hm,y:i}}function aK(i){var hm=dk(i);hm.x*=cG;hm.y*=cG;return hm}function c(hw,hq){var hy=dk(hq),hA=hy.x,hz=hy.y;var hs=hw.display,hv=hs.scroller;var hp=hv.scrollWidth>hv.clientWidth;var ho=hv.scrollHeight>hv.clientHeight;if(!(hA&&hp||hz&&ho)){return}if(hz&&cv&&dv){outer:for(var hx=hq.target,hu=hs.view;hx!=hv;hx=hx.parentNode){for(var hn=0;hn<hu.length;hn++){if(hu[hn].node==hx){hw.display.currentWheelTarget=hx;break outer}}}}if(hA&&!cR&&!eD&&cG!=null){if(hz&&ho){C(hw,Math.max(0,hv.scrollTop+hz*cG))}bZ(hw,Math.max(0,hv.scrollLeft+hA*cG));if(!hz||(hz&&ho)){c9(hq)}hs.wheelStartX=null;return}if(hz&&cG!=null){var hm=hz*cG;var ht=hw.doc.scrollTop,hr=ht+hs.wrapper.clientHeight;if(hm<0){ht=Math.max(0,ht+hm-50)}else{hr=Math.min(hw.doc.height,hr+hm+50)}es(hw,{top:ht,bottom:hr})}if(f9<20){if(hs.wheelStartX==null){hs.wheelStartX=hv.scrollLeft;hs.wheelStartY=hv.scrollTop;hs.wheelDX=hA;hs.wheelDY=hz;setTimeout(function(){if(hs.wheelStartX==null){return}var i=hv.scrollLeft-hs.wheelStartX;var hC=hv.scrollTop-hs.wheelStartY;var hB=(hC&&hs.wheelDY&&hC/hs.wheelDY)||(i&&hs.wheelDX&&i/hs.wheelDX);hs.wheelStartX=hs.wheelStartY=null;if(!hB){return}cG=(cG*f9+hB)/(f9+1);++f9},200)}else{hs.wheelDX+=hA;hs.wheelDY+=hz}}}var g1=function(i,hm){this.ranges=i;this.primIndex=hm};g1.prototype.primary=function(){return this.ranges[this.primIndex]};g1.prototype.equals=function(hm){var hq=this;if(hm==this){return true}if(hm.primIndex!=this.primIndex||hm.ranges.length!=this.ranges.length){return false}for(var ho=0;ho<this.ranges.length;ho++){var hn=hq.ranges[ho],hp=hm.ranges[ho];if(!ae(hn.anchor,hp.anchor)||!ae(hn.head,hp.head)){return false}}return true};g1.prototype.deepCopy=function(){var ho=this;var hm=[];for(var hn=0;hn<this.ranges.length;hn++){hm[hn]=new ew(cI(ho.ranges[hn].anchor),cI(ho.ranges[hn].head))}return new g1(hm,this.primIndex)};g1.prototype.somethingSelected=function(){var hn=this;for(var hm=0;hm<this.ranges.length;hm++){if(!hn.ranges[hm].empty()){return true}}return false};g1.prototype.contains=function(hq,hm){var hp=this;if(!hm){hm=hq}for(var ho=0;ho<this.ranges.length;ho++){var hn=hp.ranges[ho];if(cF(hm,hn.from())>=0&&cF(hq,hn.to())<=0){return ho}}return -1};var ew=function(i,hm){this.anchor=i;this.head=hm};ew.prototype.from=function(){return aC(this.anchor,this.head)};ew.prototype.to=function(){return bS(this.anchor,this.head)};ew.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function cZ(hw,hm,hv){var hr=hw&&hw.options.selectionsMayTouch;var ho=hm[hv];hm.sort(function(hy,i){return cF(hy.from(),i.from())});hv=dR(hm,ho);for(var hq=1;hq<hm.length;hq++){var hx=hm[hq],hn=hm[hq-1];var hu=cF(hn.to(),hx.from());if(hr&&!hx.empty()?hu>0:hu>=0){var ht=aC(hn.from(),hx.from()),hs=bS(hn.to(),hx.to());var hp=hn.empty()?hx.from()==hx.head:hn.from()==hn.head;if(hq<=hv){--hv}hm.splice(--hq,2,new ew(hp?hs:ht,hp?ht:hs))}}return new g1(hm,hv)}function fC(i,hm){return new g1([new ew(i,hm||i)],0)}function ds(i){if(!i.text){return i.to}return ad(i.from.line+i.text.length-1,gv(i.text).length+(i.text.length==1?i.from.ch:0))}function cn(ho,hn){if(cF(ho,hn.from)<0){return ho}if(cF(ho,hn.to)<=0){return ds(hn)}var i=ho.line+hn.text.length-(hn.to.line-hn.from.line)-1,hm=ho.ch;if(ho.line==hn.to.line){hm+=ds(hn).ch-hn.to.ch}return ad(i,hm)}function f6(hp,hq){var hn=[];for(var ho=0;ho<hp.sel.ranges.length;ho++){var hm=hp.sel.ranges[ho];hn.push(new ew(cn(hm.anchor,hq),cn(hm.head,hq)))}return cZ(hp.cm,hn,hp.sel.primIndex)}function bO(hn,hm,i){if(hn.line==hm.line){return ad(i.line,hn.ch-hm.ch+i.ch)}else{return ad(i.line+(hn.line-hm.line),hn.ch)}}function ao(hw,ht,hn){var ho=[];var hm=ad(hw.first,0),hx=hm;for(var hq=0;hq<ht.length;hq++){var hs=ht[hq];var hv=bO(hs.from,hm,hx);var hu=bO(ds(hs),hm,hx);hm=hs.to;hx=hu;if(hn=="around"){var hr=hw.sel.ranges[hq],hp=cF(hr.head,hr.anchor)<0;ho[hq]=new ew(hp?hu:hv,hp?hv:hu)}else{ho[hq]=new ew(hv,hv)}}return new g1(ho,hw.sel.primIndex)}function bL(i){i.doc.mode=go(i.options,i.doc.modeOption);eZ(i)}function eZ(i){i.doc.iter(function(hm){if(hm.stateAfter){hm.stateAfter=null}if(hm.styles){hm.styles=null}});i.doc.modeFrontier=i.doc.highlightFrontier=i.doc.first;eQ(i,100);i.state.modeGen++;if(i.curOp){aq(i)}}function eq(i,hm){return hm.from.ch==0&&hm.to.ch==0&&gv(hm.text)==""&&(!i.cm||i.cm.options.wholeLineUpdateBefore)}function gl(hC,hv,hp,hu){function ho(hD){return hp?hp[hD]:null}function ht(hD,hF,hE){e1(hD,hF,hE,hu);an(hD,"change",hD,hv)}function hz(hG,hE){var hD=[];for(var hF=hG;hF<hE;++hF){hD.push(new g6(hx[hF],ho(hF),hu))}return hD}var hA=hv.from,hm=hv.to,hx=hv.text;var hw=f2(hC,hA.line),i=f2(hC,hm.line);var hn=gv(hx),hB=ho(hx.length-1),hy=hm.line-hA.line;if(hv.full){hC.insert(0,hz(0,hx.length));hC.remove(hx.length,hC.size-hx.length)}else{if(eq(hC,hv)){var hs=hz(0,hx.length-1);ht(i,i.text,hB);if(hy){hC.remove(hA.line,hy)}if(hs.length){hC.insert(hA.line,hs)}}else{if(hw==i){if(hx.length==1){ht(hw,hw.text.slice(0,hA.ch)+hn+hw.text.slice(hm.ch),hB)}else{var hr=hz(1,hx.length-1);hr.push(new g6(hn+hw.text.slice(hm.ch),hB,hu));ht(hw,hw.text.slice(0,hA.ch)+hx[0],ho(0));hC.insert(hA.line+1,hr)}}else{if(hx.length==1){ht(hw,hw.text.slice(0,hA.ch)+hx[0]+i.text.slice(hm.ch),ho(0));hC.remove(hA.line+1,hy)}else{ht(hw,hw.text.slice(0,hA.ch)+hx[0],ho(0));ht(i,hn+i.text.slice(hm.ch),hB);var hq=hz(1,hx.length-1);if(hy>1){hC.remove(hA.line+1,hy-1)}hC.insert(hA.line+1,hq)}}}}an(hC,"change",hC,hv)}function eI(ho,hn,hm){function i(hu,hs,hq){if(hu.linked){for(var hr=0;hr<hu.linked.length;++hr){var hp=hu.linked[hr];if(hp.doc==hs){continue}var ht=hq&&hp.sharedHist;if(hm&&!ht){continue}hn(hp.doc,ht);i(hp.doc,hu,ht)}}}i(ho,null,true)}function eN(i,hm){if(hm.cm){throw new Error("This document is already in use.")}i.doc=hm;hm.cm=i;ag(i);bL(i);E(i);if(!i.options.lineWrapping){f(i)}i.options.mode=hm.modeOption;aq(i)}function E(i){(i.doc.direction=="rtl"?gp:h)(i.display.lineDiv,"CodeMirror-rtl")}function ez(i){dh(i,function(){E(i);aq(i)})}function gO(i){this.done=[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOp=this.lastSelOp=null;this.lastOrigin=this.lastSelOrigin=null;this.generation=this.maxGeneration=i||1}function d4(i,hn){var hm={from:cI(hn.from),to:ds(hn),text:g4(i,hn.from,hn.to)};cm(i,hm,hn.from.line,hn.to.line+1);eI(i,function(ho){return cm(ho,hm,hn.from.line,hn.to.line+1)},true);return hm}function gq(hm){while(hm.length){var i=gv(hm);if(i.ranges){hm.pop()}else{break}}}function fx(hm,i){if(i){gq(hm.done);return gv(hm.done)}else{if(hm.done.length&&!gv(hm.done).ranges){return gv(hm.done)}else{if(hm.done.length>1&&!hm.done[hm.done.length-2].ranges){hm.done.pop();return gv(hm.done)}}}}function gD(hr,hp,i,ho){var hn=hr.history;hn.undone.length=0;var hm=+new Date,hs;var ht;if((hn.lastOp==ho||hn.lastOrigin==hp.origin&&hp.origin&&((hp.origin.charAt(0)=="+"&&hn.lastModTime>hm-(hr.cm?hr.cm.options.historyEventDelay:500))||hp.origin.charAt(0)=="*"))&&(hs=fx(hn,hn.lastOp==ho))){ht=gv(hs.changes);if(cF(hp.from,hp.to)==0&&cF(hp.from,ht.to)==0){ht.to=ds(hp)}else{hs.changes.push(d4(hr,hp))}}else{var hq=gv(hn.done);if(!hq||!hq.ranges){dj(hr.sel,hn.done)}hs={changes:[d4(hr,hp)],generation:hn.generation};hn.done.push(hs);while(hn.done.length>hn.undoDepth){hn.done.shift();if(!hn.done[0].ranges){hn.done.shift()}}}hn.done.push(i);hn.generation=++hn.maxGeneration;hn.lastModTime=hn.lastSelTime=hm;hn.lastOp=hn.lastSelOp=ho;hn.lastOrigin=hn.lastSelOrigin=hp.origin;if(!ht){aP(hr,"historyAdded")}}function bV(hp,i,hn,ho){var hm=i.charAt(0);return hm=="*"||hm=="+"&&hn.ranges.length==ho.ranges.length&&hn.somethingSelected()==ho.somethingSelected()&&new Date-hp.history.lastSelTime<=(hp.cm?hp.cm.options.historyEventDelay:500)}function he(hq,ho,i,hn){var hp=hq.history,hm=hn&&hn.origin;if(i==hp.lastSelOp||(hm&&hp.lastSelOrigin==hm&&(hp.lastModTime==hp.lastSelTime&&hp.lastOrigin==hm||bV(hq,hm,gv(hp.done),ho)))){hp.done[hp.done.length-1]=ho}else{dj(ho,hp.done)}hp.lastSelTime=+new Date;hp.lastSelOrigin=hm;hp.lastSelOp=i;if(hn&&hn.clearRedo!==false){gq(hp.undone)}}function dj(hm,i){var hn=gv(i);if(!(hn&&hn.ranges&&hn.equals(hm))){i.push(hm)}}function cm(hm,hq,hp,ho){var i=hq["spans_"+hm.id],hn=0;hm.iter(Math.max(hm.first,hp),Math.min(hm.first+hm.size,ho),function(hr){if(hr.markedSpans){(i||(i=hq["spans_"+hm.id]={}))[hn]=hr.markedSpans}++hn})}function bz(ho){if(!ho){return null}var hm;for(var hn=0;hn<ho.length;++hn){if(ho[hn].marker.explicitlyCleared){if(!hm){hm=ho.slice(0,hn)}}else{if(hm){hm.push(ho[hn])}}}return !hm?ho:hm.length?hm:null}function cs(hp,hq){var ho=hq["spans_"+hp.id];if(!ho){return null}var hm=[];for(var hn=0;hn<hq.text.length;++hn){hm.push(bz(ho[hn]))}return hm}function eK(hu,hs){var hm=cs(hu,hs);var hv=eX(hu,hs);if(!hm){return hv}if(!hv){return hm}for(var hp=0;hp<hm.length;++hp){var hq=hm[hp],hr=hv[hp];if(hq&&hr){spans:for(var ho=0;ho<hr.length;++ho){var ht=hr[ho];for(var hn=0;hn<hq.length;++hn){if(hq[hn].marker==ht.marker){continue spans}}hq.push(ht)}}else{if(hr){hm[hp]=hr}}}return hm}function cb(hx,hp,hw){var hn=[];for(var hs=0;hs<hx.length;++hs){var ho=hx[hs];if(ho.ranges){hn.push(hw?g1.prototype.deepCopy.call(ho):ho);continue}var hu=ho.changes,hv=[];hn.push({changes:hv});for(var hr=0;hr<hu.length;++hr){var ht=hu[hr],hq=(void 0);hv.push({from:ht.from,to:ht.to,text:ht.text});if(hp){for(var hm in ht){if(hq=hm.match(/^spans_(\d+)$/)){if(dR(hp,Number(hq[1]))>-1){gv(hv)[hm]=ht[hm];delete ht[hm]}}}}}}return hn}function gh(hm,hp,i,hq){if(hq){var ho=hm.anchor;if(i){var hn=cF(hp,ho)<0;if(hn!=(cF(i,ho)<0)){ho=hp;hp=i}else{if(hn!=(cF(hp,i)<0)){hp=i}}}return new ew(ho,hp)}else{return new ew(i||hp,hp)}}function gU(ho,hn,i,hm,hp){if(hp==null){hp=ho.cm&&(ho.cm.display.shift||ho.extend)}ch(ho,new g1([gh(ho.sel.primary(),hn,i,hp)],0),hm)}function aG(hr,hq,ho){var hn=[];var hs=hr.cm&&(hr.cm.display.shift||hr.extend);for(var hp=0;hp<hr.sel.ranges.length;hp++){hn[hp]=gh(hr.sel.ranges[hp],hq[hp],null,hs)}var hm=cZ(hr.cm,hn,hr.sel.primIndex);ch(hr,hm,ho)}function e(hq,hp,hn,ho){var hm=hq.sel.ranges.slice(0);hm[hp]=hn;ch(hq,cZ(hq.cm,hm,hq.sel.primIndex),ho)}function K(ho,hm,hn,i){ch(ho,fC(hm,hn),i)}function b(ho,hm,i){var hn={ranges:hm.ranges,update:function(hp){var hr=this;this.ranges=[];for(var hq=0;hq<hp.length;hq++){hr.ranges[hq]=new ew(gA(ho,hp[hq].anchor),gA(ho,hp[hq].head))}},origin:i&&i.origin};aP(ho,"beforeSelectionChange",ho,hn);if(ho.cm){aP(ho.cm,"beforeSelectionChange",ho.cm,hn)}if(hn.ranges!=hm.ranges){return cZ(ho.cm,hn.ranges,hn.ranges.length-1)}else{return hm}}function fV(hp,ho,hm){var i=hp.history.done,hn=gv(i);if(hn&&hn.ranges){i[i.length-1]=ho;e3(hp,ho,hm)}else{ch(hp,ho,hm)}}function ch(hn,hm,i){e3(hn,hm,i);he(hn,hn.sel,hn.cm?hn.cm.curOp.id:NaN,i)}function e3(ho,hn,hm){if(f7(ho,"beforeSelectionChange")||ho.cm&&f7(ho.cm,"beforeSelectionChange")){hn=b(ho,hn,hm)}var i=hm&&hm.bias||(cF(hn.primary().head,ho.sel.primary().head)<0?-1:1);dF(ho,q(ho,hn,i,true));if(!(hm&&hm.scroll===false)&&ho.cm){gu(ho.cm)}}function dF(hm,i){if(i.equals(hm.sel)){return}hm.sel=i;if(hm.cm){hm.cm.curOp.updateInput=1;hm.cm.curOp.selectionChanged=true;ac(hm.cm)}an(hm,"cursorActivity",hm)}function fd(i){dF(i,q(i,i.sel,null,false))}function q(hv,hm,hs,ht){var hp;for(var hq=0;hq<hm.ranges.length;hq++){var hr=hm.ranges[hq];var hn=hm.ranges.length==hv.sel.ranges.length&&hv.sel.ranges[hq];var hu=ci(hv,hr.anchor,hn&&hn.anchor,hs,ht);var ho=ci(hv,hr.head,hn&&hn.head,hs,ht);if(hp||hu!=hr.anchor||ho!=hr.head){if(!hp){hp=hm.ranges.slice(0,hq)}hp[hq]=new ew(hu,ho)}}return hp?cZ(hv.cm,hp,hm.primIndex):hm}function fs(hy,hv,hq,hp,ht){var hz=f2(hy,hv.line);if(hz.markedSpans){for(var hr=0;hr<hz.markedSpans.length;++hr){var hn=hz.markedSpans[hr],ho=hn.marker;var hm=("selectLeft" in ho)?!ho.selectLeft:ho.inclusiveLeft;var hx=("selectRight" in ho)?!ho.selectRight:ho.inclusiveRight;if((hn.from==null||(hm?hn.from<=hv.ch:hn.from<hv.ch))&&(hn.to==null||(hx?hn.to>=hv.ch:hn.to>hv.ch))){if(ht){aP(ho,"beforeCursorEnter");if(ho.explicitlyCleared){if(!hz.markedSpans){break}else{--hr;continue}}}if(!ho.atomic){continue}if(hq){var hu=ho.find(hp<0?1:-1),hw=(void 0);if(hp<0?hx:hm){hu=hi(hy,hu,-hp,hu&&hu.line==hv.line?hz:null)}if(hu&&hu.line==hv.line&&(hw=cF(hu,hq))&&(hp<0?hw<0:hw>0)){return fs(hy,hu,hv,hp,ht)}}var hs=ho.find(hp<0?-1:1);if(hp<0?hm:hx){hs=hi(hy,hs,hp,hs.line==hv.line?hz:null)}return hs?fs(hy,hs,hv,hp,ht):null}}}return hv}function ci(hq,hr,ho,hm,i){var hn=hm||1;var hp=fs(hq,hr,ho,hn,i)||(!i&&fs(hq,hr,ho,hn,true))||fs(hq,hr,ho,-hn,i)||(!i&&fs(hq,hr,ho,-hn,true));if(!hp){hq.cantEdit=true;return ad(hq.first,0)}return hp}function hi(hn,ho,hm,i){if(hm<0&&ho.ch==0){if(ho.line>hn.first){return gA(hn,ad(ho.line-1))}else{return null}}else{if(hm>0&&ho.ch==(i||f2(hn,ho.line)).text.length){if(ho.line<hn.first+hn.size-1){return ad(ho.line+1,0)}else{return null}}else{return new ad(ho.line,ho.ch+hm)}}}function aw(i){i.setSelection(ad(i.firstLine(),0),ad(i.lastLine()),ai)}function eo(hm,ho,hn){var i={canceled:false,from:ho.from,to:ho.to,text:ho.text,origin:ho.origin,cancel:function(){return i.canceled=true}};if(hn){i.update=function(hs,hr,hq,hp){if(hs){i.from=gA(hm,hs)}if(hr){i.to=gA(hm,hr)}if(hq){i.text=hq}if(hp!==undefined){i.origin=hp}}}aP(hm,"beforeChange",hm,i);if(hm.cm){aP(hm.cm,"beforeChange",hm.cm,i)}if(i.canceled){if(hm.cm){hm.cm.curOp.updateInput=2}return null}return{from:i.from,to:i.to,text:i.text,origin:i.origin}}function bu(hp,hq,ho){if(hp.cm){if(!hp.cm.curOp){return dw(hp.cm,bu)(hp,hq,ho)}if(hp.cm.state.suppressEdits){return}}if(f7(hp,"beforeChange")||hp.cm&&f7(hp.cm,"beforeChange")){hq=eo(hp,hq,true);if(!hq){return}}var hn=hg&&!ho&&dc(hp,hq.from,hq.to);if(hn){for(var hm=hn.length-1;hm>=0;--hm){Q(hp,{from:hn[hm].from,to:hn[hm].to,text:hm?[""]:hq.text,origin:hq.origin})}}else{Q(hp,hq)}}function Q(hn,ho){if(ho.text.length==1&&ho.text[0]==""&&cF(ho.from,ho.to)==0){return}var hm=f6(hn,ho);gD(hn,ho,hm,hn.cm?hn.cm.curOp.id:NaN);eP(hn,ho,hm,eX(hn,ho));var i=[];eI(hn,function(hq,hp){if(!hp&&dR(i,hq.history)==-1){ea(hq.history,ho);i.push(hq.history)}eP(hq,ho,null,eX(hq,ho))})}function cw(hz,hw,hA){var hx=hz.cm&&hz.cm.state.suppressEdits;if(hx&&!hA){return}var hv=hz.history,hn,hp=hz.sel;var hm=hw=="undo"?hv.done:hv.undone,hy=hw=="undo"?hv.undone:hv.done;var hs=0;for(;hs<hm.length;hs++){hn=hm[hs];if(hA?hn.ranges&&!hn.equals(hz.sel):!hn.ranges){break}}if(hs==hm.length){return}hv.lastOrigin=hv.lastSelOrigin=null;for(;;){hn=hm.pop();if(hn.ranges){dj(hn,hy);if(hA&&!hn.equals(hz.sel)){ch(hz,hn,{clearRedo:false});return}hp=hn}else{if(hx){hm.push(hn);return}else{break}}}var hu=[];dj(hp,hy);hy.push({changes:hu,generation:hv.generation});hv.generation=hn.generation||++hv.maxGeneration;var ho=f7(hz,"beforeChange")||hz.cm&&f7(hz.cm,"beforeChange");var ht=function(hB){var hE=hn.changes[hB];hE.origin=hw;if(ho&&!eo(hz,hE,false)){hm.length=0;return{}}hu.push(d4(hz,hE));var hD=hB?f6(hz,hE):gv(hm);eP(hz,hE,hD,eK(hz,hE));if(!hB&&hz.cm){hz.cm.scrollIntoView({from:hE.from,to:ds(hE)})}var hC=[];eI(hz,function(hF,i){if(!i&&dR(hC,hF.history)==-1){ea(hF.history,hE);hC.push(hF.history)}eP(hF,hE,null,eK(hF,hE))})};for(var hq=hn.changes.length-1;hq>=0;--hq){var hr=ht(hq);if(hr){return hr.v}}}function ga(hm,ho){if(ho==0){return}hm.first+=ho;hm.sel=new g1(cg(hm.sel.ranges,function(hp){return new ew(ad(hp.anchor.line+ho,hp.anchor.ch),ad(hp.head.line+ho,hp.head.ch))}),hm.sel.primIndex);if(hm.cm){aq(hm.cm,hm.first,hm.first-ho,ho);for(var hn=hm.cm.display,i=hn.viewFrom;i<hn.viewTo;i++){Y(hm.cm,i,"gutter")}}}function eP(hp,hq,ho,hm){if(hp.cm&&!hp.cm.curOp){return dw(hp.cm,eP)(hp,hq,ho,hm)}if(hq.to.line<hp.first){ga(hp,hq.text.length-1-(hq.to.line-hq.from.line));return}if(hq.from.line>hp.lastLine()){return}if(hq.from.line<hp.first){var i=hq.text.length-1-(hp.first-hq.from.line);ga(hp,i);hq={from:ad(hp.first,0),to:ad(hq.to.line+i,hq.to.ch),text:[gv(hq.text)],origin:hq.origin}}var hn=hp.lastLine();if(hq.to.line>hn){hq={from:hq.from,to:ad(hn,f2(hp,hn).text.length),text:[hq.text[0]],origin:hq.origin}}hq.removed=g4(hp,hq.from,hq.to);if(!ho){ho=f6(hp,hq)}if(hp.cm){aU(hp.cm,hq,hm)}else{gl(hp,hq,hm)}e3(hp,ho,ai);if(hp.cantEdit&&ci(hp,ad(hp.firstLine(),0))){hp.cantEdit=false}}function aU(hw,hs,hq){var hv=hw.doc,hr=hw.display,ht=hs.from,hu=hs.to;var i=false,hp=ht.line;if(!hw.options.lineWrapping){hp=b9(A(f2(hv,ht.line)));hv.iter(hp,hu.line+1,function(hy){if(hy==hr.maxLine){i=true;return true}})}if(hv.sel.contains(hs.from,hs.to)>-1){ac(hw)}gl(hv,hs,hq,bs(hw));if(!hw.options.lineWrapping){hv.iter(hp,ht.line+hs.text.length,function(hz){var hy=e0(hz);if(hy>hr.maxLineLength){hr.maxLine=hz;hr.maxLineLength=hy;hr.maxLineChanged=true;i=false}});if(i){hw.curOp.updateMaxLine=true}}hf(hv,ht.line);eQ(hw,400);var hx=hs.text.length-(hu.line-ht.line)-1;if(hs.full){aq(hw)}else{if(ht.line==hu.line&&hs.text.length==1&&!eq(hw.doc,hs)){Y(hw,ht.line,"text")}else{aq(hw,ht.line,hu.line+1,hx)}}var hn=f7(hw,"changes"),ho=f7(hw,"change");if(ho||hn){var hm={from:ht,to:hu,text:hs.text,removed:hs.removed,origin:hs.origin};if(ho){an(hw,"change",hw,hm)}if(hn){(hw.curOp.changeObjs||(hw.curOp.changeObjs=[])).push(hm)}}hw.display.selForContextMenu=null}function be(ho,hn,hq,hp,hm){var i;if(!hp){hp=hq}if(cF(hp,hq)<0){(i=[hp,hq],hq=i[0],hp=i[1])}if(typeof hn=="string"){hn=ho.splitLines(hn)}bu(ho,{from:hq,to:hp,text:hn,origin:hm})}function O(ho,hn,hm,i){if(hm<ho.line){ho.line+=i}else{if(hn<ho.line){ho.line=hn;ho.ch=0}}}function f4(hq,hs,ht,hu){for(var hp=0;hp<hq.length;++hp){var hm=hq[hp],hr=true;if(hm.ranges){if(!hm.copied){hm=hq[hp]=hm.deepCopy();hm.copied=true}for(var ho=0;ho<hm.ranges.length;ho++){O(hm.ranges[ho].anchor,hs,ht,hu);O(hm.ranges[ho].head,hs,ht,hu)}continue}for(var hn=0;hn<hm.changes.length;++hn){var hv=hm.changes[hn];if(ht<hv.from.line){hv.from=ad(hv.from.line+hu,hv.from.ch);hv.to=ad(hv.to.line+hu,hv.to.ch)}else{if(hs<=hv.to.line){hr=false;break}}}if(!hr){hq.splice(0,hp+1);hp=0}}}function ea(hm,hp){var ho=hp.from.line,hn=hp.to.line,i=hp.text.length-(hn-ho)-1;f4(hm.done,ho,hn,i);f4(hm.undone,ho,hn,i)}function fg(ho,hn,i,hq){var hp=hn,hm=hn;if(typeof hn=="number"){hm=f2(ho,dA(ho,hn))}else{hp=b9(hn)}if(hp==null){return null}if(hq(hm,hp)&&ho.cm){Y(ho.cm,hp,i)}return hm}function fM(hn){var hp=this;this.lines=hn;this.parent=null;var hm=0;for(var ho=0;ho<hn.length;++ho){hn[ho].parent=hp;hm+=hn[ho].height}this.height=hm}fM.prototype={chunkSize:function(){return this.lines.length},removeInner:function(hm,hr){var hq=this;for(var ho=hm,hp=hm+hr;ho<hp;++ho){var hn=hq.lines[ho];hq.height-=hn.height;bW(hn);an(hn,"delete")}this.lines.splice(hm,hr)},collapse:function(i){i.push.apply(i,this.lines)},insertInner:function(hn,ho,hm){var hq=this;this.height+=hm;this.lines=this.lines.slice(0,hn).concat(ho).concat(this.lines.slice(hn));for(var hp=0;hp<ho.length;++hp){ho[hp].parent=hq}},iterN:function(i,hp,ho){var hn=this;for(var hm=i+hp;i<hm;++i){if(ho(hn.lines[i])){return true}}}};function gk(hp){var hr=this;this.children=hp;var ho=0,hm=0;for(var hn=0;hn<hp.length;++hn){var hq=hp[hn];ho+=hq.chunkSize();hm+=hq.height;hq.parent=hr}this.size=ho;this.height=hm;this.parent=null}gk.prototype={chunkSize:function(){return this.size},removeInner:function(ho,hn){var hq=this;this.size-=hn;for(var hp=0;hp<this.children.length;++hp){var hm=hq.children[hp],hs=hm.chunkSize();if(ho<hs){var hr=Math.min(hn,hs-ho),ht=hm.height;hm.removeInner(ho,hr);hq.height-=ht-hm.height;if(hs==hr){hq.children.splice(hp--,1);hm.parent=null}if((hn-=hr)==0){break}ho=0}else{ho-=hs}}if(this.size-hn<25&&(this.children.length>1||!(this.children[0] instanceof fM))){var hu=[];this.collapse(hu);this.children=[new fM(hu)];this.children[0].parent=this}},collapse:function(hm){var ho=this;for(var hn=0;hn<this.children.length;++hn){ho.children[hn].collapse(hm)}},insertInner:function(hn,hv,hu){var hq=this;this.size+=hv.length;this.height+=hu;for(var hp=0;hp<this.children.length;++hp){var hm=hq.children[hp],hs=hm.chunkSize();if(hn<=hs){hm.insertInner(hn,hv,hu);if(hm.lines&&hm.lines.length>50){var ho=hm.lines.length%25+25;for(var ht=ho;ht<hm.lines.length;){var hr=new fM(hm.lines.slice(ht,ht+=25));hm.height-=hr.height;hq.children.splice(++hp,0,hr);hr.parent=hq}hm.lines=hm.lines.slice(0,ho);hq.maybeSpill()}break}hn-=hs}},maybeSpill:function(){if(this.children.length<=10){return}var ho=this;do{var hm=ho.children.splice(ho.children.length-5,5);var hn=new gk(hm);if(!ho.parent){var hp=new gk(ho.children);hp.parent=ho;ho.children=[hp,hn];ho=hp}else{ho.size-=hn.size;ho.height-=hn.height;var i=dR(ho.parent.children,ho);ho.parent.children.splice(i+1,0,hn)}hn.parent=ho.parent}while(ho.children.length>10);ho.parent.maybeSpill()},iterN:function(hm,ht,hs){var hr=this;for(var hn=0;hn<this.children.length;++hn){var hq=hr.children[hn],hp=hq.chunkSize();if(hm<hp){var ho=Math.min(ht,hp-hm);if(hq.iterN(hm,ho,hs)){return true}if((ht-=ho)==0){break}hm=0}else{hm-=hp}}}};var d8=function(ho,hn,i){var hp=this;if(i){for(var hm in i){if(i.hasOwnProperty(hm)){hp[hm]=i[hm]}}}this.doc=ho;this.node=hn};d8.prototype.clear=function(){var hs=this;var hn=this.doc.cm,hp=this.line.widgets,ho=this.line,hr=b9(ho);if(hr==null||!hp){return}for(var hq=0;hq<hp.length;++hq){if(hp[hq]==hs){hp.splice(hq--,1)}}if(!hp.length){ho.widgets=null}var hm=dt(this);g7(ho,Math.max(0,ho.height-hm));if(hn){dh(hn,function(){ey(hn,ho,-hm);Y(hn,hr,"widget")});an(hn,"lineWidgetCleared",hn,this,hr)}};d8.prototype.changed=function(){var hp=this;var hm=this.height,i=this.doc.cm,hn=this.line;this.height=null;var ho=dt(this)-hm;if(!ho){return}if(!gi(this.doc,hn)){g7(hn,hn.height+ho)}if(i){dh(i,function(){i.curOp.forceUpdate=true;ey(i,hn,ho);an(i,"lineWidgetChanged",i,hp,b9(hn))})}};bU(d8);function ey(i,hm,hn){if(b8(hm)<((i.curOp&&i.curOp.scrollTop)||i.doc.scrollTop)){db(i,hn)}}function b1(hq,hp,hn,hm){var ho=new d8(hq,hn,hm);var i=hq.cm;if(i&&ho.noHScroll){i.display.alignWidgets=true}fg(hq,hp,"widget",function(hs){var ht=hs.widgets||(hs.widgets=[]);if(ho.insertAt==null){ht.push(ho)}else{ht.splice(Math.min(ht.length-1,Math.max(0,ho.insertAt)),0,ho)}ho.line=hs;if(i&&!gi(hq,hs)){var hr=b8(hs)<hq.scrollTop;g7(hs,hs.height+dt(ho));if(hr){db(i,ho.height)}i.curOp.forceUpdate=true}return true});if(i){an(i,"lineWidgetAdded",i,ho,typeof hp=="number"?hp:b9(hp))}return ho}var bi=0;var X=function(hm,i){this.lines=[];this.type=i;this.doc=hm;this.id=++bi};X.prototype.clear=function(){var hr=this;if(this.explicitlyCleared){return}var hv=this.doc.cm,ho=hv&&!hv.curOp;if(ho){dd(hv)}if(f7(this,"clear")){var hw=this.find();if(hw){an(this,"clear",hw.from,hw.to)}}var hp=null,ht=null;for(var hq=0;hq<this.lines.length;++hq){var hx=hr.lines[hq];var hu=fX(hx.markedSpans,hr);if(hv&&!hr.collapsed){Y(hv,b9(hx),"text")}else{if(hv){if(hu.to!=null){ht=b9(hx)}if(hu.from!=null){hp=b9(hx)}}}hx.markedSpans=fr(hx.markedSpans,hu);if(hu.from==null&&hr.collapsed&&!gi(hr.doc,hx)&&hv){g7(hx,bb(hv.display))}}if(hv&&this.collapsed&&!hv.options.lineWrapping){for(var hn=0;hn<this.lines.length;++hn){var hm=A(hr.lines[hn]),hs=e0(hm);if(hs>hv.display.maxLineLength){hv.display.maxLine=hm;hv.display.maxLineLength=hs;hv.display.maxLineChanged=true}}}if(hp!=null&&hv&&this.collapsed){aq(hv,hp,ht+1)}this.lines.length=0;this.explicitlyCleared=true;if(this.atomic&&this.doc.cantEdit){this.doc.cantEdit=false;if(hv){fd(hv.doc)}}if(hv){an(hv,"markerCleared",hv,this,hp,ht)}if(ho){ax(hv)}if(this.parent){this.parent.clear()}};X.prototype.find=function(hp,hn){var ht=this;if(hp==null&&this.type=="bookmark"){hp=1}var hs,hr;for(var ho=0;ho<this.lines.length;++ho){var hm=ht.lines[ho];var hq=fX(hm.markedSpans,ht);if(hq.from!=null){hs=ad(hn?hm:b9(hm),hq.from);if(hp==-1){return hs}}if(hq.to!=null){hr=ad(hn?hm:b9(hm),hq.to);if(hp==1){return hr}}}return hs&&{from:hs,to:hr}};X.prototype.changed=function(){var ho=this;var hn=this.find(-1,true),hm=this,i=this.doc.cm;if(!hn||!i){return}dh(i,function(){var hq=hn.line,hr=b9(hn.line);var hp=fZ(i,hr);if(hp){aF(hp);i.curOp.selectionChanged=i.curOp.forceUpdate=true}i.curOp.updateMaxLine=true;if(!gi(hm.doc,hq)&&hm.height!=null){var ht=hm.height;hm.height=null;var hs=dt(hm)-ht;if(hs){g7(hq,hq.height+hs)}}an(i,"markerChanged",i,ho)})};X.prototype.attachLine=function(i){if(!this.lines.length&&this.doc.cm){var hm=this.doc.cm.curOp;if(!hm.maybeHiddenMarkers||dR(hm.maybeHiddenMarkers,this)==-1){(hm.maybeUnhiddenMarkers||(hm.maybeUnhiddenMarkers=[])).push(this)}}this.lines.push(i)};X.prototype.detachLine=function(i){this.lines.splice(dR(this.lines,i),1);if(!this.lines.length&&this.doc.cm){var hm=this.doc.cm.curOp;(hm.maybeHiddenMarkers||(hm.maybeHiddenMarkers=[])).push(this)}};bU(X);function fn(hu,hs,ht,hw,hq){if(hw&&hw.shared){return U(hu,hs,ht,hw,hq)}if(hu.cm&&!hu.cm.curOp){return dw(hu.cm,fn)(hu,hs,ht,hw,hq)}var hp=new X(hu,hq),hv=cF(hs,ht);if(hw){a0(hw,hp,false)}if(hv>0||hv==0&&hp.clearWhenEmpty!==false){return hp}if(hp.replacedWith){hp.collapsed=true;hp.widgetNode=g8("span",[hp.replacedWith],"CodeMirror-widget");if(!hw.handleMouseEvents){hp.widgetNode.setAttribute("cm-ignore-events","true")}if(hw.insertLeft){hp.widgetNode.insertLeft=true}}if(hp.collapsed){if(B(hu,hs.line,hs,ht,hp)||hs.line!=ht.line&&B(hu,ht.line,hs,ht,hp)){throw new Error("Inserting collapsed marker partially overlapping an existing one")}bR()}if(hp.addToHistory){gD(hu,{from:hs,to:ht,origin:"markText"},hu.sel,NaN)}var hn=hs.line,hr=hu.cm,hm;hu.iter(hn,ht.line+1,function(i){if(hr&&hp.collapsed&&!hr.options.lineWrapping&&A(i)==hr.display.maxLine){hm=true}if(hp.collapsed&&hn!=hs.line){g7(i,0)}cD(i,new eV(hp,hn==hs.line?hs.ch:null,hn==ht.line?ht.ch:null));++hn});if(hp.collapsed){hu.iter(hs.line,ht.line+1,function(i){if(gi(hu,i)){g7(i,0)}})}if(hp.clearOnEnter){ck(hp,"beforeCursorEnter",function(){return hp.clear()})}if(hp.readOnly){gn();if(hu.history.done.length||hu.history.undone.length){hu.clearHistory()}}if(hp.collapsed){hp.id=++bi;hp.atomic=true}if(hr){if(hm){hr.curOp.updateMaxLine=true}if(hp.collapsed){aq(hr,hs.line,ht.line+1)}else{if(hp.className||hp.startStyle||hp.endStyle||hp.css||hp.attributes||hp.title){for(var ho=hs.line;ho<=ht.line;ho++){Y(hr,ho,"text")}}}if(hp.atomic){fd(hr.doc)}an(hr,"markerAdded",hr,hp)}return hp}var z=function(ho,hn){var hp=this;this.markers=ho;this.primary=hn;for(var hm=0;hm<ho.length;++hm){ho[hm].parent=hp}};z.prototype.clear=function(){var hn=this;if(this.explicitlyCleared){return}this.explicitlyCleared=true;for(var hm=0;hm<this.markers.length;++hm){hn.markers[hm].clear()}an(this,"clear")};z.prototype.find=function(hm,i){return this.primary.find(hm,i)};bU(z);function U(hp,hs,hr,i,hn){i=a0(i);i.shared=false;var hq=[fn(hp,hs,hr,i,hn)],hm=hq[0];var ho=i.widgetNode;eI(hp,function(hu){if(ho){i.widgetNode=ho.cloneNode(true)}hq.push(fn(hu,gA(hu,hs),gA(hu,hr),i,hn));for(var ht=0;ht<hu.linked.length;++ht){if(hu.linked[ht].isParent){return}}hm=gv(hq)});return new z(hq,hm)}function fz(i){return i.findMarks(ad(i.first,0),i.clipPos(ad(i.lastLine())),function(hm){return hm.parent})}function eb(hr,hs){for(var hp=0;hp<hs.length;hp++){var hn=hs[hp],ht=hn.find();var hm=hr.clipPos(ht.from),hq=hr.clipPos(ht.to);if(cF(hm,hq)){var ho=fn(hr,hm,hq,hn.primary,hn.primary.type);hn.markers.push(ho);ho.parent=hn}}}function e2(ho){var hm=function(hr){var hp=ho[hr],ht=[hp.primary.doc];eI(hp.primary.doc,function(i){return ht.push(i)});for(var hq=0;hq<hp.markers.length;hq++){var hs=hp.markers[hq];if(dR(ht,hs.doc)==-1){hs.parent=null;hp.markers.splice(hq--,1)}}};for(var hn=0;hn<ho.length;hn++){hm(hn)}}var cU=0;var aE=function(hp,ho,i,hn,hm){if(!(this instanceof aE)){return new aE(hp,ho,i,hn,hm)}if(i==null){i=0}gk.call(this,[new fM([new g6("",null)])]);this.first=i;this.scrollTop=this.scrollLeft=0;this.cantEdit=false;this.cleanGeneration=1;this.modeFrontier=this.highlightFrontier=i;var hq=ad(i,0);this.sel=fC(hq);this.history=new gO(null);this.id=++cU;this.modeOption=ho;this.lineSep=hn;this.direction=(hm=="rtl")?"rtl":"ltr";this.extend=false;if(typeof hp=="string"){hp=this.splitLines(hp)}gl(this,{from:hq,to:hq,text:hp});ch(this,fC(hq),ai)};aE.prototype=cM(gk.prototype,{constructor:aE,iter:function(hn,hm,i){if(i){this.iterN(hn-this.first,hm-hn,i)}else{this.iterN(this.first,this.first+this.size,hn)}},insert:function(hn,ho){var hm=0;for(var hp=0;hp<ho.length;++hp){hm+=ho[hp].height}this.insertInner(hn-this.first,ho,hm)},remove:function(i,hm){this.removeInner(i-this.first,hm)},getValue:function(hm){var i=bg(this,this.first,this.first+this.size);if(hm===false){return i}return i.join(hm||this.lineSeparator())},setValue:c7(function(hm){var hn=ad(this.first,0),i=this.first+this.size-1;bu(this,{from:hn,to:ad(i,f2(this,i).text.length),text:this.splitLines(hm),origin:"setValue",full:true},true);if(this.cm){fw(this.cm,0,0)}ch(this,fC(hn),ai)}),replaceRange:function(hm,ho,hn,i){ho=gA(this,ho);hn=hn?gA(this,hn):ho;be(this,hm,ho,hn,i)},getRange:function(ho,hn,hm){var i=g4(this,gA(this,ho),gA(this,hn));if(hm===false){return i}return i.join(hm||this.lineSeparator())},getLine:function(hm){var i=this.getLineHandle(hm);return i&&i.text},getLineHandle:function(i){if(cx(this,i)){return f2(this,i)}},getLineNumber:function(i){return b9(i)},getLineHandleVisualStart:function(i){if(typeof i=="number"){i=f2(this,i)}return A(i)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(i){return gA(this,i)},getCursor:function(hn){var i=this.sel.primary(),hm;if(hn==null||hn=="head"){hm=i.head}else{if(hn=="anchor"){hm=i.anchor}else{if(hn=="end"||hn=="to"||hn===false){hm=i.to()}else{hm=i.from()}}}return hm},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:c7(function(i,hn,hm){K(this,gA(this,typeof i=="number"?ad(i,hn||0):i),null,hm)}),setSelection:c7(function(hm,hn,i){K(this,gA(this,hm),gA(this,hn||hm),i)}),extendSelection:c7(function(hn,i,hm){gU(this,gA(this,hn),i&&gA(this,i),hm)}),extendSelections:c7(function(hm,i){aG(this,eA(this,hm),i)}),extendSelectionsBy:c7(function(hn,i){var hm=cg(this.sel.ranges,hn);aG(this,eA(this,hm),i)}),setSelections:c7(function(hm,hq,ho){var hr=this;if(!hm.length){return}var hn=[];for(var hp=0;hp<hm.length;hp++){hn[hp]=new ew(gA(hr,hm[hp].anchor),gA(hr,hm[hp].head))}if(hq==null){hq=Math.min(hm.length-1,this.sel.primIndex)}ch(this,cZ(this.cm,hn,hq),ho)}),addSelection:c7(function(hn,ho,hm){var i=this.sel.ranges.slice(0);i.push(new ew(gA(this,hn),gA(this,ho||hn)));ch(this,cZ(this.cm,i,i.length-1),hm)}),getSelection:function(hq){var hr=this;var hn=this.sel.ranges,hm;for(var ho=0;ho<hn.length;ho++){var hp=g4(hr,hn[ho].from(),hn[ho].to());hm=hm?hm.concat(hp):hp}if(hq===false){return hm}else{return hm.join(hq||this.lineSeparator())}},getSelections:function(hq){var hr=this;var hp=[],hm=this.sel.ranges;for(var hn=0;hn<hm.length;hn++){var ho=g4(hr,hm[hn].from(),hm[hn].to());if(hq!==false){ho=ho.join(hq||hr.lineSeparator())}hp[hn]=ho}return hp},replaceSelection:function(ho,hq,hm){var hp=[];for(var hn=0;hn<this.sel.ranges.length;hn++){hp[hn]=ho}this.replaceSelections(hp,hq,hm||"+input")},replaceSelections:c7(function(hn,hs,hu){var hr=this;var ht=[],hp=this.sel;for(var hq=0;hq<hp.ranges.length;hq++){var hv=hp.ranges[hq];ht[hq]={from:hv.from(),to:hv.to(),text:hr.splitLines(hn[hq]),origin:hu}}var hm=hs&&hs!="end"&&ao(this,ht,hs);for(var ho=ht.length-1;ho>=0;ho--){bu(hr,ht[ho])}if(hm){fV(this,hm)}else{if(this.cm){gu(this.cm)}}}),undo:c7(function(){cw(this,"undo")}),redo:c7(function(){cw(this,"redo")}),undoSelection:c7(function(){cw(this,"undo",true)}),redoSelection:c7(function(){cw(this,"redo",true)}),setExtending:function(i){this.extend=i},getExtending:function(){return this.extend},historySize:function(){var hp=this.history,hm=0,ho=0;for(var hn=0;hn<hp.done.length;hn++){if(!hp.done[hn].ranges){++hm}}for(var hq=0;hq<hp.undone.length;hq++){if(!hp.undone[hq].ranges){++ho}}return{undo:hm,redo:ho}},clearHistory:function(){var i=this;this.history=new gO(this.history.maxGeneration);eI(this,function(hm){return hm.history=i.history},true)},markClean:function(){this.cleanGeneration=this.changeGeneration(true)},changeGeneration:function(i){if(i){this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null}return this.history.generation},isClean:function(i){return this.history.generation==(i||this.cleanGeneration)},getHistory:function(){return{done:cb(this.history.done),undone:cb(this.history.undone)}},setHistory:function(hm){var i=this.history=new gO(this.history.maxGeneration);i.done=cb(hm.done.slice(0),null,true);i.undone=cb(hm.undone.slice(0),null,true)},setGutterMarker:c7(function(i,hm,hn){return fg(this,i,"gutter",function(ho){var hp=ho.gutterMarkers||(ho.gutterMarkers={});hp[hm]=hn;if(!hn&&fG(hp)){ho.gutterMarkers=null}return true})}),clearGutter:c7(function(i){var hm=this;this.iter(function(hn){if(hn.gutterMarkers&&hn.gutterMarkers[i]){fg(hm,hn,"gutter",function(){hn.gutterMarkers[i]=null;if(fG(hn.gutterMarkers)){hn.gutterMarkers=null}return true})}})}),lineInfo:function(i){var hm;if(typeof i=="number"){if(!cx(this,i)){return null}hm=i;i=f2(this,i);if(!i){return null}}else{hm=b9(i);if(hm==null){return null}}return{line:hm,handle:i,text:i.text,gutterMarkers:i.gutterMarkers,textClass:i.textClass,bgClass:i.bgClass,wrapClass:i.wrapClass,widgets:i.widgets}},addLineClass:c7(function(hn,hm,i){return fg(this,hn,hm=="gutter"?"gutter":"class",function(ho){var hp=hm=="text"?"textClass":hm=="background"?"bgClass":hm=="gutter"?"gutterClass":"wrapClass";if(!ho[hp]){ho[hp]=i}else{if(Z(i).test(ho[hp])){return false}else{ho[hp]+=" "+i}}return true})}),removeLineClass:c7(function(hn,hm,i){return fg(this,hn,hm=="gutter"?"gutter":"class",function(hp){var hs=hm=="text"?"textClass":hm=="background"?"bgClass":hm=="gutter"?"gutterClass":"wrapClass";var hr=hp[hs];if(!hr){return false}else{if(i==null){hp[hs]=null}else{var hq=hr.match(Z(i));if(!hq){return false}var ho=hq.index+hq[0].length;hp[hs]=hr.slice(0,hq.index)+(!hq.index||ho==hr.length?"":" ")+hr.slice(ho)||null}}return true})}),addLineWidget:c7(function(hn,hm,i){return b1(this,hn,hm,i)}),removeLineWidget:function(i){i.clear()},markText:function(hn,hm,i){return fn(this,gA(this,hn),gA(this,hm),i,i&&i.type||"range")},setBookmark:function(hn,i){var hm={replacedWith:i&&(i.nodeType==null?i.widget:i),insertLeft:i&&i.insertLeft,clearWhenEmpty:false,shared:i&&i.shared,handleMouseEvents:i&&i.handleMouseEvents};hn=gA(this,hn);return fn(this,hn,hn,hm,"bookmark")},findMarksAt:function(hq){hq=gA(this,hq);var hp=[],hn=f2(this,hq.line).markedSpans;if(hn){for(var hm=0;hm<hn.length;++hm){var ho=hn[hm];if((ho.from==null||ho.from<=hq.ch)&&(ho.to==null||ho.to>=hq.ch)){hp.push(ho.marker.parent||ho.marker)}}}return hp},findMarks:function(hp,ho,hm){hp=gA(this,hp);ho=gA(this,ho);var hn=[],i=hp.line;this.iter(hp.line,ho.line+1,function(hq){var hs=hq.markedSpans;if(hs){for(var hr=0;hr<hs.length;hr++){var ht=hs[hr];if(!(ht.to!=null&&i==hp.line&&hp.ch>=ht.to||ht.from==null&&i!=hp.line||ht.from!=null&&i==ho.line&&ht.from>=ho.ch)&&(!hm||hm(ht.marker))){hn.push(ht.marker.parent||ht.marker)}}}++i});return hn},getAllMarks:function(){var i=[];this.iter(function(hn){var hm=hn.markedSpans;if(hm){for(var ho=0;ho<hm.length;++ho){if(hm[ho].from!=null){i.push(hm[ho].marker)}}}});return i},posFromIndex:function(ho){var hm,i=this.first,hn=this.lineSeparator().length;this.iter(function(hp){var hq=hp.text.length+hn;if(hq>ho){hm=ho;return true}ho-=hq;++i});return gA(this,ad(i,hm))},indexFromPos:function(hn){hn=gA(this,hn);var i=hn.ch;if(hn.line<this.first||hn.ch<0){return 0}var hm=this.lineSeparator().length;this.iter(this.first,hn.line,function(ho){i+=ho.text.length+hm});return i},copy:function(i){var hm=new aE(bg(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);hm.scrollTop=this.scrollTop;hm.scrollLeft=this.scrollLeft;hm.sel=this.sel;hm.extend=false;if(i){hm.history.undoDepth=this.history.undoDepth;hm.setHistory(this.getHistory())}return hm},linkedDoc:function(i){if(!i){i={}}var ho=this.first,hn=this.first+this.size;if(i.from!=null&&i.from>ho){ho=i.from}if(i.to!=null&&i.to<hn){hn=i.to}var hm=new aE(bg(this,ho,hn),i.mode||this.modeOption,ho,this.lineSep,this.direction);if(i.sharedHist){hm.history=this.history}(this.linked||(this.linked=[])).push({doc:hm,sharedHist:i.sharedHist});hm.linked=[{doc:this,isParent:true,sharedHist:i.sharedHist}];eb(hm,fz(this));return hm},unlinkDoc:function(hn){var hq=this;if(hn instanceof L){hn=hn.doc}if(this.linked){for(var ho=0;ho<this.linked.length;++ho){var hp=hq.linked[ho];if(hp.doc!=hn){continue}hq.linked.splice(ho,1);hn.unlinkDoc(hq);e2(fz(hq));break}}if(hn.history==this.history){var hm=[hn.id];eI(hn,function(i){return hm.push(i.id)},true);hn.history=new gO(null);hn.history.done=cb(this.history.done,hm);hn.history.undone=cb(this.history.undone,hm)}},iterLinkedDocs:function(i){eI(this,i)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(i){if(this.lineSep){return i.split(this.lineSep)}return gL(i)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:c7(function(i){if(i!="rtl"){i="ltr"}if(i==this.direction){return}this.direction=i;this.iter(function(hm){return hm.order=null});if(this.cm){ez(this.cm)}})});aE.prototype.eachLine=aE.prototype.iter;var ap=0;function by(hu){var hw=this;dJ(hw);if(a4(hw,hu)||bp(hw.display,hu)){return}c9(hu);if(eh){ap=+new Date}var hv=cQ(hw,hu,true),hn=hu.dataTransfer.files;if(!hv||hw.isReadOnly()){return}if(hn&&hn.length&&window.FileReader&&window.File){var hr=hn.length,hy=Array(hr),ho=0;var hp=function(){if(++ho==hr){dw(hw,function(){hv=gA(hw.doc,hv);var i={from:hv,to:hv,text:hw.doc.splitLines(hy.filter(function(hz){return hz!=null}).join(hw.doc.lineSeparator())),origin:"paste"};bu(hw.doc,i);fV(hw.doc,fC(gA(hw.doc,hv),gA(hw.doc,ds(i))))})()}};var hx=function(hB,hA){if(hw.options.allowDropFileTypes&&dR(hw.options.allowDropFileTypes,hB.type)==-1){hp();return}var hz=new FileReader;hz.onerror=function(){return hp()};hz.onload=function(){var i=hz.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(i)){hp();return}hy[hA]=i;hp()};hz.readAsText(hB)};for(var ht=0;ht<hn.length;ht++){hx(hn[ht],ht)}}else{if(hw.state.draggingText&&hw.doc.sel.contains(hv)>-1){hw.state.draggingText(hu);setTimeout(function(){return hw.display.input.focus()},20);return}try{var hm=hu.dataTransfer.getData("Text");if(hm){var hs;if(hw.state.draggingText&&!hw.state.draggingText.copy){hs=hw.listSelections()}e3(hw.doc,fC(hv,hv));if(hs){for(var hq=0;hq<hs.length;++hq){be(hw.doc,"",hs[hq].anchor,hs[hq].head,"drag")}}hw.replaceSelection(hm,"around","paste");hw.display.input.focus()}}catch(hu){}}}function W(i,hn){if(eh&&(!i.state.draggingText||+new Date-ap<100)){e5(hn);return}if(a4(i,hn)||bp(i.display,hn)){return}hn.dataTransfer.setData("Text",i.getSelection());hn.dataTransfer.effectAllowed="copyMove";if(hn.dataTransfer.setDragImage&&!aO){var hm=g2("img",null,null,"position: fixed; left: 0; top: 0;");hm.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";if(eD){hm.width=hm.height=1;i.display.wrapper.appendChild(hm);hm._top=hm.offsetTop}hn.dataTransfer.setDragImage(hm,0,0);if(eD){hm.parentNode.removeChild(hm)}}}function hj(i,hm){var ho=cQ(i,hm);if(!ho){return}var hn=document.createDocumentFragment();D(i,ho,hn);if(!i.display.dragCursor){i.display.dragCursor=g2("div",null,"CodeMirror-cursors CodeMirror-dragcursors");i.display.lineSpace.insertBefore(i.display.dragCursor,i.display.cursorDiv)}cf(i.display.dragCursor,hn)}function dJ(i){if(i.display.dragCursor){i.display.lineSpace.removeChild(i.display.dragCursor);i.display.dragCursor=null}}function aL(hq){if(!document.getElementsByClassName){return}var hp=document.getElementsByClassName("CodeMirror"),ho=[];for(var hn=0;hn<hp.length;hn++){var hm=hp[hn].CodeMirror;if(hm){ho.push(hm)}}if(ho.length){ho[0].operation(function(){for(var hr=0;hr<ho.length;hr++){hq(ho[hr])}})}}var c6=false;function bx(){if(c6){return}gt();c6=true}function gt(){var i;ck(window,"resize",function(){if(i==null){i=setTimeout(function(){i=null;aL(a6)},100)}});ck(window,"blur",function(){return aL(a8)})}function a6(i){var hm=i.display;hm.cachedCharWidth=hm.cachedTextHeight=hm.cachedPaddingH=null;hm.scrollbarsClipped=false;i.setSize()}var f3={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};for(var gj=0;gj<10;gj++){f3[gj+48]=f3[gj+96]=String(gj)}for(var gN=65;gN<=90;gN++){f3[gN]=String.fromCharCode(gN)}for(var gM=1;gM<=12;gM++){f3[gM+111]=f3[gM+63235]="F"+gM}var fY={};fY.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"};fY.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"};fY.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"};fY.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]};fY["default"]=cv?fY.macDefault:fY.pcDefault;function d2(hn){var ht=hn.split(/-(?!$)/);hn=ht[ht.length-1];var hs,hr,hm,hq;for(var hp=0;hp<ht.length-1;hp++){var ho=ht[hp];if(/^(cmd|meta|m)$/i.test(ho)){hq=true}else{if(/^a(lt)?$/i.test(ho)){hs=true}else{if(/^(c|ctrl|control)$/i.test(ho)){hr=true}else{if(/^s(hift)?$/i.test(ho)){hm=true}else{throw new Error("Unrecognized modifier name: "+ho)}}}}}if(hs){hn="Alt-"+hn}if(hr){hn="Ctrl-"+hn}if(hq){hn="Cmd-"+hn}if(hm){hn="Shift-"+hn}return hn}function da(ht){var hn={};for(var hs in ht){if(ht.hasOwnProperty(hs)){var hu=ht[hs];if(/^(name|fallthrough|(de|at)tach)$/.test(hs)){continue}if(hu=="..."){delete ht[hs];continue}var hv=cg(hs.split(" "),d2);for(var hr=0;hr<hv.length;hr++){var hp=(void 0),ho=(void 0);if(hr==hv.length-1){ho=hv.join(" ");hp=hu}else{ho=hv.slice(0,hr+1).join(" ");hp="..."}var hq=hn[ho];if(!hq){hn[ho]=hp}else{if(hq!=hp){throw new Error("Inconsistent bindings for "+ho)}}}delete ht[hs]}}for(var hm in hn){ht[hm]=hn[hm]}return ht}function k(hp,hq,hs,ho){hq=gT(hq);var hr=hq.call?hq.call(hp,ho):hq[hp];if(hr===false){return"nothing"}if(hr==="..."){return"multi"}if(hr!=null&&hs(hr)){return"handled"}if(hq.fallthrough){if(Object.prototype.toString.call(hq.fallthrough)!="[object Array]"){return k(hp,hq.fallthrough,hs,ho)}for(var hn=0;hn<hq.fallthrough.length;hn++){var hm=k(hp,hq.fallthrough[hn],hs,ho);if(hm){return hm}}}}function fh(hm){var i=typeof hm=="string"?hm:f3[hm.keyCode];return i=="Ctrl"||i=="Alt"||i=="Shift"||i=="Mod"}function gW(i,hm,ho){var hn=i;if(hm.altKey&&hn!="Alt"){i="Alt-"+i}if((cd?hm.metaKey:hm.ctrlKey)&&hn!="Ctrl"){i="Ctrl-"+i}if((cd?hm.ctrlKey:hm.metaKey)&&hn!="Cmd"){i="Cmd-"+i}if(!ho&&hm.shiftKey&&hn!="Shift"){i="Shift-"+i}return i}function gd(hm,hn){if(eD&&hm.keyCode==34&&hm["char"]){return false}var i=f3[hm.keyCode];if(i==null||hm.altGraphKey){return false}if(hm.keyCode==3&&hm.code){i=hm.code}return gW(i,hm,hn)}function gT(i){return typeof i=="string"?fY[i]:i}function fK(hm,hs){var hn=hm.doc.sel.ranges,hq=[];for(var hp=0;hp<hn.length;hp++){var ho=hs(hn[hp]);while(hq.length&&cF(ho.from,gv(hq).to)<=0){var hr=hq.pop();if(cF(hr.from,ho.from)<0){ho.from=hr.from;break}}hq.push(ho)}dh(hm,function(){for(var ht=hq.length-1;ht>=0;ht--){be(hm.doc,"",hq[ht].from,hq[ht].to,"+delete")}gu(hm)})}function bI(i,hn,hm){var ho=eW(i.text,hn+hm,hm);return ho<0||ho>i.text.length?null:ho}function ar(i,ho,hm){var hn=bI(i,ho.ch,hm);return hn==null?null:new ad(ho.line,hn,hm<0?"after":"before")}function ff(hm,hu,hr,hq,ho){if(hm){if(hu.doc.direction=="rtl"){ho=-ho}var hp=a(hr,hu.doc.direction);if(hp){var hn=ho<0?gv(hp):hp[0];var hw=(ho<0)==(hn.level==1);var ht=hw?"after":"before";var i;if(hn.level>0||hu.doc.direction=="rtl"){var hs=bj(hu,hr);i=ho<0?hr.text.length-1:0;var hv=G(hu,hs,i).top;i=cP(function(hx){return G(hu,hs,hx).top==hv},(ho<0)==(hn.level==1)?hn.from:hn.to-1,i);if(ht=="before"){i=bI(hr,i,1)}}else{i=ho<0?hn.to:hn.from}return new ad(hq,i,ht)}}return new ad(hq,ho<0?hr.text.length:0,ho<0?"before":"after")}function w(hw,hB,hp,hs){var hy=a(hB,hw.doc.direction);if(!hy){return ar(hB,hp,hs)}if(hp.ch>=hB.text.length){hp.ch=hB.text.length;hp.sticky="before"}else{if(hp.ch<=0){hp.ch=0;hp.sticky="after"}}var ho=aT(hy,hp.ch,hp.sticky),hq=hy[ho];if(hw.doc.direction=="ltr"&&hq.level%2==0&&(hs>0?hq.to>hp.ch:hq.from<hp.ch)){return ar(hB,hp,hs)}var hz=function(hD,hC){return bI(hB,hD instanceof ad?hD.ch:hD,hC)};var ht;var hx=function(hC){if(!hw.options.lineWrapping){return{begin:0,end:hB.text.length}}ht=ht||bj(hw,hB);return bC(hw,hB,ht,hC)};var hr=hx(hp.sticky=="before"?hz(hp,-1):hp.ch);if(hw.doc.direction=="rtl"||hq.level==1){var hA=(hq.level==1)==(hs<0);var hm=hz(hp,hA?1:-1);if(hm!=null&&(!hA?hm>=hq.from&&hm>=hr.begin:hm<=hq.to&&hm<=hr.end)){var hv=hA?"before":"after";return new ad(hp.line,hm,hv)}}var hn=function(hC,hF,hI){var hE=function(hK,hJ){return hJ?new ad(hp.line,hz(hK,1),"before"):new ad(hp.line,hK,"after")};for(;hC>=0&&hC<hy.length;hC+=hF){var hD=hy[hC];var hG=(hF>0)==(hD.level!=1);var hH=hG?hI.begin:hz(hI.end,-1);if(hD.from<=hH&&hH<hD.to){return hE(hH,hG)}hH=hG?hD.from:hz(hD.to,-1);if(hI.begin<=hH&&hH<hI.end){return hE(hH,hG)}}};var hu=hn(ho+hs,hs,hr);if(hu){return hu}var i=hs>0?hr.end:hz(hr.begin,-1);if(i!=null&&!(hs>0&&i==hB.text.length)){hu=hn(hs>0?0:hy.length-1,hs,hx(i));if(hu){return hu}}return null}var fk={selectAll:aw,singleSelection:function(i){return i.setSelection(i.getCursor("anchor"),i.getCursor("head"),ai)},killLine:function(i){return fK(i,function(hn){if(hn.empty()){var hm=f2(i.doc,hn.head.line).text.length;if(hn.head.ch==hm&&hn.head.line<i.lastLine()){return{from:hn.head,to:ad(hn.head.line+1,0)}}else{return{from:hn.head,to:ad(hn.head.line,hm)}}}else{return{from:hn.from(),to:hn.to()}}})},deleteLine:function(i){return fK(i,function(hm){return({from:ad(hm.from().line,0),to:gA(i.doc,ad(hm.to().line+1,0))})})},delLineLeft:function(i){return fK(i,function(hm){return({from:ad(hm.from().line,0),to:hm.from()})})},delWrappedLineLeft:function(i){return fK(i,function(hm){var ho=i.charCoords(hm.head,"div").top+5;var hn=i.coordsChar({left:0,top:ho},"div");return{from:hn,to:hm.from()}})},delWrappedLineRight:function(i){return fK(i,function(hm){var ho=i.charCoords(hm.head,"div").top+5;var hn=i.coordsChar({left:i.display.lineDiv.offsetWidth+100,top:ho},"div");return{from:hm.from(),to:hn}})},undo:function(i){return i.undo()},redo:function(i){return i.redo()},undoSelection:function(i){return i.undoSelection()},redoSelection:function(i){return i.redoSelection()},goDocStart:function(i){return i.extendSelection(ad(i.firstLine(),0))},goDocEnd:function(i){return i.extendSelection(ad(i.lastLine()))},goLineStart:function(i){return i.extendSelectionsBy(function(hm){return bN(i,hm.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(i){return i.extendSelectionsBy(function(hm){return ee(i,hm.head)},{origin:"+move",bias:1})},goLineEnd:function(i){return i.extendSelectionsBy(function(hm){return en(i,hm.head.line)},{origin:"+move",bias:-1})},goLineRight:function(i){return i.extendSelectionsBy(function(hm){var hn=i.cursorCoords(hm.head,"div").top+5;return i.coordsChar({left:i.display.lineDiv.offsetWidth+100,top:hn},"div")},dr)},goLineLeft:function(i){return i.extendSelectionsBy(function(hm){var hn=i.cursorCoords(hm.head,"div").top+5;return i.coordsChar({left:0,top:hn},"div")},dr)},goLineLeftSmart:function(i){return i.extendSelectionsBy(function(hm){var hn=i.cursorCoords(hm.head,"div").top+5;var ho=i.coordsChar({left:0,top:hn},"div");if(ho.ch<i.getLine(ho.line).search(/\S/)){return ee(i,hm.head)}return ho},dr)},goLineUp:function(i){return i.moveV(-1,"line")},goLineDown:function(i){return i.moveV(1,"line")},goPageUp:function(i){return i.moveV(-1,"page")},goPageDown:function(i){return i.moveV(1,"page")},goCharLeft:function(i){return i.moveH(-1,"char")},goCharRight:function(i){return i.moveH(1,"char")},goColumnLeft:function(i){return i.moveH(-1,"column")},goColumnRight:function(i){return i.moveH(1,"column")},goWordLeft:function(i){return i.moveH(-1,"word")},goGroupRight:function(i){return i.moveH(1,"group")},goGroupLeft:function(i){return i.moveH(-1,"group")},goWordRight:function(i){return i.moveH(1,"word")},delCharBefore:function(i){return i.deleteH(-1,"char")},delCharAfter:function(i){return i.deleteH(1,"char")},delWordBefore:function(i){return i.deleteH(-1,"word")},delWordAfter:function(i){return i.deleteH(1,"word")},delGroupBefore:function(i){return i.deleteH(-1,"group")},delGroupAfter:function(i){return i.deleteH(1,"group")},indentAuto:function(i){return i.indentSelection("smart")},indentMore:function(i){return i.indentSelection("add")},indentLess:function(i){return i.indentSelection("subtract")},insertTab:function(i){return i.replaceSelection("\t")},insertSoftTab:function(hm){var ho=[],hn=hm.listSelections(),hr=hm.options.tabSize;for(var hq=0;hq<hn.length;hq++){var hs=hn[hq].from();var hp=ce(hm.getLine(hs.line),hs.ch,hr);ho.push(cS(hr-hp%hr))}hm.replaceSelections(ho)},defaultTab:function(i){if(i.somethingSelected()){i.indentSelection("add")}else{i.execCommand("insertTab")}},transposeChars:function(i){return dh(i,function(){var ho=i.listSelections(),hn=[];for(var hp=0;hp<ho.length;hp++){if(!ho[hp].empty()){continue}var hr=ho[hp].head,hm=f2(i.doc,hr.line).text;if(hm){if(hr.ch==hm.length){hr=new ad(hr.line,hr.ch-1)}if(hr.ch>0){hr=new ad(hr.line,hr.ch+1);i.replaceRange(hm.charAt(hr.ch-1)+hm.charAt(hr.ch-2),ad(hr.line,hr.ch-2),hr,"+transpose")}else{if(hr.line>i.doc.first){var hq=f2(i.doc,hr.line-1).text;if(hq){hr=new ad(hr.line,1);i.replaceRange(hm.charAt(0)+i.doc.lineSeparator()+hq.charAt(hq.length-1),ad(hr.line-1,hq.length-1),hr,"+transpose")}}}}hn.push(new ew(hr,hr))}i.setSelections(hn)})},newlineAndIndent:function(i){return dh(i,function(){var hm=i.listSelections();for(var hn=hm.length-1;hn>=0;hn--){i.replaceRange(i.doc.lineSeparator(),hm[hn].anchor,hm[hn].head,"+input")}hm=i.listSelections();for(var ho=0;ho<hm.length;ho++){i.indentLine(hm[ho].from().line,null,true)}gu(i)})},openLine:function(i){return i.replaceSelection("\n","start")},toggleOverwrite:function(i){return i.toggleOverwrite()}};function bN(i,hn){var hm=f2(i.doc,hn);var ho=A(hm);if(ho!=hm){hn=b9(ho)}return ff(true,i,ho,hn,1)}function en(i,hn){var hm=f2(i.doc,hn);var ho=cL(hm);if(ho!=hm){hn=b9(ho)}return ff(true,i,hm,hn,-1)}function ee(hm,hr){var hq=bN(hm,hr.line);var hn=f2(hm.doc,hq.line);var i=a(hn,hm.doc.direction);if(!i||i[0].level==0){var hp=Math.max(hq.ch,hn.text.search(/\S/));var ho=hr.line==hq.line&&hr.ch<=hp&&hr.ch;return ad(hq.line,ho?0:hp,hq.sticky)}return hq}function gK(hm,hp,i){if(typeof hp=="string"){hp=fk[hp];if(!hp){return false}}hm.display.input.ensurePolled();var ho=hm.display.shift,hn=false;try{if(hm.isReadOnly()){hm.state.suppressEdits=true}if(i){hm.display.shift=false}hn=hp(hm)!=cA}finally{hm.display.shift=ho;hm.state.suppressEdits=false}return hn}function eJ(hn,ho,hq){for(var hp=0;hp<hn.state.keyMaps.length;hp++){var hm=k(ho,hn.state.keyMaps[hp],hq,hn);if(hm){return hm}}return(hn.options.extraKeys&&k(ho,hn.options.extraKeys,hq,hn))||k(ho,hn.options.keyMap,hq,hn)}var ej=new hl;function br(i,hn,hp,ho){var hm=i.state.keySeq;if(hm){if(fh(hn)){return"handled"}if(/\'$/.test(hn)){i.state.keySeq=null}else{ej.set(50,function(){if(i.state.keySeq==hm){i.state.keySeq=null;i.display.input.reset()}})}if(cJ(i,hm+" "+hn,hp,ho)){return true}}return cJ(i,hn,hp,ho)}function cJ(hm,hn,hp,ho){var i=eJ(hm,hn,ho);if(i=="multi"){hm.state.keySeq=hn}if(i=="handled"){an(hm,"keyHandled",hm,hn,hp)}if(i=="handled"||i=="multi"){c9(hp);r(hm)}return !!i}function f5(i,hn){var hm=gd(hn,true);if(!hm){return false}if(hn.shiftKey&&!i.state.keySeq){return br(i,"Shift-"+hm,hn,function(ho){return gK(i,ho,true)})||br(i,hm,hn,function(ho){if(typeof ho=="string"?/^go[A-Z]/.test(ho):ho.motion){return gK(i,ho)}})}else{return br(i,hm,hn,function(ho){return gK(i,ho)})}}function eU(i,hn,hm){return br(i,"'"+hm+"'",hn,function(ho){return gK(i,ho,true)})}var dX=null;function s(ho){var i=this;i.curOp.focus=el();if(a4(i,ho)){return}if(eh&&n<11&&ho.keyCode==27){ho.returnValue=false}var hm=ho.keyCode;i.display.shift=hm==16||ho.shiftKey;var hn=f5(i,ho);if(eD){dX=hn?hm:null;if(!hn&&hm==88&&!dI&&(cv?ho.metaKey:ho.ctrlKey)){i.replaceSelection("",null,"cut")}}if(cR&&!cv&&!hn&&hm==46&&ho.shiftKey&&!ho.ctrlKey&&document.execCommand){document.execCommand("cut")}if(hm==18&&!/\bCodeMirror-crosshair\b/.test(i.display.lineDiv.className)){aD(i)}}function aD(hm){var hn=hm.display.lineDiv;gp(hn,"CodeMirror-crosshair");function i(ho){if(ho.keyCode==18||!ho.altKey){h(hn,"CodeMirror-crosshair");eR(document,"keyup",i);eR(document,"mouseover",i)}}ck(document,"keyup",i);ck(document,"mouseover",i)}function bv(i){if(i.keyCode==16){this.doc.sel.shift=false}a4(this,i)}function c0(hp){var i=this;if(bp(i.display,hp)||a4(i,hp)||hp.ctrlKey&&!hp.altKey||cv&&hp.metaKey){return}var ho=hp.keyCode,hm=hp.charCode;if(eD&&ho==dX){dX=null;c9(hp);return}if((eD&&(!hp.which||hp.which<10))&&f5(i,hp)){return}var hn=String.fromCharCode(hm==null?ho:hm);if(hn=="\x08"){return}if(eU(i,hp,hn)){return}i.display.input.onKeyPress(hp)}var dB=400;var dV=function(hm,hn,i){this.time=hm;this.pos=hn;this.button=i};dV.prototype.compare=function(hm,hn,i){return this.time+dB>hm&&cF(hn,this.pos)==0&&i==this.button};var dW,dM;function J(hn,hm){var i=+new Date;if(dM&&dM.compare(i,hn,hm)){dW=dM=null;return"triple"}else{if(dW&&dW.compare(i,hn,hm)){dM=new dV(i,hn,hm);dW=null;return"double"}else{dW=new dV(i,hn,hm);dM=null;return"single"}}}function e9(hp){var i=this,ho=i.display;if(a4(i,hp)||ho.activeTouch&&ho.input.supportsTouch()){return}ho.input.ensurePolled();ho.shift=hp.shiftKey;if(bp(ho,hp)){if(!dv){ho.scroller.draggable=false;setTimeout(function(){return ho.scroller.draggable=true},100)}return}if(o(i,hp)){return}var hq=cQ(i,hp),hm=gG(hp),hn=hq?J(hq,hm):"single";window.focus();if(hm==1&&i.state.selectingText){i.state.selectingText(hp)}if(hq&&df(i,hm,hq,hn,hp)){return}if(hm==1){if(hq){aH(i,hq,hn,hp)}else{if(R(hp)==ho.scroller){c9(hp)}}}else{if(hm==2){if(hq){gU(i.doc,hq)}setTimeout(function(){return ho.input.focus()},20)}else{if(hm==3){if(hb){i.display.input.onContextMenu(hp)}else{au(i)}}}}}function df(i,hn,hq,hp,ho){var hm="Click";if(hp=="double"){hm="Double"+hm}else{if(hp=="triple"){hm="Triple"+hm}}hm=(hn==1?"Left":hn==2?"Middle":"Right")+hm;return br(i,gW(hm,ho),ho,function(hs){if(typeof hs=="string"){hs=fk[hs]}if(!hs){return false}var hr=false;try{if(i.isReadOnly()){i.state.suppressEdits=true}hr=hs(i,hq)!=cA}finally{i.state.suppressEdits=false}return hr})}function b4(i,hq,ho){var hm=i.getOption("configureMouse");var hp=hm?hm(i,hq,ho):{};if(hp.unit==null){var hn=gz?ho.shiftKey&&ho.metaKey:ho.altKey;hp.unit=hn?"rectangle":hq=="single"?"char":hq=="double"?"word":"line"}if(hp.extend==null||i.doc.extend){hp.extend=i.doc.extend||ho.shiftKey}if(hp.addNew==null){hp.addNew=cv?ho.metaKey:ho.ctrlKey}if(hp.moveOnDrag==null){hp.moveOnDrag=!(cv?ho.altKey:ho.ctrlKey)}return hp}function aH(i,hr,hq,ho){if(eh){setTimeout(cY(u,i),0)}else{i.curOp.focus=el()}var hn=b4(i,hq,ho);var hp=i.doc.sel,hm;if(i.options.dragDrop&&fv&&!i.isReadOnly()&&hq=="single"&&(hm=hp.contains(hr))>-1&&(cF((hm=hp.ranges[hm]).from(),hr)<0||hr.xRel>0)&&(cF(hm.to(),hr)>0||hr.xRel<0)){bh(i,ho,hr,hn)}else{p(i,ho,hr,hn)}}function bh(hs,i,hp,hm){var ho=hs.display,hq=false;var hn=dw(hs,function(hu){if(dv){ho.scroller.draggable=false}hs.state.draggingText=false;eR(ho.wrapper.ownerDocument,"mouseup",hn);eR(ho.wrapper.ownerDocument,"mousemove",ht);eR(ho.scroller,"dragstart",hr);eR(ho.scroller,"drop",hn);if(!hq){c9(hu);if(!hm.addNew){gU(hs.doc,hp,null,null,hm.extend)}if(dv||eh&&n==9){setTimeout(function(){ho.wrapper.ownerDocument.body.focus();ho.input.focus()},20)}else{ho.input.focus()}}});var ht=function(hu){hq=hq||Math.abs(i.clientX-hu.clientX)+Math.abs(i.clientY-hu.clientY)>=10};var hr=function(){return hq=true};if(dv){ho.scroller.draggable=true}hs.state.draggingText=hn;hn.copy=!hm.moveOnDrag;if(ho.scroller.dragDrop){ho.scroller.dragDrop()}ck(ho.wrapper.ownerDocument,"mouseup",hn);ck(ho.wrapper.ownerDocument,"mousemove",ht);ck(ho.scroller,"dragstart",hr);ck(ho.scroller,"drop",hn);au(hs);setTimeout(function(){return ho.input.focus()},20)}function er(hm,ho,hn){if(hn=="char"){return new ew(ho,ho)}if(hn=="word"){return hm.findWordAt(ho)}if(hn=="line"){return new ew(ad(ho.line,0),gA(hm.doc,ad(ho.line+1,0)))}var i=hn(hm,ho);return new ew(i.from,i.to)}function p(hp,hA,hn,ht){var hz=hp.display,hD=hp.doc;c9(hA);var hm,hC,hq=hD.sel,i=hq.ranges;if(ht.addNew&&!ht.extend){hC=hD.sel.contains(hn);if(hC>-1){hm=i[hC]}else{hm=new ew(hn,hn)}}else{hm=hD.sel.primary();hC=hD.sel.primIndex}if(ht.unit=="rectangle"){if(!ht.addNew){hm=new ew(hn,hn)}hn=cQ(hp,hA,true,true);hC=-1}else{var ho=er(hp,hn,ht.unit);if(ht.extend){hm=gh(hm,ho.anchor,ho.head,ht.extend)}else{hm=ho}}if(!ht.addNew){hC=0;ch(hD,new g1([hm],0),S);hq=hD.sel}else{if(hC==-1){hC=i.length;ch(hD,cZ(hp,i.concat([hm]),hC),{scroll:false,origin:"*mouse"})}else{if(i.length>1&&i[hC].empty()&&ht.unit=="char"&&!ht.extend){ch(hD,cZ(hp,i.slice(0,hC).concat(i.slice(hC+1)),0),{scroll:false,origin:"*mouse"});hq=hD.sel}else{e(hD,hC,hm,S)}}}var hy=hn;function hx(hO){if(cF(hy,hO)==0){return}hy=hO;if(ht.unit=="rectangle"){var hG=[],hL=hp.options.tabSize;var hF=ce(f2(hD,hn.line).text,hn.ch,hL);var hS=ce(f2(hD,hO.line).text,hO.ch,hL);var hH=Math.min(hF,hS),hQ=Math.max(hF,hS);for(var hT=Math.min(hn.line,hO.line),hJ=Math.min(hp.lastLine(),Math.max(hn.line,hO.line));hT<=hJ;hT++){var hR=f2(hD,hT).text,hI=e4(hR,hH,hL);if(hH==hQ){hG.push(new ew(ad(hT,hI),ad(hT,hI)))}else{if(hR.length>hI){hG.push(new ew(ad(hT,hI),ad(hT,e4(hR,hQ,hL))))}}}if(!hG.length){hG.push(new ew(hn,hn))}ch(hD,cZ(hp,hq.ranges.slice(0,hC).concat(hG),hC),{origin:"*mouse",scroll:false});hp.scrollIntoView(hO)}else{var hM=hm;var hP=er(hp,hO,ht.unit);var hK=hM.anchor,hN;if(cF(hP.anchor,hK)>0){hN=hP.head;hK=aC(hM.from(),hP.anchor)}else{hN=hP.anchor;hK=bS(hM.to(),hP.head)}var hE=hq.ranges.slice(0);hE[hC]=av(hp,new ew(gA(hD,hK),hN));ch(hD,cZ(hp,hE,hC),S)}}var hv=hz.wrapper.getBoundingClientRect();var hr=0;function hB(hG){var hE=++hr;var hI=cQ(hp,hG,true,ht.unit=="rectangle");if(!hI){return}if(cF(hI,hy)!=0){hp.curOp.focus=el();hx(hI);var hH=cu(hz,hD);if(hI.line>=hH.to||hI.line<hH.from){setTimeout(dw(hp,function(){if(hr==hE){hB(hG)}}),150)}}else{var hF=hG.clientY<hv.top?-20:hG.clientY>hv.bottom?20:0;if(hF){setTimeout(dw(hp,function(){if(hr!=hE){return}hz.scroller.scrollTop+=hF;hB(hG)}),50)}}}function hu(hE){hp.state.selectingText=false;hr=Infinity;if(hE){c9(hE);hz.input.focus()}eR(hz.wrapper.ownerDocument,"mousemove",hw);eR(hz.wrapper.ownerDocument,"mouseup",hs);hD.history.lastSelOrigin=null}var hw=dw(hp,function(hE){if(hE.buttons===0||!gG(hE)){hu(hE)}else{hB(hE)}});var hs=dw(hp,hu);hp.state.selectingText=hs;ck(hz.wrapper.ownerDocument,"mousemove",hw);ck(hz.wrapper.ownerDocument,"mouseup",hs)}function av(hz,hA){var hs=hA.anchor;var hw=hA.head;var hv=f2(hz.doc,hs.line);if(cF(hs,hw)==0&&hs.sticky==hw.sticky){return hA}var hp=a(hv);if(!hp){return hA}var hu=aT(hp,hs.ch,hs.sticky),hn=hp[hu];if(hn.from!=hs.ch&&hn.to!=hs.ch){return hA}var hm=hu+((hn.from==hs.ch)==(hn.level!=1)?0:1);if(hm==0||hm==hp.length){return hA}var ht;if(hw.line!=hs.line){ht=(hw.line-hs.line)*(hz.doc.direction=="ltr"?1:-1)>0}else{var hr=aT(hp,hw.ch,hw.sticky);var ho=hr-hu||(hw.ch-hs.ch)*(hn.level==1?-1:1);if(hr==hm-1||hr==hm){ht=ho<0}else{ht=ho>0}}var hq=hp[hm+(ht?-1:0)];var hy=ht==(hq.level==1);var i=hy?hq.from:hq.to,hx=hy?"after":"before";return hs.ch==i&&hs.sticky==hx?hA:new ew(new ad(hs.line,i,hx),hw)}function hk(hw,hs,hu,hv){var hn,hm;if(hs.touches){hn=hs.touches[0].clientX;hm=hs.touches[0].clientY}else{try{hn=hs.clientX;hm=hs.clientY}catch(hs){return false}}if(hn>=Math.floor(hw.display.gutters.getBoundingClientRect().right)){return false}if(hv){c9(hs)}var ht=hw.display;var hr=ht.lineDiv.getBoundingClientRect();if(hm>hr.bottom||!f7(hw,hu)){return b7(hs)}hm-=hr.top-ht.viewOffset;for(var hp=0;hp<hw.display.gutterSpecs.length;++hp){var hq=ht.gutters.childNodes[hp];if(hq&&hq.getBoundingClientRect().right>=hn){var hx=b2(hw.doc,hm);var ho=hw.display.gutterSpecs[hp];aP(hw,hu,hw,hx,ho.className,hs);return b7(hs)}}}function o(i,hm){return hk(i,hm,"gutterClick",true)}function aI(i,hm){if(bp(i.display,hm)||dP(i,hm)){return}if(a4(i,hm,"contextmenu")){return}if(!hb){i.display.input.onContextMenu(hm)}}function dP(i,hm){if(!f7(i,"gutterContextMenu")){return false}return hk(i,hm,"gutterContextMenu",false)}function di(i){i.display.wrapper.className=i.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+i.options.theme.replace(/(^|\s)\s*/g," cm-s-");at(i)}var cB={toString:function(){return"CodeMirror.Init"}};var fP={};var bt={};function fp(i){var hn=i.optionHandlers;function hm(ho,hr,hq,hp){i.defaults[ho]=hr;if(hq){hn[ho]=hp?function(hs,hu,ht){if(ht!=cB){hq(hs,hu,ht)}}:hq}}i.defineOption=hm;i.Init=cB;hm("value","",function(ho,hp){return ho.setValue(hp)},true);hm("mode",null,function(ho,hp){ho.doc.modeOption=hp;bL(ho)},true);hm("indentUnit",2,bL,true);hm("indentWithTabs",false);hm("smartIndent",true);hm("tabSize",4,function(ho){eZ(ho);at(ho);aq(ho)},true);hm("lineSeparator",null,function(ho,hr){ho.doc.lineSep=hr;if(!hr){return}var hq=[],hs=ho.doc.first;ho.doc.iter(function(ht){for(var hv=0;;){var hu=ht.text.indexOf(hr,hv);if(hu==-1){break}hv=hu+hr.length;hq.push(ad(hs,hu))}hs++});for(var hp=hq.length-1;hp>=0;hp--){be(ho.doc,hr,hq[hp],ad(hq[hp].line,hq[hp].ch+hr.length))}});hm("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(ho,hq,hp){ho.state.specialChars=new RegExp(hq.source+(hq.test("\t")?"":"|\t"),"g");if(hp!=cB){ho.refresh()}});hm("specialCharPlaceholder",f1,function(ho){return ho.refresh()},true);hm("electricChars",true);hm("inputStyle",eS?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},true);hm("spellcheck",false,function(ho,hp){return ho.getInputField().spellcheck=hp},true);hm("autocorrect",false,function(ho,hp){return ho.getInputField().autocorrect=hp},true);hm("autocapitalize",false,function(ho,hp){return ho.getInputField().autocapitalize=hp},true);hm("rtlMoveVisually",!a2);hm("wholeLineUpdateBefore",true);hm("theme","default",function(ho){di(ho);eO(ho)},true);hm("keyMap","default",function(ho,hs,hp){var hq=gT(hs);var hr=hp!=cB&&gT(hp);if(hr&&hr.detach){hr.detach(ho,hq)}if(hq.attach){hq.attach(ho,hr||null)}});hm("extraKeys",null);hm("configureMouse",null);hm("lineWrapping",false,fo,true);hm("gutters",[],function(ho,hp){ho.display.gutterSpecs=bf(hp,ho.options.lineNumbers);eO(ho)},true);hm("fixedGutter",true,function(ho,hp){ho.display.gutters.style.left=hp?ex(ho.display)+"px":"0";ho.refresh()},true);hm("coverGutterNextToScrollbar",false,function(ho){return fL(ho)},true);hm("scrollbarStyle","native",function(ho){aN(ho);fL(ho);ho.display.scrollbars.setScrollTop(ho.doc.scrollTop);ho.display.scrollbars.setScrollLeft(ho.doc.scrollLeft)},true);hm("lineNumbers",false,function(ho,hp){ho.display.gutterSpecs=bf(ho.options.gutters,hp);eO(ho)},true);hm("firstLineNumber",1,eO,true);hm("lineNumberFormatter",function(ho){return ho},eO,true);hm("showCursorWhenSelecting",false,bX,true);hm("resetSelectionOnContextMenu",true);hm("lineWiseCopyCut",true);hm("pasteLinesPerSelection",true);hm("selectionsMayTouch",false);hm("readOnly",false,function(ho,hp){if(hp=="nocursor"){a8(ho);ho.display.input.blur()}ho.display.input.readOnlyChanged(hp)});hm("disableInput",false,function(ho,hp){if(!hp){ho.display.input.reset()}},true);hm("dragDrop",true,gZ);hm("allowDropFileTypes",null);hm("cursorBlinkRate",530);hm("cursorScrollMargin",0);hm("cursorHeight",1,bX,true);hm("singleCursorHeightPerLine",true,bX,true);hm("workTime",100);hm("workDelay",100);hm("flattenSpans",true,eZ,true);hm("addModeClass",false,eZ,true);hm("pollInterval",100);hm("undoDepth",200,function(ho,hp){return ho.doc.history.undoDepth=hp});hm("historyEventDelay",1250);hm("viewportMargin",10,function(ho){return ho.refresh()},true);hm("maxHighlightLength",10000,eZ,true);hm("moveInputWithCursor",true,function(ho,hp){if(!hp){ho.display.input.resetPosition()}});hm("tabindex",null,function(ho,hp){return ho.display.input.getField().tabIndex=hp||""});hm("autofocus",null);hm("direction","ltr",function(ho,hp){return ho.doc.setDirection(hp)},true);hm("phrases",null)}function gZ(hm,hp,hn){var hq=hn&&hn!=cB;if(!hp!=!hq){var ho=hm.display.dragFunctions;var i=hp?ck:eR;i(hm.display.scroller,"dragstart",ho.start);i(hm.display.scroller,"dragenter",ho.enter);i(hm.display.scroller,"dragover",ho.over);i(hm.display.scroller,"dragleave",ho.leave);i(hm.display.scroller,"drop",ho.drop)}}function fo(i){if(i.options.lineWrapping){gp(i.display.wrapper,"CodeMirror-wrap");i.display.sizer.style.minWidth="";i.display.sizerWidth=null}else{h(i.display.wrapper,"CodeMirror-wrap");f(i)}ag(i);aq(i);at(i);setTimeout(function(){return fL(i)},100)}function L(hm,ho){var ht=this;if(!(this instanceof L)){return new L(hm,ho)}this.options=ho=ho?a0(ho):{};a0(fP,ho,false);var hs=ho.value;if(typeof hs=="string"){hs=new aE(hs,ho.mode,null,ho.lineSeparator,ho.direction)}else{if(ho.mode){hs.modeOption=ho.mode}}this.doc=hs;var hn=new L.inputStyles[ho.inputStyle](this);var hr=this.display=new fq(hm,hs,hn,ho);hr.wrapper.CodeMirror=this;di(this);if(ho.lineWrapping){this.display.wrapper.className+=" CodeMirror-wrap"}aN(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:false,delayingBlurEvent:false,focused:false,suppressEdits:false,pasteIncoming:-1,cutIncoming:-1,selectingText:false,draggingText:false,highlight:new hl(),keySeq:null,specialChars:null};if(ho.autofocus&&!eS){hr.input.focus()}if(eh&&n<11){setTimeout(function(){return ht.display.input.reset(true)},20)}gJ(this);bx();dd(this);this.curOp.forceUpdate=true;eN(this,hs);if((ho.autofocus&&!eS)||this.hasFocus()){setTimeout(cY(c4,this),20)}else{a8(this)}for(var hq in bt){if(bt.hasOwnProperty(hq)){bt[hq](ht,ho[hq],cB)}}eF(this);if(ho.finishInit){ho.finishInit(this)}for(var hp=0;hp<bm.length;++hp){bm[hp](ht)}ax(this);if(dv&&ho.lineWrapping&&getComputedStyle(hr.lineDiv).textRendering=="optimizelegibility"){hr.lineDiv.style.textRendering="auto"}}L.defaults=fP;L.optionHandlers=bt;function gJ(hm){var hq=hm.display;ck(hq.scroller,"mousedown",dw(hm,e9));if(eh&&n<11){ck(hq.scroller,"dblclick",dw(hm,function(hu){if(a4(hm,hu)){return}var hv=cQ(hm,hu);if(!hv||o(hm,hu)||bp(hm.display,hu)){return}c9(hu);var ht=hm.findWordAt(hv);gU(hm.doc,ht.anchor,ht.head)}))}else{ck(hq.scroller,"dblclick",function(ht){return a4(hm,ht)||c9(ht)})}ck(hq.scroller,"contextmenu",function(ht){return aI(hm,ht)});ck(hq.input.getField(),"contextmenu",function(ht){if(!hq.scroller.contains(ht.target)){aI(hm,ht)}});var hs,i={end:0};function hr(){if(hq.activeTouch){hs=setTimeout(function(){return hq.activeTouch=null},1000);i=hq.activeTouch;i.end=+new Date}}function ho(ht){if(ht.touches.length!=1){return false}var hu=ht.touches[0];return hu.radiusX<=1&&hu.radiusY<=1}function hn(hw,ht){if(ht.left==null){return true}var hv=ht.left-hw.left,hu=ht.top-hw.top;return hv*hv+hu*hu>20*20}ck(hq.scroller,"touchstart",function(hu){if(!a4(hm,hu)&&!ho(hu)&&!o(hm,hu)){hq.input.ensurePolled();clearTimeout(hs);var ht=+new Date;hq.activeTouch={start:ht,moved:false,prev:ht-i.end<=300?i:null};if(hu.touches.length==1){hq.activeTouch.left=hu.touches[0].pageX;hq.activeTouch.top=hu.touches[0].pageY}}});ck(hq.scroller,"touchmove",function(){if(hq.activeTouch){hq.activeTouch.moved=true}});ck(hq.scroller,"touchend",function(hu){var hw=hq.activeTouch;if(hw&&!bp(hq,hu)&&hw.left!=null&&!hw.moved&&new Date-hw.start<300){var hv=hm.coordsChar(hq.activeTouch,"page"),ht;if(!hw.prev||hn(hw,hw.prev)){ht=new ew(hv,hv)}else{if(!hw.prev.prev||hn(hw,hw.prev.prev)){ht=hm.findWordAt(hv)}else{ht=new ew(ad(hv.line,0),gA(hm.doc,ad(hv.line+1,0)))}}hm.setSelection(ht.anchor,ht.head);hm.focus();c9(hu)}hr()});ck(hq.scroller,"touchcancel",hr);ck(hq.scroller,"scroll",function(){if(hq.scroller.clientHeight){C(hm,hq.scroller.scrollTop);bZ(hm,hq.scroller.scrollLeft,true);aP(hm,"scroll",hm)}});ck(hq.scroller,"mousewheel",function(ht){return c(hm,ht)});ck(hq.scroller,"DOMMouseScroll",function(ht){return c(hm,ht)});ck(hq.wrapper,"scroll",function(){return hq.wrapper.scrollTop=hq.wrapper.scrollLeft=0});hq.dragFunctions={enter:function(ht){if(!a4(hm,ht)){e5(ht)}},over:function(ht){if(!a4(hm,ht)){hj(hm,ht);e5(ht)}},start:function(ht){return W(hm,ht)},drop:dw(hm,by),leave:function(ht){if(!a4(hm,ht)){dJ(hm)}}};var hp=hq.input.getField();ck(hp,"keyup",function(ht){return bv.call(hm,ht)});ck(hp,"keydown",dw(hm,s));ck(hp,"keypress",dw(hm,c0));ck(hp,"focus",function(ht){return c4(hm,ht)});ck(hp,"blur",function(ht){return a8(hm,ht)})}var bm=[];L.defineInitHook=function(i){return bm.push(i)};function al(hB,hq,hA,ho){var hz=hB.doc,hn;if(hA==null){hA="add"}if(hA=="smart"){if(!hz.mode.indent){hA="prev"}else{hn=fJ(hB,hq).state}}var hu=hB.options.tabSize;var hC=f2(hz,hq),ht=ce(hC.text,null,hu);if(hC.stateAfter){hC.stateAfter=null}var hm=hC.text.match(/^\s*/)[0],hx;if(!ho&&!/\S/.test(hC.text)){hx=0;hA="not"}else{if(hA=="smart"){hx=hz.mode.indent(hn,hC.text.slice(hm.length),hC.text);if(hx==cA||hx>150){if(!ho){return}hA="prev"}}}if(hA=="prev"){if(hq>hz.first){hx=ce(f2(hz,hq-1).text,null,hu)}else{hx=0}}else{if(hA=="add"){hx=ht+hB.options.indentUnit}else{if(hA=="subtract"){hx=ht-hB.options.indentUnit}else{if(typeof hA=="number"){hx=ht+hA}}}}hx=Math.max(0,hx);var hy="",hw=0;if(hB.options.indentWithTabs){for(var hr=Math.floor(hx/hu);hr;--hr){hw+=hu;hy+="\t"}}if(hw<hx){hy+=cS(hx-hw)}if(hy!=hm){be(hz,hy,ad(hq,0),ad(hq,hm.length),"+input");hC.stateAfter=null;return true}else{for(var hp=0;hp<hz.sel.ranges.length;hp++){var hs=hz.sel.ranges[hp];if(hs.head.line==hq&&hs.head.ch<hm.length){var hv=ad(hq,hm.length);e(hz,hp,new ew(hv,hv));break}}}}var bA=null;function dC(i){bA=i}function gV(hA,hr,hp,ho,hz){var hy=hA.doc;hA.display.shift=false;if(!ho){ho=hy.sel}var hC=+new Date-200;var hq=hz=="paste"||hA.state.pasteIncoming>hC;var ht=gL(hr),hm=null;if(hq&&ho.ranges.length>1){if(bA&&bA.text.join("\n")==hr){if(ho.ranges.length%bA.text.length==0){hm=[];for(var hs=0;hs<bA.text.length;hs++){hm.push(hy.splitLines(bA.text[hs]))}}}else{if(ht.length==ho.ranges.length&&hA.options.pasteLinesPerSelection){hm=cg(ht,function(i){return[i]})}}}var hu=hA.curOp.updateInput;for(var hn=ho.ranges.length-1;hn>=0;hn--){var hB=ho.ranges[hn];var hx=hB.from(),hw=hB.to();if(hB.empty()){if(hp&&hp>0){hx=ad(hx.line,hx.ch-hp)}else{if(hA.state.overwrite&&!hq){hw=ad(hw.line,Math.min(f2(hy,hw.line).text.length,hw.ch+gv(ht).length))}else{if(hq&&bA&&bA.lineWise&&bA.text.join("\n")==hr){hx=hw=ad(hx.line,0)}}}}var hv={from:hx,to:hw,text:hm?hm[hn%hm.length]:ht,origin:hz||(hq?"paste":hA.state.cutIncoming>hC?"cut":"+input")};bu(hA.doc,hv);an(hA,"inputRead",hA,hv)}if(hr&&!hq){gR(hA,hr)}gu(hA);if(hA.curOp.updateInput<2){hA.curOp.updateInput=hu}hA.curOp.typing=true;hA.state.pasteIncoming=hA.state.cutIncoming=-1}function bo(hn,i){var hm=hn.clipboardData&&hn.clipboardData.getData("Text");if(hm){hn.preventDefault();if(!i.isReadOnly()&&!i.options.disableInput){dh(i,function(){return gV(i,hm,0,null,"paste")})}return true}}function gR(hm,hp){if(!hm.options.electricChars||!hm.options.smartIndent){return}var hq=hm.doc.sel;for(var ho=hq.ranges.length-1;ho>=0;ho--){var hs=hq.ranges[ho];if(hs.head.ch>100||(ho&&hq.ranges[ho-1].head.line==hs.head.line)){continue}var hr=hm.getModeAt(hs.head);var ht=false;if(hr.electricChars){for(var hn=0;hn<hr.electricChars.length;hn++){if(hp.indexOf(hr.electricChars.charAt(hn))>-1){ht=al(hm,hs.head.line,"smart");break}}}else{if(hr.electricInput){if(hr.electricInput.test(f2(hm.doc,hs.head.line).text.slice(0,hs.head.ch))){ht=al(hm,hs.head.line,"smart")}}}if(ht){an(hm,"electricInput",hm,hs.head.line)}}}function dQ(hm){var hr=[],ho=[];for(var hp=0;hp<hm.doc.sel.ranges.length;hp++){var hn=hm.doc.sel.ranges[hp].head.line;var hq={anchor:ad(hn,0),head:ad(hn+1,0)};ho.push(hq);hr.push(hm.getRange(hq.anchor,hq.head))}return{text:hr,ranges:ho}}function gH(ho,hm,i,hn){ho.setAttribute("autocorrect",i?"":"off");ho.setAttribute("autocapitalize",hn?"":"off");ho.setAttribute("spellcheck",!!hm)}function ba(){var i=g2("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none");var hm=g2("div",[i],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");if(dv){i.style.width="1000px"}else{i.setAttribute("wrap","off")}if(fO){i.style.border="1px solid black"}gH(i);return hm}function em(i){var hm=i.optionHandlers;var hn=i.helpers={};i.prototype={constructor:i,focus:function(){window.focus();this.display.input.focus()},setOption:function(hq,hr){var hp=this.options,ho=hp[hq];if(hp[hq]==hr&&hq!="mode"){return}hp[hq]=hr;if(hm.hasOwnProperty(hq)){dw(this,hm[hq])(this,hr,ho)}aP(this,"optionChange",this,hq)},getOption:function(ho){return this.options[ho]},getDoc:function(){return this.doc},addKeyMap:function(hp,ho){this.state.keyMaps[ho?"push":"unshift"](gT(hp))},removeKeyMap:function(hp){var hq=this.state.keyMaps;for(var ho=0;ho<hq.length;++ho){if(hq[ho]==hp||hq[ho].name==hp){hq.splice(ho,1);return true}}},addOverlay:dG(function(ho,hp){var hq=ho.token?ho:i.getMode(this.options,ho);if(hq.startState){throw new Error("Overlays may not be stateful.")}cy(this.state.overlays,{mode:hq,modeSpec:ho,opaque:hp&&hp.opaque,priority:(hp&&hp.priority)||0},function(hr){return hr.priority});this.state.modeGen++;aq(this)}),removeOverlay:dG(function(ho){var hs=this;var hq=this.state.overlays;for(var hp=0;hp<hq.length;++hp){var hr=hq[hp].modeSpec;if(hr==ho||typeof ho=="string"&&hr.name==ho){hq.splice(hp,1);hs.state.modeGen++;aq(hs);return}}}),indentLine:dG(function(hq,ho,hp){if(typeof ho!="string"&&typeof ho!="number"){if(ho==null){ho=this.options.smartIndent?"smart":"prev"}else{ho=ho?"add":"subtract"}}if(cx(this.doc,hq)){al(this,hq,ho,hp)}}),indentSelection:dG(function(hx){var hu=this;var ho=this.doc.sel.ranges,hr=-1;for(var ht=0;ht<ho.length;ht++){var hy=ho[ht];if(!hy.empty()){var hv=hy.from(),hw=hy.to();var hp=Math.max(hr,hv.line);hr=Math.min(hu.lastLine(),hw.line-(hw.ch?0:1))+1;for(var hs=hp;hs<hr;++hs){al(hu,hs,hx)}var hq=hu.doc.sel.ranges;if(hv.ch==0&&ho.length==hq.length&&hq[ht].from().ch>0){e(hu.doc,ht,new ew(hv,hq[ht].to()),ai)}}else{if(hy.head.line>hr){al(hu,hy.head.line,hx,true);hr=hy.head.line;if(ht==hu.doc.sel.primIndex){gu(hu)}}}}}),getTokenAt:function(hp,ho){return cT(this,hp,ho)},getLineTokens:function(hp,ho){return cT(this,ad(hp),ho,true)},getTokenTypeAt:function(hv){hv=gA(this.doc,hv);var hr=dE(this,f2(this.doc,hv.line));var ht=0,hu=(hr.length-1)/2,hq=hv.ch;var hp;if(hq==0){hp=hr[2]}else{for(;;){var ho=(ht+hu)>>1;if((ho?hr[ho*2-1]:0)>=hq){hu=ho}else{if(hr[ho*2+1]<hq){ht=ho+1}else{hp=hr[ho*2+2];break}}}}var hs=hp?hp.indexOf("overlay "):-1;return hs<0?hp:hs==0?null:hp.slice(0,hs-1)},getModeAt:function(hp){var ho=this.doc.mode;if(!ho.innerMode){return ho}return i.innerMode(ho,this.getTokenAt(hp).state).mode},getHelper:function(hp,ho){return this.getHelpers(hp,ho)[0]},getHelpers:function(hv,hu){var hs=this;var hx=[];if(!hn.hasOwnProperty(hu)){return hx}var hq=hn[hu],ht=this.getModeAt(hv);if(typeof ht[hu]=="string"){if(hq[ht[hu]]){hx.push(hq[ht[hu]])}}else{if(ht[hu]){for(var hr=0;hr<ht[hu].length;hr++){var hp=hq[ht[hu][hr]];if(hp){hx.push(hp)}}}else{if(ht.helperType&&hq[ht.helperType]){hx.push(hq[ht.helperType])}else{if(hq[ht.name]){hx.push(hq[ht.name])}}}}for(var ho=0;ho<hq._global.length;ho++){var hw=hq._global[ho];if(hw.pred(ht,hs)&&dR(hx,hw.val)==-1){hx.push(hw.val)}}return hx},getStateAfter:function(hp,ho){var hq=this.doc;hp=dA(hq,hp==null?hq.first+hq.size-1:hp);return fJ(this,hp+1,ho).state},cursorCoords:function(hr,hp){var hq,ho=this.doc.sel.primary();if(hr==null){hq=ho.head}else{if(typeof hr=="object"){hq=gA(this.doc,hr)}else{hq=hr?ho.from():ho.to()}}return et(this,hq,hp||"page")},charCoords:function(hp,ho){return de(this,gA(this.doc,hp),ho||"page")},coordsChar:function(ho,hp){ho=hh(this,ho,hp||"page");return gI(this,ho.left,ho.top)},lineAtHeight:function(ho,hp){ho=hh(this,{top:ho,left:0},hp||"page").top;return b2(this.doc,ho+this.display.viewOffset)},heightAtLine:function(hp,ht,hs){var ho=false,hq;if(typeof hp=="number"){var hr=this.doc.first+this.doc.size-1;if(hp<this.doc.first){hp=this.doc.first}else{if(hp>hr){hp=hr;ho=true}}hq=f2(this.doc,hp)}else{hq=hp}return fB(this,hq,{top:0,left:0},ht||"page",hs||ho).top+(ho?this.doc.height-b8(hq):0)},defaultTextHeight:function(){return bb(this.display)},defaultCharWidth:function(){return d9(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(ht,hq,hv,hr,hx){var hs=this.display;ht=et(this,gA(this.doc,ht));var hu=ht.bottom,hp=ht.left;hq.style.position="absolute";hq.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(hq);hs.sizer.appendChild(hq);if(hr=="over"){hu=ht.top}else{if(hr=="above"||hr=="near"){var ho=Math.max(hs.wrapper.clientHeight,this.doc.height),hw=Math.max(hs.sizer.clientWidth,hs.lineSpace.clientWidth);if((hr=="above"||ht.bottom+hq.offsetHeight>ho)&&ht.top>hq.offsetHeight){hu=ht.top-hq.offsetHeight}else{if(ht.bottom+hq.offsetHeight<=ho){hu=ht.bottom}}if(hp+hq.offsetWidth>hw){hp=hw-hq.offsetWidth}}}hq.style.top=hu+"px";hq.style.left=hq.style.right="";if(hx=="right"){hp=hs.sizer.clientWidth-hq.offsetWidth;hq.style.right="0px"}else{if(hx=="left"){hp=0}else{if(hx=="middle"){hp=(hs.sizer.clientWidth-hq.offsetWidth)/2}}hq.style.left=hp+"px"}if(hv){I(this,{left:hp,top:hu,right:hp+hq.offsetWidth,bottom:hu+hq.offsetHeight})}},triggerOnKeyDown:dG(s),triggerOnKeyPress:dG(c0),triggerOnKeyUp:bv,triggerOnMouseDown:dG(e9),execCommand:function(ho){if(fk.hasOwnProperty(ho)){return fk[ho].call(null,this)}},triggerElectric:dG(function(ho){gR(this,ho)}),findPosH:function(hv,hr,hs,hp){var hu=this;var ho=1;if(hr<0){ho=-1;hr=-hr}var ht=gA(this.doc,hv);for(var hq=0;hq<hr;++hq){ht=bQ(hu.doc,ht,ho,hs,hp);if(ht.hitSide){break}}return ht},moveH:dG(function(ho,hp){var hq=this;this.extendSelectionsBy(function(hr){if(hq.display.shift||hq.doc.extend||hr.empty()){return bQ(hq.doc,hr.head,ho,hp,hq.options.rtlMoveVisually)}else{return ho<0?hr.from():hr.to()}},dr)}),deleteH:dG(function(ho,hp){var hq=this.doc.sel,hr=this.doc;if(hq.somethingSelected()){hr.replaceSelection("",null,"+delete")}else{fK(this,function(ht){var hs=bQ(hr,ht.head,ho,hp,false);return ho<0?{from:hs,to:ht.head}:{from:ht.head,to:hs}})}}),findPosV:function(hu,hr,hv,hx){var hq=this;var ho=1,ht=hx;if(hr<0){ho=-1;hr=-hr}var hw=gA(this.doc,hu);for(var hp=0;hp<hr;++hp){var hs=et(hq,hw,"div");if(ht==null){ht=hs.left}else{hs.left=ht}hw=bK(hq,hs,ho,hv);if(hw.hitSide){break}}return hw},moveV:dG(function(ho,hq){var hu=this;var hs=this.doc,hr=[];var ht=!this.display.shift&&!hs.extend&&hs.sel.somethingSelected();hs.extendSelectionsBy(function(hv){if(ht){return ho<0?hv.from():hv.to()}var hx=et(hu,hv.head,"div");if(hv.goalColumn!=null){hx.left=hv.goalColumn}hr.push(hx.left);var hw=bK(hu,hx,ho,hq);if(hq=="page"&&hv==hs.sel.primary()){db(hu,de(hu,hw,"div").top-hx.top)}return hw},dr);if(hr.length){for(var hp=0;hp<hs.sel.ranges.length;hp++){hs.sel.ranges[hp].goalColumn=hr[hp]}}}),findWordAt:function(hv){var ht=this.doc,hr=f2(ht,hv.line).text;var hu=hv.ch,hq=hv.ch;if(hr){var hs=this.getHelper(hv,"wordChars");if((hv.sticky=="before"||hq==hr.length)&&hu){--hu}else{++hq}var hp=hr.charAt(hu);var ho=c3(hp,hs)?function(hw){return c3(hw,hs)}:/\s/.test(hp)?function(hw){return/\s/.test(hw)}:function(hw){return(!/\s/.test(hw)&&!c3(hw))};while(hu>0&&ho(hr.charAt(hu-1))){--hu}while(hq<hr.length&&ho(hr.charAt(hq))){++hq}}return new ew(ad(hv.line,hu),ad(hv.line,hq))},toggleOverwrite:function(ho){if(ho!=null&&ho==this.state.overwrite){return}if(this.state.overwrite=!this.state.overwrite){gp(this.display.cursorDiv,"CodeMirror-overwrite")}else{h(this.display.cursorDiv,"CodeMirror-overwrite")}aP(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==el()},isReadOnly:function(){return !!(this.options.readOnly||this.doc.cantEdit)},scrollTo:dG(function(ho,hp){fw(this,ho,hp)}),getScrollInfo:function(){var ho=this.display.scroller;return{left:ho.scrollLeft,top:ho.scrollTop,height:ho.scrollHeight-dn(this)-this.display.barHeight,width:ho.scrollWidth-dn(this)-this.display.barWidth,clientHeight:dq(this),clientWidth:dU(this)}},scrollIntoView:dG(function(hp,ho){if(hp==null){hp={from:this.doc.sel.primary().head,to:null};if(ho==null){ho=this.options.cursorScrollMargin}}else{if(typeof hp=="number"){hp={from:ad(hp,0),to:null}}else{if(hp.from==null){hp={from:hp,to:null}}}}if(!hp.to){hp.to=hp.from}hp.margin=ho||0;if(hp.from.line!=null){cC(this,hp)}else{cc(this,hp.from,hp.to,hp.margin)}}),setSize:dG(function(hr,ho){var hs=this;var hq=function(ht){return typeof ht=="number"||/^\d+$/.test(String(ht))?ht+"px":ht};if(hr!=null){this.display.wrapper.style.width=hq(hr)}if(ho!=null){this.display.wrapper.style.height=hq(ho)}if(this.options.lineWrapping){a1(this)}var hp=this.display.viewFrom;this.doc.iter(hp,this.display.viewTo,function(ht){if(ht.widgets){for(var hu=0;hu<ht.widgets.length;hu++){if(ht.widgets[hu].noHScroll){Y(hs,hp,"widget");break}}}++hp});this.curOp.forceUpdate=true;aP(this,"refresh",this)}),operation:function(ho){return dh(this,ho)},startOperation:function(){return dd(this)},endOperation:function(){return ax(this)},refresh:dG(function(){var ho=this.display.cachedTextHeight;aq(this);this.curOp.forceUpdate=true;at(this);fw(this,this.doc.scrollLeft,this.doc.scrollTop);dz(this.display);if(ho==null||Math.abs(ho-bb(this.display))>0.5){ag(this)}aP(this,"refresh",this)}),swapDoc:dG(function(hp){var ho=this.doc;ho.cm=null;if(this.state.selectingText){this.state.selectingText()}eN(this,hp);at(this);this.display.input.reset();fw(this,hp.scrollLeft,hp.scrollTop);this.curOp.forceScroll=true;an(this,"swapDoc",this,ho);return ho}),phrase:function(hp){var ho=this.options.phrases;return ho&&Object.prototype.hasOwnProperty.call(ho,hp)?ho[hp]:hp},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};bU(i);i.registerHelper=function(hp,ho,hq){if(!hn.hasOwnProperty(hp)){hn[hp]=i[hp]={_global:[]}}hn[hp][ho]=hq};i.registerGlobalHelper=function(hq,hp,ho,hr){i.registerHelper(hq,hp,hr);hn[hq]._global.push({pred:ho,val:hr})}}function bQ(hC,hq,hw,hv,hs){var hx=hq;var hB=hw;var hm=f2(hC,hq.line);var hp=hs&&hC.direction=="rtl"?-hw:hw;function hA(){var hD=hq.line+hp;if(hD<hC.first||hD>=hC.first+hC.size){return false}hq=new ad(hD,hq.ch,hq.sticky);return hm=f2(hC,hD)}function hz(hE){var hD;if(hs){hD=w(hC.cm,hm,hq,hw)}else{hD=ar(hm,hq,hw)}if(hD==null){if(!hE&&hA()){hq=ff(hs,hC.cm,hm,hq.line,hp)}else{return false}}else{hq=hD}return true}if(hv=="char"){hz()}else{if(hv=="column"){hz(true)}else{if(hv=="word"||hv=="group"){var hy=null,ht=hv=="group";var i=hC.cm&&hC.cm.getHelper(hq,"wordChars");for(var hr=true;;hr=false){if(hw<0&&!hz(!hr)){break}var hn=hm.text.charAt(hq.ch)||"\n";var ho=c3(hn,i)?"w":ht&&hn=="\n"?"n":!ht||/\s/.test(hn)?null:"p";if(ht&&!hr&&!ho){ho="s"}if(hy&&hy!=ho){if(hw<0){hw=1;hz();hq.sticky="after"}break}if(ho){hy=ho}if(hw>0&&!hz(!hr)){break}}}}}var hu=ci(hC,hq,hx,hB,true);if(ae(hx,hu)){hu.hitSide=true}return hu}function bK(hu,hp,hm,ht){var hs=hu.doc,hr=hp.left,hq;if(ht=="page"){var ho=Math.min(hu.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);var i=Math.max(ho-0.5*bb(hu.display),3);hq=(hm>0?hp.bottom:hp.top)+hm*i}else{if(ht=="line"){hq=hm>0?hp.bottom+3:hp.top-3}}var hn;for(;;){hn=gI(hu,hr,hq);if(!hn.outside){break}if(hm<0?hq<=0:hq>=hs.height){hn.hitSide=true;break}hq+=hm*5}return hn}var d3=function(i){this.cm=i;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new hl();this.composing=null;this.gracePeriod=false;this.readDOMTimeout=null};d3.prototype.init=function(ho){var hq=this;var hn=this,i=hn.cm;var hp=hn.div=ho.lineDiv;gH(hp,i.options.spellcheck,i.options.autocorrect,i.options.autocapitalize);ck(hp,"paste",function(hr){if(a4(i,hr)||bo(hr,i)){return}if(n<=11){setTimeout(dw(i,function(){return hq.updateFromDOM()}),20)}});ck(hp,"compositionstart",function(hr){hq.composing={data:hr.data,done:false}});ck(hp,"compositionupdate",function(hr){if(!hq.composing){hq.composing={data:hr.data,done:false}}});ck(hp,"compositionend",function(hr){if(hq.composing){if(hr.data!=hq.composing.data){hq.readFromDOMSoon()}hq.composing.done=true}});ck(hp,"touchstart",function(){return hn.forceCompositionEnd()});ck(hp,"input",function(){if(!hq.composing){hq.readFromDOMSoon()}});function hm(hv){if(a4(i,hv)){return}if(i.somethingSelected()){dC({lineWise:false,text:i.getSelections()});if(hv.type=="cut"){i.replaceSelection("",null,"cut")}}else{if(!i.options.lineWiseCopyCut){return}else{var hs=dQ(i);dC({lineWise:true,text:hs.text});if(hv.type=="cut"){i.operation(function(){i.setSelections(hs.ranges,0,ai);i.replaceSelection("",null,"cut")})}}}if(hv.clipboardData){hv.clipboardData.clearData();var hu=bA.text.join("\n");hv.clipboardData.setData("Text",hu);if(hv.clipboardData.getData("Text")==hu){hv.preventDefault();return}}var ht=ba(),hw=ht.firstChild;i.display.lineSpace.insertBefore(ht,i.display.lineSpace.firstChild);hw.value=bA.text.join("\n");var hr=document.activeElement;ei(hw);setTimeout(function(){i.display.lineSpace.removeChild(ht);hr.focus();if(hr==hp){hn.showPrimarySelection()}},50)}ck(hp,"copy",hm);ck(hp,"cut",hm)};d3.prototype.prepareSelection=function(){var i=gy(this.cm,false);i.focus=this.cm.state.focused;return i};d3.prototype.showSelection=function(hm,i){if(!hm||!this.cm.display.view.length){return}if(hm.focus||i){this.showPrimarySelection()}this.showMultipleSelections(hm)};d3.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()};d3.prototype.showPrimarySelection=function(){var ho=this.getSelection(),hy=this.cm,hr=hy.doc.sel.primary();var hw=hr.from(),hx=hr.to();if(hy.display.viewTo==hy.display.viewFrom||hw.line>=hy.display.viewTo||hx.line<hy.display.viewFrom){ho.removeAllRanges();return}var hp=aJ(hy,ho.anchorNode,ho.anchorOffset);var ht=aJ(hy,ho.focusNode,ho.focusOffset);if(hp&&!hp.bad&&ht&&!ht.bad&&cF(aC(hp,ht),hw)==0&&cF(bS(hp,ht),hx)==0){return}var hv=hy.display.view;var hn=(hw.line>=hy.display.viewFrom&&c2(hy,hw))||{node:hv[0].measure.map[2],offset:0};var hs=hx.line<hy.display.viewTo&&c2(hy,hx);if(!hs){var hm=hv[hv.length-1].measure;var hz=hm.maps?hm.maps[hm.maps.length-1]:hm.map;hs={node:hz[hz.length-1],offset:hz[hz.length-2]-hz[hz.length-3]}}if(!hn||!hs){ho.removeAllRanges();return}var hq=ho.rangeCount&&ho.getRangeAt(0),i;try{i=cO(hn.node,hn.offset,hs.offset,hs.node)}catch(hu){}if(i){if(!cR&&hy.state.focused){ho.collapse(hn.node,hn.offset);if(!i.collapsed){ho.removeAllRanges();ho.addRange(i)}}else{ho.removeAllRanges();ho.addRange(i)}if(hq&&ho.anchorNode==null){ho.addRange(hq)}else{if(cR){this.startGracePeriod()}}}this.rememberSelection()};d3.prototype.startGracePeriod=function(){var i=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){i.gracePeriod=false;if(i.selectionChanged()){i.cm.operation(function(){return i.cm.curOp.selectionChanged=true})}},20)};d3.prototype.showMultipleSelections=function(i){cf(this.cm.display.cursorDiv,i.cursors);cf(this.cm.display.selectionDiv,i.selection)};d3.prototype.rememberSelection=function(){var i=this.getSelection();this.lastAnchorNode=i.anchorNode;this.lastAnchorOffset=i.anchorOffset;this.lastFocusNode=i.focusNode;this.lastFocusOffset=i.focusOffset};d3.prototype.selectionInEditor=function(){var hm=this.getSelection();if(!hm.rangeCount){return false}var i=hm.getRangeAt(0).commonAncestorContainer;return hc(this.div,i)};d3.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"){if(!this.selectionInEditor()){this.showSelection(this.prepareSelection(),true)}this.div.focus()}};d3.prototype.blur=function(){this.div.blur()};d3.prototype.getField=function(){return this.div};d3.prototype.supportsTouch=function(){return true};d3.prototype.receivedFocus=function(){var i=this;if(this.selectionInEditor()){this.pollSelection()}else{dh(this.cm,function(){return i.cm.curOp.selectionChanged=true})}function hm(){if(i.cm.state.focused){i.pollSelection();i.polling.set(i.cm.options.pollInterval,hm)}}this.polling.set(this.cm.options.pollInterval,hm)};d3.prototype.selectionChanged=function(){var i=this.getSelection();return i.anchorNode!=this.lastAnchorNode||i.anchorOffset!=this.lastAnchorOffset||i.focusNode!=this.lastFocusNode||i.focusOffset!=this.lastFocusOffset};d3.prototype.pollSelection=function(){if(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged()){return}var ho=this.getSelection(),i=this.cm;if(aZ&&dL&&this.cm.display.gutterSpecs.length&&g3(ho.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs});this.blur();this.focus();return}if(this.composing){return}this.rememberSelection();var hm=aJ(i,ho.anchorNode,ho.anchorOffset);var hn=aJ(i,ho.focusNode,ho.focusOffset);if(hm&&hn){dh(i,function(){ch(i.doc,fC(hm,hn),ai);if(hm.bad||hn.bad){i.curOp.selectionChanged=true}})}};d3.prototype.pollContent=function(){if(this.readDOMTimeout!=null){clearTimeout(this.readDOMTimeout);this.readDOMTimeout=null}var hv=this.cm,hF=hv.display,hD=hv.doc.sel.primary();var hE=hD.from(),hp=hD.to();if(hE.ch==0&&hE.line>hv.firstLine()){hE=ad(hE.line-1,f2(hv.doc,hE.line-1).length)}if(hp.ch==f2(hv.doc,hp.line).text.length&&hp.line<hv.lastLine()){hp=ad(hp.line+1,0)}if(hE.line<hF.viewFrom||hp.line>hF.viewTo-1){return false}var hs,hq,hu;if(hE.line==hF.viewFrom||(hs=d0(hv,hE.line))==0){hq=b9(hF.view[0].line);hu=hF.view[0].node}else{hq=b9(hF.view[hs].line);hu=hF.view[hs-1].node.nextSibling}var hC=d0(hv,hp.line);var hx,hA;if(hC==hF.view.length-1){hx=hF.viewTo-1;hA=hF.lineDiv.lastChild}else{hx=b9(hF.view[hC+1].line)-1;hA=hF.view[hC+1].node.previousSibling}if(!hu){return false}var hG=hv.doc.splitLines(gY(hv,hu,hA,hq,hx));var hz=g4(hv.doc,ad(hq,0),ad(hx,f2(hv.doc,hx).text.length));while(hG.length>1&&hz.length>1){if(gv(hG)==gv(hz)){hG.pop();hz.pop();hx--}else{if(hG[0]==hz[0]){hG.shift();hz.shift();hq++}else{break}}}var hB=0,hn=0;var hw=hG[0],hm=hz[0],i=Math.min(hw.length,hm.length);while(hB<i&&hw.charCodeAt(hB)==hm.charCodeAt(hB)){++hB}var ht=gv(hG),hH=gv(hz);var ho=Math.min(ht.length-(hG.length==1?hB:0),hH.length-(hz.length==1?hB:0));while(hn<ho&&ht.charCodeAt(ht.length-hn-1)==hH.charCodeAt(hH.length-hn-1)){++hn}if(hG.length==1&&hz.length==1&&hq==hE.line){while(hB&&hB>hE.ch&&ht.charCodeAt(ht.length-hn-1)==hH.charCodeAt(hH.length-hn-1)){hB--;hn++}}hG[hG.length-1]=ht.slice(0,ht.length-hn).replace(/^\u200b+/,"");hG[0]=hG[0].slice(hB).replace(/\u200b+$/,"");var hr=ad(hq,hB);var hy=ad(hx,hz.length?gv(hz).length-hn:0);if(hG.length>1||hG[0]||cF(hr,hy)){be(hv.doc,hG,hr,hy,"+input");return true}};d3.prototype.ensurePolled=function(){this.forceCompositionEnd()};d3.prototype.reset=function(){this.forceCompositionEnd()};d3.prototype.forceCompositionEnd=function(){if(!this.composing){return}clearTimeout(this.readDOMTimeout);this.composing=null;this.updateFromDOM();this.div.blur();this.div.focus()};d3.prototype.readFromDOMSoon=function(){var i=this;if(this.readDOMTimeout!=null){return}this.readDOMTimeout=setTimeout(function(){i.readDOMTimeout=null;if(i.composing){if(i.composing.done){i.composing=null}else{return}}i.updateFromDOM()},80)};d3.prototype.updateFromDOM=function(){var i=this;if(this.cm.isReadOnly()||!this.pollContent()){dh(this.cm,function(){return aq(i.cm)})}};d3.prototype.setUneditable=function(i){i.contentEditable="false"};d3.prototype.onKeyPress=function(i){if(i.charCode==0||this.composing){return}i.preventDefault();if(!this.cm.isReadOnly()){dw(this.cm,gV)(this.cm,String.fromCharCode(i.charCode==null?i.keyCode:i.charCode),0)}};d3.prototype.readOnlyChanged=function(i){this.div.contentEditable=String(i!="nocursor")};d3.prototype.onContextMenu=function(){};d3.prototype.resetPosition=function(){};d3.prototype.needsContentAttribute=true;function c2(hr,hp){var hq=fZ(hr,hp.line);if(!hq||hq.hidden){return null}var ht=f2(hr.doc,hp.line);var hm=cW(hq,ht,hp.line);var hn=a(ht,hr.doc.direction),ho="left";if(hn){var i=aT(hn,hp.ch);ho=i%2?"right":"left"}var hs=aW(hm.map,hp.ch,ho);hs.offset=hs.collapse=="right"?hs.end:hs.start;return hs}function g3(hm){for(var i=hm;i;i=i.parentNode){if(/CodeMirror-gutter-wrapper/.test(i.className)){return true}}return false}function e6(hm,i){if(i){hm.bad=true}return hm}function gY(hu,hs,ht,ho,hm){var hw="",hn=false,i=hu.doc.lineSeparator(),hp=false;function hq(hy){return function(hz){return hz.id==hy}}function hx(){if(hn){hw+=i;if(hp){hw+=i}hn=hp=false}}function hv(hy){if(hy){hx();hw+=hy}}function hr(hC){if(hC.nodeType==1){var hz=hC.getAttribute("cm-text");if(hz){hv(hz);return}var hB=hC.getAttribute("cm-marker"),hE;if(hB){var hD=hu.findMarks(ad(ho,0),ad(hm+1,0),hq(+hB));if(hD.length&&(hE=hD[0].find(0))){hv(g4(hu.doc,hE.from,hE.to).join(i))}return}if(hC.getAttribute("contenteditable")=="false"){return}var hy=/^(pre|div|p|li|table|br)$/i.test(hC.nodeName);if(!/^br$/i.test(hC.nodeName)&&hC.textContent.length==0){return}if(hy){hx()}for(var hA=0;hA<hC.childNodes.length;hA++){hr(hC.childNodes[hA])}if(/^(pre|p)$/i.test(hC.nodeName)){hp=true}if(hy){hn=true}}else{if(hC.nodeType==3){hv(hC.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}}}for(;;){hr(hs);if(hs==ht){break}hs=hs.nextSibling;hp=false}return hw}function aJ(hm,hp,hr){var hq;if(hp==hm.display.lineDiv){hq=hm.display.lineDiv.childNodes[hr];if(!hq){return e6(hm.clipPos(ad(hm.display.viewTo-1)),true)}hp=null;hr=0}else{for(hq=hp;;hq=hq.parentNode){if(!hq||hq==hm.display.lineDiv){return null}if(hq.parentNode&&hq.parentNode==hm.display.lineDiv){break}}}for(var ho=0;ho<hm.display.view.length;ho++){var hn=hm.display.view[ho];if(hn.node==hq){return aj(hn,hp,hr)}}}function aj(hu,hq,hs){var hn=hu.text.firstChild,hp=false;if(!hq||!hc(hn,hq)){return e6(ad(b9(hu.line),0),true)}if(hq==hn){hp=true;hq=hn.childNodes[hs];hs=0;if(!hq){var hA=hu.rest?gv(hu.rest):hu.line;return e6(ad(b9(hA),hA.text.length),hp)}}var hr=hq.nodeType==3?hq:null,hy=hq;if(!hr&&hq.childNodes.length==1&&hq.firstChild.nodeType==3){hr=hq.firstChild;if(hs){hs=hr.nodeValue.length}}while(hy.parentNode!=hn){hy=hy.parentNode}var hm=hu.measure,hw=hm.maps;function ht(hC,hH,hE){for(var hG=-1;hG<(hw?hw.length:0);hG++){var hI=hG<0?hm.map:hw[hG];for(var hF=0;hF<hI.length;hF+=3){var hD=hI[hF+2];if(hD==hC||hD==hH){var hJ=b9(hG<0?hu.line:hu.rest[hG]);var hB=hI[hF]+hE;if(hE<0||hD!=hC){hB=hI[hF+(hE?1:0)]}return ad(hJ,hB)}}}}var hz=ht(hr,hy,hs);if(hz){return e6(hz,hp)}for(var i=hy.nextSibling,hv=hr?hr.nodeValue.length-hs:0;i;i=i.nextSibling){hz=ht(i,i.firstChild,0);if(hz){return e6(ad(hz.line,hz.ch-hv),hp)}else{hv+=i.textContent.length}}for(var hx=hy.previousSibling,ho=hs;hx;hx=hx.previousSibling){hz=ht(hx,hx.firstChild,-1);if(hz){return e6(ad(hz.line,hz.ch+ho),hp)}else{ho+=hx.textContent.length}}}var af=function(i){this.cm=i;this.prevInput="";this.pollingFast=false;this.polling=new hl();this.hasSelection=false;this.composing=null};af.prototype.init=function(hn){var hq=this;var hm=this,i=this.cm;this.createField(hn);var ho=this.textarea;hn.wrapper.insertBefore(this.wrapper,hn.wrapper.firstChild);if(fO){ho.style.width="0px"}ck(ho,"input",function(){if(eh&&n>=9&&hq.hasSelection){hq.hasSelection=null}hm.poll()});ck(ho,"paste",function(hr){if(a4(i,hr)||bo(hr,i)){return}i.state.pasteIncoming=+new Date;hm.fastPoll()});function hp(hs){if(a4(i,hs)){return}if(i.somethingSelected()){dC({lineWise:false,text:i.getSelections()})}else{if(!i.options.lineWiseCopyCut){return}else{var hr=dQ(i);dC({lineWise:true,text:hr.text});if(hs.type=="cut"){i.setSelections(hr.ranges,null,ai)}else{hm.prevInput="";ho.value=hr.text.join("\n");ei(ho)}}}if(hs.type=="cut"){i.state.cutIncoming=+new Date}}ck(ho,"cut",hp);ck(ho,"copy",hp);ck(hn.scroller,"paste",function(hs){if(bp(hn,hs)||a4(i,hs)){return}if(!ho.dispatchEvent){i.state.pasteIncoming=+new Date;hm.focus();return}var hr=new Event("paste");hr.clipboardData=hs.clipboardData;ho.dispatchEvent(hr)});ck(hn.lineSpace,"selectstart",function(hr){if(!bp(hn,hr)){c9(hr)}});ck(ho,"compositionstart",function(){var hr=i.getCursor("from");if(hm.composing){hm.composing.range.clear()}hm.composing={start:hr,range:i.markText(hr,i.getCursor("to"),{className:"CodeMirror-composing"})}});ck(ho,"compositionend",function(){if(hm.composing){hm.poll();hm.composing.range.clear();hm.composing=null}})};af.prototype.createField=function(i){this.wrapper=ba();this.textarea=this.wrapper.firstChild};af.prototype.prepareSelection=function(){var hm=this.cm,hq=hm.display,hp=hm.doc;var i=gy(hm);if(hm.options.moveInputWithCursor){var hr=et(hm,hp.sel.primary().head,"div");var hn=hq.wrapper.getBoundingClientRect(),ho=hq.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(hq.wrapper.clientHeight-10,hr.top+ho.top-hn.top));i.teLeft=Math.max(0,Math.min(hq.wrapper.clientWidth-10,hr.left+ho.left-hn.left))}return i};af.prototype.showSelection=function(hn){var i=this.cm,hm=i.display;cf(hm.cursorDiv,hn.cursors);cf(hm.selectionDiv,hn.selection);if(hn.teTop!=null){this.wrapper.style.top=hn.teTop+"px";this.wrapper.style.left=hn.teLeft+"px"}};af.prototype.reset=function(hm){if(this.contextMenuPending||this.composing){return}var i=this.cm;if(i.somethingSelected()){this.prevInput="";var hn=i.getSelection();this.textarea.value=hn;if(i.state.focused){ei(this.textarea)}if(eh&&n>=9){this.hasSelection=hn}}else{if(!hm){this.prevInput=this.textarea.value="";if(eh&&n>=9){this.hasSelection=null}}}};af.prototype.getField=function(){return this.textarea};af.prototype.supportsTouch=function(){return false};af.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!eS||el()!=this.textarea)){try{this.textarea.focus()}catch(i){}}};af.prototype.blur=function(){this.textarea.blur()};af.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0};af.prototype.receivedFocus=function(){this.slowPoll()};af.prototype.slowPoll=function(){var i=this;if(this.pollingFast){return}this.polling.set(this.cm.options.pollInterval,function(){i.poll();if(i.cm.state.focused){i.slowPoll()}})};af.prototype.fastPoll=function(){var hm=false,i=this;i.pollingFast=true;function hn(){var ho=i.poll();if(!ho&&!hm){hm=true;i.polling.set(60,hn)}else{i.pollingFast=false;i.slowPoll()}}i.polling.set(20,hn)};af.prototype.poll=function(){var hs=this;var i=this.cm,hn=this.textarea,ho=this.prevInput;if(this.contextMenuPending||!i.state.focused||(bM(hn)&&!ho&&!this.composing)||i.isReadOnly()||i.options.disableInput||i.state.keySeq){return false}var hq=hn.value;if(hq==ho&&!i.somethingSelected()){return false}if(eh&&n>=9&&this.hasSelection===hq||cv&&/[\uf700-\uf7ff]/.test(hq)){i.display.input.reset();return false}if(i.doc.sel==i.display.selForContextMenu){var hp=hq.charCodeAt(0);if(hp==8203&&!ho){ho="\u200b"}if(hp==8666){this.reset();return this.cm.execCommand("undo")}}var hr=0,hm=Math.min(ho.length,hq.length);while(hr<hm&&ho.charCodeAt(hr)==hq.charCodeAt(hr)){++hr}dh(i,function(){gV(i,hq.slice(hr),ho.length-hr,null,hs.composing?"*compose":null);if(hq.length>1000||hq.indexOf("\n")>-1){hn.value=hs.prevInput=""}else{hs.prevInput=hq}if(hs.composing){hs.composing.range.clear();hs.composing.range=i.markText(hs.composing.start,i.getCursor("to"),{className:"CodeMirror-composing"})}});return true};af.prototype.ensurePolled=function(){if(this.pollingFast&&this.poll()){this.pollingFast=false}};af.prototype.onKeyPress=function(){if(eh&&n>=9){this.hasSelection=null}this.fastPoll()};af.prototype.onContextMenu=function(hq){var hv=this,hw=hv.cm,hs=hw.display,hm=hv.textarea;if(hv.contextMenuPending){hv.contextMenuPending()}var hu=cQ(hw,hq),i=hs.scroller.scrollTop;if(!hu||eD){return}var hp=hw.options.resetSelectionOnContextMenu;if(hp&&hw.doc.sel.contains(hu)==-1){dw(hw,ch)(hw.doc,fC(hu),ai)}var hr=hm.style.cssText,hz=hv.wrapper.style.cssText;var hy=hv.wrapper.offsetParent.getBoundingClientRect();hv.wrapper.style.cssText="position: static";hm.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(hq.clientY-hy.top-5)+"px; left: "+(hq.clientX-hy.left-5)+"px;\n      z-index: 1000; background: "+(eh?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var hx;if(dv){hx=window.scrollY}hs.input.focus();if(dv){window.scrollTo(null,hx)}hs.input.reset();if(!hw.somethingSelected()){hm.value=hv.prevInput=" "}hv.contextMenuPending=ht;hs.selForContextMenu=hw.doc.sel;clearTimeout(hs.detectingSelectAll);function ho(){if(hm.selectionStart!=null){var hA=hw.somethingSelected();var hB="\u200b"+(hA?hm.value:"");hm.value="\u21da";hm.value=hB;hv.prevInput=hA?"":"\u200b";hm.selectionStart=1;hm.selectionEnd=hB.length;hs.selForContextMenu=hw.doc.sel}}function ht(){if(hv.contextMenuPending!=ht){return}hv.contextMenuPending=false;hv.wrapper.style.cssText=hz;hm.style.cssText=hr;if(eh&&n<9){hs.scrollbars.setScrollTop(hs.scroller.scrollTop=i)}if(hm.selectionStart!=null){if(!eh||(eh&&n<9)){ho()}var hA=0,hB=function(){if(hs.selForContextMenu==hw.doc.sel&&hm.selectionStart==0&&hm.selectionEnd>0&&hv.prevInput=="\u200b"){dw(hw,aw)(hw)}else{if(hA++<10){hs.detectingSelectAll=setTimeout(hB,500)}else{hs.selForContextMenu=null;hs.input.reset()}}};hs.detectingSelectAll=setTimeout(hB,200)}}if(eh&&n>=9){ho()}if(hb){e5(hq);var hn=function(){eR(window,"mouseup",hn);setTimeout(ht,20)};ck(window,"mouseup",hn)}else{setTimeout(ht,50)}};af.prototype.readOnlyChanged=function(i){if(!i){this.reset()}this.textarea.disabled=i=="nocursor"};af.prototype.setUneditable=function(){};af.prototype.needsContentAttribute=false;function gw(hs,ht){ht=ht?a0(ht):{};ht.value=hs.value;if(!ht.tabindex&&hs.tabIndex){ht.tabindex=hs.tabIndex}if(!ht.placeholder&&hs.placeholder){ht.placeholder=hs.placeholder}if(ht.autofocus==null){var i=el();ht.autofocus=i==hs||hs.getAttribute("autofocus")!=null&&i==document.body}function hp(){hs.value=hr.getValue()}var hq;if(hs.form){ck(hs.form,"submit",hp);if(!ht.leaveSubmitMethodAlone){var hm=hs.form;hq=hm.submit;try{var ho=hm.submit=function(){hp();hm.submit=hq;hm.submit();hm.submit=ho}}catch(hn){}}}ht.finishInit=function(hu){hu.save=hp;hu.getTextArea=function(){return hs};hu.toTextArea=function(){hu.toTextArea=isNaN;hp();hs.parentNode.removeChild(hu.getWrapperElement());hs.style.display="";if(hs.form){eR(hs.form,"submit",hp);if(!ht.leaveSubmitMethodAlone&&typeof hs.form.submit=="function"){hs.form.submit=hq}}}};hs.style.display="none";var hr=L(function(hu){return hs.parentNode.insertBefore(hu,hs.nextSibling)},ht);return hr}function gB(i){i.off=eR;i.on=ck;i.wheelEventPixels=aK;i.Doc=aE;i.splitLines=gL;i.countColumn=ce;i.findColumn=e4;i.isWordChar=gs;i.Pass=cA;i.signal=aP;i.Line=g6;i.changeEnd=ds;i.scrollbarModel=bB;i.Pos=ad;i.cmpPos=cF;i.modes=d1;i.mimeModes=a5;i.resolveMode=hd;i.getMode=go;i.modeExtensions=dY;i.extendMode=fl;i.copyState=cr;i.startState=co;i.innerMode=g9;i.commands=fk;i.keyMap=fY;i.keyName=gd;i.isModifierKey=fh;i.lookupKey=k;i.normalizeKeyMap=da;i.StringStream=fF;i.SharedTextMarker=z;i.TextMarker=X;i.LineWidget=d8;i.e_preventDefault=c9;i.e_stopPropagation=dZ;i.e_stop=e5;i.addClass=gp;i.contains=hc;i.rmClass=h;i.keyNames=f3}fp(L);em(L);var d="iter insert remove copy getEditor constructor".split(" ");for(var b6 in aE.prototype){if(aE.prototype.hasOwnProperty(b6)&&dR(d,b6)<0){L.prototype[b6]=(function(i){return function(){return i.apply(this.doc,arguments)}})(aE.prototype[b6])}}bU(aE);L.inputStyles={textarea:af,contenteditable:d3};L.defineMode=function(i){if(!L.defaults.mode&&i!="null"){L.defaults.mode=i}e8.apply(this,arguments)};L.defineMIME=bF;L.defineMode("null",function(){return({token:function(i){return i.skipToEnd()}})});L.defineMIME("text/plain","null");L.defineExtension=function(i,hm){L.prototype[i]=hm};L.defineDocExtension=function(i,hm){aE.prototype[i]=hm};L.fromTextArea=gw;gB(L);L.version="5.52.0";return L})));(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(r){r.defineMode("css",function(ab,J){var D=J.inline;if(!J.propertyKeywords){J=r.resolveMode("text/css")}var R=ab.indentUnit,A=J.tokenHooks,y=J.documentTypes||{},aa=J.mediaTypes||{},L=J.mediaFeatures||{},Q=J.mediaValueKeywords||{},I=J.propertyKeywords||{},B=J.nonStandardPropertyKeywords||{},E=J.fontProperties||{},Z=J.counterDescriptors||{},P=J.colorKeywords||{},V=J.valueKeywords||{},N=J.allowNested,U=J.lineComment,X=J.supportsAtComponent===true;var C,O;function ac(af,ag){C=ag;return af}function ae(ai,ah){var ag=ai.next();if(A[ag]){var af=A[ag](ai,ah);if(af!==false){return af}}if(ag=="@"){ai.eatWhile(/[\w\\\-]/);return ac("def",ai.current())}else{if(ag=="="||(ag=="~"||ag=="|")&&ai.eat("=")){return ac(null,"compare")}else{if(ag=='"'||ag=="'"){ah.tokenize=K(ag);return ah.tokenize(ai,ah)}else{if(ag=="#"){ai.eatWhile(/[\w\\\-]/);return ac("atom","hash")}else{if(ag=="!"){ai.match(/^\s*\w*/);return ac("keyword","important")}else{if(/\d/.test(ag)||ag=="."&&ai.eat(/\d/)){ai.eatWhile(/[\w.%]/);return ac("number","unit")}else{if(ag==="-"){if(/[\d.]/.test(ai.peek())){ai.eatWhile(/[\w.%]/);return ac("number","unit")}else{if(ai.match(/^-[\w\\\-]*/)){ai.eatWhile(/[\w\\\-]/);if(ai.match(/^\s*:/,false)){return ac("variable-2","variable-definition")}return ac("variable-2","variable")}else{if(ai.match(/^\w+-/)){return ac("meta","meta")}}}}else{if(/[,+>*\/]/.test(ag)){return ac(null,"select-op")}else{if(ag=="."&&ai.match(/^-?[_a-z][_a-z0-9-]*/i)){return ac("qualifier","qualifier")}else{if(/[:;{}\[\]\(\)]/.test(ag)){return ac(null,ag)}else{if(ai.match(/[\w-.]+(?=\()/)){if(/^(url(-prefix)?|domain|regexp)$/.test(ai.current().toLowerCase())){ah.tokenize=ad}return ac("variable callee","variable")}else{if(/[\w\\\-]/.test(ag)){ai.eatWhile(/[\w\\\-]/);return ac("property","word")}else{return ac(null,null)}}}}}}}}}}}}}function K(af){return function(aj,ah){var ai=false,ag;while((ag=aj.next())!=null){if(ag==af&&!ai){if(af==")"){aj.backUp(1)}break}ai=!ai&&ag=="\\"}if(ag==af||!ai&&af!=")"){ah.tokenize=null}return ac("string","string")}}function ad(ag,af){ag.next();if(!ag.match(/\s*[\"\')]/,false)){af.tokenize=K(")")}else{af.tokenize=null}return ac(null,"(")}function S(ag,af,ah){this.type=ag;this.indent=af;this.prev=ah}function G(ah,ai,ag,af){ah.context=new S(ag,ai.indentation()+(af===false?0:R),ah.context);return ag}function W(af){if(af.context.prev){af.context=af.context.prev}return af.context.type}function z(af,ah,ag){return F[ag.context.type](af,ah,ag)}function Y(ag,ai,ah,aj){for(var af=aj||1;af>0;af--){ah.context=ah.context.prev}return z(ag,ai,ah)}function H(ag){var af=ag.current().toLowerCase();if(V.hasOwnProperty(af)){O="atom"}else{if(P.hasOwnProperty(af)){O="keyword"}else{O="variable"}}}var F={};F.top=function(af,ah,ag){if(af=="{"){return G(ag,ah,"block")}else{if(af=="}"&&ag.context.prev){return W(ag)}else{if(X&&/@component/i.test(af)){return G(ag,ah,"atComponentBlock")}else{if(/^@(-moz-)?document$/i.test(af)){return G(ag,ah,"documentTypes")}else{if(/^@(media|supports|(-moz-)?document|import)$/i.test(af)){return G(ag,ah,"atBlock")}else{if(/^@(font-face|counter-style)/i.test(af)){ag.stateArg=af;return"restricted_atBlock_before"}else{if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(af)){return"keyframes"}else{if(af&&af.charAt(0)=="@"){return G(ag,ah,"at")}else{if(af=="hash"){O="builtin"}else{if(af=="word"){O="tag"}else{if(af=="variable-definition"){return"maybeprop"}else{if(af=="interpolation"){return G(ag,ah,"interpolation")}else{if(af==":"){return"pseudo"}else{if(N&&af=="("){return G(ag,ah,"parens")}}}}}}}}}}}}}}return ag.context.type};F.block=function(af,ai,ag){if(af=="word"){var ah=ai.current().toLowerCase();if(I.hasOwnProperty(ah)){O="property";return"maybeprop"}else{if(B.hasOwnProperty(ah)){O="string-2";return"maybeprop"}else{if(N){O=ai.match(/^\s*:(?:\s|$)/,false)?"property":"tag";return"block"}else{O+=" error";return"maybeprop"}}}}else{if(af=="meta"){return"block"}else{if(!N&&(af=="hash"||af=="qualifier")){O="error";return"block"}else{return F.top(af,ai,ag)}}}};F.maybeprop=function(af,ah,ag){if(af==":"){return G(ag,ah,"prop")}return z(af,ah,ag)};F.prop=function(af,ah,ag){if(af==";"){return W(ag)}if(af=="{"&&N){return G(ag,ah,"propBlock")}if(af=="}"||af=="{"){return Y(af,ah,ag)}if(af=="("){return G(ag,ah,"parens")}if(af=="hash"&&!/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(ah.current())){O+=" error"}else{if(af=="word"){H(ah)}else{if(af=="interpolation"){return G(ag,ah,"interpolation")}}}return"prop"};F.propBlock=function(ag,af,ah){if(ag=="}"){return W(ah)}if(ag=="word"){O="property";return"maybeprop"}return ah.context.type};F.parens=function(af,ah,ag){if(af=="{"||af=="}"){return Y(af,ah,ag)}if(af==")"){return W(ag)}if(af=="("){return G(ag,ah,"parens")}if(af=="interpolation"){return G(ag,ah,"interpolation")}if(af=="word"){H(ah)}return"parens"};F.pseudo=function(af,ah,ag){if(af=="meta"){return"pseudo"}if(af=="word"){O="variable-3";return ag.context.type}return z(af,ah,ag)};F.documentTypes=function(af,ah,ag){if(af=="word"&&y.hasOwnProperty(ah.current())){O="tag";return ag.context.type}else{return F.atBlock(af,ah,ag)}};F.atBlock=function(af,ai,ag){if(af=="("){return G(ag,ai,"atBlock_parens")}if(af=="}"||af==";"){return Y(af,ai,ag)}if(af=="{"){return W(ag)&&G(ag,ai,N?"block":"top")}if(af=="interpolation"){return G(ag,ai,"interpolation")}if(af=="word"){var ah=ai.current().toLowerCase();if(ah=="only"||ah=="not"||ah=="and"||ah=="or"){O="keyword"}else{if(aa.hasOwnProperty(ah)){O="attribute"}else{if(L.hasOwnProperty(ah)){O="property"}else{if(Q.hasOwnProperty(ah)){O="keyword"}else{if(I.hasOwnProperty(ah)){O="property"}else{if(B.hasOwnProperty(ah)){O="string-2"}else{if(V.hasOwnProperty(ah)){O="atom"}else{if(P.hasOwnProperty(ah)){O="keyword"}else{O="error"}}}}}}}}}return ag.context.type};F.atComponentBlock=function(af,ah,ag){if(af=="}"){return Y(af,ah,ag)}if(af=="{"){return W(ag)&&G(ag,ah,N?"block":"top",false)}if(af=="word"){O="error"}return ag.context.type};F.atBlock_parens=function(af,ah,ag){if(af==")"){return W(ag)}if(af=="{"||af=="}"){return Y(af,ah,ag,2)}return F.atBlock(af,ah,ag)};F.restricted_atBlock_before=function(af,ah,ag){if(af=="{"){return G(ag,ah,"restricted_atBlock")}if(af=="word"&&ag.stateArg=="@counter-style"){O="variable";return"restricted_atBlock_before"}return z(af,ah,ag)};F.restricted_atBlock=function(af,ah,ag){if(af=="}"){ag.stateArg=null;return W(ag)}if(af=="word"){if((ag.stateArg=="@font-face"&&!E.hasOwnProperty(ah.current().toLowerCase()))||(ag.stateArg=="@counter-style"&&!Z.hasOwnProperty(ah.current().toLowerCase()))){O="error"}else{O="property"}return"maybeprop"}return"restricted_atBlock"};F.keyframes=function(af,ah,ag){if(af=="word"){O="variable";return"keyframes"}if(af=="{"){return G(ag,ah,"top")}return z(af,ah,ag)};F.at=function(af,ah,ag){if(af==";"){return W(ag)}if(af=="{"||af=="}"){return Y(af,ah,ag)}if(af=="word"){O="tag"}else{if(af=="hash"){O="builtin"}}return"at"};F.interpolation=function(af,ah,ag){if(af=="}"){return W(ag)}if(af=="{"||af==";"){return Y(af,ah,ag)}if(af=="word"){O="variable"}else{if(af!="variable"&&af!="("&&af!=")"){O="error"}}return"interpolation"};return{startState:function(af){return{tokenize:null,state:D?"block":"top",stateArg:null,context:new S(D?"block":"top",af||0,null)}},token:function(ah,ag){if(!ag.tokenize&&ah.eatSpace()){return null}var af=(ag.tokenize||ae)(ah,ag);if(af&&typeof af=="object"){C=af[1];af=af[0]}O=af;if(C!="comment"){ag.state=F[ag.state](C,ah,ag)}return O},indent:function(aj,ah){var ag=aj.context,ai=ah&&ah.charAt(0);var af=ag.indent;if(ag.type=="prop"&&(ai=="}"||ai==")")){ag=ag.prev}if(ag.prev){if(ai=="}"&&(ag.type=="block"||ag.type=="top"||ag.type=="interpolation"||ag.type=="restricted_atBlock")){ag=ag.prev;af=ag.indent}else{if(ai==")"&&(ag.type=="parens"||ag.type=="atBlock_parens")||ai=="{"&&(ag.type=="at"||ag.type=="atBlock")){af=Math.max(0,ag.indent-R)}}}return af},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:U,fold:"brace"}});function g(A){var z={};for(var y=0;y<A.length;++y){z[A[y].toLowerCase()]=true}return z}var k=["domain","regexp","url","url-prefix"],a=g(k);var b=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],v=g(b);var x=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover"],i=g(x);var l=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive"],p=g(l);var d=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],h=g(d);var n=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],e=g(n);var t=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],f=g(t);var q=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],u=g(q);var c=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],m=g(c);var j=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],s=g(j);var o=k.concat(b).concat(x).concat(l).concat(d).concat(n).concat(c).concat(j);r.registerHelper("hintWords","css",o);function w(B,A){var y=false,z;while((z=B.next())!=null){if(y&&z=="/"){A.tokenize=null;break}y=(z=="*")}return["comment","comment"]}r.defineMIME("text/css",{documentTypes:a,mediaTypes:v,mediaFeatures:i,mediaValueKeywords:p,propertyKeywords:h,nonStandardPropertyKeywords:e,fontProperties:f,counterDescriptors:u,colorKeywords:m,valueKeywords:s,tokenHooks:{"/":function(z,y){if(!z.eat("*")){return false}y.tokenize=w;return w(z,y)}},name:"css"});r.defineMIME("text/x-scss",{mediaTypes:v,mediaFeatures:i,mediaValueKeywords:p,propertyKeywords:h,nonStandardPropertyKeywords:e,colorKeywords:m,valueKeywords:s,fontProperties:f,allowNested:true,lineComment:"//",tokenHooks:{"/":function(z,y){if(z.eat("/")){z.skipToEnd();return["comment","comment"]}else{if(z.eat("*")){y.tokenize=w;return w(z,y)}else{return["operator","operator"]}}},":":function(y){if(y.match(/\s*\{/,false)){return[null,null]}return false},"$":function(y){y.match(/^[\w-]+/);if(y.match(/^\s*:/,false)){return["variable-2","variable-definition"]}return["variable-2","variable"]},"#":function(y){if(!y.eat("{")){return false}return[null,"interpolation"]}},name:"css",helperType:"scss"});r.defineMIME("text/x-less",{mediaTypes:v,mediaFeatures:i,mediaValueKeywords:p,propertyKeywords:h,nonStandardPropertyKeywords:e,colorKeywords:m,valueKeywords:s,fontProperties:f,allowNested:true,lineComment:"//",tokenHooks:{"/":function(z,y){if(z.eat("/")){z.skipToEnd();return["comment","comment"]}else{if(z.eat("*")){y.tokenize=w;return w(z,y)}else{return["operator","operator"]}}},"@":function(y){if(y.eat("{")){return[null,"interpolation"]}if(y.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,false)){return false}y.eatWhile(/[\w\\\-]/);if(y.match(/^\s*:/,false)){return["variable-2","variable-definition"]}return["variable-2","variable"]},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"});r.defineMIME("text/x-gss",{documentTypes:a,mediaTypes:v,mediaFeatures:i,propertyKeywords:h,nonStandardPropertyKeywords:e,fontProperties:f,counterDescriptors:u,colorKeywords:m,valueKeywords:s,supportsAtComponent:true,tokenHooks:{"/":function(z,y){if(!z.eat("*")){return false}y.tokenize=w;return w(z,y)}},name:"css",helperType:"gss"})});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],a)}else{a(CodeMirror)}}})(function(d){var g={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function f(n,j,k){var m=n.current(),l=m.search(j);if(l>-1){n.backUp(m.length-l)}else{if(m.match(/<\/?$/)){n.backUp(m.length);if(!n.match(j,false)){n.match(m)}}}return k}var e={};function c(j){var k=e[j];if(k){return k}return e[j]=new RegExp("\\s+"+j+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*")}function a(l,j){var k=l.match(c(j));return k?/^\s*(.*?)\s*$/.exec(k[2])[1]:""}function i(k,j){return new RegExp((j?"^":"")+"</s*"+k+"s*>","i")}function h(o,n){for(var j in o){var k=n[j]||(n[j]=[]);var m=o[j];for(var l=m.length-1;l>=0;l--){k.unshift(m[l])}}}function b(l,m){for(var k=0;k<l.length;k++){var j=l[k];if(!j[0]||j[1].test(a(m,j[0]))){return j[2]}}}d.defineMode("htmlmixed",function(k,o){var q=d.getMode(k,{name:"xml",htmlMode:true,multilineTagIndentFactor:o.multilineTagIndentFactor,multilineTagIndentPastTag:o.multilineTagIndentPastTag});var j={};var p=o&&o.tags,n=o&&o.scriptTypes;h(g,j);if(p){h(p,j)}if(n){for(var m=n.length-1;m>=0;m--){j.script.unshift(["type",n[m].matches,n[m].mode])}}function l(z,r){var s=q.token(z,r.htmlState),A=/\btag\b/.test(s),u;if(A&&!/[<>\s\/]/.test(z.current())&&(u=r.htmlState.tagName&&r.htmlState.tagName.toLowerCase())&&j.hasOwnProperty(u)){r.inTag=u+" "}else{if(r.inTag&&A&&/>$/.test(z.current())){var t=/^([\S]+) (.*)/.exec(r.inTag);r.inTag=null;var y=z.current()==">"&&b(j[t[1]],t[2]);var x=d.getMode(k,y);var w=i(t[1],true),v=i(t[1],false);r.token=function(C,B){if(C.match(w,false)){B.token=l;B.localState=B.localMode=null;return null}return f(C,v,B.localMode.token(C,B.localState))};r.localMode=x;r.localState=d.startState(x,q.indent(r.htmlState,"",""))}else{if(r.inTag){r.inTag+=z.current();if(z.eol()){r.inTag+=" "}}}}return s}return{startState:function(){var r=d.startState(q);return{token:l,inTag:null,localMode:null,localState:null,htmlState:r}},copyState:function(s){var r;if(s.localState){r=d.copyState(s.localMode,s.localState)}return{token:s.token,inTag:s.inTag,localMode:s.localMode,localState:r,htmlState:d.copyState(q,s.htmlState)}},token:function(s,r){return r.token(s,r)},indent:function(t,s,r){if(!t.localMode||/^\s*<\//.test(s)){return q.indent(t.htmlState,s,r)}else{if(t.localMode.indent){return t.localMode.indent(t.localState,s,r)}else{return d.Pass}}},innerMode:function(r){return{state:r.localState||r.htmlState,mode:r.localMode||q}}}},"xml","javascript","css");d.defineMIME("text/html","htmlmixed")});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){a.defineMode("javascript",function(aq,aD){var p=aq.indentUnit;var G=aD.statementIndent;var aW=aD.jsonld;var D=aD.json||aW;var h=aD.typescript;var aO=aD.wordCharacters||/[\w$\xa1-\uffff]/;var aM=function(){function bb(bf){return{type:bf,style:"keyword"}}var a8=bb("keyword a"),be=bb("keyword b"),bd=bb("keyword c"),bc=bb("keyword d");var a9=bb("operator"),ba={type:"atom",style:"atom"};return{"if":bb("if"),"while":a8,"with":a8,"else":be,"do":be,"try":be,"finally":be,"return":bc,"break":bc,"continue":bc,"new":bb("new"),"delete":bd,"void":bd,"throw":bd,"debugger":bb("debugger"),"var":bb("var"),"const":bb("var"),let:bb("var"),"function":bb("function"),"catch":bb("catch"),"for":bb("for"),"switch":bb("switch"),"case":bb("case"),"default":bb("default"),"in":a9,"typeof":a9,"instanceof":a9,"true":ba,"false":ba,"null":ba,"undefined":ba,"NaN":ba,"Infinity":ba,"this":bb("this"),"class":bb("class"),"super":bb("atom"),yield:bd,"export":bb("export"),"import":bb("import"),"extends":bd,await:bd}}();var ab=/[+\-*&%=<>!?|~^@]/;var aL=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function K(bb){var a9=false,a8,ba=false;while((a8=bb.next())!=null){if(!a9){if(a8=="/"&&!ba){return}if(a8=="["){ba=true}else{if(ba&&a8=="]"){ba=false}}}a9=!a9&&a8=="\\"}}var ag,L;function V(ba,a9,a8){ag=ba;L=a8;return a9}function ai(bc,ba){var a8=bc.next();if(a8=='"'||a8=="'"){ba.tokenize=af(a8);return ba.tokenize(bc,ba)}else{if(a8=="."&&bc.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/)){return V("number","number")}else{if(a8=="."&&bc.match("..")){return V("spread","meta")}else{if(/[\[\]{}\(\),;\:\.]/.test(a8)){return V(a8)}else{if(a8=="="&&bc.eat(">")){return V("=>","operator")}else{if(a8=="0"&&bc.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/)){return V("number","number")}else{if(/\d/.test(a8)){bc.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/);return V("number","number")}else{if(a8=="/"){if(bc.eat("*")){ba.tokenize=aV;return aV(bc,ba)}else{if(bc.eat("/")){bc.skipToEnd();return V("comment","comment")}else{if(a4(bc,ba,1)){K(bc);bc.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/);return V("regexp","string-2")}else{bc.eat("=");return V("operator","operator",bc.current())}}}}else{if(a8=="`"){ba.tokenize=aY;return aY(bc,ba)}else{if(a8=="#"){bc.skipToEnd();return V("error","error")}else{if(a8=="<"&&bc.match("!--")||a8=="-"&&bc.match("->")){bc.skipToEnd();return V("comment","comment")}else{if(ab.test(a8)){if(a8!=">"||!ba.lexical||ba.lexical.type!=">"){if(bc.eat("=")){if(a8=="!"||a8=="="){bc.eat("=")}}else{if(/[<>*+\-]/.test(a8)){bc.eat(a8);if(a8==">"){bc.eat(a8)}}}}return V("operator","operator",bc.current())}else{if(aO.test(a8)){bc.eatWhile(aO);var bb=bc.current();if(ba.lastType!="."){if(aM.propertyIsEnumerable(bb)){var a9=aM[bb];return V(a9.type,a9.style,bb)}if(bb=="async"&&bc.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,false)){return V("async","keyword",bb)}}return V("variable","variable",bb)}}}}}}}}}}}}}}function af(a8){return function(bc,ba){var bb=false,a9;if(aW&&bc.peek()=="@"&&bc.match(aL)){ba.tokenize=ai;return V("jsonld-keyword","meta")}while((a9=bc.next())!=null){if(a9==a8&&!bb){break}bb=!bb&&a9=="\\"}if(!bb){ba.tokenize=ai}return V("string","string")}}function aV(bb,ba){var a8=false,a9;while(a9=bb.next()){if(a9=="/"&&a8){ba.tokenize=ai;break}a8=(a9=="*")}return V("comment","comment")}function aY(bb,a9){var ba=false,a8;while((a8=bb.next())!=null){if(!ba&&(a8=="`"||a8=="$"&&bb.eat("{"))){a9.tokenize=ai;break}ba=!ba&&a8=="\\"}return V("quasi","string-2",bb.current())}var q="([{}])";function aS(bh,ba){if(ba.fatArrowAt){ba.fatArrowAt=null}var bg=bh.string.indexOf("=>",bh.start);if(bg<0){return}if(h){var bc=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(bh.string.slice(bh.start,bg));if(bc){bg=bc.index}}var bd=0,bb=false;for(var bf=bg-1;bf>=0;--bf){var a8=bh.string.charAt(bf);var a9=q.indexOf(a8);if(a9>=0&&a9<3){if(!bd){++bf;break}if(--bd==0){if(a8=="("){bb=true}break}}else{if(a9>=3&&a9<6){++bd}else{if(aO.test(a8)){bb=true}else{if(/["'\/`]/.test(a8)){for(;;--bf){if(bf==0){return}var be=bh.string.charAt(bf-1);if(be==a8&&bh.string.charAt(bf-2)!="\\"){bf--;break}}}else{if(bb&&!bd){++bf;break}}}}}}if(bb&&!bd){ba.fatArrowAt=bf}}var b={atom:true,number:true,variable:true,string:true,regexp:true,"this":true,"jsonld-keyword":true};function S(bd,a9,a8,bc,ba,bb){this.indented=bd;this.column=a9;this.type=a8;this.prev=ba;this.info=bb;if(bc!=null){this.align=bc}}function x(bb,ba){for(var a9=bb.localVars;a9;a9=a9.next){if(a9.name==ba){return true}}for(var a8=bb.context;a8;a8=a8.prev){for(var a9=a8.vars;a9;a9=a9.next){if(a9.name==ba){return true}}}}function g(bc,a9,a8,bb,bd){var be=bc.cc;J.state=bc;J.stream=bd;J.marked=null,J.cc=be;J.style=a9;if(!bc.lexical.hasOwnProperty("align")){bc.lexical.align=true}while(true){var ba=be.length?be.pop():D?aH:a2;if(ba(a8,bb)){while(be.length&&be[be.length-1].lex){be.pop()()}if(J.marked){return J.marked}if(a8=="variable"&&x(bc,bb)){return"variable-2"}return a9}}}var J={state:null,column:null,marked:null,cc:null};function at(){for(var a8=arguments.length-1;a8>=0;a8--){J.cc.push(arguments[a8])}}function ay(){at.apply(null,arguments);return true}function f(a9,ba){for(var a8=ba;a8;a8=a8.next){if(a8.name==a9){return true}}return false}function aR(a8){var a9=J.state;J.marked="def";if(a9.context){if(a9.lexical.info=="var"&&a9.context&&a9.context.block){var ba=aQ(a8,a9.context);if(ba!=null){a9.context=ba;return}}else{if(!f(a8,a9.localVars)){a9.localVars=new a3(a8,a9.localVars);return}}}if(aD.globalVars&&!f(a8,a9.globalVars)){a9.globalVars=new a3(a8,a9.globalVars)}}function aQ(a9,ba){if(!ba){return null}else{if(ba.block){var a8=aQ(a9,ba.prev);if(!a8){return null}if(a8==ba.prev){return ba}return new R(a8,ba.vars,true)}else{if(f(a9,ba.vars)){return ba}else{return new R(ba.prev,new a3(a9,ba.vars),false)}}}}function aE(a8){return a8=="public"||a8=="private"||a8=="protected"||a8=="abstract"||a8=="readonly"}function R(a8,a9,ba){this.prev=a8;this.vars=a9;this.block=ba}function a3(a8,a9){this.name=a8;this.next=a9}var v=new a3("this",new a3("arguments",null));function A(){J.state.context=new R(J.state.context,J.state.localVars,false);J.state.localVars=v}function ao(){J.state.context=new R(J.state.context,J.state.localVars,true);J.state.localVars=null}function B(){J.state.localVars=J.state.context.vars;J.state.context=J.state.context.prev}B.lex=true;function a0(a9,ba){var a8=function(){var bd=J.state,bb=bd.indented;if(bd.lexical.type=="stat"){bb=bd.lexical.indented}else{for(var bc=bd.lexical;bc&&bc.type==")"&&bc.align;bc=bc.prev){bb=bc.indented}}bd.lexical=new S(bb,J.stream.column(),a9,null,bd.lexical,ba)};a8.lex=true;return a8}function i(){var a8=J.state;if(a8.lexical.prev){if(a8.lexical.type==")"){a8.indented=a8.lexical.indented}a8.lexical=a8.lexical.prev}}i.lex=true;function w(a8){function a9(ba){if(ba==a8){return ay()}else{if(a8==";"||ba=="}"||ba==")"||ba=="]"){return at()}else{return ay(a9)}}}return a9}function a2(a8,a9){if(a8=="var"){return ay(a0("vardef",a9),c,w(";"),i)}if(a8=="keyword a"){return ay(a0("form"),aI,a2,i)}if(a8=="keyword b"){return ay(a0("form"),a2,i)}if(a8=="keyword d"){return J.stream.match(/^\s*$/,false)?ay():ay(a0("stat"),aC,w(";"),i)}if(a8=="debugger"){return ay(w(";"))}if(a8=="{"){return ay(a0("}"),ao,C,i,B)}if(a8==";"){return ay()}if(a8=="if"){if(J.state.lexical.info=="else"&&J.state.cc[J.state.cc.length-1]==i){J.state.cc.pop()()}return ay(a0("form"),aI,a2,i,d)}if(a8=="function"){return ay(W)}if(a8=="for"){return ay(a0("form"),z,a2,i)}if(a8=="class"||(h&&a9=="interface")){J.marked="keyword";return ay(a0("form",a8=="class"?a8:a9),al,i)}if(a8=="variable"){if(h&&a9=="declare"){J.marked="keyword";return ay(a2)}else{if(h&&(a9=="module"||a9=="enum"||a9=="type")&&J.stream.match(/^\s*\w/,false)){J.marked="keyword";if(a9=="enum"){return ay(aP)}else{if(a9=="type"){return ay(ar,w("operator"),k,w(";"))}else{return ay(a0("form"),j,w("{"),a0("}"),C,i,i)}}}else{if(h&&a9=="namespace"){J.marked="keyword";return ay(a0("form"),aH,a2,i)}else{if(h&&a9=="abstract"){J.marked="keyword";return ay(a2)}else{return ay(a0("stat"),a5)}}}}}if(a8=="switch"){return ay(a0("form"),aI,w("{"),a0("}","switch"),ao,C,i,i,B)}if(a8=="case"){return ay(aH,w(":"))}if(a8=="default"){return ay(w(":"))}if(a8=="catch"){return ay(a0("form"),A,Z,a2,i,B)}if(a8=="export"){return ay(a0("stat"),a1,i)}if(a8=="import"){return ay(a0("stat"),az,i)}if(a8=="async"){return ay(a2)}if(a9=="@"){return ay(aH,a2)}return at(a0("stat"),aH,w(";"),i)}function Z(a8){if(a8=="("){return ay(ax,w(")"))}}function aH(a8,a9){return ap(a8,a9,false)}function aZ(a8,a9){return ap(a8,a9,true)}function aI(a8){if(a8!="("){return at()}return ay(a0(")"),aH,w(")"),i)}function ap(a9,ba,bc){if(J.state.fatArrowAt==J.stream.start){var a8=bc?X:am;if(a9=="("){return ay(A,a0(")"),aN(ax,")"),i,w("=>"),a8,B)}else{if(a9=="variable"){return at(A,j,w("=>"),a8,B)}}}var bb=bc?l:av;if(b.hasOwnProperty(a9)){return ay(bb)}if(a9=="function"){return ay(W,bb)}if(a9=="class"||(h&&ba=="interface")){J.marked="keyword";return ay(a0("form"),P,i)}if(a9=="keyword c"||a9=="async"){return ay(bc?aZ:aH)}if(a9=="("){return ay(a0(")"),aC,w(")"),i,bb)}if(a9=="operator"||a9=="spread"){return ay(bc?aZ:aH)}if(a9=="["){return ay(a0("]"),r,i,bb)}if(a9=="{"){return aT(y,"}",null,bb)}if(a9=="quasi"){return at(ac,bb)}if(a9=="new"){return ay(O(bc))}if(a9=="import"){return ay(aH)}return ay()}function aC(a8){if(a8.match(/[;\}\)\],]/)){return at()}return at(aH)}function av(a8,a9){if(a8==","){return ay(aC)}return l(a8,a9,false)}function l(a8,ba,bc){var a9=bc==false?av:l;var bb=bc==false?aH:aZ;if(a8=="=>"){return ay(A,bc?X:am,B)}if(a8=="operator"){if(/\+\+|--/.test(ba)||h&&ba=="!"){return ay(a9)}if(h&&ba=="<"&&J.stream.match(/^([^>]|<.*?>)*>\s*\(/,false)){return ay(a0(">"),aN(k,">"),i,a9)}if(ba=="?"){return ay(aH,w(":"),bb)}return ay(bb)}if(a8=="quasi"){return at(ac,a9)}if(a8==";"){return}if(a8=="("){return aT(aZ,")","call",a9)}if(a8=="."){return ay(aF,a9)}if(a8=="["){return ay(a0("]"),aC,w("]"),i,a9)}if(h&&ba=="as"){J.marked="keyword";return ay(k,a9)}if(a8=="regexp"){J.state.lastType=J.marked="operator";J.stream.backUp(J.stream.pos-J.stream.start-1);return ay(bb)}}function ac(a8,a9){if(a8!="quasi"){return at()}if(a9.slice(a9.length-2)!="${"){return ay(ac)}return ay(aH,u)}function u(a8){if(a8=="}"){J.marked="string-2";J.state.tokenize=aY;return ay(ac)}}function am(a8){aS(J.stream,J.state);return at(a8=="{"?a2:aH)}function X(a8){aS(J.stream,J.state);return at(a8=="{"?a2:aZ)}function O(a8){return function(a9){if(a9=="."){return ay(a8?s:ak)}else{if(a9=="variable"&&h){return ay(e,a8?l:av)}else{return at(a8?aZ:aH)}}}}function ak(a8,a9){if(a9=="target"){J.marked="keyword";return ay(av)}}function s(a8,a9){if(a9=="target"){J.marked="keyword";return ay(l)}}function a5(a8){if(a8==":"){return ay(i,a2)}return at(av,w(";"),i)}function aF(a8){if(a8=="variable"){J.marked="property";return ay()}}function y(a9,ba){if(a9=="async"){J.marked="property";return ay(y)}else{if(a9=="variable"||J.style=="keyword"){J.marked="property";if(ba=="get"||ba=="set"){return ay(Q)}var a8;if(h&&J.state.fatArrowAt==J.stream.start&&(a8=J.stream.match(/^\s*:\s*/,false))){J.state.fatArrowAt=J.stream.pos+a8[0].length}return ay(U)}else{if(a9=="number"||a9=="string"){J.marked=aW?"property":(J.style+" property");return ay(U)}else{if(a9=="jsonld-keyword"){return ay(U)}else{if(h&&aE(ba)){J.marked="keyword";return ay(y)}else{if(a9=="["){return ay(aH,ah,w("]"),U)}else{if(a9=="spread"){return ay(aZ,U)}else{if(ba=="*"){J.marked="keyword";return ay(y)}else{if(a9==":"){return at(U)}}}}}}}}}}function Q(a8){if(a8!="variable"){return at(U)}J.marked="property";return ay(W)}function U(a8){if(a8==":"){return ay(aZ)}if(a8=="("){return at(W)}}function aN(bb,a8,a9){function ba(bd,be){if(a9?a9.indexOf(bd)>-1:bd==","){var bc=J.state.lexical;if(bc.info=="call"){bc.pos=(bc.pos||0)+1}return ay(function(bf,bg){if(bf==a8||bg==a8){return at()}return at(bb)},ba)}if(bd==a8||be==a8){return ay()}if(a9&&a9.indexOf(";")>-1){return at(bb)}return ay(w(a8))}return function(bc,bd){if(bc==a8||bd==a8){return ay()}return at(bb,ba)}}function aT(bb,a8,ba){for(var a9=3;a9<arguments.length;a9++){J.cc.push(arguments[a9])}return ay(a0(a8,ba),aN(bb,a8),i)}function C(a8){if(a8=="}"){return ay()}return at(a2,C)}function ah(a8,a9){if(h){if(a8==":"){return ay(k)}if(a9=="?"){return ay(ah)}}}function E(a8,a9){if(h&&(a8==":"||a9=="in")){return ay(k)}}function Y(a8){if(h&&a8==":"){if(J.stream.match(/^\s*\w+\s+is\b/,false)){return ay(aH,ad,k)}else{return ay(k)}}}function ad(a8,a9){if(a9=="is"){J.marked="keyword";return ay()}}function k(a8,a9){if(a9=="keyof"||a9=="typeof"||a9=="infer"){J.marked="keyword";return ay(a9=="typeof"?aZ:k)}if(a8=="variable"||a9=="void"){J.marked="type";return ay(N)}if(a9=="|"||a9=="&"){return ay(k)}if(a8=="string"||a8=="number"||a8=="atom"){return ay(N)}if(a8=="["){return ay(a0("]"),aN(k,"]",","),i,N)}if(a8=="{"){return ay(a0("}"),aN(aG,"}",",;"),i,N)}if(a8=="("){return ay(aN(au,")"),ae,N)}if(a8=="<"){return ay(aN(k,">"),k)}}function ae(a8){if(a8=="=>"){return ay(k)}}function aG(a8,a9){if(a8=="variable"||J.style=="keyword"){J.marked="property";return ay(aG)}else{if(a9=="?"||a8=="number"||a8=="string"){return ay(aG)}else{if(a8==":"){return ay(k)}else{if(a8=="["){return ay(w("variable"),E,w("]"),aG)}else{if(a8=="("){return at(a7,aG)}}}}}}function au(a8,a9){if(a8=="variable"&&J.stream.match(/^\s*[?:]/,false)||a9=="?"){return ay(au)}if(a8==":"){return ay(k)}if(a8=="spread"){return ay(au)}return at(k)}function N(a8,a9){if(a9=="<"){return ay(a0(">"),aN(k,">"),i,N)}if(a9=="|"||a8=="."||a9=="&"){return ay(k)}if(a8=="["){return ay(k,w("]"),N)}if(a9=="extends"||a9=="implements"){J.marked="keyword";return ay(k)}if(a9=="?"){return ay(k,w(":"),k)}}function e(a8,a9){if(a9=="<"){return ay(a0(">"),aN(k,">"),i,N)}}function o(){return at(k,aj)}function aj(a8,a9){if(a9=="="){return ay(k)}}function c(a8,a9){if(a9=="enum"){J.marked="keyword";return ay(aP)}return at(j,ah,aw,an)}function j(a8,a9){if(h&&aE(a9)){J.marked="keyword";return ay(j)}if(a8=="variable"){aR(a9);return ay()}if(a8=="spread"){return ay(j)}if(a8=="["){return aT(F,"]")}if(a8=="{"){return aT(aX,"}")}}function aX(a8,a9){if(a8=="variable"&&!J.stream.match(/^\s*:/,false)){aR(a9);return ay(aw)}if(a8=="variable"){J.marked="property"}if(a8=="spread"){return ay(j)}if(a8=="}"){return at()}if(a8=="["){return ay(aH,w("]"),w(":"),aX)}return ay(w(":"),j,aw)}function F(){return at(j,aw)}function aw(a8,a9){if(a9=="="){return ay(aZ)}}function an(a8){if(a8==","){return ay(c)}}function d(a8,a9){if(a8=="keyword b"&&a9=="else"){return ay(a0("form","else"),a2,i)}}function z(a8,a9){if(a9=="await"){return ay(z)}if(a8=="("){return ay(a0(")"),I,i)}}function I(a8){if(a8=="var"){return ay(c,H)}if(a8=="variable"){return ay(H)}return at(H)}function H(a8,a9){if(a8==")"){return ay()}if(a8==";"){return ay(H)}if(a9=="in"||a9=="of"){J.marked="keyword";return ay(aH,H)}return at(aH,H)}function W(a8,a9){if(a9=="*"){J.marked="keyword";return ay(W)}if(a8=="variable"){aR(a9);return ay(W)}if(a8=="("){return ay(A,a0(")"),aN(ax,")"),i,Y,a2,B)}if(h&&a9=="<"){return ay(a0(">"),aN(o,">"),i,W)}}function a7(a8,a9){if(a9=="*"){J.marked="keyword";return ay(a7)}if(a8=="variable"){aR(a9);return ay(a7)}if(a8=="("){return ay(A,a0(")"),aN(ax,")"),i,Y,B)}if(h&&a9=="<"){return ay(a0(">"),aN(o,">"),i,a7)}}function ar(a8,a9){if(a8=="keyword"||a8=="variable"){J.marked="type";return ay(ar)}else{if(a9=="<"){return ay(a0(">"),aN(o,">"),i)}}}function ax(a8,a9){if(a9=="@"){ay(aH,ax)}if(a8=="spread"){return ay(ax)}if(h&&aE(a9)){J.marked="keyword";return ay(ax)}if(h&&a8=="this"){return ay(ah,aw)}return at(j,ah,aw)}function P(a8,a9){if(a8=="variable"){return al(a8,a9)}return aa(a8,a9)}function al(a8,a9){if(a8=="variable"){aR(a9);return ay(aa)}}function aa(a8,a9){if(a9=="<"){return ay(a0(">"),aN(o,">"),i,aa)}if(a9=="extends"||a9=="implements"||(h&&a8==",")){if(a9=="implements"){J.marked="keyword"}return ay(h?k:aH,aa)}if(a8=="{"){return ay(a0("}"),t,i)}}function t(a8,a9){if(a8=="async"||(a8=="variable"&&(a9=="static"||a9=="get"||a9=="set"||(h&&aE(a9)))&&J.stream.match(/^\s+[\w$\xa1-\uffff]/,false))){J.marked="keyword";return ay(t)}if(a8=="variable"||J.style=="keyword"){J.marked="property";return ay(h?a6:W,t)}if(a8=="number"||a8=="string"){return ay(h?a6:W,t)}if(a8=="["){return ay(aH,ah,w("]"),h?a6:W,t)}if(a9=="*"){J.marked="keyword";return ay(t)}if(h&&a8=="("){return at(a7,t)}if(a8==";"||a8==","){return ay(t)}if(a8=="}"){return ay()}if(a9=="@"){return ay(aH,t)}}function a6(a9,bb){if(bb=="?"){return ay(a6)}if(a9==":"){return ay(k,aw)}if(bb=="="){return ay(aZ)}var a8=J.state.lexical.prev,ba=a8&&a8.info=="interface";return at(ba?a7:W)}function a1(a8,a9){if(a9=="*"){J.marked="keyword";return ay(aB,w(";"))}if(a9=="default"){J.marked="keyword";return ay(aH,w(";"))}if(a8=="{"){return ay(aN(aA,"}"),aB,w(";"))}return at(a2)}function aA(a8,a9){if(a9=="as"){J.marked="keyword";return ay(w("variable"))}if(a8=="variable"){return at(aZ,aA)}}function az(a8){if(a8=="string"){return ay()}if(a8=="("){return at(aH)}return at(aK,n,aB)}function aK(a8,a9){if(a8=="{"){return aT(aK,"}")}if(a8=="variable"){aR(a9)}if(a9=="*"){J.marked="keyword"}return ay(m)}function n(a8){if(a8==","){return ay(aK,n)}}function m(a8,a9){if(a9=="as"){J.marked="keyword";return ay(aK)}}function aB(a8,a9){if(a9=="from"){J.marked="keyword";return ay(aH)}}function r(a8){if(a8=="]"){return ay()}return at(aN(aZ,"]"))}function aP(){return at(a0("form"),j,w("{"),a0("}"),aN(aU,"}"),i,i)}function aU(){return at(j,aw)}function aJ(a9,a8){return a9.lastType=="operator"||a9.lastType==","||ab.test(a8.charAt(0))||/[,.]/.test(a8.charAt(0))}function a4(ba,a9,a8){return a9.tokenize==ai&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(a9.lastType)||(a9.lastType=="quasi"&&/\{\s*$/.test(ba.string.slice(0,ba.pos-(a8||0))))}return{startState:function(a9){var a8={tokenize:ai,lastType:"sof",cc:[],lexical:new S((a9||0)-p,0,"block",false),localVars:aD.localVars,context:aD.localVars&&new R(null,null,false),indented:a9||0};if(aD.globalVars&&typeof aD.globalVars=="object"){a8.globalVars=aD.globalVars}return a8},token:function(ba,a9){if(ba.sol()){if(!a9.lexical.hasOwnProperty("align")){a9.lexical.align=false}a9.indented=ba.indentation();aS(ba,a9)}if(a9.tokenize!=aV&&ba.eatSpace()){return null}var a8=a9.tokenize(ba,a9);if(ag=="comment"){return a8}a9.lastType=ag=="operator"&&(L=="++"||L=="--")?"incdec":ag;return g(a9,a8,ag,L,ba)},indent:function(a8,bb){if(a8.tokenize==aV){return a.Pass}if(a8.tokenize!=ai){return 0}var bf=bb&&bb.charAt(0),bg=a8.lexical,be;if(!/^\s*else\b/.test(bb)){for(var ba=a8.cc.length-1;ba>=0;--ba){var bc=a8.cc[ba];if(bc==i){bg=bg.prev}else{if(bc!=d){break}}}}while((bg.type=="stat"||bg.type=="form")&&(bf=="}"||((be=a8.cc[a8.cc.length-1])&&(be==av||be==l)&&!/^[,\.=+\-*:?[\(]/.test(bb)))){bg=bg.prev}if(G&&bg.type==")"&&bg.prev.type=="stat"){bg=bg.prev}var bd=bg.type,a9=bf==bd;if(bd=="vardef"){return bg.indented+(a8.lastType=="operator"||a8.lastType==","?bg.info.length+1:0)}else{if(bd=="form"&&bf=="{"){return bg.indented}else{if(bd=="form"){return bg.indented+p}else{if(bd=="stat"){return bg.indented+(aJ(a8,bb)?G||p:0)}else{if(bg.info=="switch"&&!a9&&aD.doubleIndentSwitch!=false){return bg.indented+(/^(?:case|default)\b/.test(bb)?p:2*p)}else{if(bg.align){return bg.column+(a9?0:1)}else{return bg.indented+(a9?0:p)}}}}}}},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:D?null:"/*",blockCommentEnd:D?null:"*/",blockCommentContinue:D?null:" * ",lineComment:D?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:D?"json":"javascript",jsonldMode:aW,jsonMode:D,expressionAllowed:a4,skipExpression:function(a8){var a9=a8.cc[a8.cc.length-1];if(a9==aH||a9==aZ){a8.cc.pop()}}}});a.registerHelper("wordChars","javascript",/[\w$]/);a.defineMIME("text/javascript","javascript");a.defineMIME("text/ecmascript","javascript");a.defineMIME("application/javascript","javascript");a.defineMIME("application/x-javascript","javascript");a.defineMIME("application/ecmascript","javascript");a.defineMIME("application/json",{name:"javascript",json:true});a.defineMIME("application/x-json",{name:"javascript",json:true});a.defineMIME("application/ld+json",{name:"javascript",jsonld:true});a.defineMIME("text/typescript",{name:"javascript",typescript:true});a.defineMIME("application/typescript",{name:"javascript",typescript:true})});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(c){c.defineMode("sql",function(x,p){var k=p.client||{},j=p.atoms||{"false":true,"true":true,"null":true},y=p.builtin||h(d),s=p.keywords||h(g),n=p.operatorChars||/^[*+\-%<>!=&|~^\/]/,t=p.support||{},i=p.hooks||{},r=p.dateSQL||{date:true,time:true,timestamp:true},v=p.backslashStringEscapes!==false,q=p.brackets||/^[\{}\(\)\[\]]/,l=p.punctuation||/^[;.,:]/;function z(E,C){var B=E.next();if(i[B]){var A=i[B](E,C);if(A!==false){return A}}if(t.hexNumber&&((B=="0"&&E.match(/^[xX][0-9a-fA-F]+/))||(B=="x"||B=="X")&&E.match(/^'[0-9a-fA-F]+'/))){return"number"}else{if(t.binaryNumber&&(((B=="b"||B=="B")&&E.match(/^'[01]+'/))||(B=="0"&&E.match(/^b[01]+/)))){return"number"}else{if(B.charCodeAt(0)>47&&B.charCodeAt(0)<58){E.match(/^[0-9]*(\.[0-9]+)?([eE][-+]?[0-9]+)?/);t.decimallessFloat&&E.match(/^\.(?!\.)/);return"number"}else{if(B=="?"&&(E.eatSpace()||E.eol()||E.eat(";"))){return"variable-3"}else{if(B=="'"||(B=='"'&&t.doubleQuote)){C.tokenize=o(B);return C.tokenize(E,C)}else{if((((t.nCharCast&&(B=="n"||B=="N"))||(t.charsetCast&&B=="_"&&E.match(/[a-z][a-z0-9]*/i)))&&(E.peek()=="'"||E.peek()=='"'))){return"keyword"}else{if(t.escapeConstant&&(B=="e"||B=="E")&&(E.peek()=="'"||(E.peek()=='"'&&t.doubleQuote))){C.tokenize=function(G,F){return(F.tokenize=o(G.next(),true))(G,F)};return"keyword"}else{if(t.commentSlashSlash&&B=="/"&&E.eat("/")){E.skipToEnd();return"comment"}else{if((t.commentHash&&B=="#")||(B=="-"&&E.eat("-")&&(!t.commentSpaceRequired||E.eat(" ")))){E.skipToEnd();return"comment"}else{if(B=="/"&&E.eat("*")){C.tokenize=u(1);return C.tokenize(E,C)}else{if(B=="."){if(t.zerolessFloat&&E.match(/^(?:\d+(?:e[+-]?\d+)?)/i)){return"number"}if(E.match(/^\.+/)){return null}if(t.ODBCdotTable&&E.match(/^[\w\d_]+/)){return"variable-2"}}else{if(n.test(B)){E.eatWhile(n);return"operator"}else{if(q.test(B)){return"bracket"}else{if(l.test(B)){E.eatWhile(l);return"punctuation"}else{if(B=="{"&&(E.match(/^( )*(d|D|t|T|ts|TS)( )*'[^']*'( )*}/)||E.match(/^( )*(d|D|t|T|ts|TS)( )*"[^"]*"( )*}/))){return"number"}else{E.eatWhile(/^[_\w\d]/);var D=E.current().toLowerCase();if(r.hasOwnProperty(D)&&(E.match(/^( )+'[^']*'/)||E.match(/^( )+"[^"]*"/))){return"number"}if(j.hasOwnProperty(D)){return"atom"}if(y.hasOwnProperty(D)){return"builtin"}if(s.hasOwnProperty(D)){return"keyword"}if(k.hasOwnProperty(D)){return"string-2"}return null}}}}}}}}}}}}}}}}function o(A,B){return function(F,D){var E=false,C;while((C=F.next())!=null){if(C==A&&!E){D.tokenize=z;break}E=(v||B)&&!E&&C=="\\"}return"string"}}function u(A){return function(D,C){var B=D.match(/^.*?(\/\*|\*\/)/);if(!B){D.skipToEnd()}else{if(B[1]=="/*"){C.tokenize=u(A+1)}else{if(A>1){C.tokenize=u(A-1)}else{C.tokenize=z}}}return"comment"}}function m(C,B,A){B.context={prev:B.context,indent:C.indentation(),col:C.column(),type:A}}function w(A){A.indent=A.context.indent;A.context=A.context.prev}return{startState:function(){return{tokenize:z,context:null}},token:function(D,C){if(D.sol()){if(C.context&&C.context.align==null){C.context.align=false}}if(C.tokenize==z&&D.eatSpace()){return null}var B=C.tokenize(D,C);if(B=="comment"){return B}if(C.context&&C.context.align==null){C.context.align=true}var A=D.current();if(A=="("){m(D,C,")")}else{if(A=="["){m(D,C,"]")}else{if(C.context&&C.context.type==A){w(C)}}}return B},indent:function(D,B){var A=D.context;if(!A){return c.Pass}var C=B.charAt(0)==A.type;if(A.align){return A.col+(C?0:1)}else{return A.indent+(C?0:x.indentUnit)}},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:t.commentSlashSlash?"//":t.commentHash?"#":"--",closeBrackets:"()[]{}''\"\"``"}});function b(j){var i;while((i=j.next())!=null){if(i=="`"&&!j.eat("`")){return"variable-2"}}j.backUp(j.current().length-1);return j.eatWhile(/\w/)?"variable-2":null}function f(j){var i;while((i=j.next())!=null){if(i=='"'&&!j.eat('"')){return"variable-2"}}j.backUp(j.current().length-1);return j.eatWhile(/\w/)?"variable-2":null}function a(i){if(i.eat("@")){i.match(/^session\./);i.match(/^local\./);i.match(/^global\./)}if(i.eat("'")){i.match(/^.*'/);return"variable-2"}else{if(i.eat('"')){i.match(/^.*"/);return"variable-2"}else{if(i.eat("`")){i.match(/^.*`/);return"variable-2"}else{if(i.match(/^[0-9a-zA-Z$\.\_]+/)){return"variable-2"}}}}return null}function e(i){if(i.eat("N")){return"atom"}return i.match(/^[a-zA-Z.#!?]/)?"variable-2":null}var g="alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit ";function h(m){var k={},l=m.split(" ");for(var j=0;j<l.length;++j){k[l[j]]=true}return k}var d="bool boolean bit blob enum long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision real date datetime year unsigned signed decimal numeric";c.defineMIME("text/x-sql",{name:"sql",keywords:h(g+"begin"),builtin:h(d),atoms:h("false true null unknown"),dateSQL:h("date time timestamp"),support:h("ODBCdotTable doubleQuote binaryNumber hexNumber")});c.defineMIME("text/x-mssql",{name:"sql",client:h("$partition binary_checksum checksum connectionproperty context_info current_request_id error_line error_message error_number error_procedure error_severity error_state formatmessage get_filestream_transaction_context getansinull host_id host_name isnull isnumeric min_active_rowversion newid newsequentialid rowcount_big xact_state object_id"),keywords:h(g+"begin trigger proc view index for add constraint key primary foreign collate clustered nonclustered declare exec go if use index holdlock nolock nowait paglock readcommitted readcommittedlock readpast readuncommitted repeatableread rowlock serializable snapshot tablock tablockx updlock with"),builtin:h("bigint numeric bit smallint decimal smallmoney int tinyint money float real char varchar text nchar nvarchar ntext binary varbinary image cursor timestamp hierarchyid uniqueidentifier sql_variant xml table "),atoms:h("is not null like and or in left right between inner outer join all any some cross unpivot pivot exists"),operatorChars:/^[*+\-%<>!=^\&|\/]/,brackets:/^[\{}\(\)]/,punctuation:/^[;.,:/]/,backslashStringEscapes:false,dateSQL:h("date datetimeoffset datetime2 smalldatetime datetime time"),hooks:{"@":a}});c.defineMIME("text/x-mysql",{name:"sql",client:h("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:h(g+"accessible action add after algorithm all analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general get global grant grants group group_concat handler hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show signal slave slow smallint snapshot soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:h("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:h("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:h("date time timestamp"),support:h("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":a,"`":b,"\\":e}});c.defineMIME("text/x-mariadb",{name:"sql",client:h("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:h(g+"accessible action add after algorithm all always analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general generated get global grant grants group groupby_concat handler hard hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password persistent phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show shutdown signal slave slow smallint snapshot soft soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views virtual warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:h("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:h("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:h("date time timestamp"),support:h("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":a,"`":b,"\\":e}});c.defineMIME("text/x-sqlite",{name:"sql",client:h("auth backup bail binary changes check clone databases dbinfo dump echo eqp exit explain fullschema headers help import imposter indexes iotrace limit lint load log mode nullvalue once open output print prompt quit read restore save scanstats schema separator session shell show stats system tables testcase timeout timer trace vfsinfo vfslist vfsname width"),keywords:h(g+"abort action add after all analyze attach autoincrement before begin cascade case cast check collate column commit conflict constraint cross current_date current_time current_timestamp database default deferrable deferred detach each else end escape except exclusive exists explain fail for foreign full glob if ignore immediate index indexed initially inner instead intersect isnull key left limit match natural no notnull null of offset outer plan pragma primary query raise recursive references regexp reindex release rename replace restrict right rollback row savepoint temp temporary then to transaction trigger unique using vacuum view virtual when with without"),builtin:h("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text clob bigint int int2 int8 integer float double char varchar date datetime year unsigned signed numeric real"),atoms:h("null current_date current_time current_timestamp"),operatorChars:/^[*+\-%<>!=&|/~]/,dateSQL:h("date time timestamp datetime"),support:h("decimallessFloat zerolessFloat"),identifierQuote:'"',hooks:{"@":a,":":a,"?":a,"$":a,'"':f,"`":b}});c.defineMIME("text/x-cassandra",{name:"sql",client:{},keywords:h("add all allow alter and any apply as asc authorize batch begin by clustering columnfamily compact consistency count create custom delete desc distinct drop each_quorum exists filtering from grant if in index insert into key keyspace keyspaces level limit local_one local_quorum modify nan norecursive nosuperuser not of on one order password permission permissions primary quorum rename revoke schema select set storage superuser table three to token truncate ttl two type unlogged update use user users using values where with writetime"),builtin:h("ascii bigint blob boolean counter decimal double float frozen inet int list map static text timestamp timeuuid tuple uuid varchar varint"),atoms:h("false true infinity NaN"),operatorChars:/^[<>=]/,dateSQL:{},support:h("commentSlashSlash decimallessFloat"),hooks:{}});c.defineMIME("text/x-plsql",{name:"sql",client:h("appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap"),keywords:h("abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work"),builtin:h("abs acos add_months ascii asin atan atan2 average bfile bfilename bigserial bit blob ceil character chartorowid chr clob concat convert cos cosh count dec decode deref dual dump dup_val_on_index empty error exp false float floor found glb greatest hextoraw initcap instr instrb int integer isopen last_day least length lengthb ln lower lpad ltrim lub make_ref max min mlslabel mod months_between natural naturaln nchar nclob new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null number numeric nvarchar2 nvl others power rawtohex real reftohex round rowcount rowidtochar rowtype rpad rtrim serial sign signtype sin sinh smallint soundex sqlcode sqlerrm sqrt stddev string substr substrb sum sysdate tan tanh to_char text to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid unlogged upper user userenv varchar varchar2 variance varying vsize xml"),operatorChars:/^[*\/+\-%<>!=~]/,dateSQL:h("date time timestamp"),support:h("doubleQuote nCharCast zerolessFloat binaryNumber hexNumber")});c.defineMIME("text/x-hive",{name:"sql",keywords:h("select alter $elem$ $key$ $value$ add after all analyze and archive as asc before between binary both bucket buckets by cascade case cast change cluster clustered clusterstatus collection column columns comment compute concatenate continue create cross cursor data database databases dbproperties deferred delete delimited desc describe directory disable distinct distribute drop else enable end escaped exclusive exists explain export extended external fetch fields fileformat first format formatted from full function functions grant group having hold_ddltime idxproperties if import in index indexes inpath inputdriver inputformat insert intersect into is items join keys lateral left like limit lines load local location lock locks mapjoin materialized minus msck no_drop nocompress not of offline on option or order out outer outputdriver outputformat overwrite partition partitioned partitions percent plus preserve procedure purge range rcfile read readonly reads rebuild recordreader recordwriter recover reduce regexp rename repair replace restrict revoke right rlike row schema schemas semi sequencefile serde serdeproperties set shared show show_database sort sorted ssl statistics stored streamtable table tables tablesample tblproperties temporary terminated textfile then tmp to touch transform trigger unarchive undo union uniquejoin unlock update use using utc utc_tmestamp view when where while with admin authorization char compact compactions conf cube current current_date current_timestamp day decimal defined dependency directories elem_type exchange file following for grouping hour ignore inner interval jar less logical macro minute month more none noscan over owner partialscan preceding pretty principals protection reload rewrite role roles rollup rows second server sets skewed transactions truncate unbounded unset uri user values window year"),builtin:h("bool boolean long timestamp tinyint smallint bigint int float double date datetime unsigned string array struct map uniontype key_type utctimestamp value_type varchar"),atoms:h("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:h("date timestamp"),support:h("ODBCdotTable doubleQuote binaryNumber hexNumber")});c.defineMIME("text/x-pgsql",{name:"sql",client:h("source"),keywords:h(g+"a abort abs absent absolute access according action ada add admin after aggregate alias all allocate also alter always analyse analyze and any are array array_agg array_max_cardinality as asc asensitive assert assertion assignment asymmetric at atomic attach attribute attributes authorization avg backward base64 before begin begin_frame begin_partition bernoulli between bigint binary bit bit_length blob blocked bom boolean both breadth by c cache call called cardinality cascade cascaded case cast catalog catalog_name ceil ceiling chain char char_length character character_length character_set_catalog character_set_name character_set_schema characteristics characters check checkpoint class class_origin clob close cluster coalesce cobol collate collation collation_catalog collation_name collation_schema collect column column_name columns command_function command_function_code comment comments commit committed concurrently condition condition_number configuration conflict connect connection connection_name constant constraint constraint_catalog constraint_name constraint_schema constraints constructor contains content continue control conversion convert copy corr corresponding cost count covar_pop covar_samp create cross csv cube cume_dist current current_catalog current_date current_default_transform_group current_path current_role current_row current_schema current_time current_timestamp current_transform_group_for_type current_user cursor cursor_name cycle data database datalink datatype date datetime_interval_code datetime_interval_precision day db deallocate debug dec decimal declare default defaults deferrable deferred defined definer degree delete delimiter delimiters dense_rank depends depth deref derived desc describe descriptor detach detail deterministic diagnostics dictionary disable discard disconnect dispatch distinct dlnewcopy dlpreviouscopy dlurlcomplete dlurlcompleteonly dlurlcompletewrite dlurlpath dlurlpathonly dlurlpathwrite dlurlscheme dlurlserver dlvalue do document domain double drop dump dynamic dynamic_function dynamic_function_code each element else elseif elsif empty enable encoding encrypted end end_frame end_partition endexec enforced enum equals errcode error escape event every except exception exclude excluding exclusive exec execute exists exit exp explain expression extension external extract false family fetch file filter final first first_value flag float floor following for force foreach foreign fortran forward found frame_row free freeze from fs full function functions fusion g general generated get global go goto grant granted greatest group grouping groups handler having header hex hierarchy hint hold hour id identity if ignore ilike immediate immediately immutable implementation implicit import in include including increment indent index indexes indicator info inherit inherits initially inline inner inout input insensitive insert instance instantiable instead int integer integrity intersect intersection interval into invoker is isnull isolation join k key key_member key_type label lag language large last last_value lateral lead leading leakproof least left length level library like like_regex limit link listen ln load local localtime localtimestamp location locator lock locked log logged loop lower m map mapping match matched materialized max max_cardinality maxvalue member merge message message_length message_octet_length message_text method min minute minvalue mod mode modifies module month more move multiset mumps name names namespace national natural nchar nclob nesting new next nfc nfd nfkc nfkd nil no none normalize normalized not nothing notice notify notnull nowait nth_value ntile null nullable nullif nulls number numeric object occurrences_regex octet_length octets of off offset oids old on only open operator option options or order ordering ordinality others out outer output over overlaps overlay overriding owned owner p pad parallel parameter parameter_mode parameter_name parameter_ordinal_position parameter_specific_catalog parameter_specific_name parameter_specific_schema parser partial partition pascal passing passthrough password path percent percent_rank percentile_cont percentile_disc perform period permission pg_context pg_datatype_name pg_exception_context pg_exception_detail pg_exception_hint placing plans pli policy portion position position_regex power precedes preceding precision prepare prepared preserve primary print_strict_params prior privileges procedural procedure procedures program public publication query quote raise range rank read reads real reassign recheck recovery recursive ref references referencing refresh regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy regr_syy reindex relative release rename repeatable replace replica requiring reset respect restart restore restrict result result_oid return returned_cardinality returned_length returned_octet_length returned_sqlstate returning returns reverse revoke right role rollback rollup routine routine_catalog routine_name routine_schema routines row row_count row_number rows rowtype rule savepoint scale schema schema_name schemas scope scope_catalog scope_name scope_schema scroll search second section security select selective self sensitive sequence sequences serializable server server_name session session_user set setof sets share show similar simple size skip slice smallint snapshot some source space specific specific_name specifictype sql sqlcode sqlerror sqlexception sqlstate sqlwarning sqrt stable stacked standalone start state statement static statistics stddev_pop stddev_samp stdin stdout storage strict strip structure style subclass_origin submultiset subscription substring substring_regex succeeds sum symmetric sysid system system_time system_user t table table_name tables tablesample tablespace temp template temporary text then ties time timestamp timezone_hour timezone_minute to token top_level_count trailing transaction transaction_active transactions_committed transactions_rolled_back transform transforms translate translate_regex translation treat trigger trigger_catalog trigger_name trigger_schema trim trim_array true truncate trusted type types uescape unbounded uncommitted under unencrypted union unique unknown unlink unlisten unlogged unnamed unnest until untyped update upper uri usage use_column use_variable user user_defined_type_catalog user_defined_type_code user_defined_type_name user_defined_type_schema using vacuum valid validate validator value value_of values var_pop var_samp varbinary varchar variable_conflict variadic varying verbose version versioning view views volatile warning when whenever where while whitespace width_bucket window with within without work wrapper write xml xmlagg xmlattributes xmlbinary xmlcast xmlcomment xmlconcat xmldeclaration xmldocument xmlelement xmlexists xmlforest xmliterate xmlnamespaces xmlparse xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltext xmlvalidate year yes zone"),builtin:h("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:h("false true null unknown"),operatorChars:/^[*\/+\-%<>!=&|^\/#@?~]/,backslashStringEscapes:false,dateSQL:h("date time timestamp"),support:h("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast escapeConstant")});c.defineMIME("text/x-gql",{name:"sql",keywords:h("ancestor and asc by contains desc descendant distinct from group has in is limit offset on order select superset where"),atoms:h("false true"),builtin:h("blob datetime first key __key__ string integer double boolean null"),operatorChars:/^[*+\-%<>!=]/});c.defineMIME("text/x-gpsql",{name:"sql",client:h("source"),keywords:h("abort absolute access action active add admin after aggregate all also alter always analyse analyze and any array as asc assertion assignment asymmetric at authorization backward before begin between bigint binary bit boolean both by cache called cascade cascaded case cast chain char character characteristics check checkpoint class close cluster coalesce codegen collate column comment commit committed concurrency concurrently configuration connection constraint constraints contains content continue conversion copy cost cpu_rate_limit create createdb createexttable createrole createuser cross csv cube current current_catalog current_date current_role current_schema current_time current_timestamp current_user cursor cycle data database day deallocate dec decimal declare decode default defaults deferrable deferred definer delete delimiter delimiters deny desc dictionary disable discard distinct distributed do document domain double drop dxl each else enable encoding encrypted end enum errors escape every except exchange exclude excluding exclusive execute exists explain extension external extract false family fetch fields filespace fill filter first float following for force foreign format forward freeze from full function global grant granted greatest group group_id grouping handler hash having header hold host hour identity if ignore ilike immediate immutable implicit in including inclusive increment index indexes inherit inherits initially inline inner inout input insensitive insert instead int integer intersect interval into invoker is isnull isolation join key language large last leading least left level like limit list listen load local localtime localtimestamp location lock log login mapping master match maxvalue median merge minute minvalue missing mode modifies modify month move name names national natural nchar new newline next no nocreatedb nocreateexttable nocreaterole nocreateuser noinherit nologin none noovercommit nosuperuser not nothing notify notnull nowait null nullif nulls numeric object of off offset oids old on only operator option options or order ordered others out outer over overcommit overlaps overlay owned owner parser partial partition partitions passing password percent percentile_cont percentile_disc placing plans position preceding precision prepare prepared preserve primary prior privileges procedural procedure protocol queue quote randomly range read readable reads real reassign recheck recursive ref references reindex reject relative release rename repeatable replace replica reset resource restart restrict returning returns revoke right role rollback rollup rootpartition row rows rule savepoint scatter schema scroll search second security segment select sequence serializable session session_user set setof sets share show similar simple smallint some split sql stable standalone start statement statistics stdin stdout storage strict strip subpartition subpartitions substring superuser symmetric sysid system table tablespace temp template temporary text then threshold ties time timestamp to trailing transaction treat trigger trim true truncate trusted type unbounded uncommitted unencrypted union unique unknown unlisten until update user using vacuum valid validation validator value values varchar variadic varying verbose version view volatile web when where whitespace window with within without work writable write xml xmlattributes xmlconcat xmlelement xmlexists xmlforest xmlparse xmlpi xmlroot xmlserialize year yes zone"),builtin:h("bigint int8 bigserial serial8 bit varying varbit boolean bool box bytea character char varchar cidr circle date double precision float float8 inet integer int int4 interval json jsonb line lseg macaddr macaddr8 money numeric decimal path pg_lsn point polygon real float4 smallint int2 smallserial serial2 serial serial4 text time without zone with timetz timestamp timestamptz tsquery tsvector txid_snapshot uuid xml"),atoms:h("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:h("date time timestamp"),support:h("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber nCharCast charsetCast")});c.defineMIME("text/x-sparksql",{name:"sql",keywords:h("add after all alter analyze and anti archive array as asc at between bucket buckets by cache cascade case cast change clear cluster clustered codegen collection column columns comment commit compact compactions compute concatenate cost create cross cube current current_date current_timestamp database databases datata dbproperties defined delete delimited deny desc describe dfs directories distinct distribute drop else end escaped except exchange exists explain export extended external false fields fileformat first following for format formatted from full function functions global grant group grouping having if ignore import in index indexes inner inpath inputformat insert intersect interval into is items join keys last lateral lazy left like limit lines list load local location lock locks logical macro map minus msck natural no not null nulls of on optimize option options or order out outer outputformat over overwrite partition partitioned partitions percent preceding principals purge range recordreader recordwriter recover reduce refresh regexp rename repair replace reset restrict revoke right rlike role roles rollback rollup row rows schema schemas select semi separated serde serdeproperties set sets show skewed sort sorted start statistics stored stratify struct table tables tablesample tblproperties temp temporary terminated then to touch transaction transactions transform true truncate unarchive unbounded uncache union unlock unset use using values view when where window with"),builtin:h("tinyint smallint int bigint boolean float double string binary timestamp decimal array map struct uniontype delimited serde sequencefile textfile rcfile inputformat outputformat"),atoms:h("false true null"),operatorChars:/^[*\/+\-%<>!=~&|^]/,dateSQL:h("date time timestamp"),support:h("ODBCdotTable doubleQuote zerolessFloat")});c.defineMIME("text/x-esper",{name:"sql",client:h("source"),keywords:h("alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where limit after all and as at asc avedev avg between by case cast coalesce count create current_timestamp day days delete define desc distinct else end escape events every exists false first from full group having hour hours in inner insert instanceof into irstream is istream join last lastweekday left limit like max match_recognize matches median measures metadatasql min minute minutes msec millisecond milliseconds not null offset on or order outer output partition pattern prev prior regexp retain-union retain-intersection right rstream sec second seconds select set some snapshot sql stddev sum then true unidirectional until update variable weekday when where window"),builtin:{},atoms:h("false true null"),operatorChars:/^[*+\-%<>!=&|^\/#@?~]/,dateSQL:h("time"),support:h("decimallessFloat zerolessFloat binaryNumber hexNumber")})});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){var b={autoSelfClosers:{area:true,base:true,br:true,col:true,command:true,embed:true,frame:true,hr:true,img:true,input:true,keygen:true,link:true,meta:true,param:true,source:true,track:true,wbr:true,menuitem:true},implicitlyClosed:{dd:true,li:true,optgroup:true,option:true,p:true,rp:true,rt:true,tbody:true,td:true,tfoot:true,th:true,tr:true},contextGrabbers:{dd:{dd:true,dt:true},dt:{dd:true,dt:true},li:{li:true},option:{option:true,optgroup:true},optgroup:{optgroup:true},p:{address:true,article:true,aside:true,blockquote:true,dir:true,div:true,dl:true,fieldset:true,footer:true,form:true,h1:true,h2:true,h3:true,h4:true,h5:true,h6:true,header:true,hgroup:true,hr:true,menu:true,nav:true,ol:true,p:true,pre:true,section:true,table:true,ul:true},rp:{rp:true,rt:true},rt:{rp:true,rt:true},tbody:{tbody:true,tfoot:true},td:{td:true,th:true},tfoot:{tbody:true},th:{td:true,th:true},thead:{tbody:true,tfoot:true},tr:{tr:true}},doNotIndent:{pre:true},allowUnquoted:true,allowMissing:true,caseFold:true};var c={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:false,allowMissing:false,allowMissingTagName:false,caseFold:false};a.defineMode("xml",function(m,y){var r=m.indentUnit;var z={};var l=y.htmlMode?b:c;for(var f in l){z[f]=l[f]}for(var f in y){z[f]=y[f]}var g,h;function p(G,F){function D(H){F.tokenize=H;return H(G,F)}var E=G.next();if(E=="<"){if(G.eat("!")){if(G.eat("[")){if(G.match("CDATA[")){return D(x("atom","]]>"))}else{return null}}else{if(G.match("--")){return D(x("comment","-->"))}else{if(G.match("DOCTYPE",true,true)){G.eatWhile(/[\w\._\-]/);return D(A(1))}else{return null}}}}else{if(G.eat("?")){G.eatWhile(/[\w\._\-]/);F.tokenize=x("meta","?>");return"meta"}else{g=G.eat("/")?"closeTag":"openTag";F.tokenize=o;return"tag bracket"}}}else{if(E=="&"){var C;if(G.eat("#")){if(G.eat("x")){C=G.eatWhile(/[a-fA-F\d]/)&&G.eat(";")}else{C=G.eatWhile(/[\d]/)&&G.eat(";")}}else{C=G.eatWhile(/[\w\.\-:]/)&&G.eat(";")}return C?"atom":"error"}else{G.eatWhile(/[^&<]/);return null}}}p.isInText=true;function o(F,E){var D=F.next();if(D==">"||(D=="/"&&F.eat(">"))){E.tokenize=p;g=D==">"?"endTag":"selfcloseTag";return"tag bracket"}else{if(D=="="){g="equals";return null}else{if(D=="<"){E.tokenize=p;E.state=n;E.tagName=E.tagStart=null;var C=E.tokenize(F,E);return C?C+" tag error":"tag error"}else{if(/[\'\"]/.test(D)){E.tokenize=k(D);E.stringStartCol=F.column();return E.tokenize(F,E)}else{F.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/);return"word"}}}}}function k(C){var D=function(F,E){while(!F.eol()){if(F.next()==C){E.tokenize=o;break}}return"string"};D.isInAttribute=true;return D}function x(D,C){return function(F,E){while(!F.eol()){if(F.match(C)){E.tokenize=p;break}F.next()}return D}}function A(C){return function(F,E){var D;while((D=F.next())!=null){if(D=="<"){E.tokenize=A(C+1);return E.tokenize(F,E)}else{if(D==">"){if(C==1){E.tokenize=p;break}else{E.tokenize=A(C-1);return E.tokenize(F,E)}}}}return"meta"}}function t(D,C,E){this.prev=D.context;this.tagName=C;this.indent=D.indented;this.startOfLine=E;if(z.doNotIndent.hasOwnProperty(C)||(D.context&&D.context.noIndent)){this.noIndent=true}}function w(C){if(C.context){C.context=C.context.prev}}function s(E,D){var C;while(true){if(!E.context){return}C=E.context.tagName;if(!z.contextGrabbers.hasOwnProperty(C)||!z.contextGrabbers[C].hasOwnProperty(D)){return}w(E)}}function n(C,E,D){if(C=="openTag"){D.tagStart=E.column();return d}else{if(C=="closeTag"){return v}else{return n}}}function d(C,E,D){if(C=="word"){D.tagName=E.current();h="tag";return e}else{if(z.allowMissingTagName&&C=="endTag"){h="tag bracket";return e(C,E,D)}else{h="error";return d}}}function v(D,F,E){if(D=="word"){var C=F.current();if(E.context&&E.context.tagName!=C&&z.implicitlyClosed.hasOwnProperty(E.context.tagName)){w(E)}if((E.context&&E.context.tagName==C)||z.matchClosing===false){h="tag";return u}else{h="tag error";return B}}else{if(z.allowMissingTagName&&D=="endTag"){h="tag bracket";return u(D,F,E)}else{h="error";return B}}}function u(D,C,E){if(D!="endTag"){h="error";return u}w(E);return n}function B(C,E,D){h="error";return u(C,E,D)}function e(F,D,G){if(F=="word"){h="attribute";return j}else{if(F=="endTag"||F=="selfcloseTag"){var E=G.tagName,C=G.tagStart;G.tagName=G.tagStart=null;if(F=="selfcloseTag"||z.autoSelfClosers.hasOwnProperty(E)){s(G,E)}else{s(G,E);G.context=new t(G,E,C==G.indented)}return n}}h="error";return e}function j(C,E,D){if(C=="equals"){return q}if(!z.allowMissing){h="error"}return e(C,E,D)}function q(C,E,D){if(C=="string"){return i}if(C=="word"&&z.allowUnquoted){h="string";return e}h="error";return e(C,E,D)}function i(C,E,D){if(C=="string"){return i}return e(C,E,D)}return{startState:function(C){var D={tokenize:p,state:n,indented:C||0,tagName:null,tagStart:null,context:null};if(C!=null){D.baseIndent=C}return D},token:function(E,D){if(!D.tagName&&E.sol()){D.indented=E.indentation()}if(E.eatSpace()){return null}g=null;var C=D.tokenize(E,D);if((C||g)&&C!="comment"){h=null;D.state=D.state(g||C,E,D);if(h){C=h=="error"?C+" error":h}}return C},indent:function(H,D,G){var F=H.context;if(H.tokenize.isInAttribute){if(H.tagStart==H.indented){return H.stringStartCol+1}else{return H.indented+r}}if(F&&F.noIndent){return a.Pass}if(H.tokenize!=o&&H.tokenize!=p){return G?G.match(/^(\s*)/)[0].length:0}if(H.tagName){if(z.multilineTagIndentPastTag!==false){return H.tagStart+H.tagName.length+2}else{return H.tagStart+r*(z.multilineTagIndentFactor||1)}}if(z.alignCDATA&&/<!\[CDATA\[/.test(D)){return 0}var C=D&&/^<(\/)?([\w_:\.-]*)/.exec(D);if(C&&C[1]){while(F){if(F.tagName==C[2]){F=F.prev;break}else{if(z.implicitlyClosed.hasOwnProperty(F.tagName)){F=F.prev}else{break}}}}else{if(C){while(F){var E=z.contextGrabbers[F.tagName];if(E&&E.hasOwnProperty(C[2])){F=F.prev}else{break}}}}while(F&&F.prev&&!F.startOfLine){F=F.prev}if(F){return F.indent+r}else{return H.baseIndent||0}},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:z.htmlMode?"html":"xml",helperType:z.htmlMode?"html":"xml",skipAttribute:function(C){if(C.state==q){C.state=e}},xmlCurrentTag:function(C){return C.tagName?{name:C.tagName,close:C.type=="closeTag"}:null},xmlCurrentContext:function(E){var D=[];for(var C=E.context;C;C=C.prev){if(C.tagName){D.push(C.tagName)}}return D.reverse()}}});a.defineMIME("text/xml","xml");a.defineMIME("application/xml","xml");if(!a.mimeModes.hasOwnProperty("text/html")){a.defineMIME("text/html",{name:"xml",htmlMode:true})}});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(e){var c=/MSIE \d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8);var i=e.Pos;var a={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function d(j){return j&&j.bracketRegex||/[(){}[\]]/}function f(q,n,k){var t=q.getLineHandle(n.line),p=n.ch-1;var m=k&&k.afterCursor;if(m==null){m=/(^| )cm-fat-cursor($| )/.test(q.getWrapperElement().className)}var r=d(k);var o=(!m&&p>=0&&r.test(t.text.charAt(p))&&a[t.text.charAt(p)])||r.test(t.text.charAt(p+1))&&a[t.text.charAt(++p)];if(!o){return null}var l=o.charAt(1)==">"?1:-1;if(k&&k.strict&&(l>0)!=(p==n.ch)){return null}var j=q.getTokenTypeAt(i(n.line,p+1));var s=g(q,i(n.line,p+(l>0?1:0)),l,j||null,k);if(s==null){return null}return{from:i(n.line,p),to:s&&s.pos,match:s&&s.ch==o.charAt(0),forward:l>0}}function g(w,r,n,k,m){var l=(m&&m.maxScanLineLength)||10000;var t=(m&&m.maxScanLines)||1000;var v=[];var x=d(m);var q=n>0?Math.min(r.line+t,w.lastLine()+1):Math.max(w.firstLine()-1,r.line-t);for(var o=r.line;o!=q;o+=n){var y=w.getLine(o);if(!y){continue}var u=n>0?0:y.length-1,p=n>0?y.length:-1;if(y.length>l){continue}if(o==r.line){u=r.ch-(n<0?1:0)}for(;u!=p;u+=n){var j=y.charAt(u);if(x.test(j)&&(k===undefined||w.getTokenTypeAt(i(o,u+1))==k)){var s=a[j];if(s&&(s.charAt(1)==">")==(n>0)){v.push(j)}else{if(!v.length){return{pos:i(o,u),ch:j}}else{v.pop()}}}}}return o-n==(n>0?w.lastLine():w.firstLine())?false:null}function b(s,n,m){var k=s.state.matchBrackets.maxHighlightLineLength||1000;var r=[],l=s.listSelections();for(var o=0;o<l.length;o++){var q=l[o].empty()&&f(s,l[o].head,m);if(q&&s.getLine(q.from.line).length<=k){var j=q.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";r.push(s.markText(q.from,i(q.from.line,q.from.ch+1),{className:j}));if(q.to&&s.getLine(q.to.line).length<=k){r.push(s.markText(q.to,i(q.to.line,q.to.ch+1),{className:j}))}}}if(r.length){if(c&&s.state.focused){s.focus()}var p=function(){s.operation(function(){for(var t=0;t<r.length;t++){r[t].clear()}})};if(n){setTimeout(p,800)}else{return p}}}function h(j){j.operation(function(){if(j.state.matchBrackets.currentlyHighlighted){j.state.matchBrackets.currentlyHighlighted();j.state.matchBrackets.currentlyHighlighted=null}j.state.matchBrackets.currentlyHighlighted=b(j,false,j.state.matchBrackets)})}e.defineOption("matchBrackets",false,function(j,l,k){if(k&&k!=e.Init){j.off("cursorActivity",h);if(j.state.matchBrackets&&j.state.matchBrackets.currentlyHighlighted){j.state.matchBrackets.currentlyHighlighted();j.state.matchBrackets.currentlyHighlighted=null}}if(l){j.state.matchBrackets=typeof l=="object"?l:{};j.on("cursorActivity",h)}});e.defineExtension("matchBrackets",function(){b(this,true)});e.defineExtension("findMatchingBracket",function(l,k,j){if(j||typeof k=="boolean"){if(!j){k=k?{strict:true}:null}else{j.strict=k;k=j}}return f(this,l,k)});e.defineExtension("scanForBracket",function(m,k,l,j){return g(this,m,k,l,j)})});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(c){var h="CodeMirror-activeline";var g="CodeMirror-activeline-background";var f="CodeMirror-activeline-gutter";c.defineOption("styleActiveLine",false,function(i,l,j){var k=j==c.Init?false:j;if(l==k){return}if(k){i.off("beforeSelectionChange",b);d(i);delete i.state.activeLines}if(l){i.state.activeLines=[];e(i,i.listSelections());i.on("beforeSelectionChange",b)}});function d(j){for(var k=0;k<j.state.activeLines.length;k++){j.removeLineClass(j.state.activeLines[k],"wrap",h);j.removeLineClass(j.state.activeLines[k],"background",g);j.removeLineClass(j.state.activeLines[k],"gutter",f)}}function a(k,j){if(k.length!=j.length){return false}for(var l=0;l<k.length;l++){if(k[l]!=j[l]){return false}}return true}function e(j,l){var p=[];for(var n=0;n<l.length;n++){var m=l[n];var o=j.getOption("styleActiveLine");if(typeof o=="object"&&o.nonEmpty?m.anchor.line!=m.head.line:!m.empty()){continue}var k=j.getLineHandleVisualStart(m.head.line);if(p[p.length-1]!=k){p.push(k)}}if(a(j.state.activeLines,p)){return}j.operation(function(){d(j);for(var q=0;q<p.length;q++){j.addLineClass(p[q],"wrap",h);j.addLineClass(p[q],"background",g);j.addLineClass(p[q],"gutter",f)}j.state.activeLines=p})}function b(i,j){e(i,j.ranges)}});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){a.defineOption("fullScreen",false,function(d,f,e){if(e==a.Init){e=false}if(!e==!f){return}if(f){b(d)}else{c(d)}});function b(d){var e=d.getWrapperElement();d.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:e.style.width,height:e.style.height};e.style.width="";e.style.height="auto";e.className+=" CodeMirror-fullscreen";document.documentElement.style.overflow="hidden";d.refresh()}function c(d){var e=d.getWrapperElement();e.className=e.className.replace(/\s*CodeMirror-fullscreen\b/,"");document.documentElement.style.overflow="";var f=d.state.fullScreenRestore;e.style.width=f.width;e.style.height=f.height;window.scrollTo(f.scrollLeft,f.scrollTop);d.refresh()}});window.WebsiteSettings=(function(){var a={},b={};return{set:function(c,d){a=c||{};if(d){b=d}a.showCookiesDisclaimer=a.showCookiesDisclaimer||"0";a.cookiesDisclaimerText=a.cookiesDisclaimerText||M.DEFAULT_COOKIE_DISCLAIMER},getSettings:function(){return a||{}},getMenu:function(){return b||{}},getDateFormat:function(){return(a||{})["dateFormat"]||"uk"},save:function(c,d){WebsiteSettings.saveWithMenu(c,null,d)},saveWithMenu:function(c,e,d){Tools.makeWebsiteRequest({action:"saveWebsiteSettings",method:"post",data:{settings:JSON.stringify(c),menu:e?JSON.stringify(e):null},onOk:function(){(d||dummy)()}})}}})();var Permission={MASTER:0,WEBSITE:1,BLOG:2,PORTFOLIO:3,BILLING:4,DOMAIN:5,ACCESS:6,THEMES:7,MESSAGES:8,ANALYTICS:9,MEMBERS:10,STORE:11,FUNNELS:12,ADD_SITES:13};window.Website=window.Website||{};mergeUnique(window.Website,{id:"",activeSite:null,projectId:"",rootDomain:"",pageGroups:[],websiteTitle:"",websiteTimezone:"",websiteTimezoneName:"",virtualPages:[],funnels:[],popups:[],pageTemplates:[],saveInProggress:false,hasAccessToWebsite:false,hasAccessToPortfolio:false,hasAccessToBlog:false,hasAccessToStore:false,templateName:"",pagePrefix:"/me/website",virtualPagePrefix:"/me",storeCurrency:"",storeCurrencySymbol:"",storeCurrencyPositionAtLeft:true,storeProcess:"cart",storeWeightUnit:"",BLOG_PAGE_ID:-2,PORTFOLIO_PAGE_ID:-3,STORE_PAGE_ID:-4,templatePopups:null,templateBlocks:null,emailSettings:null,globalStyling:{},appsSettings:null,memberGroups:[],subscriptionInfo:null,homePage:null,funnelTemplates:null,projectWebsites:[],crmProperties:[],crmTags:[],platformVars:null,personalizationFields:[],redirectRules:[],projectName:"",canAddWebsitesToProject:false,canAddFunnelsToWebsite:false,currentUserIsProjectOwner:false,permissions:0,minPlanForStoreSubscriptions:"",storeSubscriptionAvailable:false,globalWidgets:null,webhooks:null,apiKey:null,bookingOperators:[],bookingServices:[],bookingOperatorsLimit:0,bookingServicesLimit:0,marketing:{},addons:[],emailDomainSettings:null,activeImports:null,countdownGeneratorUrlBase:"",getSystemPages:function(b){for(var a=0;a<Website.systemPages.length;++a){if(Website.systemPages[a].link===b){return Website.systemPages[a]}}return null},getSystemPagesInOrder:function(a){return["system/404","system/no-permissions","system/protected","system/member","system/member-auth","system/product","system/products","system/cart","system/checkout","system/order-completed","system/order-processing","system/order-canceled","system/order-error","system/order-download-file","system/builder-login","system/builder-register","system/builder-reset-pass"]},getSystemPagePreviewUrl:function(b){if(b.startsWith("/")){b=b.substr(1)}var a="/"+(Website.getPageById(Website.STORE_PAGE_ID)||{link:"store"}).link;switch(b){case"system/404":return"/"+Tools.getTimestamp();case"system/cart":return a+"/cart";case"system/checkout":return a+"/checkout";case"system/member":return"/member";case"system/no-permissions":return"/";case"system/protected":return"/";case"system/member-auth":case"system/signin":case"system/signup":return"/signin";case"system/product":return a;case"system/products":return a;case"system/order-processing":return"/_process_order";case"system/order-completed":return a+"/checkout/completed";case"system/order-canceled":return a+"/checkout/canceled";case"system/order-error":return a+"/checkout/error";case"system/order-download-file":return"/dl";case"system/builder-login":return"/login";case"system/builder-register":return"/register";case"system/builder-reset-pass":return"/PasswordReset";default:return b}},getSystemPageName:function(a){switch(a){case"system/404":return M.PAGE_NOT_FOUND_NAME;case"system/cart":return M.CART_NAME;case"system/checkout":return M.STORE_CHECKOUT_NAME;case"system/member":return M.MEMBER_DETAILS_NAME;case"system/no-permissions":return M.NOT_ENOUGH_PERMISSIONS_NAME;case"system/protected":return M.PAGE_PROTECTED_NAME;case"system/member-auth":case"system/signin":case"system/signup":return M.MEMBER_LOGIN_NAME;case"system/product":return M.STORE_PRODUCT_NAME;case"system/products":return M.STORE_CATALOG_NAME;case"system/order-processing":return M.ORDER_PROCESSING_NAME;case"system/order-completed":return M.ORDER_COMPLETED_NAME;case"system/order-canceled":return M.ORDER_CANCELED_NAME;case"system/order-error":return M.ORDER_ERROR_NAME;case"system/order-download-file":return M.DOWNLOAD_FILE_NAME;case"system/builder-login":return M.BUILDER_LOGIN_NAME;case"system/builder-register":return M.BUILDER_REG_NAME;case"system/builder-reset-pass":return M.BUILDER_PASS_RESET_NAME;default:return""}},getSystemPageDescription:function(a){switch(a){case"system/404":return M.PAGE_404_DESC;case"system/cart":return M.PAGE_CART_DESC;case"system/checkout":return M.PAGE_CHECKOUT_DESC;case"system/member":return M.PAGE_MEMBER_DETAILS_DESC;case"system/no-permissions":return M.PAGE_NO_PERMISSIONS_DESC;case"system/protected":return M.PAGE_PROTECTED_DESC;case"system/member-auth":case"system/signin":case"system/signup":return M.PAGE_MEMBER_AUTH_DESC;case"system/product":return M.PAGE_PRODUCT_DESC;case"system/products":return M.PAGE_CATALOG_DESC;case"system/order-processing":return M.PAGE_ORDER_PROCESSING_DESC;case"system/order-completed":return M.PAGE_ORDER_COMPLETE_DESC;case"system/order-canceled":return M.PAGE_ORDER_CANCELED_DESC;case"system/order-error":return M.PAGE_ORDER_ERROR_DESC;case"system/order-download-file":return M.PAGE_ORDER_DOWNLOAD_DESC;case"system/builder-login":return M.PAGE_BUILDER_LOGIN_DESC;case"system/builder-register":return M.PAGE_BUILDER_REG_DESC;case"system/builder-reset-pass":return M.PAGE_BUILDER_RECOVER_PASS_DESC;default:return""}},getActiveSite:function(){return this.activeSite||{}},hasPermission:function(a){if(this.currentUserIsProjectOwner){return true}if(a===Permission.MASTER){return false}var b=1<<a;return((this.permissions&b)===b)},getAciveModal:function(){var a=Hooks.active.hook.activePage;return a&&a.name==="websitePage"&&a.modal?a.modal:null},getActiveFunnel:function(){return Hooks.active.hook.activePage&&Hooks.active.hook.activePage.getActiveFunnel?Hooks.active.hook.activePage.getActiveFunnel():null},getActiveFunnelStep:function(){return Hooks.active.hook.activePage&&Hooks.active.hook.activePage.getActiveFunnelStep?Hooks.active.hook.activePage.getActiveFunnelStep():null},isFunnelWebsite:function(){return Website.getActiveSite().type==="FUNNEL"},getProjectWebsiteById:function(a){return getById(Website.projectWebsites,a)},openPage:function(b){var c=this.pagePrefix;for(var a=0;a<this.virtualPages.length;++a){if(this.virtualPages[a].link===b){c=this.virtualPagePrefix;break}}CPanel.goToUrl(c+"/"+b)},getMemberGroupById:function(a){return getById(this.memberGroups,a)},removeMemberGroupById:function(b){for(var a=0;a<this.memberGroups.length;++a){if(this.memberGroups[a].id===b){this.memberGroups.splice(a,1);return}}},addMemberGroup:function(a){this.memberGroups.push(a)},setFunnel:function(a){var c=getById(Website.funnels,a.id);if(c){for(var b in a){c[b]=a[b]}}},getPageHeaderByUrl:function(c){if(c===(contextPath+Website.pagePrefix)){return Website.getHomepage().headerType}for(var b=0;b<this.pageGroups.length;++b){var a=this.pageGroups[b].pages;for(var d=0;d<a.length;++d){if(contextPath+Website.pagePrefix+"/"+a[d].link===c){return a[d].headerType}}}for(var b=0;b<this.virtualPages.length;++b){if(c.indexOf(contextPath+"/me/"+this.virtualPages[b].link)===0){return this.virtualPages[b].headerType}}return 0},getGroups:function(){return Website.pageGroups},getGroupById:function(a){a=parse(a,-1);return getById(this.pageGroups,a)},getGroupByPageId:function(c){c=parse(c,-1,true);if(c<0){return null}for(var b=0;b<Website.pageGroups.length;++b){for(var a=0;a<Website.pageGroups[b].pages.length;++a){if(Website.pageGroups[b].pages[a].id===c){return Website.pageGroups[b]}}}return null},getPopupById:function(a){a=parse(a,-1,true);return getById(this.popups,a)},getFunnelStepById:function(a,b){return getById(a.steps,b)},getFunnelById:function(a){return getById(this.funnels,a)},removeFunnelById:function(b){for(var a=0;a<Website.funnels.length;++a){if(Website.funnels[a].id===b){Website.funnels.splice(a,1);return true}}},getFunnelByUrl:function(c,b){for(var a=0;a<Website.funnels.length;++a){if(b&&Website.funnels[a].url.toLowerCase()===c.toLowerCase()||Website.funnels[a].url===c){return Website.funnels[a]}}return null},getFirstRealPage:function(){for(var b=0;b<Website.pageGroups.length;++b){for(var a=0;a<Website.pageGroups[b].pages.length;++a){if(Website.pageGroups[b].pages.length>0){return Website.pageGroups[b].pages[0]}}}return null},getPageById:function(d){d=parse(d,-1,true);if(d<0){for(var a=0;a<Website.virtualPages.length;++a){if(Website.virtualPages[a].id===d){return Website.virtualPages[a]}}}for(var c=0;c<Website.pageGroups.length;++c){for(var b=0;b<Website.pageGroups[c].pages.length;++b){if(Website.pageGroups[c].pages[b].id===d){return Website.pageGroups[c].pages[b]}}}return null},savePage:function(c,b,d,a){d=d||dummy;a=a||dummy;if(Website.saveInProggress){return}Website.saveInProggress=true;b.url=c;Tools.makeWebsiteRequest({action:"update",method:"post",data:b,onOk:d,onNotOk:function(e){CPanel.showError(e.message);a()},onRequestError:function(){CPanel.showError(M.ERR_UPS);a()},always:function(){Website.saveInProggress=false}})},getHomepageLink:function(){if(Website.homePage){if(Website.homePage.isFunnel){var a=Website.getFunnelById(Website.homePage.id);if(a&&a.steps.length){return a.url+"/"+a.steps[0].page.link}return""}return Website.getPageById(Website.homePage.id).link}return""},getHomepage:function(){if(Website.homePage.isFunnel){var a=Website.getFunnelById(Website.homePage.id);if(a&&a.steps.length){return a.steps[0].page}return{}}else{return Website.getPageById(Website.homePage.id)}},isHomepage:function(a,b){return Website.homePage.isFunnel===b&&Website.homePage.id===a},setHomepage:function(a,c,b){b=b||dummy;Tools.makeWebsiteRequest({action:"setHomepage",data:{id:a.id,isFunnel:c},onOk:function(d){Website.homePage={id:a.id,isFunnel:c};b()}})},getPageByUrl:function(c){for(var a=0;a<Website.virtualPages.length;++a){if(Website.virtualPages[a].link===c){return Website.virtualPages[a]}}for(var d=0;d<Website.pageGroups.length;++d){for(var b=0;b<Website.pageGroups[d].pages.length;++b){if(Website.pageGroups[d].pages[b].link===c){return Website.pageGroups[d].pages[b]}}}for(var a=0;a<Website.systemPages.length;++a){if(Website.systemPages[a].link===c){return Website.systemPages[a]}}return null},getTemplatePopups:function(a){if(Website.templatePopups!==null){a(Website.templatePopups);return}Tools.makeWebsiteRequest({action:"listTemplatePopups",method:"get",onOk:function(b){Website.templatePopups=b.data;a(Website.templatePopups)}})},getTemplateBlocks:function(a){if(Website.templateBlocks!==null){a(Website.templateBlocks);return}Tools.makeWebsiteRequest({action:"listTemplateBlocks",method:"get",onOk:function(b){Website.templateBlocks=b.data;a(Website.templateBlocks)}})},addPopup:function(b,a){Tools.makeWebsiteRequest({action:"addPopup",method:"get",data:{clone:b||-1},onOk:function(c){Website.popups.push(c.data);(a||dummy)(c.data.id)}})},__onNewPageAdded:function(f,h,b,g){var d=b.data;if(d==="NO_PAGES_AVAILABLE"){Tools.showWindow({title:"",icon:Popup.ICON_ERROR,width:450,markup:Templates.get("pagesLimitReachedMarkup"),showCloseButton:true,customClass:Popup.CUSTOM_CLASS_ERROR_DIALOG,action:{onShow:function(i,j){j.find('[data-action="openBilling"]').click(function(){i.close();CPanel.goToUrl("/me/settings/billing")})}}})}else{if(h){var c=d;for(var a=0;a<Website.funnels.length;++a){if(Website.funnels[a].id===d.funnelId){Website.funnels[a]=c;break}}g(c)}else{var e={id:d.id,name:d.name,link:d.link,title:d.title,description:d.description,isPublic:d.isPublic,headerType:d.headerType,security:d.security,meta:d.meta};if(d.id>0){f.pages.push(e)}else{Website.virtualPages.push(e);Website.virtualPages.sort(function(j,i){return j.id<i.id?1:-1})}g(e)}}},clonePage:function(a,b){Tools.makeWebsiteRequest({action:"clonePage",data:{id:a},onOk:function(c){var d=Website.getGroupByPageId(a);Website.__onNewPageAdded(d,false,c,b)}})},addPage:function(e,f){f=f||dummy;var c="";if(e.securityType==="password"){c=e.securityPassword}else{if(e.securityType==="members"&&$.isArray(e.securityGroups)){var b=[];for(var a=0;a<e.securityGroups.length;++a){b.push(e.securityGroups[a].id)}c=b.join(",")}}var d=e.group;Tools.makeWebsiteRequest({action:"createPage",data:{name:e.name,url:e.url,dublicatedPage:e.page,group:d,title:e.title,description:e.description,isPublic:e.isPublic?"1":"0",headerType:e.headerType,securityType:e.securityType,securityValue:c,meta:e.meta===null?null:JSON.stringify(e.meta),funnelId:e.funnelId?e.funnelId:0,toCheckoutStepId:e.toCheckoutStepId?e.toCheckoutStepId:0},method:"post",onOk:function(g){var h=Website.getGroupById(d);Website.__onNewPageAdded(h,!!e.funnelId,g,f)}})},addGroup:function(a,b){b=b||dummy;Tools.makeWebsiteRequest({action:"createGroup",data:{name:a},method:"post",onOk:function(c){c=c.data;var d={id:c.id,name:a,pages:[]};Website.pageGroups.push(d);b(d)}})},deleteGroup:function(b,a){a=a||dummy;Tools.makeWebsiteRequest({action:"deleteGroup",data:{id:b},method:"post",onOk:function(d){b=parse(b,-1);for(var c=0;c<Website.pageGroups.length;++c){if(Website.pageGroups[c].id===b){Website.pageGroups.splice(c,1);break}}a()}})},updateGroup:function(b,a,c){c=c||dummy;Tools.makeWebsiteRequest({action:"updateGroup",data:{id:b,name:a},method:"post",onOk:function(d){var e=Website.getGroupById(b);e.name=d.data;c(e)}})},updatePageMeta:function(c,a,b,d){d=d||dummy;Tools.makeWebsiteRequest({action:"updatePageMeta",data:{url:c,type:a,data:JSON.stringify(b)},method:"post",onOk:function(e){d()}})},updatePage:function(e){var f=e.page,c=e.pageId;e.onSuccess=e.onSuccess||dummy;var d="";if(e.securityType==="password"){d=e.securityPassword}else{if(e.securityType==="members"&&$.isArray(e.securityGroups)){var b=[];for(var a=0;a<e.securityGroups.length;++a){b.push(e.securityGroups[a].id)}d=b.join(",")}}Tools.makeWebsiteRequest({action:"updatePageInformation",incrementModCount:true,data:{id:c,name:e.name,url:e.link,title:e.title,group:e.group,description:e.description,isPublic:e.isPublic?"1":"0",headerType:e.headerType,securityType:e.securityType,securityValue:d,funnelId:e.funnelId,funnelStepId:e.funnelStepId,meta:e.meta?JSON.stringify(e.meta):null},method:"post",onOk:function(i){i=i.data;f.name=i.name;f.title=i.title;f.link=i.link;f.description=i.description;f.isPublic=i.isPublic;f.headerType=i.headerType;f.security=i.security;f.meta=i.meta;var l=false;if(c>0){var h=Website.getGroupByPageId(c);var k=Website.getGroupById(parse(e.group,-1,true));if(h!==null&&k!==null){if(k.id!==h.id){for(var g=0;g<h.pages.length;++g){if(h.pages[g].id===c){h.pages.splice(g,1);k.pages.push(f);k.pages.sort(function(m,j){return m.id-j.id});l=true;break}}}}}e.onSuccess(f,l)}})},movePageToFunnel:function(b,d,a,e){var c=Website.getPageById(b);if(!Website.homePage.isFunnel&&Website.homePage.id===b){Tools.showError(M.ERR_CANT_MOVE_HOMEPAGE);return}Tools.makeWebsiteRequest({action:"movePageToFunnel",data:{id:b,siteId:d,funnelId:a},method:"post",onOk:function(g){var m=g.data;for(var k=0;k<Website.pageGroups.length;++k){var l=Website.pageGroups[k];for(var h=0;h<l.pages.length;++h){if(l.pages[h].id===b){l.pages.splice(h,1);break}}}if(Website.getActiveSite().id===d){for(var f=0;f<Website.funnels.length;++f){if(Website.funnels[f].id===m.id){Website.funnels[f]=m;break}}}(e||dummy)(m,c)}})},deletePage:function(b,a){a=a||dummy;Tools.makeWebsiteRequest({action:"deletePage",data:{id:b},method:"post",onOk:function(f){b=parse(b,-1,true);if(b<0){for(var c=0;c<Website.virtualPages.length;++c){if(Website.virtualPages[c].id===b){Website.virtualPages.splice(c,1);break}}}else{for(var e=0;e<Website.pageGroups.length;++e){var g=Website.pageGroups[e];for(var d=0;d<g.pages.length;++d){if(g.pages[d].id===b){g.pages.splice(d,1);break}}}}a()}})},deletePopup:function(b,a){a=a||dummy;Tools.makeWebsiteRequest({action:"deletePopup",data:{id:b},method:"post",onOk:function(d){for(var c=0;c<Website.popups.length;++c){if(Website.popups[c].id===b){Website.popups.splice(c,1);(a||dummy)();return}}}})},clonePopup:function(a,b){b=b||dummy;Tools.makeWebsiteRequest({action:"clonePopup",data:{id:a.id},method:"post",onOk:function(c){var d={id:c.data.id,name:a.name};Website.popups.push(d);b(d)}})},addVirtualPage:function(i,e){var j=i==="blog"?0:i==="portfolio"?1:2;var f=[M.BLOG_TITLE,M.PORTFOLIO_TITLE,M.STORE_TITLE];var c=["other|"+Website.BLOG_PAGE_ID,"other|"+Website.PORTFOLIO_PAGE_ID,"other|"+Website.STORE_PAGE_ID];var b=["blog","portfolio","store"][j];var g=1;while(true){var h=Website.getPageByUrl(b);if(h===null){break}b=b+(++g)}var k=Website.getGroups()[0].id;var a=f[j];var d=c[j];Website.addPage({name:a,url:b,page:d,group:k,title:a,description:"",isPublic:true,headerType:0,securityType:"public",password:"password",selectedGroups:[],meta:null},function(l){(e||dummy)(l)})},selectPage:function(a){LinkPicker.selectLink(a)},isAweberEnabled:function(){return !!(((Website.appsSettings||{}).aweber||{}).accountId||"")},isSpeedyEnabled:function(){return Website.appsSettings&&Website.appsSettings.speedy&&Website.appsSettings.speedy.active},isMailchimpEnabled:function(){return !!(((Website.appsSettings||{}).mailchimp||{}).key||"")},isMailerliteEnabled:function(){return !!(((Website.appsSettings||{}).mailerlite||{}).key||"")},isMoosendEnabled:function(){return !!(((Website.appsSettings||{}).moosend||{}).key||"")},isGetResponseEnabled:function(){return !!(((Website.appsSettings||{}).getresponse||{}).key||"")},isActiveCampaignEnabled:function(){return !!(((Website.appsSettings||{}).activecampaign||{}).key||"")},isMarketingEnabled:function(){return window.marketingModuleEnabled!==false},isKeapEnabled:function(){return !!(((Website.appsSettings||{}).keap||{}).accessToken||"")},_selectAppLists:function(c,b,a){mergeUnique(a,{isModal:true,title:c,description:"",lists:[],onSelect:dummy});Tools.makeWebsiteRequest({action:b,onOk:function(e){var d=e.data||[];var f=WebPlatform.intersect(d,a.lists,true,function(h,g){return h.first===g});Tools.chooseMultiple({isModal:a.isModal,title:a.title,message:a.description,items:d,selectedItems:f,allowEmptySelection:true,getItemText:function(g){return g.second},getItemId:function(g){return g.first},onSelect:function(h){var i=[];for(var g=0;g<h.length;++g){i.push(h[g].first)}a.onSelect(i)}})}})},saveTag:function(c,a,b){Tools.makeWebsiteRequest({action:"saveTag",data:{id:c,tag:a.trim()},onOk:function(e){var d=e.data;if(c<1){Website.crmTags.push(d)}else{Website.crmTags[indexOfId(Website.crmTags,c)]=d}(b||dummy)(d)}})},selectAweberLists:function(a){this._selectAppLists(M.MAILCHIMP_SETTINGS,"getAweberLists",a)},selectMoosendLists:function(a){this._selectAppLists(M.MOOSEND_SETTINGS,"getMoosendLists",a)},selectMailchimpLists:function(a){this._selectAppLists(M.MAILCHIMP_SETTINGS,"getMailchimpLists",a)},selectMailerliteLists:function(a){this._selectAppLists(M.MAILERLITE_SETTINGS,"getMailerliteLists",a)},selectGetResponseLists:function(a){this._selectAppLists(M.GETRESPONSE_SETTINGS,"getGetResponseLists",a)},selectActiveCampaignLists:function(a){this._selectAppLists(M.ACTIVECAMPAIGN_SETTINGS,"getActiveCampaignLists",a)},selectMarketingLists:function(a){Tools.makeWebsiteRequest({action:"getMarketingListsWithoutCount",onOk:function(c){var b=c.data||[];var d=WebPlatform.intersect(b,a.lists,true,function(f,e){return f.id==e});UITools.selectMarketingLists(b,d,function(f){var e=[];f.forEach(function(g){e.push(g.id)});a.onSelect(e)})}})},selectKeapLists:function(a){this._selectAppLists("Keap Settings","getKeapTags",a)},EMPTY_EMAIL_SETTINGS:{host:"",port:"",user:"",pass:"",email:"",name:""},saveGlobalStyling:function(a,d,e){var c=1;var b=function(){--c;if(c<1){(e||dummy)()}};if(a){++c;Tools.makeWebsiteRequest({action:"saveGlobalStyling",method:"post",data:{globalStyling:JSON.stringify(a)},onOk:function(){Website.globalStyling=a;b()}})}if(d){++c;Website.updatePageMeta(Hooks.active.hook.activePage.getClientPageUrl(),"style",d,b)}b()},setCurrencySymbols:function(b,c,a){WebPlatform.Store.currency=b;WebPlatform.Store.currencySymbol=c;WebPlatform.Store.currencySymbolAtLeft=a;Website.storeCurrency=b;Website.storeCurrencySymbol=c;Website.storeCurrencyPositionAtLeft=a},addNewFunnel:function(d,b,f,c,e){var a=function(h,g,i){Tools.makeWebsiteRequest({action:"createFunnel",data:{template:h,name:g,toWebsite:b,url:Tools.urlFromString(g,true),brandColor:f,fields:JSON.stringify(c||[])},onOk:function(l){var n=l.data;var m=n.site;var k=n.funnel;if(Website.id===m.id){Website.funnels.push(k);for(var j=0;j<Website.projectWebsites.length;++j){if(Website.projectWebsites[j].id===m.id){Website.projectWebsites[j]=m;break}}}else{Website.projectWebsites.push(m)}i(k,m)}})};Tools.showWindow({isModal:true,width:520,customClass:"funnels-popup",markup:Templates.get("newFunnelSettingsMarkup"),noTitle:true,noNav:true,action:{onShow:function(g,h){}},buttons:[Button(M.SAVE,Button.CLASS_MIDDLE_BLUE,function(g,i){var h=i.find('input[name="funnelName"]').val();a(d,h,function(j,k){g.close();e(j,k)})}),Button.MIDDLE_CANCEL]})},init:function(b){var e=false,a=false;var d=null;var c=function(){WebsiteSettings.set(d.settings||{},d.menu||{});GlobalStyling.enableFonts(Website.globalStyling);if(b){b();b=null}c=null;d=null;if(Website.projectWebsites.length>1||Website.canAddWebsitesToProject||Website.canAddFunnelsToWebsite){$(".switch-funnel-site").removeClass("none")}};Tools.makeWebsiteRequest({action:"getWebsiteData",onOk:function(f){var g=f.data;Website.subscriptionInfo=g.subscriptionInfo||{};Website.pageGroups=g.pageGroups||[];Website.virtualPages=g.virtualPages||[];Website.systemPages=g.systemPages||[];Website.funnels=g.funnels||[];Website.popups=g.popups||[];Website.pageTemplates=g.pageTemplates||[];Website.templateName=g.templateName||"";Website.websiteTitle=g.websiteTitle||"";Website.websiteTimezone=g.timezone||"UTC";Website.websiteTimezoneName=g.timezoneName||"UTC";Website.storeProcess=g.storeProcess;Website.storeWeightUnit=g.storeWeightUnit||"kg";Website.memberGroups=g.memberGroups||[];Website.hasAccessToWebsite=g.accessWebsite;Website.hasAccessToPortfolio=g.accessPortfolio;Website.hasAccessToBlog=g.accessBlog;Website.hasAccessToStore=g.accessStore;Website.emailSettings=mergeUnique(g.emailSettings||{},Website.EMPTY_EMAIL_SETTINGS,true);Website.appsSettings=g.appsSettings||{};Website.globalStyling=g.globalStyling||{};Website.homePage=g.homePage;Website.globalStyling.colors=Website.globalStyling.colors||{};Website.globalStyling.fonts=Website.globalStyling.fonts||[];Website.activeSite=getById(g.projectWebsites||[],Website.id);Website.projectWebsites=g.projectWebsites||[];Website.crmProperties=g.crmProperties||[];Website.crmTags=g.crmTags||[];Website.platformVars=g.platformVars||null;Website.personalizationFields=g.personalizationFields||[];Website.redirectRules=g.redirectRules||[];Website.projectName=g.projectName||"";Website.canAddWebsitesToProject=g.canAddWebsitesToProject===true;Website.canAddFunnelsToWebsite=g.canAddFunnelsToWebsite===true;Website.permissions=g.permissions||0;Website.minPlanForStoreSubscriptions=g.minPlanForStoreSubscriptions;Website.storeSubscriptionAvailable=g.storeSubscriptionAvailable;Website.globalWidgets=g.globalWidgets||{};Website.webhooks=g.webhooks||[];Website.apiKey=g.apiKey||"";Website.bookingOperators=g.bookingOperators||[];Website.bookingServices=g.bookingServices||[];Website.bookingOperatorsLimit=g.bookingOperatorsLimit||0;Website.bookingServicesLimit=g.bookingServicesLimit||0;Website.onboarding=g.onboarding||null;Website.marketing=g.marketing||{};Website.addons=g.addons||[];Website.emailDomainSettings=g.emailDomainSettings||{};Website.activeImports=g.activeImports||null;Website.countdownGeneratorUrlBase=g.countdownGeneratorUrlBase||"";if(g.templateWebsite){Website.templateWebsite=true}if(g.templateFunnel){Website.templateFunnel=true}Website.currentUserIsProjectOwner=Website.permissions===-1;mergeUnique(Website.globalStyling.colors,{primary:"#3e3e3e",background:"#ffffff",text:"#3e3e3e",secondary1:"#028090",secondary2:"#00A896",secondary3:"#02C39A",secondary4:"#F0F3BD"});Website.setCurrencySymbols(g.storeCurrency||"USD",g.storeCurrencySymbol||"$",g.storeCurrencyPosition===0);d=g.settings||{};a=true;if(e){c()}WebComponents.State().set(Website);try{WebPlatform.Events.trigger(window,WebPlatform.Events.CONFIGURATION_CHANGED,Tools.getEventData(window.location.pathname))}catch(h){Log.error(h)}},onNotOk:function(f){if(f.accessDenied){d={};subscriptionInfo={};Website.emailSettings=null;Website.appsSettings={};Website.pageGroups=[];Website.virtualPages=[];Website.systemPages=[];Website.funnels=[];Website.popups=[];Website.pageTemplates=[];Website.websiteTitle="";Website.websiteTimezone="";Website.websiteTimezoneName="";Website.storeWeightUnit="";Website.memberGroups=[];Website.hasAccessToWebsite=false;Website.hasAccessToPortfolio=false;Website.hasAccessToBlog=false;Website.hasAccessToStore=false;Website.homePage={};Website.globalStyling={};Website.setCurrencySymbols("","",true);a=true;if(e){c()}}}});Tools.loadGridScripts(function(){e=true;if(a){c()}})}});var Hook=function(){return{init:dummy,onDeactivate:dummy,onActivate:dummy,type:"",baseUrl:"",params:"",scriptBase:"",container:null,getInnerPage:FuncNotImplemented,invoke:function(b,c){var a=false;if(this.activePage!==null){a=this.activePage.invoke(b,c)}if(!a&&(c in this)){this[c](b)}},activePage:null,pages:{},getContainer:function(){return this.container},getNavClass:dummy,onBeforeUrlLoad:dummy,onUrlLoad:function(e){var a=this;this.params=decodeURIComponent(CPanel.currentPage.replace(this.baseUrl,""));var d=this.getInnerPage();if(d===null){return}var f=d;if($.isPlainObject(d)&&!isUndefined(d.script)){f=d.script;d=d.name}var c=a.pages[d];var b=!isUndefined(c);if(b&&c.initialized){a.activePage=c;c.show(e)}else{Hooks.addPageLoadCallback(d,function(g){a.activePage=g;g.show(e)});if(!b){Tools.getScript(a.scriptBase+f+".js").done(function(g,h){Log.log("loaded page: "+d)}).fail(function(i,h,g){Log.error(g);CPanel.showError(M.ERR_UNABLE_TO_LOAD_SCRIPTS)})}}},onAfterUrlLoad:dummy,onUrlUnload:function(){if(this.activePage!==null){this.activePage.hide();this.activePage=null}},onReady:function(){this.onAfterUrlLoad();try{WebPlatform.Events.trigger(window,WebPlatform.Events.PAGE_LOADED,Tools.getEventData(window.location.pathname))}catch(a){Log.error(a)}CPanel.hideLoadingBar(Hooks.LOADING_BAR_NAME)}}};var Hooks={LOADING_BAR_NAME:"HookLoadingBar",active:null,isNavHidden:false,navigationClass:null,_pageLoadCallbacks:{},_hookLoadCallbacks:{},_mainLoadingBar:null,items:[],showMainLoadingBar:function(c,b){if(Hooks._mainLoadingBar===null){Hooks._mainLoadingBar=$(".working-area-wrapper-inner")}var a=Hooks._mainLoadingBar;if(this.active!==null&&this.active===b){a=this.active.hook.getContainer()}c=c||dummy;Hooks._mainLoadingBar.scrollTop(0);CPanel.showLoadingBar(Hooks.LOADING_BAR_NAME,a,c,true)},hideMainLoadingBar:function(){CPanel.hideLoadingBar(Hooks.LOADING_BAR_NAME)},addHookLoadCallback:function(a,b){if(Hooks._hookLoadCallbacks[a]){Hooks._hookLoadCallbacks[a].push(b)}else{Hooks._hookLoadCallbacks[a]=[b]}},addPageLoadCallback:function(a,b){if(Hooks._pageLoadCallbacks[a]){Hooks._pageLoadCallbacks[a].push(b)}else{Hooks._pageLoadCallbacks[a]=[b]}},_runHook:function(c,b){var a=this;Hooks.showMainLoadingBar(function(){var d=hasTemplate===false?"no-nav":(c.hook.getNavClass()||""),e=function(){c.hook.onBeforeUrlLoad();if(a.active!==null){a.active.hook.onUrlUnload();a.active.hook.getContainer().children(":not(.loadingBarContainer)").remove()}if(a.active!==c){if(a.active!==null){a.active.hook.onDeactivate()}c.hook.onActivate()}c.hook.onUrlLoad(b);if(window.Intercom){window.Intercom("update")}a.active=c;e=null};if(d!==a.navigationClass){if(a.navigationClass){$body.removeClass(a.navigationClass)}if(!a.isNavHidden){$body.addClass(d)}a.navigationClass=d;e()}else{e()}},c)},toggleNavigation:function(){this.isNavHidden=!this.isNavHidden;$body[this.isNavHidden?"removeClass":"addClass"](this.navigationClass)},notifyURLChange:function(){if(this.active&&this.active.hook&&this.active.hook.activePage){this.active.hook.activePage.onURLChange()}},loadPage:function(d,f){for(var e=0;e<this.items.length;++e){var g=this.items[e];var b=d.indexOf("#")>-1?d.substr(0,d.indexOf("#")):d;var c=b.match(g.url);if(c!==null){if(isUndefined(g.hook)){Hooks.addHookLoadCallback(g.url,function(h){Hooks._runHook(h,f)});var a=g.scriptBase||(resources+"/scripts/");Tools.getScript(a+g.scripts[0]).done(function(h,i){Log.log("loading required scripts: "+i)}).fail(function(j,i,h){Log.error(h);CPanel.showError(M.ERR_UNABLE_TO_LOAD_SCRIPTS)})}else{this._runHook(g,f)}return}}CPanel.showError(M.ERR_INVALID_PAGE)},registerHook:function(c,e){mergeUnique(e,Hook());for(var b=0;b<this.items.length;++b){var f=this.items[b];if(c===f.type){f.hook=e;e.type=c;e.baseUrl=contextPath+"/me/"+c;e.scriptBase=f.scriptBase||(resources+"/scripts/");f.hook.init();var d=Hooks._hookLoadCallbacks[f.url]||[];for(var a=0;a<d.length;++a){d[a](f)}return}}},registerPage:function(h,g,a,f,c){var e=null;for(var d=0;d<this.items.length;++d){if(h===this.items[d].type){e=this.items[d].hook;break}}if(e!==null){var b=mergeUnique(c,InnerPage);e.pages[g]=b;b.init(e,e.getContainer(),g,a,f,function(j){j.onInit();var k=Hooks._pageLoadCallbacks[g]||[];for(var i=0;i<k.length;++i){k[i](j)}})}},init:function(a){a=a||[];Array.prototype.push.apply(this.items,a)}};var InnerPage={hook:null,container:null,name:null,htmlSource:"",markup:null,hasAccess:false,initialized:false,style:null,invoke:function(a,b){if(b in this){this[b](a);return true}return false},getContainer:function(){return this.hook.getContainer()},getActiveFunnel:function(){return null},getActiveFunnelStep:function(){return null},triggerShowOnHtmlSourceLoad:false,ready:function(){this.hook.onReady()},show:function(a){if(this.markup===null){this.triggerShowOnHtmlSourceLoad=true;return}if(this.style!==null){this.style[0].disabled=false}this.onRenderMarkup();if(this.hasAccess){this.onShow(a)}else{this.ready()}},onRenderMarkup:function(){this.container=this.hook.getContainer();this.container.append(this.markup)},onInit:function(){this.initialized=true},onShow:function(a){this.ready()},onURLChange:dummy,onHide:dummy,hide:function(){if(this.style!==null){this.style[0].disabled=true}try{this.onHide()}catch(a){Tools.reportJSError(a,{name:this.name})}},init:function(g,b,d,a,e,f){var c=this;this.hook=g;this.container=b;this.name=d;this.htmlSource=a;this.styleSource=e;if(e){this.style=$(format(Templates.get("componentStyleDeclaration"),"resources",resources,"r",Math.random(),"name",e));$head.append(this.style)}if(a){Tools.makeWebsiteRequest({action:"requestAditionalPage",data:{page:a},onOk:function(h){c.hasAccess=h.hasAccess!==false;c.markup=h.data;if(c.triggerShowOnHtmlSourceLoad){c.triggerShowOnHtmlSourceLoad=false}f(c,false)}})}else{c.hasAccess=true;if(this.markup===null){this.markup=""}f(c,true)}}};var PopupManager=function(){var c=[];var f=false;var e=null;var b=90000;var d=function(h){if($body.find(".simple-tooltip:visible").length>0){return}if(c.length===0){return}var g=c[c.length-1];if(g.isModal){return}if(g.canClose){g.close()}};var a=function(g){if(g.keyCode===27){d(g)}};return{init:function(){if(f){return}f=true;e=$(Templates.get("popupOverlay")).appendTo($body).click(d);$document.keyup(a)},addPopup:function(g,h){h.addClass("popup-visible");WebPlatform.onTransitionEnd(h,function(){h.addClass("no-transform")});c.push(g);e.css({zIndex:++b,opacity:(g.isModal||g.getOptions().withDarkBackground)?0.8:0});g.setZIndex(++b);e.data("popup-added");e.data("current-state","add")},removePopup:function(h,i){i.removeClass("no-transform popup-visible");for(var g=c.length-1;g>=0;--g){if(c[g]===h){c.splice(g,1);break}}if(c.length>0){var h=c[c.length-1];e.css({zIndex:++b,opacity:(h.isModal||h.getOptions().withDarkBackground)?0.8:0});h.setZIndex(++b);return}e.css("opacity",0);e.data("current-state","remove");Tools.delay(300,function(){if(e.data("current-state")!=="remove"){e.removeData("current-state");return}e.css({zIndex:-1000})})}}}();var CPanel=new function(){var i=this;var d=!!(window.history&&window.history.pushState);var b=false;var h=[];var a=[];var c=function(){Tools.showWindow({title:"",width:535,markup:Templates.get("feedbackStructure"),customClass:"feedback-modal",action:{onShow:function(j,k){k.find(".cpanel-popup-content").css("max-height","none");k.find("textarea, select, a").keyup(function(l){if(l.keyCode===27){j.close()}});k.find(".cpanel-popup-title").hide();k.find(".cpanel-popup-nav").hide();k.find(".sendFeedback").click(function(){var l=k.find("select").val();var m=k.find("textarea").val();if(l===""||m===""){CPanel.showError(M.ERR_FILL_ALL_FIELDS);return}m="(From page: "+window.location+") - "+m;Tools.makeWebsiteRequest({action:"sendFeedback",data:{subject:l,message:m},method:"post",onOk:function(n){Tools.showAutohideMessage(1200,M.THANK_YOU);j.close()}})})}}})};this.refreshSubscriptionInformation=function(){if(Website.subscriptionInfo.subscription){Log.log(Website.subscriptionInfo);var m=Website.subscriptionInfo.subscription;var j=Website.subscriptionInfo.status;var o=Website.subscriptionInfo.isBandwidthLimitReached;var n=Website.subscriptionInfo.isBandwidthLimitAbove90Percent;var l=Website.subscriptionInfo.storageLimitReached;var k=$body.find(".notification-lane");$body.addClass("with-notification-lane");k.removeClass("expired");if(j==="TRIAL"){k.find("span").empty().text(M.STATUS_TRIAL_MSG).end().removeClass("none")}else{if(j==="EXPIRED"){k.addClass("expired").find("span").empty().text(M.STATUS_EXPIRED_MSG).end().removeClass("none")}else{if(o){k.addClass("expired").find("span").empty().text(M.BANDWIDTH_LIMIT_REACHED).end().removeClass("none")}else{if(l){k.find("span").empty().text(M.STORAGE_LIMIT_REACHED).end().removeClass("none")}else{if(n){k.addClass("expired").find("span").empty().text(M.BANDWIDTH_LIMIT_AT_90_PERCENT).end().removeClass("none")}else{$body.removeClass("with-notification-lane");k.addClass("none")}}}}}}};this.haveUnsavedChanges=false;var e=function(){$(window).on("beforeunload",function(j){if(!CPanel.haveUnsavedChanges){return undefined}(j||window.event).returnValue=M.UNSAVED_CHANGES_PROMPT;return M.UNSAVED_CHANGES_PROMPT})};this.checkIfNeedsSave=function(j){if(CPanel.haveUnsavedChanges){CPanel.showUnsavedChangesPrompt(function(){CPanel.setChanged(false);(j||dummy)(true)},dummy)}else{(j||dummy)(false)}};this.showUnsavedChangesPrompt=function(j,k){Tools.prompt(M.UNSAVED_CHANGES_TITLE,M.UNSAVED_CHANGES_MESSAGE,k,j,M.UNSAVED_CHANGES_STAY_BTN,M.UNSAVED_CHANGES_DISCARD_BTN,false,"unsaved-changes-dlg")};this.setChanged=function(j){CPanel.haveUnsavedChanges=j!==false};this.getUserWebsites=function(j){j=j||dummy;Tools.makeWebsiteRequest({action:"listWebsites",onOk:function(k){userWebsites=k.data;j(userWebsites)}})};this.createNewSite=function(k,j,l){if(isUndefined(k)){k=null}Tools.makeWebsiteRequest({action:"addNewWebsite",data:{name:j||"",template:k,category:l},method:"post",onOk:function(m){window.location=m.data.redirectTo}})};this.currentPage=window.location.pathname;this.loadPageOnInit=true;this.init=function(j){if(b){return}$window.resize(CPanel.triggerViewportChange);Hooks.init(j);var k=$("#cpanel-ajax-overlay");$document.ajaxStart(function(){if(window.HIDE_AJAX_OVERLAY){k.addClass("none")}k.show().delay(1000).queue(function(l){$(this).addClass("slow-ajax");l()})}).ajaxStop(function(){k.removeClass("slow-ajax").clearQueue().hide();if(window.HIDE_AJAX_OVERLAY){window.HIDE_AJAX_OVERLAY=false;k.removeClass("none")}});PopupManager.init();if(d){$body.on("click","a[rel='tab']",function(n){var l=$(this);var m=l.attr("href");if(l.data("discardChanges")===true){CPanel.setChanged(false)}CPanel.goToUrl(m);return false}).mousedown(function(l){$body.data("bodyclicktarget",l.target)}).mouseup(function(n){if(h.length===0||n.target!==$body.data("bodyclicktarget")){return}var o=[];while(h.length!==0){var m=h.shift();try{var l=!!m(n);if(l){o.push(m)}}catch(n){Log.error(n)}}h=o});$window.bind("popstate",function(m){var l=m&&m.originalEvent&&m.originalEvent.state?m.originalEvent.state.data:null;if(window.location.pathname!==CPanel.currentPage){if(CPanel.haveUnsavedChanges){CPanel.showUnsavedChangesPrompt(function(){CPanel.setChanged(false);CPanel.currentPage=window.location.pathname;Hooks.loadPage(CPanel.currentPage,l)},function(){try{window.history.pushState({path:CPanel.currentPage,data:l},"",CPanel.currentPage)}catch(n){Log.error(n)}})}else{CPanel.currentPage=window.location.pathname;Hooks.loadPage(CPanel.currentPage,l)}}else{Hooks.notifyURLChange()}})}$body.on("click","[rel='toggle']",function(o){if($(o.target).hasClass("no-toggle")){o.stopPropagation();return}var l=$(this);var m=$(l.data("toggle")||[]);Tools.toggleElement(m,l);var n=l.data("action")||"";if(n){Hooks.active.hook.invoke(o,n)}});$body.on("click",'[rel="action"]',function(p){var o=$(this);if(o.hasClass("disabled")){return}var m=o.data("action");var n=o.data("target");if(m){if(n&&n in window&&m in window[n]){try{window[n][m](p)}catch(l){Log.error(l)}}else{if(Hooks.active!==null){Hooks.active.hook.invoke(p,m)}}}});$body.tooltip({selector:".cpanel-tooltip, .button-tooltip, .window-tooltip",container:"body",title:function(){var l=$(this).data("tooltip");return T[l]||l},placement:function(n,m){m=$(m);var l=(m.data("top")===true)?"top":(m.data("bottom")===true?"bottom":(m.data("left")===true?"left":"right"));return"auto "+l}}).on("shown.bs.tooltip",".cpanel-tooltip, .button-tooltip, .window-tooltip",function(m,n){var l=$(this);if(this.delayId){Tools.cancelDelay(this.delayId)}this.delayId=Tools.delay(l.data("timeout")||1500,function(){l[0].delayId=false;if(jQuery.contains(document,l[0])){l.tooltip("hide")}else{Log.log("removing forgotten tooltip...");var o=l.attr("aria-describedby");if(o){$("#"+o).fadeOut("fast",function(){$(this).remove()})}else{$body.children(".tooltip").remove()}}l=null})});$window.on("keydown",function(n){if(n.ctrlKey||n.metaKey){var m=Tools._shortcutListeners;var o=String.fromCharCode(n.which).toLowerCase();for(var l=0;l<m.length;++l){if(m[l].key.toLowerCase()===o){m[l].action(n.shiftKey,n.altKey);n.preventDefault();return false}}}});$document.on("mousewheel DOMMouseScroll",".cpanel-contain-scroll",function(n){var o=n.wheelDelta||(n.originalEvent&&n.originalEvent.wheelDelta)||-n.detail,m=this.scrollTop+$(this).outerHeight()-this.scrollHeight>=0,l=this.scrollTop<=0;if((o<0&&m)||(o>0&&l)){n.preventDefault()}});e();Website.init(function(){CPanel.refreshSubscriptionInformation();if(CPanel.loadPageOnInit){Hooks.loadPage(CPanel.currentPage)}});BindingFactory.add(Website,"websiteTitle",document.getElementById("currentWebsiteTitle"),"innerHTML")};this.addBodyClickListener=function(k,j){if(isUndefined(j)){j=true}if(j){setTimeout($.proxy(this.addBodyClickListener,this,k,false),0)}else{h.push($.isFunction(k)?k:dummy)}};this.removeBodyClickListener=function(k){for(var j=0;j<h.length;++j){if(h[j]===k){h.splice(j--,1)}}};this.redirect=function(j){CPanel.setChanged(false);CPanel.disableUI(false);window.location.href=j};this.goToUrl=function(j,k,n){var m=k===true;if(!m&&(j===CPanel.currentPage)){return}var l=function(){if(d){try{window.history.pushState({path:j,data:n},"",j)}catch(o){Log.error(o)}CPanel.currentPage=window.location.pathname;Hooks.loadPage(CPanel.currentPage,n)}else{window.location=j}};if(CPanel.haveUnsavedChanges){CPanel.showUnsavedChangesPrompt(function(){CPanel.setChanged(false);l()})}else{l()}};this.showError=Tools.showError;this.leaveFeedback=c;this.showLoadingBar=function(k,j,n,m){n=n||dummy;for(var l=0;l<a.length;++l){if(a[l].name===k){n();return}}a.push(LoadingBar(k,j,n,m===true))};this.hideLoadingBar=function(j,l){for(var k=0;k<a.length;++k){if(a[k].name===j){a[k].hide(l);a.splice(k,1);return}}Tools.delay(1,l)};this.VIEWPORT_CHANGE_EVENT="mainviewportchange";this.triggerViewportChange=function(){$document.trigger(CPanel.VIEWPORT_CHANGE_EVENT)};this.disableUI=function(j){$body.find(">.cpanel-popup-overlay").addClass("disabled-ui");if(j===true){$("#cpanel-ajax-overlay").addClass("slow-ajax")}};this.enableUI=function(){$body.find(">.cpanel-popup-overlay").removeClass("disabled-ui")};this.showHelpGuide=function(k){var l=$(k.target);var j=l.data("url")||l.closest("a").data("url")||"";if(!j){return}Tools.showInlinePopup({isModal:false,title:"",width:560,overflowY:"hidden",markup:'<iframe allowfullscreen class="help-frame" src="'+j+'"></iframe>',action:{onShow:function(m,n){},onHide:function(){}},buttons:[],customClass:"helpWindow"})};this.showHelpVideos=function(j){var k=$("#helpVideos");Tools.showInlinePopup({isModal:false,title:"",width:k.data("width"),overflowY:"hidden",markup:k.html(),action:{onShow:function(l,m){},onHide:function(){}},buttons:[],customClass:"helpWindow"})};this.requestCustomerData=function(j){Tools.showWindow({isModal:true,width:450,title:M.CUSTOMER_DATA_REQUEST,markup:Templates.get("customerDataRequestTemplate"),buttons:[Button(M.SEND_REQUEST,Button.CLASS_MIDDLE_BLUE,function(k,m){var l=m.find('[name="email"]').val(),n=m.find('[name="type"]').val();Tools.makeWebsiteRequest({action:"data-request",data:{type:n,email:l},onOk:function(){k.close();Tools.showCornerMessage(3000,M.REQUEST_SENT,Tools.TOOLTIP_TYPE_SUCCESS)}})}),Button.MIDDLE_CANCEL]})};this.startNewProject=function(){Tools.prompt(M.CREATE_PROJECT_TITLE,M.CREATE_PROJECT_PROMPT,function(){Tools.promptForInput(M.START_PROJECT,M.RENAME_PROJECT_MESSAGE,function(j){Tools.makeWebsiteRequest({action:"createNewProject",data:{name:j},onOk:function(k){CPanel.redirect("https://"+k.data+Website.pagePrefix)}})})})};this.createNewWebsite=function(){if(!Website.canAddWebsitesToProject){return}Tools.prompt(M.ADD_WEBSITE_TITLE,M.ADD_WEBSITE_MESSAGE,function(){CPanel.createNewSite(null,null,null)})};var g=-1;this.incrementModCount=function(){++g};this.checkWebsiteState=function(j){if(g<0){g=j}else{if(g!==j){g=j;Tools.delay(300,function(){Website.init(function(){CPanel.refreshSubscriptionInformation()})})}}};this.showPop=function(){var j=$("#dynamicDataPopup");Tools.showWindow({isModal:false,noTitle:true,width:j.data("width"),customClass:"dynamic-data-popup",markup:j.html(),noNav:true,action:{onShow:function(k,l){}}})};this.showLearnPopup=function(){Tools.showInlinePopup({isModal:false,noTitle:true,width:850,customClass:"learn-popup",markup:Templates.get("learnPopup"),noNav:true,action:{onShow:function(j,k){}}})};this.showProfilePopup=function(j){Tools.showFloatingPopup({markup:Templates.get("profilePopupMarkup"),width:300,target:j.target,customClass:"floating-popup-list",action:{onShow:function(k,l){l.on("click","a",function(){k.close()})}}})};this.showHelperVideo=function(m){if(Website.onboarding===null){return}var k=$(m.currentTarget).closest("[data-key]").data("key")||"";var j=k?Website.onboarding[k]||"":"";if(j===""){return}var l=this.getEmbedVideo(j);if(l!==""){Tools.showWindow({isModal:false,title:"",noNav:true,withDarkBackground:true,noTitle:true,markup:format(Templates.get("introPopup"),"titleclz","none","textclz","none","title","","text","","video",l,"clz","none"),icon:Popup.ICON_ADD,width:850})}};this.showHelperVideoForPage=function(n){var l=WebPlatform.getObjectFromLocalStorage("show-video",{});if(Website.onboarding===null||(l&&!!l[n])){return}var k=Website.onboarding[n]||"";if(k===""){return}var m=this.getEmbedVideo(k);if(m!==""){l[n]=true;WebPlatform.setObjectToLocalStorage("show-video",l);var j=f(n);Tools.showWindow({isModal:false,withDarkBackground:true,title:"",noNav:true,noTitle:true,markup:format(Templates.get("introPopup"),"titleclz","","textclz","","title",j.title,"text",j.text,"video",m,"clz",n==="funnelUsers"?"":"none"),icon:Popup.ICON_ADD,width:850})}};this.getEmbedVideo=function(j){if((j.indexOf("youtube")!==-1)||(j.indexOf("youtu.be")!==-1)){return Tools.generateYouTubeEmbed(j)}else{if(j.indexOf("vimeo")!==-1){return Tools.generateVimeoEmbed(j)}else{if(j.indexOf("wistia")!==-1){return Tools.generateWistiaEmbed(j)}}}return""};var f=function(k){var j={websiteUsers:{title:M.HEY+" "+userName.split(" ")[0],text:M.CHECK_VIDEO},funnelUsers:{title:M.HEY+" "+userName.split(" ")[0],text:M.CHECK_VIDEO},booking:{title:M.HEY+" "+userName.split(" ")[0],text:M.CHECK_VIDEO},store:{title:M.HEY+" "+userName.split(" ")[0],text:M.CHECK_VIDEO},crm:{title:M.HEY+" "+userName.split(" ")[0],text:M.CHECK_VIDEO}};return j[k]}}();$(function(){window.$window=$(window);window.$document=$(document);window.$body=$(document.body);window.$head=$(document.head);window.isMobileView=$window.width()<=768;Hooks.isNavHidden=window.isMobileView;if(window.isIELessThan10===true){document.body.innerHTML='<h1 style="text-align: center; padding-top: 10%; color: #e2e2e2;">'+M.ERR_BROWSER_UNSUPPORTED+"</h1>";return}if(!window.location.pathname.startsWith("/me/edit-template")&&!window.location.pathname.startsWith("/me/edit-email-template")){$(".logo-navs-wrapper").removeClass("none")}CPanel.init(window.hooks);if(window.Intercom&&window.intercomAppId){window.Intercom("boot",{app_id:window.intercomAppId,email:userEmail,name:userName,user_id:userId,subdomain:subdomain,custom_domain:customDomain,user_locale:locale,site_category:category,account_type:accountType,account_status:accountStatus,created_at:createdTime,referer:userRef,accepts_product_notifications:acceptsProductNotifications,accepts_marketing_notifications:acceptsMarketingNotifications,template_id:userTemplateId||-1})}if(window.gist||window.convertfox){(gist||convertfox).identify(""+userId,{email:userEmail,name:userName,subdomain:subdomain,custom_domain:customDomain,user_locale:locale,site_category:category,account_type:accountType,account_status:accountStatus,created_at:createdTime,referer:userRef,accepts_product_notifications:acceptsProductNotifications,accepts_marketing_notifications:acceptsMarketingNotifications,template_id:userTemplateId||-1})}});var Binding=function(d,j){var l=this;var c=[];var h=[];var i=d[j];var e=function(){return i};var b=function(m){i=m;c.forEach(function(n){n.element[n.attribute]=m});h.forEach(function(n){if(n){n()}})};var a=function(m){if(m){h.push(m);m()}return l};var k=function(m,o,n){var p={element:m,attribute:o};if(n){m.addEventListener(n,function(q){b(m[o])});p.event=n}c.push(p);m[o]=i;return l};var g=function(n){for(var m=0;m<c.length;++m){if(c[m].element===n){c.splice(m--,1)}}};var f=function(n){for(var m=0;m<h.length;++m){if(h[m]===n){h.splice(m--,1)}}};Object.defineProperty(d,j,{get:e,set:b});d[j]=i;return{add:k,addListener:a,remove:g,removeListener:f,isEmpty:function(){return c.length===0&&h.length===0}}};var BindingFactory={add:function(a,e,b,d,c){if(!b){return}if(!a.__bindings){a.__bindings={}}var f=a.__bindings;if(!f[e]){f[e]=Binding(a,e)}f[e].add(b,d,c)},addListener:function(a,c,b){if(!b){return}if(!a.__bindings){a.__bindings={}}var d=a.__bindings;if(!d[c]){d[c]=Binding(a,c)}d[c].addListener(b)},remove:function(a,c){if(!a.__bindings){return}for(var b in a.__bindings){var d=a.__bindings[b];d.remove(c);if(d.isEmpty()){a.__bindings[b]=null;delete a.__bindings[b]}}},removeListener:function(a,c){if(!a.__bindings){return}for(var b in a.__bindings){var d=a.__bindings[b];d.removeListener(c);if(d.isEmpty()){a.__bindings[b]=null;delete a.__bindings[b]}}}};Hooks.registerHook("dashboard",{rootContainer:null,_boundElements:[],getInnerPage:function(){if(this.params.startsWith("/me/settings")){var b=this.params.substring(12);if(b.startsWith("/")){b=b.substring(1)}switch(b){case"access":return"settingsAccess";case"billing":return window.SystemPaymentProcessorType==="chargebee"?"settingsBillingChargebee":"settingsBilling";case"billing/invoices":return"settingsInvoices";case"domain":return"settingsDomain";default:return"settingsAccount"}}else{var a=/^\/([a-z-]+)(\/?.*)$/gi.exec(this.params.toLowerCase());if(a!==null){a=a[1]}switch(a){case"themes":return"dashboardThemes";case"misc":return"dashboardMisc";case"wl":return"dashboardWLOffer";case"affiliate":return"dashboardAffiliate";case"dashboard":case"messages":return"invalidPage";case"misc":return"dashboardMisc";default:return"dashboardAnalytics"}}},init:function(){this.container=$(".working-area-wrapper-inner")},getNavClass:function(){return"wide-nav"},onActivate:function(){$(".working-area-wrapper").addClass("dashboard-area");this.rootContainer=this.container;if(!hasTemplate){this.rootContainer.append(Templates.get("dashboardRootMarkupNoTemplate"));document.title=M.DASHBOARD_TITLE}else{var a=$(Templates.get("dashboardRootMarkup"));if(!Website.hasPermission(Permission.BILLING)){a.find('[data-menu="billing"]').parent().remove()}if(!Website.hasPermission(Permission.ACCESS)){a.find('[data-menu="access"]').parent().remove()}if(!Website.hasPermission(Permission.ANALYTICS)){a.find('[data-menu=""]').parent().remove()}if(!window.showAffiliateProgramDetails){a.find('[data-menu="affiliate"]').parent().remove()}if(platformId>1){a.find('[data-menu="wl"]').parent().remove()}this.rootContainer.append(a);var b=this.rootContainer.find('[data-role="project-name"]')[0];this._boundElements=[b];BindingFactory.add(Website,"projectName",b,"innerText");document.title=Website.projectName+" - "+M.DASHBOARD_TITLE;$("#dashBtn").addClass("active")}this.container=this.rootContainer.find("#main-container")},onDeactivate:function(){$(".working-area-wrapper").removeClass("dashboard-area");(this._boundElements||[]).forEach(function(a){BindingFactory.remove(Website,a)});this._boundElements=null;$("#dashBtn").removeClass("active");this.container=$(".working-area-wrapper-inner");this.container.find(".new-dashboard-wrapper").remove();this.rootContainer=null},onAfterUrlLoad:function(){var e=this.params.split("/");var c=e.length===0?"":e[e.length-1];$(".upper-navigation").find(".active").removeClass("active").end().find('[data-menu="'+c+'"]').addClass("active");var d=0,a=0;Website.projectWebsites.forEach(function(f){if(f.type==="WEBSITE"){++d;a+=f.funnels}else{++a}});var b="";if(d>0){b=d+" "+(d===1?M.WEBSITE:M.WEBSITES)}if(a>0){if(d>0){b+=" / "}b+=a+" "+(a===1?M.FUNNEL:M.FUNNELS)}this.rootContainer.find('[data-role="website-count"]').text(b)},renameProject:function(){Tools.promptForInput(M.RENAME_PROJECT,M.RENAME_PROJECT_MESSAGE,Website.projectName,function(a){Tools.makeWebsiteRequest({action:"renameProject",method:"post",data:{id:currentProjectId,name:a},onOk:function(b){Website.projectName=a}})})},switchProject:function(){UITools.switchProject()}});Hooks.registerPage("dashboard","invalidPage",null,null,{markup:"",onShow:function(){var a=this;Tools.delay(10,function(){a.ready();CPanel.goToUrl("/me/dashboard")})}});Hooks.registerHook("crm",{getInnerPage:function(){var i="",h="";var g=/^\/([a-z]*)\/?([a-z]*)\/?([a-z]*)/gi.exec(this.params.toLowerCase());if(g!==null){h=g[3];i=g[2];g=g[1]}if(!g){g="contacts"}var j,c;switch(g){case"members":case"contacts":default:j="crmContacts";c="contacts";break;case"contact":j="crmContact";c="contacts";break;case"messages":j="crmMessages";c="messages";break;case"settings":switch(i){case"property":j="crmProperty";c="settings";break;case"tags":j="crmSettingsTags";c="settings";break;default:j="crmSettings";c="settings";break}break;case"bookings":switch(i){case"schedule":j="crmSchedule";break;case"operators":j="crmOperators";break;case"services":j="crmServices";break;default:j="crmBookings";break}c="bookings";break;case"booking":j="crmBooking";c="bookings";break;case"learning":j="crmLearning";c="learning";break;case"marketing":switch(i){case"system":j="crmSystemEmailTemplates";break;case"templates":j="crmEmailTemplates";break;case"builder":j="crmEmailBuilder";break;case"lists":j="crmListsAndSubscribers";break;case"campaigns":j="crmEmailCampaigns";break;case"campaign":switch(h){case"overview":j="crmCampaignOverview";break;default:j="crmEmailCampaign";break}break;case"design":j="crmMarketing";break;case"automations":j="crmAutomations";break;case"automation":j="crmAutomation";break;case"settings":j="crmEmailSettings";break;default:j="crmMarketingDashboard";break}c="marketing";break}var l=c.startsWith("booking");var d=c.startsWith("marketing");$("#engageBtn")[d||l?"removeClass":"addClass"]("active");$("#bookingBtn")[l?"addClass":"removeClass"]("active");$("#marketingBtn")[d?"addClass":"removeClass"]("active");var e=$(".bookings-nav");e[g==="bookings"?"removeClass":"addClass"]("none-soft");if(c==="bookings"){i=i===""?"bookings":i;e.find("li").removeClass("active");e.find("li."+i).addClass("active")}var f=$(".settings-nav");f[c==="settings"?"removeClass":"addClass"]("none-soft");if(c==="settings"){i=i===""?"property":i;f.find("li").removeClass("active");f.find("li."+i).addClass("active")}var k=$(".marketing-nav");k[c==="marketing"?"removeClass":"addClass"]("none-soft");if(c==="marketing"){i=i===""?"dashboard":i;if(i==="builder"||i==="campaign"||i==="automation"){k.addClass("none-soft")}k.find("li").removeClass("active");k.find("li."+i).addClass("active")}var b=$(".members-navigation");var a=b.find(".engage-main-nav");a.find(".active").removeClass("active");a.find('[data-tab="'+c+'"]').addClass("active");return j},init:function(){this.container=$(".working-area-wrapper-inner")},getNavClass:function(){return"members-nav"},onActivate:function(){document.title="Engage!";$(".working-area-wrapper").addClass("engage-view")},onDeactivate:function(){$("#engageBtn").removeClass("active");$("#bookingBtn").removeClass("active");$("#marketingBtn").removeClass("active");$(".working-area-wrapper").removeClass("engage-view");$(".settings-nav").addClass("none-soft");$(".marketing-nav").addClass("none-soft")},editMembersSettings:function(){Tools.showWindow({title:M.MEMBERS_SETTINGS,width:420,customClass:"members-settings",isModal:true,markup:Templates.get("membersSettingsMarkup"),action:{onShow:function(d,f){if(!window.dynamicHeader){f.find(".headerSettingsWrapper").removeClass("none")}var c=f.find('[name="defaultGroup"]');var b=Website.memberGroups;var e="";for(var a=0;a<b.length;++a){e+='<option value="'+b[a].id+'">'+escapeHtml(b[a].name)+"</option>"}c.append(e);Tools.makeWebsiteRequest({action:"getMemberSettings",onOk:function(o){var i=o.data;var g=i.mailchimpLists||[];var k=i.getresponseLists||[];var m=i.mailerliteLists||[];var j=i.moosendLists||[];var n=i.aweberLists||[];var h=i.activecampaignLists||[];var l=i.keapLists||[];Tools.bindToView(f,{defaultGroup:i.defaultGroup,loginLinkType:i.loginLinkType||"none",allowRegistrations:i.allowRegistrations,memberApproval:i.memberApproval,notifyOnReg:!!i.notifyOnRegEmail,notifyOnRegEmail:i.notifyOnRegEmail});f.data("mailchimpLists",g);f.data("getresponseLists",k);f.data("mailerliteLists",m);f.data("moosendLists",j);f.data("aweberLists",n);f.data("activecampaignLists",h);f.data("keapLists",l);if(Website.isMailchimpEnabled()){f.find(".mailchimp-settings-wrapper").removeClass("none");f.find(".mailchimp-settings").click(function(){Website.selectMailchimpLists({lists:g,title:M.SELECT_MAILCHIMP_LISTS,description:M.MEMBERS_SELECT_MAILCHIMP_LISTS_DESC,onSelect:function(p){f.data("mailchimpLists",p);g=i.mailchimpLists=p}})})}if(Website.isMailerliteEnabled()){f.find(".mailerlite-settings-wrapper").removeClass("none");f.find(".mailerlite-settings").click(function(){Website.selectMailerliteLists({lists:m,title:M.SELECT_MAILERLITE_LISTS,description:M.SELECT_MAILERLITE_LISTS_MEMBERS_DESC,onSelect:function(p){f.data("mailerliteLists",p);m=i.mailerliteLists=p}})})}if(Website.isMoosendEnabled()){f.find(".moosend-settings-wrapper").removeClass("none");f.find(".moosend-settings").click(function(){Website.selectMoosendLists({lists:j,title:M.SELECT_MOOSEND_LISTS,description:M.SELECT_MOOSEND_LISTS_MEMBERS_DESC,onSelect:function(p){f.data("moosendLists",p);j=i.moosendLists=p}})})}if(Website.isAweberEnabled()){f.find(".aweber-settings-wrapper").removeClass("none");f.find(".aweber-settings").click(function(){Website.selectAweberLists({lists:n,title:M.SELECT_AWEBER_LISTS,description:M.SELECT_AWEBER_LISTS_MEMBERS_DESC,onSelect:function(p){f.data("aweberLists",p);n=i.aweberLists=p}})})}if(Website.isGetResponseEnabled()){f.find(".getresponse-settings-wrapper").removeClass("none");f.find(".getresponse-settings").click(function(){Website.selectGetResponseLists({lists:k,title:M.SELECT_GETRESPONSE_LISTS,description:M.SELECT_GETRESPONSE_LISTS_MEMBERS_DESC,onSelect:function(p){f.data("getresponseLists",p);k=i.getresponseLists=p}})})}if(Website.isActiveCampaignEnabled()){f.find(".activecampaign-settings-wrapper").removeClass("none");f.find(".activecampaign-settings").click(function(){Website.selectActiveCampaignLists({lists:h,title:M.SELECT_ACTIVECAMPAIGN_LISTS,description:M.SELECT_ACTIVECAMPAIGN_LISTS_MEMBERS_DESC,onSelect:function(p){f.data("activecampaignLists",p);h=i.activecampaignLists=p}})})}if(Website.isKeapEnabled()){f.find(".keap-settings-wrapper").removeClass("none");f.find(".keap-settings").click(function(){Website.selectKeapLists({lists:l,title:"Select Tags",description:"Select tags to set to member contacts on new registration",onSelect:function(p){f.data("keapLists",l);l=i.keapLists=l}})})}}})}},buttons:[Button(M.SAVE,Button.CLASS_MIDDLE_BLUE,function(a,b){var c={};Tools.readFromView(b,{defaultGroup:-1,loginLinkType:"none",allowRegistrations:0,memberApproval:0,notifyOnReg:0,notifyOnRegEmail:""},c);c.mailchimpLists=(b.data("mailchimpLists")||[]).join(",");c.mailerliteLists=(b.data("mailerliteLists")||[]).join(",");c.moosendLists=(b.data("moosendLists")||[]).join(",");c.aweberLists=(b.data("aweberLists")||[]).join(",");c.getresponseLists=(b.data("getresponseLists")||[]).join(",");c.activecampaignLists=(b.data("activecampaignLists")||[]).join(",");c.keapLists=(b.data("keapLists")||[]).join(",");Tools.makeWebsiteRequest({action:"saveMemberSettings",data:c,onOk:function(d){window.memberIconTypeInHeader=c.loginLinkType;a.close();a=null}})}),Button.MIDDLE_CANCEL]})}});Hooks.registerHook("store",{getInnerPage:function(){if(this.params.startsWith("/products/")){return"storeProduct"}var a=/^\/([a-z]*)\/?/gi.exec(this.params.toLowerCase());if(a!==null){a=a[1]}switch(a){case"orders":return"storeOrders";case"products":return"storeProductsList";case"discounts":return"storeDiscounts";case"settings":return"storeSettings";case"order":return"storeOrder";case"styling":return"storeStyling";default:return"storeDashboard"}},init:function(){this.container=$(".working-area-wrapper-inner")},getNavClass:function(){return"store-nav"},onActivate:function(){document.title=M.STORE_DOC_TITLE;$(".working-area-wrapper").addClass("store-view");$("#storeBtn").addClass("active");if(Website.getPageById(Website.STORE_PAGE_ID)===null&&window.showStoreDisabledMessage!==false){Tools.showWindow({noTitle:true,width:500,isModal:true,markup:Templates.get("activateStoreMarkup"),action:{onShow:function(a,b){}},buttons:[Button(M.YES,Button.CLASS_MIDDLE_BLUE,function(a,b){Website.addVirtualPage("store",function(c){a.close()})}),Button.MIDDLE_CANCEL]})}},onDeactivate:function(){$("#storeBtn").removeClass("active");$(".working-area-wrapper").removeClass("store-view")},onAfterUrlLoad:function(){var a=this.params;a=a.length>0?a.substr(1):a;a=a.split("/")[0];$("#storeNav").find(".active").removeClass("active").end().find('[data-menu="'+a+'"]').addClass("active")}});+function(){var l=null;var b=null;var w=null;var f=function(){if(Cookies.get("show-video")){return}if(CurrentWebsiteType==="WEBSITE"){CPanel.showHelperVideoForPage("websiteUsers")}else{CPanel.showHelperVideoForPage("funnelUsers")}};var a=function(G){return G===contextPath+Website.pagePrefix||G.indexOf(contextPath+Website.pagePrefix+"/")===0};var c=function(H){$(this).tooltip("hide");var I=$(".pagesBtnSmall");var G=Website.getAciveModal();Tools.showInlinePopup({isModal:false,title:M.PAGES_TITLE,width:340,showCloseButton:window.isMobileView,selectedSlide:G&&!G.funnelId?1:0,noNav:true,overflowY:"hidden",markup:Templates.get("showPagesDialogMarkup"),action:{onShow:function(K,O){w=K;var ac="";var X=D();var ah=X.find('div[data-role="pages"]');var U=X.find('div[data-role="popups"]');var J=X.find("#groupsWrapperSmall");var af=J.empty();var N=Website.getActiveSite();var L=N.type==="FUNNEL";var ai=!L&&Website.getPageById(Website.BLOG_PAGE_ID)===null;var ag=!L&&Website.getPageById(Website.PORTFOLIO_PAGE_ID)===null;var V=Website.getPageById(Website.STORE_PAGE_ID)===null;var ad=!L;var R=!L;var ab=$("#addPageBtnSmall").click(function(aj){if(L&&!V){E()}else{n(aj,{blog:ai,portfolio:ag,store:V,groups:ad,page:R})}});if(L&&!V){ab.text(M.ADD_NEW_POPUP)}I.addClass("active");if(Website.hasAccessToWebsite&&!L){for(var aa=0;aa<Website.pageGroups.length;++aa){var S=Website.pageGroups[aa];ac+='<li class="pageGroup" data-id="'+S.id+'">';ac+='<span class="cpanel-pageGroup-header">';ac+="<span>"+S.name+"</span>";ac+=Templates.get("pageGroupItemActions");ac+="</span>";ac+='<ul class="folder-items">';for(var Z=0;Z<S.pages.length;++Z){var Q=S.pages[Z];ac+='<li class=" system-border-color-active'+(Website.isHomepage(Q.id,false)?" homepage":"")+'" data-id="'+Q.id+'">';var P=contextPath+Website.pagePrefix+"/"+Q.link;ac+='<a class="page" rel="tab" href="'+P+'" title="'+Q.name+'"><span class="material-icons-outlined page-icon"> insert_drive_file </span>'+Q.name+"</a>";ac+=Templates.get("pageItemsActions");ac+="</li>"}ac+="</ul>"}af.append(ac)}else{O.find("#cpanel-pages-popup").hide()}if(!Website.hasAccessToWebsite){$("#addPageBtnSmall").remove()}ac="";if(Website.hasAccessToBlog||Website.hasAccessToPortfolio||Website.hasAccessToStore){for(var W=0;W<Website.virtualPages.length;++W){var Q=Website.virtualPages[W];if(Q.id===Website.BLOG_PAGE_ID&&(!Website.hasAccessToBlog||L)||Q.id===Website.PORTFOLIO_PAGE_ID&&(!Website.hasAccessToPortfolio||L)||Q.id===Website.STORE_PAGE_ID&&!Website.hasAccessToStore){continue}ac+='<span class="virtual-page-btn cpanel-pageGroup-header'+(Website.isHomepage(Q.id,false)?" homepage":"")+'" id="virtualBtn'+Q.id+'" data-id="'+Q.id+'">';var Y=Q.id===Website.BLOG_PAGE_ID?"blog":Q.id===Website.PORTFOLIO_PAGE_ID?"portfolio":"store";ac+='<a href="/me/'+Y+'" title="'+Q.name+'" rel="tab" class="link">'+Q.name+"</a>";ac+='<div class="page-buttons-wrapper"><a class="settings" data-role="deleteItem"><span class="material-icons-outlined page-settings-icon"> delete_outline </span></a><a class="settings" data-role="settings"><span class="material-icons-outlined page-settings-icon"> settings </span></a></div>';ac+="</span>"}}if(Website.hasAccessToWebsite&&Website.popups.length>0){var ae="";Website.popups.forEach(function(aj){ae+='<div class="col20 f-left relative virtual-page-btn menu-popup-button" data-id="'+aj.id+'">';ae+='<a title="'+aj.name+'" class="link">'+aj.name+"</a>";ae+='<div class="page-buttons-wrapper"><a class="more-settings-btn"><span class="material-icons-outlined page-settings-icon"> settings </span></a></div>';ae+="</div>"});U.append(ae)}else{x(U)}if(Website.hasAccessToWebsite&&Website.funnels.length>0){Website.funnels.forEach(function(aj){ac+='<div class="virtual-page-funnel cpanel-pageGroup-header pageGroup '+(!L&&Website.isHomepage(aj.id,true)?" homepage":"")+' folder-items-wrapper">';ac+='<a title="'+aj.name+'" class="link">'+aj.name+"</a>";ac+='<ul class="folder-items">';aj.steps.forEach(function(aq){var an=null,al=null;for(var ak=0;ak<aq.variants.length;++ak){var ap=aq.variants[ak];if(!ap.archived){if(an===null){an=ap}else{if(al===null){al=ap;break}}}}var am=aq.type==="PAGE"?"funnel-step-page":"funnel-step-popup";if(al!==null){am+=" with-ab-test"}ac+='<li class="'+am+'">';if(aq.type==="PAGE"){var ao=contextPath+Website.pagePrefix+"/"+aj.url+"/"+aq.page.link;ac+='<a class="page" data-id="'+aq.id+'" data-funnel="'+aj.id+'" data-variant="a" rel="tab" href="'+ao+(al===null?"":"/a")+'" title="'+aq.name+'"><span class="material-icons-outlined page-icon"> insert_drive_file </span>'+aq.name+(al===null?"":' <span class="ab-tag">A</span>')+"</a>";if(al!==null){ac+='<a class="page" data-id="'+aq.id+'" data-funnel="'+aj.id+'" data-variant="b" rel="tab" href="'+ao+'/b" title="'+aq.name+'"><span class="funnel-page-name"><span class="material-icons-outlined popup-step-icon"> picture_in_picture </span>'+aq.name+'</span> <span class="ab-tag">B</span></a>'}}else{ac+='<a class="popup-item" data-id="'+aq.id+'" data-funnel="'+aj.id+'" data-variant="a" title="'+aq.name+'"><span class="funnel-page-name"><span class="material-icons-outlined popup-step-icon"> picture_in_picture </span>'+aq.name+"</span>"+(al===null?"":' <span class="ab-tag">A</span>')+"</a>";if(al!==null){ac+='<a class="popup-item" data-id="'+aq.id+'" data-funnel="'+aj.id+'" data-variant="b" title="'+aq.name+'"><span class="funnel-page-name"><span class="material-icons-outlined popup-step-icon"> picture_in_picture </span>'+aq.name+'</span> <span class="ab-tag">B</span></a>'}}ac+='<div class="page-buttons-wrapper"><a class="settings" data-role="settings"><span class="material-icons-outlined page-settings-icon"> settings </span></a></div>';ac+="</li>"});ac+="</ul></div>"})}ac+='<div class="pageGroup folder-items-wrapper system-pages">';ac+='<span class="cpanel-pageGroup-header"><span>'+M.SYSTEM_PAGES+"</span></span>";ac+='<ul class="folder-items">';Website.getSystemPagesInOrder().map(Website.getSystemPages).forEach(function(al){if(al===null){return}ac+='<li class="system-border-color-active">';var ak=contextPath+Website.pagePrefix+"/"+al.link;var aj=Website.getSystemPageName(al.link);ac+='<a class="page" data-page="'+al.link+'" rel="tab" href="'+ak+'" title="'+aj+'"><span class="material-icons-outlined page-icon"> insert_drive_file </span>'+aj+"</a>";ac+='<div class="page-buttons-wrapper"><a class="settings" data-role="settings"><span class="material-icons-outlined page-settings-icon"> settings </span></a></div>';ac+="</li>"});ac+="</ul></div>";O.on("click",".more-settings-btn",function(al){al.stopPropagation();al.preventDefault();var ak=$(this);var aj=ak.closest("[data-id]");if(aj.hasClass("menu-popup-button")){i(ak,aj,w)}else{u(ak,aj,w)}});ah.append(ac);t()},onHide:function(){w=null;I.removeClass("active");I=null}},buttons:[],customClass:"pagesWindow"})};var q=function(J){J.stopPropagation();J.preventDefault();var G=$(this).parent();var I=G.parent();var H=I.hasClass("virtual-page-btn");if(I.hasClass("cpanel-pageGroup-header")&&!H){var K=I.parent();var L=K.data("id");Tools.prompt(M.DEL_GROUP_TITLE,M.DEL_GROUP_CONFIRM,function(){Website.deleteGroup(L,function(){K.remove();K=null})})}else{if(H){var L=parse(I.data("id"),-1,true);Tools.prompt(M.DEL_PAGE_TITLE,M.DEL_PAGE_CONFIRM,function(){Website.deletePage(L,function(){var N=I.hasClass("active");I.remove();if(N){Website.openPage(Website.getHomepageLink())}})})}}};var s=function(H,G,I){UITools.showPageSettingsDialog({page:H,tab:0,onUpdated:function(J,L){G.attr("title",J.name).html(J.name);if(I.hasClass("active")&&J.id>=0){var K=contextPath+Website.pagePrefix+"/"+J.link;G.attr("href",K);CPanel.goToUrl(K,true)}if(L){c()}},onSetAsHomepage:function(){D().find(".homepage").removeClass("homepage");G.parent().addClass("homepage")}})};var d=function(H){var J=H.closest("li").find(".page").data("page");var K=Website.getPageByUrl(J);var G=Website.getSystemPageName(J);var I=Website.getSystemPageDescription(J);Tools.showWindow({isModal:true,title:M.SETTINGS,icon:Popup.ICON_ADD,width:400,markup:escapeFormat(Templates.get("editSystemPageDialogMarkup"),"name",G,"description",I),action:{onShow:function(L,N){N.find('[name="useSecondaryHeader"]').prop("checked",K.headerType!==0)}},buttons:[Button("RESET PAGE",Button.CLASS_MIDDLE_BLUE,function(L,N){Tools.prompt("Reset system page","Are you sure you want to reset the content of this page?",function(){Tools.makeWebsiteRequest({action:"resetSystemPage",data:{link:J},onOk:function(){CPanel.goToUrl(contextPath+Website.pagePrefix+"/"+J,true);L.close()}})})},Button.FLOAT_LEFT),Button(M.SAVE,Button.CLASS_MIDDLE_BLUE,function(N,O){var L=O.find('[name="useSecondaryHeader"]').is(":checked")?1:0;Tools.makeWebsiteRequest({action:"updateSystemPageInformation",data:{link:J,headerType:L},onOk:function(){K.headerType=L;CPanel.goToUrl(contextPath+Website.pagePrefix+"/"+J,true);N.close()}})}),Button.MIDDLE_CANCEL]})};var p=function(K){var H=K.closest("li");var J=H.find(".page");var I=Website.getFunnelById(WebPlatform.parse(J.data("funnel")));var N=WebPlatform.parse(J.data("id"));if(I===null){return}var L=null;for(var G=0;G<I.steps.length;++G){if(I.steps[G].id===N){L=I.steps[G];break}}if(I===null){return}if(L.type==="PAGE"){UITools.showPageSettingsDialog({page:L.page,tab:0,funnelId:I.id,funnelStepId:L.id,onUpdated:function(O){J.attr("title",O.name).find(".funnel-page-name").text(O.name);J.each(function(P){var R=$(this);var Q=J.length>1?("/"+(P===0?"a":"b")):"";var S=contextPath+Website.pagePrefix+"/"+I.url+"/"+O.link+Q;R.attr("href",S);if(R.hasClass("active")){CPanel.goToUrl(S,true)}})}})}};var j=function(){var H=$(this),K=H.closest(".virtual-page-btn"),G=K.find(".link"),J=parse(K.data("id"),-1,true),I=Website.getPageById(J);s(I,G,K)};var e=function(H){var G=Website.getPageById(H);if(G===null){return}Tools.prompt(M.DUPLICATE_PAGE,M.DUPLICATE_PAGE_CONFIRM,function(){Website.clonePage(G.id,function(J){if(w!==null){w.close();w=null;var I=contextPath+Website.pagePrefix+"/"+J.link;CPanel.goToUrl(I)}})})};var F=function(I,H,G){UITools.selectExistingFunnel(function(K,J){Website.movePageToFunnel(I.id,K,J,function(O,N){G.close();if(Website.getActiveSite().id===K){CPanel.goToUrl(Website.pagePrefix+"/"+O.url+"/"+N.link+"/a?show=steps")}else{var L="//"+Website.getProjectWebsiteById(K).subdomain+"."+Website.rootDomain+Website.pagePrefix+"/"+O.url+"/"+N.link+"?show=steps";CPanel.redirect(L)}})})};var x=function(G){G.empty();if(Website.hasAccessToWebsite){G.append(Templates.get("noPopupsMessage"))}};var i=function(J,K,I){var L=parse(K.data("id"),-1,true),G=Website.getPopupById(L);if(G===null){return}var H=[{text:M.SHOW_SETTINGS,icon:"fa-cog",tag:"settings"},{text:M.DUPLICATE,icon:"fa-clone",tag:"clone"},{text:M.DELETE,icon:"fa-trash",tag:"delete"}];Tools.showTooltipOptions(J,H,function(Q,O,R,N){if(N==="settings"){var P=Website.getAciveModal();if(P&&P.id===L){I.close(function(){P.popupSettings()});I=null}else{o({id:L,showSettings:true})}}else{if(N==="clone"){var S=K.clone();Website.clonePopup(G,function(U){S.removeClass("active").data("id",U.id);K.parent().append(S)})}else{if(N==="delete"){Tools.prompt(M.DEL_POPUP_TITLE,M.DEL_POPUP_MESSAGE,function(){var U=Website.getAciveModal();if(U&&U.id===L){l.activePage.closePopup(L)}Website.deletePopup(L,function(){var V=K.closest('[data-role="popups"]');K.remove();if(Website.popups.length===0){x(V)}})})}}}})};var u=function(K,G,I){var J=G.find(".page"),N=parse(G.data("id"),-1,true),L=Website.getPageById(N);var H=[{text:M.SHOW_SETTINGS,icon:"fa-cog",tag:"settings"},{text:M.DUPLICATE,icon:"fa-clone",tag:"clone"},{text:M.DELETE,icon:"fa-trash",tag:"delete"}];if(Website.funnels.length){H.push({text:M.MOVE_TO_FUNNEL,icon:"fa-share",tag:"move"})}Tools.showTooltipOptions(K,H,function(Q,P,R,O){if(O==="settings"){s(L,J,G)}else{if(O==="clone"){e(N)}else{if(O==="delete"){Tools.prompt(M.DEL_PAGE_TITLE,M.DEL_PAGE_CONFIRM,function(){Website.deletePage(N,function(){var S=G.hasClass("active");G.remove();if(S){Website.openPage(Website.getHomepageLink())}})})}else{if(O==="move"){F(L,G,I)}}}}})};var E=function(){UITools.showNewPopupDialog(function(G){Website.addPopup(G,function(H){o({id:H})})})};var n=function(H,G){var I=330;if(G.blog){I+=120}if(G.portfolio){I+=120}if(G.store){I+=120}if(G.groups){I+=120}if(G.page){I+=120}Tools.showWindow({isModal:false,title:M.ADD_NEW,icon:Popup.ICON_ADD,showNextTo:$(H.target),showNextToOffset:{x:255,y:50},width:I,markup:Templates.get("addPageDialogMarkupNew"),action:{onShow:function(J,K){var L=K.find(".add-page-wrapper");L.on("click",".add-page",function(P){var O=$(this);if(O.hasClass("page")){UITools.showNewPagePopup({},function(R,Q){Website.addPage(R,function(X){var V;if(X.id<0){if(w!==null){w.close();w=null;var W=X.id===Website.BLOG_PAGE_ID?"/blog":X.id===Website.PORTFOLIO_PAGE_ID?"/portfolio":"/store";V=contextPath+Website.virtualPagePrefix+W}}else{V=contextPath+Website.pagePrefix+"/"+X.link;var U=D().find('li.pageGroup[data-id="'+R.group+'"]');var S=$('<li class="" />').data("id",X.id);$('<a class="page" rel="tab" />').attr("href",V).attr("title",X.name).html(X.name).appendTo(S);$(Templates.get("pageItemsActions")).appendTo(S);U.find("ul").append(S)}Q();CPanel.goToUrl(V)})});J.close()}else{if(O.hasClass("group")){m();J.close()}else{if(O.hasClass("popup")){J.close();E()}else{var N=O.hasClass("blog")?"blog":O.hasClass("portfolio")?"portfolio":"store";Website.addVirtualPage(N,function(S){if(w!==null){w.close();w=null}var R=S.id===Website.BLOG_PAGE_ID?"/blog":S.id===Website.PORTFOLIO_PAGE_ID?"/portfolio":"/store";var Q=contextPath+Website.virtualPagePrefix+R;J.close();CPanel.goToUrl(Q)})}}}});if(!G.blog){L.find(".add-page.blog").remove()}if(!G.portfolio){L.find(".add-page.portfolio").remove()}if(!G.store){L.find(".add-page.store").remove()}if(!G.groups){L.find(".add-page.group").remove()}if(!G.page){L.find(".add-page.page").remove()}}}})};var y=function(G,H){var I=H.data("id");Tools.showWindow({isModal:false,title:M.EDIT_GROUP_TITLE,icon:Popup.ICON_EDIT,width:350,markup:Templates.get("addGroupDialogMarkup"),action:{onShow:function(J,K){K.find('input[name="groupName"]').val(G.prev().text())}},buttons:[Button(M.SAVE,Button.CLASS_MIDDLE_BLUE,function(J,K){Website.updateGroup(I,$("#groupName").val(),function(L){G.prev().html(L.name)});J.close()}),Button.MIDDLE_CANCEL]})};var m=function(){Tools.showWindow({isModal:false,title:M.ADD_GROUP_TITLE,icon:Popup.ICON_ADD,width:350,markup:Templates.get("addGroupDialogMarkup"),buttons:[Button(M.ADD,Button.CLASS_MIDDLE_BLUE,function(G,H){Website.addGroup($("#groupName").val(),function(K){var J=$('<span class="cpanel-pageGroup-header" />').append($("<span />").html(K.name));$(Templates.get("pageGroupItemActions")).appendTo(J);var I=$('<li class="pageGroup" data-id="'+K.id+'"></li>').append(J).append('<ul class="folder-items" style="display: none"></ul>');D().find("#groupsWrapperSmall").append(I);G.close()})}),Button.MIDDLE_CANCEL]})};var C=function(H){if(H.hasClass("active")){return}var G=D().find(".pageGroup").not(H);G.removeClass("active").children("ul").slideUp("fast");if(H.length>0){H.addClass("active").children("ul").slideDown("fast")}};var A=function(G){G.removeClass("active").children("ul").slideUp("fast")};var r=function(G){Tools.hide(G.saveButtons);CPanel.setChanged(false);CPanel.goToUrl(CPanel.currentPage,true)};var t=function(){var H=D();if(H.length===0){return}H.find(".active").removeClass("active");var K=Website.getAciveModal();if(K&&!K.funnelId){H.find('.menu-popup-button[data-id="'+K.id+'"]').addClass("active");return}var N;if(K){var G=H.find('.popup-item[data-id="'+K.id+'"][data-funnel="'+K.funnelId+'"][data-variant="'+K.variant+'"]').addClass("active").parent();G.addClass("active");N=G.closest(".pageGroup")}else{var J=l.activePage.getAdminPageUrl();if(J===Website.pagePrefix||(J===Website.pagePrefix+"/")){J=Website.pagePrefix+"/"+Website.getHomepageLink()}var I=H.find('a[href="'+J+'"]');if(I.length===0){if(J.endsWith("/a")){J=J.substring(0,J.length-2)}else{J+="/a"}I=H.find('a[href="'+J+'"]')}var L=I.parent();L.addClass("active");if(L.hasClass("funnel-step-page")||L.hasClass("funnel-step-popup")){I.addClass("active")}N=I.parentsUntil(".pagesWindow",".pageGroup")}C(N)};var D=function(){return $("#websiteMenuWrapper")};var h=function(){var H=$("#previewButtonSmall");var I="//"+userDomain;var G=l.activePage.getActiveFunnel();if(l.activePage.getClientPageUrl().startsWith("/system/")){I+=Website.getSystemPagePreviewUrl(l.activePage.getClientPageUrl())}else{if(G!==null){var K=l.activePage.getClientPageUrl();var L=K.split(/\//g);var J=L[L.length-1].toLowerCase();if(J==="a"||J==="b"){L.splice(L.length-1,1);K=L.join("/")}else{J="a"}I+=K+"?v="+Tools.tick()+"&variant="+J+"&preview=__PREVIEW_ONLY";funnelStep=l.activePage.getActiveFunnelStep()}else{I+=l.activePage.getClientPageUrl()+"?preview=1&v="+Tools.tick()}}Tools.showWebsitePreviewPopup({url:I,buttonText:M.SHOW_IN_NEW_TAB,onButtonAction:function(N){var O=window.open(N,"_blank");O.focus()},onShow:function(){H.addClass("active")},onHide:function(){H.removeClass("active");H=null}})};var o=function(G){if(l.activePage.name==="websitePage"){var H=l.activePage.modal;if(H){if(G.id===H.id&&(!G.funnelId||G.funnelId===H.funnelId&&G.variant===H.variant)){return}}l.activePage.showPopup(G)}else{if(Website.homePage===null||Website.homePage.id<0){var I=Website.getFirstRealPage();if(I===null){return}CPanel.goToUrl(Website.pagePrefix+"/"+I.link,false,{showPopup:G})}else{CPanel.goToUrl(Website.pagePrefix,false,{showPopup:G})}}};var v=function(G){l=G;if(!(Website.hasAccessToBlog||Website.hasAccessToPortfolio||Website.hasAccessToWebsite)){l.navigationButtons.hide();return}if(!Website.hasAccessToWebsite){$("#themeSettingsBtnSmall").remove()}if(!Website.hasAccessToWebsite){$("#globalStyling").remove();$(".funnels-show-btn").remove()}$document.on("click.websiteHook",'.pagesWindow .deleteItem, .pagesWindow a[data-role="deleteItem"]',q).on("click.websiteHook","#previewButtonSmall",h).on("click.websiteHook",".pagesBtnSmall",c).on("click.websiteHook",'.virtual-page-btn a[data-role="settings"]',j).on("click.websiteHook",'.pageGroup a[data-role="settings"]',function(J){J.stopPropagation();J.preventDefault();var I=$(this);var H=I.parent();var K=H.closest(".pageGroup");if(K.hasClass("virtual-page-funnel")){p(I)}else{if(K.hasClass("system-pages")){d(I)}else{y(H,K)}}}).on("click.websiteHook",".popup-item",function(O){var N=$(this);var K=N.parent();var L=K.hasClass("funnel-step-popup")?N:K;var J=L.data("id");var H=L.data("funnel");var I=L.data("variant")||"a";o({id:J,funnelId:H,variant:I})}).on("click.websiteHook",".menu-popup-button",function(H){o({id:$(this).data("id")})}).on("click.websiteHook","#addWidgetBtnSmall",function(H){if(l.activePage.grid){l.activePage.grid.showAddWidgetDialog(H)}}).on("click.websiteHook",".cpanel-pageGroup-header",function(){var H=$(this).closest(".pageGroup");if(H.hasClass("active")){A(H)}else{C(H)}}).on("click.websiteHook","#globalStyling",function(H){GlobalStyling.edit()}).on("click.websiteHook","#themeSettingsBtn, #themeSettingsBtnSmall",function(H){Website.settingsUI.show()})};var B=function(G){if(G.modal){G.savePopup()}else{if(G.megaMenu){G.saveMegaMenu()}else{G.savePage()}}};var k=function(H){var G=$(".viewport-buttons");if(G.length<1){return}G.find(".active").removeClass("active").end().find('a[data-size="'+H+'"]').addClass("active")};var z=function(G,I,H){if(I.type==="PAGE"){CPanel.goToUrl(Website.pagePrefix+"/"+G.url+"/"+I.page.link+"/"+H,true)}else{Hooks.active.hook.activePage.showPopup({id:I.id,funnelId:G.id,variant:H,showPrimaryWidgetSettings:false})}};var g=function(S,K){var I=S.getActiveFunnel();var J=I===null?null:S.getActiveFunnelStep(true);var ag=primaryDomain;var H=Website.getActiveSite().type==="FUNNEL";var ab=I!==null&&K.endsWith("/b");if(K.startsWith("/")){K=K.substr(1)}if(I&&K.endsWith("/a")||K.endsWith("/b")){K=K.substr(0,K.length-2)}if(I){var X=K.split("/");if(X[0]===I.url){X.splice(0,1)}K=X.join("/")}var W=$body.hasClass("action-line-bottom");var V=$(Templates.get(I!==null?"funnelActionLaneMarkup":"websiteActionLaneMarkup"));S.container.prepend(V);S.container.addClass("flex "+(W?"flex-col-reverse":"flex-col"));k(S.hook.currentView);var G="";if(I!==null&&I.host!==null){ag=I.host}if(!H&&I!==null&&I.host===null){G="/"+I.url}var U="/"+K;if(I){if(J&&I.steps.length&&I.steps[0].id===J.id){U=""}}else{if(Website.getHomepageLink()===K){U=""}}var Y=ag+G+U;V.find(".action-url").text(Y).attr("href","http://"+Y);if(I&&J){var Z=0;J.variants.forEach(function(ah){if(!ah.archived){++Z}});var Q=Z>1;var ae=0;var N=false,O=false;var ae=0;for(var R=0;R<I.steps.length;++R){var L=I.steps[R];if(L.kind!=="UPSELL"&&L.kind!=="DOWNSELL"){++ae}if(L.id===J.id){N=R>0;O=R<(I.steps.length-1);if(L.kind==="UPSELL"){ae+=" ("+M.UPSELL+")"}else{if(L.kind==="DOWNSELL"){ae+=" ("+M.DOWNSELL+")"}}break}}if(!N){V.find(".funnel-step-back").addClass("disabled")}if(!O){V.find(".funnel-step-next").addClass("disabled")}var ad=V.find('[data-role="current-step"]');var af=M.STEP+" "+ae+": "+J.name;var aa='<span class="step-name">'+af+"</span>";if(Q){var ac=Website.pagePrefix+"/"+I.url+"/"+J.page.link+"/a";var P=Website.pagePrefix+"/"+I.url+"/"+J.page.link+"/b";aa+='<div class="ab-test-switch">            <a rel="tab" href="'+ac+'" class="'+(ab?"":"active ")+'rounded-effect">'+M.VERSION_A+'</a>            <a rel="tab" href="'+P+'" class="'+(ab?"active ":"")+'rounded-effect">'+M.VERSION_B+"</a>          </div>"}else{aa+='<a class="initiate-ab green rounded-effect" rel="action" data-action="startABSplitTest">'+M.START_SPLIT_TEST+"</a>"}ad.append(aa)}};Hooks.registerHook("website",{contentWrapper:null,navigationButtons:null,currentView:"",getInnerPage:function(){if(Website.homePage===null){return"websitePage"}if(this.params===""||this.params==="/"){if(Website.homePage&&Website.homePage.id===Website.BLOG_PAGE_ID){this.params="/me/blog";return"blog"}else{if(Website.homePage&&Website.homePage.id===Website.PORTFOLIO_PAGE_ID){this.params="/me/portfolio";return"portfolio"}}return"websitePage"}if(this.params.indexOf("/me/blog")===0){return"blog"}if(this.params.indexOf("/me/portfolio")===0){return"portfolio"}return"websitePage"},init:function(){this.contentWrapper=$(".working-area-wrapper");this.container=this.contentWrapper.find(".working-area-wrapper-inner")},getContainer:function(){return this.container},getNavClass:function(){return"narrow-nav"},onActivate:function(){var G=this;this.currentView=Cookies.get("current-view")||"desktop";this.navigationButtons=$("#websiteNav").addClass("active");$("#webBtn").addClass("active");document.title=M.WEBSITE_TITLE;this.contentWrapper.addClass("websiteWrapper");v(this)},onDeactivate:function(){this.navigationButtons.removeClass("active");$("#webBtn").removeClass("active");this.contentWrapper.removeClass("websiteWrapper desktop-view tablet-view mobile-view");$document.off(".websiteHook");l=null;b=null;if(w!==null){w.close()}w=null;$("#style-480")[0].disabled=true;$("#style-768")[0].disabled=true;$("#style-1024")[0].disabled=true;$("#style-main")[0].disabled=true},loadStylesheet:function(I,J){var G=this;if(isUndefined(I)||I===null||I===""){I=G.currentView===""?"desktop":G.currentView}var H=G.contentWrapper.width();if(H<1024&&I==="desktop"){I="tablet"}if(H<840){I="mobile"}if(!a(CPanel.currentPage)){I="desktop"}G.contentWrapper.removeClass("desktop-view tablet-view mobile-view").addClass(I+"-view");G.currentView=I;Cookies.set("current-view",G.currentView,{expires:5*365,path:"/"});k(I);UITools.loadStylesheet(I,J)},onBeforeUrlLoad:function(){this.loadStylesheet(this.currentView)},onAfterUrlLoad:function(){var G=$(".viewport-buttons");if(a(CPanel.currentPage)){G.show()}else{G.hide()}t()},showSettings:function(){Website.settingsUI.show()}});Hooks.registerPage("website","websitePage",null,null,{markup:Templates.get("websitePageMarkup"),grid:null,modal:null,megaMenu:null,saveButtons:null,getAdminPageUrl:function(){return contextPath+Website.pagePrefix+this.getClientPageUrl()},getClientPageUrl:function(){return this.hook.params},savePage:function(){if(!CPanel.haveUnsavedChanges||!this.grid){return}var G=this;Tools.hide(this.saveButtons);var H={};var I=this.grid.getSaveObject();H.widgets=JSON.stringify(I.widgets);if(I.footerWidgetsChanged){H.footerWidgets=JSON.stringify(I.footerWidgets)}if(I.headerChanged){H.header=JSON.stringify(I.header)}Website.savePage(this.getClientPageUrl(),H,function(){Tools.showCornerMessage(3000,M.UPDATED,Tools.TOOLTIP_TYPE_SUCCESS);CPanel.setChanged(false)},function(){Tools.show(G.saveButtons)})},onShow:function(K){if(!Website.hasPermission(Permission.WEBSITE)){var J="";if(Website.hasPermission(Permission.STORE)){J="/me/store"}else{if(Website.hasPermission(Permission.BLOG)){J="/me/blog"}else{if(Website.hasPermission(Permission.PORTFOLIO)){J="/me/portfolio"}else{if(Website.hasPermission(Permission.MEMBERS)){J="/me/crm"}else{J="/me/dashboard"}}}}Tools.delay(10,function(){CPanel.goToUrl(J)});return}var G=this;var H=this.hook.params;if(!H.startsWith("/")){H="/"+H}if(H==="/"){if(Website.homePage&&Website.homePage.id===Website.STORE_PAGE_ID){var I=Website.getFirstRealPage();if(I!==null){H="/"+I.link;G.ready();CPanel.goToUrl(Website.pagePrefix+"/"+I.link,true);return}}H="/"+(Website.homePage===null?"":Website.getHomepageLink())}Tools.makeWebsiteRequest({action:"requestPage",data:{url:H},method:"get",onOk:function(L){var O=$("#website");if(O.length<1||isUndefined(Grid)){return}$(".viewport-buttons").show();G.saveButtons=$("#websitePageSaveBtns");var Q=!$body.hasClass("action-line-none");if(Q){g(G,Website.getSystemPagePreviewUrl(H))}O.html(L.data.markup||"");Tools.addShortcutListener("s",function(S,U){if(!S){B(G)}});G.initGrid();Tools.delay(1000,f);G.ready();L=null;K=K||{};if(K.showPopup){G.showPopup(K.showPopup)}else{if(K.showMegaMenu){G.showMegaMenu(K.showMegaMenu)}else{var N=Tools.getUrlParams()["show"]||"";if(N==="settings"){Website.settingsUI.show()}else{if(N==="apps"){Website.settingsUI.show("apps")}else{if(N==="funnel-settings"){var R=Website.getActiveSite();var P=Website.getActiveFunnel();if(R.type==="FUNNEL"||P===null){Website.settingsUI.show()}else{Funnels.showFunnelSettings(R,P)}}else{if(N==="steps"){Funnels.edit()}else{if(N==="widgetsettings"){G.grid.showPrimaryWidgetSettings()}else{if(N.startsWith("test-")){UITools.showTestWindow(N.substring(5))}}}}}}}}},onNotOk:function(L){G.ready()},onRequestError:function(L,O,N){G.ready()}})},removeGrid:function(G){if(this.grid!==null){this.grid.destroy(G);this.grid=null}},initGrid:function(){if(!Website.hasAccessToWebsite){$("#website").addClass("disabled-grid").append('<div class="disabled-layer"></div>');return}var G=this;this.grid=Grid($("#website"),{hasAnchorPoints:true,canHideHeader:true,hasMobileSettings:true,onHeaderVisibilityChanged:function(){if(!G.grid){return}Website.updatePageMeta(G.getClientPageUrl(),"header",{visible:G.grid.getHeader().isVisible()})},onFooterVisibilityChanged:function(){if(!G.grid){return}Website.updatePageMeta(G.getClientPageUrl(),"footer",{visible:G.grid.isFooterVisible()})},onChange:function(){CPanel.setChanged(true);Tools.show(G.saveButtons)}})},onHide:function(){if(this.modal!==null){this.modal.close();this.modal=null}if(this.megaMenu!==null){this.megaMenu.close();this.megaMenu=null}this.container.removeClass("flex flex-col-reverse flex-col");Tools.removeShortcutListener("s");Tools.hide(this.saveButtons);this.saveButtons=null;CPanel.setChanged(false);this.removeGrid(true);DemoTour.teardown()},changeViewport:function(H){var G=$(H.currentTarget);G.tooltip("hide");UITools.changeViewport(G.data("size"),this,r)},closePopup:function(H){if(this.modal===null||this.modal.id!==H){return}var G=this;this.modal.close(function(){G.modal=null;G.grid=null;G.initGrid()})},showPopup:function(H){var G=this;if(w!==null){w.close();w=null}CPanel.checkIfNeedsSave(function(){Tools.hide(G.saveButtons);var I=function(){WebPlatform.Popups.show(H,true,function(L,K,J){J.data("settings",K);J.find(".popup-container").append(Templates.get("popupSettingsButtons"));J.find(".popup-background-wrapper").append('<a class="background-edit-btn" rel="action" data-action="popupChangeBackground">'+M.CHANGE_BACKGROUND+"</a>");G.modal=WebPlatform.Popups.edit(H,K,J,G);G.grid=G.modal.grid;if(staticUserDir==="library"){J.find(".modal-settings.active-widget-settings").prepend('<a rel="action" data-action="popupThumbSettings" class="widget-setting widget-button-default widget-button-default-text">Thumb</a>')}if(H.showSettings){G.modal.popupSettings()}else{if(H.showPrimaryWidgetSettings){G.grid.showPrimaryWidgetSettings()}}})};if(G.modal===null&&G.megaMenu===null){G.removeGrid(false);Tools.delay(10,I)}else{if(G.modal!==null){G.modal.close(I);G.modal=null}else{G.megaMenu.close(I);G.megaMenu=null}}})},closeMegaMenu:function(){if(this.megaMenu===null){return}var G=this;this.megaMenu.close(function(){G.megaMenu=null;G.grid=null;G.initGrid()})},showMegaMenu:function(G){var H=this;CPanel.checkIfNeedsSave(function(){Tools.hide(H.saveButtons);var I=function(){H.megaMenu=WebPlatform.MegaMenu.edit(G,H,function(J){H.grid=J})};if(H.modal===null&&H.megaMenu===null){H.removeGrid(false);Tools.delay(10,I)}else{if(H.modal!==null){H.modal.close(I);H.modal=null}else{H.megaMenu.close(I);H.megaMenu=null}}})},isEditingPage:function(){return this.modal||this.megaMenu?false:true},canSelectFunnelStep:function(){return true},getActiveFunnel:function(){if(this.modal!==null){return this.modal.funnelId?Website.getFunnelById(this.modal.funnelId):null}var G=this.getClientPageUrl();if(Website.getActiveSite().type==="FUNNEL"&&G.startsWith("/system")){G=""}if(G.startsWith("/")){G=G.substring(1)}if(G===""){if(Website.homePage.isFunnel){return Website.getFunnelById(Website.homePage.id)}return null}var H=G.split("/");if(H.length>1){return Website.getFunnelByUrl(H[0])}return null},getActiveFunnelStep:function(I){var H=null,N=null;if(this.modal!==null&&I!==true){H=this.modal.funnelId?Website.getFunnelById(this.modal.funnelId):null;if(H===null){return null}N=H?this.modal.id:null;for(var G=0;G<H.steps.length;++G){var K=H.steps[G];if(K.type!=="PAGE"&&K.id===N){return K}}}else{var J=this.getClientPageUrl();if(J.startsWith("/")){J=J.substring(1)}if(J===""){if(Website.homePage.isFunnel){var H=Website.getFunnelById(Website.homePage.id);if(H&&H.steps.length){return H.steps[0]}}return null}var L=J.split("/");if(L.length>1){var H=Website.getFunnelByUrl(L[0]);if(H){var J=L[1];for(var G=0;G<H.steps.length;++G){var K=H.steps[G];if(K.type==="PAGE"&&K.page.link===J){return K}}}}}return null},getPage:function(){var G=this.getClientPageUrl();if(G.startsWith("/")){G=G.substring(1)}if(G===""){return Website.getHomepage()}return Website.getPageByUrl(G)},popupSettings:function(){if(this.modal!==null){this.modal.popupSettings()}},popupShowOnSettings:function(G){if(this.modal!==null){this.modal.popupShowOnSettings(G)}},popupStylingSettings:function(G){if(this.modal!==null){this.modal.popupStylingSettings(G)}},popupChangeBackground:function(G){if(this.modal!==null){this.modal.popupChangeBackground(G)}},popupThumbSettings:function(G){if(this.modal!==null){this.modal.popupThumbSettings(G)}},savePopup:function(){if(this.modal!==null){this.modal.save()}},popupClosed:function(G){this.modal=null;this.grid=null;if(G){this.initGrid()}},saveMegaMenu:function(){if(this.megaMenu!==null){this.megaMenu.save()}},megaMenuClosed:function(G){this.megaMenu=null;this.grid=null;if(G){this.initGrid()}},toggleFooter:function(G){if(this.grid){this.grid.toggleFooter(!this.grid.isFooterVisible())}},toggleHeader:function(G){if(this.grid){this.grid.toggleHeader(!this.grid.getHeader().isVisible())}},undo:function(){if(this.grid){this.grid.undo()}},redo:function(){if(this.grid){this.grid.redo()}},saveChanges:function(){B(this)},discardChanges:function(G){r(this)},addPopup:function(G){E()},actionBarUrlAction:function(G){Website.settingsUI.show("domains")},startABSplitTest:function(){var G=this.getActiveFunnel();var H=this.getActiveFunnelStep();if(G===null||H===null){return}Tools.prompt(M.START_SPLIT_TEST,M.START_SPLIT_TEST_CONFIRM,function(){Funnels.startABSplitTest(G,H,function(I,J){z(I,J,"b")})})},actionBarNextStep:function(J){if($(J.target).hasClass("disabled")){return}var H=this.getActiveFunnel();var I=this.getActiveFunnelStep();if(H===null||I===null){return}for(var G=0;G<H.steps.length;++G){if(H.steps[G].id===I.id){if(G+1<H.steps.length){z(H,H.steps[G+1],"a")}break}}},actionBarPrevStep:function(J){if($(J.target).hasClass("disabled")){return}var H=this.getActiveFunnel();var I=this.getActiveFunnelStep();if(H===null||I===null){return}for(var G=1;G<H.steps.length;++G){if(H.steps[G].id===I.id){z(H,H.steps[G-1],"a");break}}},actionBarAddPage:function(L){var K=Website.getActiveSite();var J=K.type==="FUNNEL";var I=!J&&Website.getPageById(Website.BLOG_PAGE_ID)===null;var G=!J&&Website.getPageById(Website.PORTFOLIO_PAGE_ID)===null;var O=Website.getPageById(Website.STORE_PAGE_ID)===null;var N=!J;var H=!J;if(J&&!O){E()}else{n(L,{blog:I,portfolio:G,store:O,groups:N,page:H})}}})}();WebPlatform.Popups=WebPlatform.Popups||{};WebPlatform.Popups.edit=function(d,e,m,p){var o=null,j,g,k,h,c=d.id,i=d.funnelId,f=d.variant;var a=function(){h.fadeIn("fast");if(!CPanel.haveUnsavedChanges){CPanel.setChanged(true)}};var n=function(){o.id=c;o.funnelId=i;o.variant=f;o.popup=m;o.settings=e;j=m.find(".popup-container");k=m.find(".popup-background-wrapper");g=j.find(".popup-content-wrapper");h=m.find(".popup-save");if(i){m.find('[data-action="popupShowOnSettings"]').remove()}j.resizable({minWidth:300,grid:2,handles:"e, w",stop:function(){a()}});o.grid=Grid(g,{enableUplsellWidget:d.enableUplsellWidget,disableGlobalColumns:d.disableGlobalColumns,hasAnchorPoints:false,inPopup:true,onChange:a,widgetFilter:function(q){return q.value!=="Container"},getContainerFixedPositionOffset:function(q){return{left:q.offset().left,top:q.offset().top}}});k.resizable({handles:"n, e, s, w",grid:2,start:function(){},stop:function(){if(b()){e.size=k.height()}else{var q=k.width()/j.width()*100;k.css("width",q+"%");g.css("width",(100-q)+"%");e.size=100-q}a()},resize:function(){if(!b()){var r=k.width();var q=j.width()-r;g.css("width",q)}}});m.find(".popup-close-btn").click(function(){CPanel.checkIfNeedsSave(function(){l(true)})})};var b=function(){return e.backgroundType==="background-top"||e.backgroundType==="background-bottom"};var l=function(q,s){if(o===null){return}try{j.resizable("destroy");k.resizable("destroy")}catch(r){}CPanel.setChanged(false);o.settings=null;o.popup=null;o.id=null;o.grid.destroy(false);o.grid=null;o=null;WebPlatform.Popups.hide(c,function(){if(p){p.popupClosed(q)}p=null;(s||dummy)()})};return{id:null,popup:null,settings:null,grid:null,undo:function(){if(this.grid){this.grid.undo()}},redo:function(){if(this.grid){this.grid.redo()}},_init:function(){o=this;n();delete this._init;return this},close:function(q){l(false,q)},popupSettings:function(){Tools.showWindow({title:M.POPUP_POSITION,width:460,isModal:false,markup:Templates.get("popupSettingsStructure"),action:{onShow:function(r,v){var q=["at-center","at-right","at-left","fullsize","at-top","at-bottom"];var s=e.animationType;Tools.addToggle(v.find(".option-select"),q.indexOf(e.position),function(x,w){a();m.removeClass(e.position);e.position=q[w];m.addClass(e.position)},".popup",true);var u=$("#popupDelaySliderWrapper");var t=$("#scrollDistanceSliderWrapper");r.bindObject("data",e,[{property:"name",field:v.find('[name="name"]')},{property:"showOnExit",field:v.find('[name="showOnExit"]'),type:"bool"},{property:"showOnMobile",field:v.find('[name="showOnMobile"]'),type:"bool"},{property:"animationType",field:v.find('[name="popupAnimation"]'),onChange:function(){m.removeClass("visible displayed");WebPlatform.onTransitionEnd(m,function(){m.removeClass(s);s=e.animationType;m.addClass(s);Tools.delay(300,function(){m.addClass("visible displayed")})},300)}},{property:"showPopupWithDelay",field:v.find('[name="showPopupWithDelay"]'),type:"bool",onChange:function(){u[e.showPopupWithDelay?"slideDown":"slideUp"]("fast")}},{property:"showPopupOnScroll",field:v.find('[name="showPopupOnScroll"]'),type:"bool",onChange:function(){t[e.showPopupOnScroll?"slideDown":"slideUp"]("fast")}},{property:"popupShowFrequency",field:v.find('[name="popupShowFrequency"]')}],function(){a()});u[e.showPopupWithDelay?"show":"hide"]("fast");t[e.showPopupOnScroll?"show":"hide"]("fast");Tools.addSlider({min:1,max:60,step:1,value:e.popupDelay,updatedViewSuffix:"s",element:$("#popupDelaySlider"),onChange:function(w){e.popupDelay=w;a()}});Tools.addSlider({min:5,max:100,step:5,value:e.scrollDistance,updatedViewSuffix:"%",element:$("#scrollDistanceSlider"),onChange:function(w){e.scrollDistance=w;a()}})},onHide:function(){}}})},popupShowOnSettings:function(s){if(i){return}var q=[{id:-1}];var r={"-1":M.ALL};if(!Website.isFunnelWebsite()){Website.pageGroups.forEach(function(u){u.pages.forEach(function(v){q.push(v);r[v.id]=v.name})})}Website.virtualPages.forEach(function(u){q.push(u);r[u.id]=u.name});Website.funnels.forEach(function(u){var v=M.FUNNEL+" "+u.name+" - ";u.steps.forEach(function(w){if(w.type==="PAGE"&&w.page){q.push(w.page);r[w.page.id]=v+w.page.name}})});var t=[];e.pages=e.pages||[];e.pages.forEach(function(v){for(var u=0;u<q.length;++u){if(q[u].id===v){t.push(q[u]);break}}});Tools.chooseMultiple({title:M.POPUP_SHOW_ON_SETTINGS,message:"",noItemsMessage:M.NOTHING_TO_SELECT,items:q,selectedItems:t,isModal:true,getItemId:function(u){return u.id},getItemText:function(u){return r[u.id]||u.name},onSelect:function(v){e.pages=[];for(var u=0;u<v.length;++u){e.pages.push(v[u].id)}a()}})},popupStylingSettings:function(q){Tools.showWindow({title:M.POPUP_LAYOUT,isModal:false,width:400,markup:Templates.get("popupStylingStructure"),action:{onShow:function(r,s){var x=m.find(".popup-content-wrapper");var w=m.find(".popup-overlay");var t=m.find(".popup-close-btn");var A=["","background-top","","background-left","background-none","background-right","","background-bottom",""];$("#bgOverlaySettings")[e.position==="at-center"?"removeClass":"addClass"]("none");Tools.addToggle(s.find(".option-select"),A.indexOf(e.backgroundType),function(E,C){var D=b();var F=j.width();var H=j.height();var B=k.height();m.removeClass(e.backgroundType);e.backgroundType=A[C];m.addClass(e.backgroundType);var G=b();if(D!==G){if(G){e.size=150;k.css("height",e.size+"px")}else{e.size=100-(B/H*100);k.css("width",(100-e.size)+"%");g.css("width",e.size+"%")}}a()},".popup",true);if(e.overlayColor.startsWith("#")){e.overlayColor=WebPlatform.hexToRgba(e.overlayColor,(100-e.overlayTransparency)/100)}var y=s.find('[name="overlayColor"]');r.colorpickers=[];var u=GlobalStyling.getColorFromClass(e.overlayColorClass,e.overlayColor);r.colorpickers.push(Tools.addColorPicker(u,y.prev(),y,function(B,C){e.overlayColor=B;e.overlayColorClass=C;GlobalStyling.setColorOrClassToElement(w,B,C,"bg");a()}));u=GlobalStyling.getColorFromClass(e.closeBtnColorClass,e.closeBtnColor);var z=s.find('[name="closeBtnColor"]');r.colorpickers.push(Tools.addColorPicker(u,z.prev(),z,function(B,C){e.closeBtnColor=B;e.closeBtnColorClass=C;GlobalStyling.setColorOrClassToElement(t,B,C,"foreground");a()}));var v=s.find('[name="contentBackgroundColor"]');u=GlobalStyling.getColorFromClass(e.contentBgColorClass,e.contentBgColor);r.colorpickers.push(Tools.addColorPicker(u,v.prev(),v,function(B,C){e.contentBgColor=B;e.contentBgColorClass=C;GlobalStyling.setColorOrClassToElement(x,B,C,"bg");a()}));Tools.addSlider({min:0,max:150,step:1,value:e.contentPadding,updatedViewSuffix:"px",element:$("#paddingSizeSlider"),onChange:function(B){e.contentPadding=B;x.css("padding",B+"px");a()}})},onBeforeHide:function(r,s){if(r.colorpickers){Tools.removeColorpickers(r.colorpickers)}}}})},popupChangeBackground:function(q){Tools.showWindow({title:M.POPUP_BACKGROUND_SETTINGS,isModal:false,width:400,markup:Templates.get("popupBackgroundStructure"),action:{onShow:function(s,v){var r=function(y,z){var A=y.bgRepeat==="cover";if(y.bgImage!=="none"){var x=getThumbnailsFromBase(y.bgImageBase,"240x160")+y.bgImage;z.css({backgroundSize:A?"cover":"contain",backgroundImage:"url('"+x+"')"}).empty().append($('<span class="remove-button"></span>'))}else{z.css({backgroundImage:"url("+resources+"/images/image-avatar.png)",backgroundSize:"auto"}).empty().append($('<span class="add-button"></span>'))}};var u=v.find('[name="bgColor"]');var t=v.find(".backgroundSelectImageHolder");e.bgRepeat=e.bgSize==="cover"?"cover":e.bgRepeat;t.on("click",".remove-button",function(x){e.bgImage="none";e.bgImageBase="";r(e,t);WebPlatform.Popups.setBackground(m,e);a();x.stopPropagation();x.preventDefault();return false});s.colorpicker=Tools.addColorPicker(e.bgColor,u.prev(),u,function(x){e.bgColor=x;r(e,t);WebPlatform.Popups.setBackground(m,e);a()});var w=s.bindObject("data",e,[{property:"bgPosition",field:v.find('[name="bgPosition"]')},{property:"bgRepeat",field:v.find('[name="bgRepeat"]'),onChange:function(){e.bgSize=e.bgRepeat==="cover"?"cover":"auto"}}],function(){r(e,t);WebPlatform.Popups.setBackground(m,e);a()});r(e,t);t.click(function(){FileManager.selectFile({onCompleteCallback:function(x,y){e.bgImage=y;e.bgImageBase=x;r(e,t);WebPlatform.Popups.setBackground(m,e);a()}})})},onBeforeHide:function(r,s){if(r.colorpicker){Tools.removeColorPicker(r.colorpicker)}}}})},popupThumbSettings:function(q){Tools.showWindow({title:"Change Thumbnail",isModal:false,width:400,markup:Templates.get("popupPickThumbnailPopup"),action:{onShow:function(s,u){var r=function(x,y){if(x.thumbImage!=="none"){var w=getThumbnailsFromBase(x.thumbImageBase,"240x160")+x.thumbImage;y.css({backgroundSize:"contain",backgroundImage:"url('"+w+"')"}).empty().append($('<span class="remove-button"></span>'))}else{y.css({backgroundImage:"url("+resources+"/images/image-avatar.png)",backgroundSize:"auto"}).empty().append($('<span class="add-button"></span>'))}};var t=u.find(".backgroundSelectImageHolder");t.on("click",".remove-button",function(w){e.thumbImage="none";e.thumbImageBase="";r(e,t);a();w.stopPropagation();w.preventDefault();return false});r(e,t);t.click(function(){FileManager.selectFile({onCompleteCallback:function(w,x){e.thumbImage=x;e.thumbImageBase=w;r(e,t);a()}})});var v=s.bindObject("data",e,[{property:"visibleAsTemplate",field:u.find('[name="visibleAsTemplate"]'),type:"bool"}],function(){a()})}}})},save:function(){var q=m.find(".popup-container");var s=q.width();var t=q.height();var r=JSON.stringify(this.grid.getSaveObject().widgets);switch(e.position){case"at-center":case"at-right":case"at-left":e.width=s;e.height=t;break;case"fullsize":e.width=400;e.height=400;break;case"at-top":case"at-bottom":e.width=400;e.height=t;break}e.pages=e.pages||[];Tools.makeWebsiteRequest({action:"savePopup",method:"post",data:{id:c,funnelId:i,variant:f,name:e.name,isTemplate:!!d.isTemplate,settings:JSON.stringify(e),content:r},onOk:function(u){if(i){}else{var v=Website.getPopupById(c);if(v!==null){v.name=e.name}}h.fadeOut("fast");CPanel.setChanged(false);Tools.showSaveSuccessWindow()}})}}._init()};WebPlatform.MegaMenu=WebPlatform.MegaMenu||{};WebPlatform.MegaMenu.edit=function(f,j,d){var i=null,g,b,c;var a=function(){c.fadeIn("fast");if(!CPanel.haveUnsavedChanges){CPanel.setChanged(true)}};var h=function(){Tools.makeWebsiteRequest({action:"getMegaMenu",data:{index:f},onOk:function(k){var r=j.container.find(".navigation-wrapper").find(".nav-wrapper");var l=j.container.find(".theme");var p=r[0].getBoundingClientRect();var m=l[0].getBoundingClientRect();var o="top: "+(p.bottom-m.top)+"px; left: "+(p.left-m.left)+"px; width: "+(p.right-p.left)+"px;";g=$('<div class="mega-menu-wrapper" style="'+o+'"><div class="mega-menu-inner clearfix"></div></div>');var n=g.find(".mega-menu-inner");n.html(k.data);n.append(Templates.get("megaMenuSettingsButtons"));c=g.find(".btn-save");var q=g.find(".btn-cancel");b=$('<div class="mega-menu-overlay"></div>');l.append(b);l.append(g);i.grid=Grid(g,{attachHeader:false,hasAnchorPoints:false,onChange:a,widgetFilter:function(s){return s.value!=="Container"},getContainerFixedPositionOffset:function(s){return{left:s.offset().left,top:s.offset().top}}});Tools.delay(10,function(){g.addClass("visible");b.addClass("visible")});d(i.grid);q.click(function(){CPanel.checkIfNeedsSave(function(){e(true)})})}})};var e=function(k,l){if(i===null){return}CPanel.setChanged(false);i.grid.destroy(false);i.grid=null;i=null;g.removeClass("visible");b.removeClass("visible");Tools.delay(300,function(){g.remove();b.remove();if(j){j.megaMenuClosed(k)}j=null;(l||dummy)()})};return{grid:null,_init:function(){i=this;h();delete this._init;return this},close:function(k){e(false,k)},undo:function(){if(this.grid){this.grid.undo()}},redo:function(){if(this.grid){this.grid.redo()}},save:function(){var k=this.grid.getSaveObject().widgets;Tools.makeWebsiteRequest({action:"saveMegaMenu",method:"post",data:{index:f,content:JSON.stringify(k)},onOk:function(l){c.fadeOut("fast");CPanel.setChanged(false);Tools.showSaveSuccessWindow()}})}}._init()};WebPlatform.MegaMenu.editFromMenu=function(i,d,g,f,c,h){var m=null,k,b,e;h=h||dummy;var a=function(){e.fadeIn("fast");if(!CPanel.haveUnsavedChanges){CPanel.setChanged(true)}};var l=function(){Tools.makeWebsiteRequest({action:"renderWidgets",method:"post",data:{widgets:JSON.stringify(i)},onOk:function(n){var p="top: "+d.top+"px; left: "+d.left+"px; width: "+d.width+"px;";k=$('<div class="mega-menu-wrapper" style="'+p+'"><div class="mega-menu-inner clearfix"></div></div>');var o=k.find(".mega-menu-inner");o.html(n.data);o.append(Templates.get("megaMenuSettingsButtons"));e=k.find(".btn-save");var q=k.find(".btn-cancel");b=$('<div class="mega-menu-overlay"></div>');g.append(b);g.append(k);m.grid=Grid(k,{attachHeader:false,hasAnchorPoints:false,onChange:a,widgetFilter:function(r){return r.value!=="Container"},getContainerFixedPositionOffset:function(r){return{left:r.offset().left,top:r.offset().top}}});Tools.delay(10,function(){k.addClass("visible");b.addClass("visible")});f(m.grid);q.click(function(){j()});e.click(function(){var r=m.grid.getSaveObject().widgets;c(r);j()})}})};var j=function(){if(m===null){return}m.grid.destroy(false);m.grid=null;m=null;k.removeClass("visible");b.removeClass("visible");Tools.delay(300,function(){k.remove();b.remove();h()})};return{grid:null,undo:function(){if(this.grid){this.grid.undo()}},redo:function(){if(this.grid){this.grid.redo()}},_init:function(){m=this;l();delete this._init;return this}}._init()};var GlobalStyling=(function(){var f=false,j=false;var i=function(l){if(l.startsWith("mobile-")){l=l.replace("mobile-","");switch(l){case"p":return 14;case"h1":return 48;case"h2":return 32;case"h3":return 26;case"h4":return 22;case"h5":return 18;case"h6":return 14}}else{switch(l){case"p":return 16;case"h1":return 72;case"h2":return 42;case"h3":return 32;case"h4":return 24;case"h5":return 18;case"h6":return 14}}};var e=function(l,m){var n=function(p,q,t){if(typeof t==="undefined"){return}var s=q.find(p);var r="";for(var o=0;o<t.length;++o){r+="<li style=\"font-family: '"+t[o].fontString+"'\">"+t[o].name+'<a class="delete"></a></li>'}s.html(r)};n(".imported-fonts-list",l,m.fonts);n(".custom-fonts-list",l,m.customFonts)};var b=function(n,p){n.on("click",".add-font-btn",function(){if(!m()){CPanel.showError(M.ERR_TOO_MANY_FONTS);return}Tools.selectFont(function(r){for(var q=0;q<p.fonts.length;++q){if(r.name===p.fonts[q].name){return}}p.fonts.push({name:r.name,url:r.url,fontString:r.fontString});e(n,p);d(p);f=true})});var m=function(){var q=(p.fonts||[]).length+(p.customFonts||[]).length;return q<8};var o=function(s,w){var r=w.find('input[name="name"]').val().trim(),u=w.find(".select-like.woff-file"),v=w.find(".select-like.otf-file"),t=v.data("ext");var y=[];if(r===""){y.push(M.CUSTOM_FONT_NO_NAME)}if(p.customFonts&&p.customFonts.length){for(var x=0;x<p.customFonts.length;x++){if(p.customFonts[x].name===r){y.push(M.CUSTOM_FONT_NOT_UNIQUE);break}}}if(typeof u.data("file")==="undefined"&&typeof v.data("file")==="undefined"){y.push(M.CUSTOM_FONT_NONE_UPLOADED)}if(y.length!==0){Tools.showError(y.join("<br/><br/>"));return}var q={};if(typeof u.data("file")!=="undefined"){q.woff={file:u.data("file"),base:u.data("base")}}if(typeof v.data("file")!=="undefined"){q[t]={file:v.data("file"),base:v.data("base")}}p.customFonts=p.customFonts||[];p.customFonts.push({name:r,fontString:r,url:q});s.close();e(n,p);d(p);f=true};n.on("click",".add-custom-font-btn",function(){if(!m()){CPanel.showError(M.ERR_TOO_MANY_FONTS);return}var q=function(s,r,t){s.on("click",r,function(){var u=$(this);FileManager.selectFile({listWoffOnly:t==="woff",listOtfOnly:t==="otf",listImagesOnly:false,onCompleteCallback:function(v,x){var w=x.substring(x.lastIndexOf(".")+1);if(t==="woff"&&w!==t){Tools.showError(M.CUSTOM_FONTS_MSG_WOFF);return}if(t==="otf"&&w!==t&&w!=="ttf"){Tools.showError(M.CUSTOM_FONTS_MSG_OTF);return}u.data("file",x);u.data("base",v);u.data("ext",w);u.val(x)}})})};Tools.showWindow({isModal:true,title:M.CUSTOM_FONTS_NEW,width:400,markup:Templates.get("globalStylingAddCustomFont"),buttons:[Button(M.ADD,Button.CLASS_MIDDLE_BLUE,o),Button.MIDDLE_CANCEL],action:{onShow:function(r,s){q(s,".select-like.woff-file","woff");q(s,".select-like.otf-file","otf")}}})});var l=function(r,s){var q=r.closest("li").index();if(q>=s.length){return}s.splice(q,1);e(n,p);d(p);f=true};n.on("click",".imported-fonts-list .delete",function(){l($(this),p.fonts)});n.on("click",".custom-fonts-list .delete",function(){l($(this),p.customFonts)});e(n,p)};var d=function(n){var p="";var s=$("#googleFontsLink");var q=s.attr("href");for(var t=0;t<n.fonts.length;++t){p+="%7C"+n.fonts[t].url}var o=baseGoogleFontsLink+p;if(o!==q){s.attr("href",baseGoogleFontsLink+p)}var r=$("#customFonts");if(r.length){r.remove()}if((n.customFonts||[]).length===0){return}var m="";var l=function(w,u){var v=u;switch(u.toLowerCase()){case"otf":v="opentype";break;case"ttf":v="truetype";break}return'url("'+getFileFromBase(w.base,true)+w.file+'") format("'+v+'")'};for(t=0;t<n.customFonts.length;++t){m+='@font-face { font-family: "'+n.customFonts[t].name+'";src: '+$.map(n.customFonts[t].url,l).join(",")+"}"}$("head").append('<style type="text/css" id="customFonts">'+m+"</style>")};var c=function(l,r,m,q,p){var o=(r.texts||{})[q]||{};var s=o.spacing||0;s=s===0?"normal":(s+"px");var n=l.find(".heading").css({fontSize:o.size||i(q),letterSpacing:s,lineHeight:(o.height||1)+"em",fontFamily:o.font||"Open Sans"});n.text(o.font||"Open Sans");GlobalStyling.setColorOrClassToElement(n,o.color||"#3e3e3e",o.colorClass,"foreground");if(p){a(r,m);f=true}};var h=function(p,o,l){var q=$(p.target).closest(".font-wrapper");var n=q.data("setting")||"";if(!n){return}var m=o.texts[n]=o.texts[n]||{};m=mergeUnique(m,{color:"#3e3e3e",font:"Open Sans",size:i(n),spacing:1});Tools.showWindow({width:420,isModal:false,showNextTo:$(p.target),markup:Templates.get("globalStylingHeadingSettings"),action:{onShow:function(t,v){var x=$.unique($.merge(GlobalStyling.getCustomFontNames(o),$.merge(GlobalStyling.getFontNames(o),Tools.TEXT_EDITOR_FONTS)));var s=v.find('[name="font"]');var w="";x.forEach(function(y){w+='<option value="'+y+'">'+y+"</option>"});s.empty().append(w);t.bindObject("data",m,[{property:"font"}],function(){c(q,o,l,n,true)});var u=v.find('[name="textColor"]');var r=GlobalStyling.getColorFromClass(m.colorClass,m.color);Tools.addColorPicker(r,u.prev(),u,function(z,y){m.color=z;m.colorClass=y;c(q,o,l,n,true)});Tools.addSlider({min:10,max:128,step:1,value:m.size,updateView:v.find(".headingFontSize"),updatedViewSuffix:"px",element:$("#headingFontSize"),onChange:function(y){m.size=y;c(q,o,l,n,true)}});Tools.addSlider({min:0,max:100,step:1,value:m.spacing*10,updateView:v.find(".headingLetterSpacing"),updatedViewSuffix:"px",getUpdatedViewText:function(y){return y===0?"normal":(y/10).toFixed(1)},element:$("#headingLetterSpacing"),onChange:function(y){m.spacing=y/10;c(q,o,l,n,true)}});Tools.addSlider({min:1,max:30,step:1,value:(m.height||1)*10,updateView:v.find(".headingLineHeight"),updatedViewSuffix:"em",getUpdatedViewText:function(y){return(y/10).toFixed(1)},element:$("#headingLineHeight"),onChange:function(y){m.height=y/10;c(q,o,l,n,true)}})}}})};var k=function(m,r,q,l){var p=r.find('[data-role="bgImage"]');var o=function(){if(l.bgImage){var t=getThumbnailsFromBase(l.bgImageBase,"240x160")+l.bgImage;p.css({backgroundSize:"cover",backgroundImage:"url('"+t+"')"}).empty().append($('<span class="remove-button"></span>'))}else{p.css({backgroundImage:"url("+resources+"/images/image-avatar.png)",backgroundSize:"auto"}).empty().append($('<span class="add-button"></span>'))}};p.on("click",".remove-button",function(t){l.bgImage="";l.bgImageBase="";t.stopPropagation();t.preventDefault();j=true;o();a(q,l);return false});p.click(function(){FileManager.selectFile({onCompleteCallback:function(t,u){l.bgImage=u;l.bgImageBase=t;j=true;o();a(q,l)}})});var n=r.find('[name="backgroundColor"]');var s=GlobalStyling.getColorFromClass(l.bgColorClass,l.bgColor);Tools.addColorPicker(s,n.prev(),n,function(t,u){l.bgColor=t;l.bgColorClass=u;j=true;a(q,l)});m.bindObject("data",l,[{property:"bgPosition"}],function(){j=true;a(q,l)});o()};var g=function(){var p=$.extend(true,{},Website.globalStyling||{});var l=null,o=null;var n=Hooks.active.hook.activePage.name==="websitePage";p.fonts=p.fonts||[];p.texts=p.texts||{};p.colors=p.colors||{};$("#globalStyling").addClass("active");var m=$("#globalWebsiteSettings");Tools.showInlinePopup({markup:m.clone(),width:m.data("width")+"px",customClass:"global-settings-window",action:{onShow:function(q,t){b(t,p);if(n){Tools.makeWebsiteRequest({action:"getPageMeta",data:{url:Hooks.active.hook.activePage.getClientPageUrl()},onOk:function(w){o=(w.data||{}).style||{};o.bgPosition=o.bgPosition||"repeat";o.bgColor=o.bgColor||"transparent";l=$.extend(true,{},o);k(q,t.find('div[data-tab="page"]'),p,l)}})}var v=t.find(".global-left-nav ul");v.find(".global-page").parent()[n?"removeClass":"addClass"]("none");var s=t.find(".global-nav-content").children("div");v.find("a").click(function(){var w=$(this);var x=w.data("target")||"";s.hide();s.filter('[data-tab="'+x+'"]').show();t.addClass("nav-content-visible")});t.find(".back").click(function(){t.removeClass("nav-content-visible")});q.bindObject("data",p,[{property:"anchorUnderline",type:"bool"},{property:"anchorHoverUnderline",type:"bool"},{property:"websiteLayout",onChange:function(){t.find(".pattern-select")[p.websiteLayout==="boxed-layout"?"removeClass":"addClass"]("none-soft")}}],function(){a(p,l);f=true});t.find(".pattern-select")[p.websiteLayout==="boxed-layout"?"removeClass":"addClass"]("none-soft");var r=$("#bgPatternSelect");var u=p.customBgPattern;if(u!==""){r.find(".custom").css("background","url("+content+u+") no-repeat center center").show()}t.on("click","#bgPatternSelect li",function(){var w=$(this);if(w.hasClass("add")){FileManager.selectFile({onCompleteCallback:function(y,z){r.find(".selected").removeClass("selected");p.bgPattern="custom";p.customBgPattern=getFileFromBase(y,false)+z;r.find(".custom").show().addClass("selected").find("a").css("background","url("+getThumbnailsFromBase(y,"72x50")+z+") no-repeat center center");a(p,l);f=true}})}else{r.find(".selected").removeClass("selected");var x=w.data("type");w.addClass("selected");p.bgPattern=x;a(p,l);f=true}});t.find(".font-wrapper[data-setting]").click(function(w){h(w,p,l)}).each(function(){var w=$(this);c(w,p,l,w.data("setting"),false)});p.colors=p.colors||{};t.find(".color-picker-input").each(function(){var w=$(this);var x=w.attr("name");if(!x){return}Tools.addColorPicker(p.colors[x]||"#fefefe",w.prev(),w,function(y){p.colors[x]=y;a(p,l);f=true},dummy,true)});t.find(".styling-ports a").click(function(){var x=$(this);if(x.hasClass("active")){return}x.parent().find(".active").removeClass("active");x.addClass("active");var w=x.index()===1;$("#desktopViewFonts, #linkStylesWrapper")[w?"addClass":"removeClass"]("none");$("#mobileViewFonts")[w?"removeClass":"addClass"]("none");if(CPanel.currentPage.startsWith("/me/website")){$(".viewport-buttons").find('[data-size="'+(w?"mobile":"desktop")+'"]').trigger("click")}}).eq($(".working-area-wrapper").hasClass("mobile-view")?1:0).click();Tools.addSlider({min:800,max:1800,step:20,value:p.gridSize||1100,updatedViewSuffix:"px",element:$("#gridSizeSlider"),onChange:function(w){p.gridSize=w;a(p,l);f=true}})},onBeforeHide:function(q,r,s){if(f||j){Tools.prompt(M.UNSAVED_CHANGES_TITLE,"You have made changes to your global styles. Do you want to save them?",function(){Website.saveGlobalStyling(f?p:null,j?l:null,function(){f=false;j=false;s()})},function(){d(Website.globalStyling);a(Website.globalStyling,o);f=false;j=false;s()},M.SAVE_CHANGES,M.DISCARD_CHANGES_BTN,true,"unsaved-changes-dlg");return false}s()},onHide:function(){$("#globalStyling").removeClass("active")}},buttons:[Button(M.CONFIRM,Button.CLASS_MIDDLE_BLUE,function(q,r){Website.saveGlobalStyling(f?p:null,j?l:null,function(){f=false;j=false;q.close()})}),Button(M.CANCEL,Button.CLASS_MIDDLE_GREY,function(q,r){if(f||j){f=false;j=false;d(Website.globalStyling);a(Website.globalStyling,o)}q.close()})]})};var a=$.debounce(250,function(m,l){Widgets.renderWidget({type:"globalStyling",data:{styles:m,pageStyles:l}},function(n){$(".page-layout").removeClass("style-boxed-layout style-full-width-layout").addClass("style-"+m.websiteLayout);$("#global-styles").replaceWith(n)})});return{getAvailableFontNames:function(){return $.unique($.merge(GlobalStyling.getCustomFontNames(Website.globalStyling),$.merge(GlobalStyling.getFontNames(Website.globalStyling),Tools.TEXT_EDITOR_FONTS)))},getFonts:function(m){var n=m||[];var l=[];n.forEach(function(o){l.push(o.fontString)});return l},getFontNames:function(l){return GlobalStyling.getFonts(l.fonts)},getCustomFontNames:function(l){return GlobalStyling.getFonts(l.customFonts)},getColorFromClass:function(m,l){if(m){return Website.globalStyling.colors[m]||l}return l},getGlobalColorClassFromColor:function(n){var m=["primary","secondary1","secondary2","secondary3","secondary4"];for(var l=0;l<m.length;++l){var o=m[l];var p=Website.globalStyling.colors[o];if(p.toLowerCase()===n.toLowerCase()){return o}if(p.startsWith("#")&&n.startsWith("rgba(")&&n.endsWith(", 1)")&&Tools.rgbaToHexNoAlpha(n).toLowerCase()===p.toLowerCase()){return o}}return""},setColorOrClassToElement:function(p,l,m,n){var o=n==="border"?"border-color-":(n==="bg"||n==="background")?"bg-color-":n==="fill"?"fill-color-":"color-";var q=n==="border"?"border-color":(n==="bg"||n==="background")?"background-color":n==="fill"?"fill":"color";p.removeClass(o+"primary "+o+"secondary1 "+o+"secondary2 "+o+"secondary3 "+o+"secondary4");if(m){p.css(q,"").addClass(o+m)}else{p.css(q,l)}},enableFonts:d,edit:g}})();window.Website=window.Website||{};Website.settingsUI=(function(){var g;var d=function(o){g.data("modified",o?"yes":"no")};var i=function(q,p,r){var o=p<0;if(o){field={name:"",description:"",tag:"new-tag",value:""}}else{field=$.extend({},q[p])}var s=[];if(!o){s.push(Button(M.DELETE,Button.CLASS_MIDDLE_GREY,function(t,u){Tools.prompt(M.DELETE,M.DEL_CONFIRM,function(){q.splice(p,1);r();t.close()})},Button.FLOAT_LEFT))}s.push(Button(M.SAVE,Button.CLASS_MIDDLE_BLUE,function(t,u){if(field.name.trim()===""){Tools.showError(M.ERR_EMPTY_NAME);return}if(p<0){q.push(field)}else{q[p]=field}r();t.close()}));s.push(Button.MIDDLE_CANCEL);Tools.showWindow({isModal:true,width:400,title:o?M.NEW_PERSONALIZATION_TAG:M.EDIT_PERSONALIZATION_TAG,markup:Templates.get("websiteSettingsEditPersTagTemplate"),buttons:s,action:{onShow:function(u,v){var t=v.find('[data-role="tag"]');t.text("{"+field.tag+"}");u.bindObject("data",field,[{property:"name",onChange:function(){if(o){field.tag=Tools.urlFromString(field.name.trim().toLowerCase(),true,true,"_");t.text("{"+field.tag+"}")}}},{property:"description"}])}}})};var a=function(q,p,r){var o=p<0;if(o){field={from:"",to:"",regex:false,type:"301"}}else{field=$.extend({type:"301"},q[p])}var s=[Button(M.SAVE,Button.CLASS_MIDDLE_BLUE,function(t,u){if(field.from.trim()===""||field.to.trim()===""){Tools.showError(M.ERR_FILL_ALL_FIELDS);return}if(p<0){q.push(field)}else{q[p]=field}if(!field.regex){if(!field.from.startsWith("/")){field.from="/"+field.from}if(!field.to.startsWith("/")&&!field.to.toLowerCase().startsWith("http://")&&!field.to.toLowerCase().startsWith("https://")){field.to="/"+field.to}}r();t.close()}),Button.MIDDLE_CANCEL];Tools.showWindow({isModal:true,width:400,title:o?M.REDIRECT_POPUP_NEW:M.REDIRECT_POPUP_EDIT,markup:Templates.get("websiteSettingsEdit301RedirectTemplate"),buttons:s,action:{onShow:function(t,u){t.bindObject("data",field,[{property:"from"},{property:"to"},{property:"regex",type:"bool"},{property:"type"}])}}})};var j=function(o){Tools.makeWebsiteRequest({action:"setRedirectRules",method:"post",data:{rules:JSON.stringify(o)},onOk:function(){Website.redirectRules=o}})};var b=function(p){p.append(Templates.get("websiteSettings301RedirectTemplate"));var o=Tools.cloneArray(Website.redirectRules);p.on("click.301redirects",'a[data-role="new-redirect"]',function(){a(o,-1,function(){r();j(o)})});p.on("click.301redirects",".more-options",function(v){var u=$(v.target);var s=$(this).closest('[data-role="rule-field"]').index();var t=[{text:M.EDIT,icon:"fa-pencil",tag:"edit"},{text:M.DELETE_TITLE,icon:"fa-trash",tag:"delete"}];Tools.showTooltipOptions(u,t,function(y,x,z,w){if(w==="edit"){a(o,s,function(){r();j(o)});return}else{if(w==="delete"){Tools.prompt(M.DELETE,M.DEL_CONFIRM,function(){o.splice(s,1);r();j(o)})}}})});var q=p.find('[data-role="rule-fields"]');var r=function(){q.empty();var s=Templates.get("websiteSettings301RedirectFieldTemplate");o.forEach(function(t){q.append(escapeFormat(s,"from",t.from,"to",t.to))});if(q.is(":empty")){q.text(M.REDIRECT_LIST_EMPTY)}};r();return{close:function(s){p.off(".301redirects");s()}}};var h=function(p){p.append(Templates.get("websiteSettingsPersonalizationTemplate"));var o=Tools.cloneArray(Website.personalizationFields);p.on("click.personalization",'a[role="add-property"]',function(){i(o,-1,function(){d(true);r()})});var q=p.find('[data-role="fields"]');var r=function(){q.empty();var s=Templates.get("websiteSettingsPersonalizationFieldTemplate");o.forEach(function(t){q.append(escapeFormat(s,"name",t.name,"tag",t.tag,"value",t.value||"","placeholder",t.description||""))})};q.on("change.personalization","input",function(s){var t=$(this).closest('[data-role="field"]');o[t.index()].value=this.value;d(true)});p.on("click.personalization",'a[data-role="copy"]',function(t){var s=$(this);var u=s.data("val");if(!u){u="{"+o[s.closest('[data-role="field"]').index()].tag+"}"}Tools.copyToClipboard(u);Tools.showCornerMessage(1000,M.COPIED_TO_CLIPBOARD,Tools.TOOLTIP_TYPE_SUCCESS)});q.on("click.personalization",'a[data-role="edit"]',function(t){var s=$(this).closest('[data-role="field"]').index();i(o,s,function(){d(true);r()})});r();return{close:function(s){p.off(".personalization");s()},save:function(s){Tools.makeWebsiteRequest({action:"setPersonalizationFields",method:"post",data:{fields:JSON.stringify(o)},onOk:function(){Website.personalizationFields=o;s()}})}}};var k=function(r){var s=$.extend({},WebsiteSettings.getSettings());var t=null;if(Website.getActiveSite().type==="FUNNEL"){t=$.extend({},Website.getActiveFunnel().settings||{})}r.append(Templates.get("websiteSettingsGeneralTemplate"));var p={websiteTitle:Website.websiteTitle};if(Website.getActiveSite().type==="FUNNEL"){r.find('[data-role="funnel-settings"]').removeClass("none");r.find('[name="hideProductLinks"]').prop("checked",!!t.hideProductLinks).change(function(){t.hideProductLinks=$(this).prop("checked")});r.find('[name="showCheckoutButton"]').prop("checked",!!t.showCheckoutButton).change(function(){t.showCheckoutButton=$(this).prop("checked");r.find("#checkoutButtonTargetWrapper")[t.showCheckoutButton?"slideDown":"slideUp"]("fast")});r.find("#checkoutButtonTargetWrapper")[t.showCheckoutButton?"show":"hide"]();var u=r.find('[name="checkoutButtonTarget"]');u.click(function(){var y=$(this);Website.selectPage({allowEmptyCaption:true,allowFunnelStepPicking:true,activeFunnel:Website.getActiveFunnel(),activeFunnelStep:Website.getActiveFunnelStep(),selected:{link:s.checkoutButtonTarget},onSelect:function(z){y.val(LinkPicker.getLinkDisplayText(z.link));t.checkoutButtonTarget=z.link}})}).val(LinkPicker.getLinkDisplayText(t.checkoutButtonTarget)||M.NEXT_FUNNEL_STEP)}var q=Tools.bind(p,[{property:"websiteTitle"}],function(){d(true)},r);r.on("click.generalSettings",".add-image",function(){var y=$(this);FileManager.selectFile({onCompleteCallback:function(A,B){y.find(".add-button").removeClass("add-button").addClass("remove-button");y.css({backgroundImage:"url("+getThumbnailsFromBase(A,"160x120")+B+")"});var z=y.data("name");s[z]=getFileFromBase(A,false)+B}})});r.on("click.generalSettings",".remove-button",function(A){A.stopPropagation();A.preventDefault();var z=$(this).closest(".add-image");z.css({backgroundImage:"url("+resources+"/images/image-avatar.png)"});var y=z.data("name");s[y]="";z.find(".remove-button").removeClass("remove-button").addClass("add-button")});var v=["favicon","shareImage"];for(var w=0;w<v.length;++w){var x=v[w];var q=r.find('[data-name="'+x+'"]');if(s[x]){var o=content+convertBaseToTemplateUrl(s[x],"160x120");q.css({backgroundImage:"url("+o+")"});q.find(".add-button").removeClass("add-button").addClass("remove-button")}}return{close:function(y){q.unbind();r.off(".generalSettings");y()},save:function(y){WebsiteSettings.save({websiteTitle:p.websiteTitle,favicon:s.favicon||"",shareImage:s.shareImage||"",funnelSettings:t},function(){WebsiteSettings.set(s);Website.websiteTitle=p.websiteTitle;Website.getActiveSite().name=Website.websiteTitle;if(Website.getActiveSite().type==="FUNNEL"){Website.getActiveFunnel().settings=t}y()})}}};var n=function(s,q){q=q||{};var p=q.funnel||null;var t=Website.getActiveSite();var r=p&&p.id>0;var u=function(A,v,z,B,x,w){var y=$(format(Templates.get("websiteSettingsDomainRowTemplate"),"domain",z,"primary",w?"primary-domain":"","type",x?M.DOMAIN_TYPE_FUNNEL:"","typeClass",x?"funnel":(B?"external":"system"),"rootDomain",window.domain,"ip",window.aRecord||"52.2.101.114"));A[v?"prepend":"append"](y);return y};var o=function(v,w){primaryDomain=w;s.find(".primary-domain").removeClass("primary-domain");v.addClass("primary-domain")};CPanel.showLoadingBar("domains-loader",s,function(){s.append(Templates.get("websiteSettingsDomainsTemplate"));var x=s.find(".connect-domain-section");var v=s.find(".new-domain-section");if(r){s.find('[data-role="title"]').remove()}var w=s.find('[data-role="custom-domain"]');Tools.makeWebsiteRequest({action:"getWebsiteDomainsInfo",data:{funnelId:p?p.id:-1},onOk:function(B){var D=B.data;var A=D.external||[];var z=D.system;for(var y=0;y<A.length;++y){u(w,false,A[y].host,true,A[y].funnelDomain,A[y].host===primaryDomain)}u(s.find('[data-role="system-domain"]'),false,z,false,false,z===primaryDomain);if(D.canAddDomain){var C=function(){v.slideToggle("fast");x.slideToggle("fast")};s.on("click.domainSettings",'a[data-role="toggle-new"]',C);s.on("click.domainSettings",'a[data-role="connect"]',function(){var E=s.find('input[name="new-domain"]').val().toLowerCase();UITools.connectThirdPartyDomain(E,p?p.id:null,function(G){C();var F=u(w,true,G,true,false,false);o(F,G);UITools.showDomainInformation(G,F);if(q.domainConnected){q.domainConnected(G)}if(r){x.hide()}})})}else{x.hide();s.find(".no-domain-section").show()}if(r&&A.length){x.hide()}s.on("click.domainSettings",'a[data-action="upgrade"]',function(){if(q.rootPopup){q.rootPopup.close()}CPanel.goToUrl("/me/settings/billing")});CPanel.hideLoadingBar("domains-loader")}});s.on("click.domainSettings",'a[data-action="changeSubdomain"]',function(){var y=$(event.target).closest(".new-subdomain-wrapper").find('input[name="custom-subdomain"]').val().trim().toLowerCase();if(y!==""&&y!==window.subdomain){Tools.prompt(M.DEL_CONFIRM,M.CHANGE_SYSTEM_DOMAIN_CONFIRM,function(){Tools.makeWebsiteRequest({action:"changeSubdomain",data:{subdomain:y},onOk:function(){CPanel.redirect("https://"+y+"."+window.domain+"/me/website")}})})}});s.on("click.domainSettings",".domain-settings",function(){var A=$(this);var D=A.closest(".domain-item");var C=D.hasClass("primary-domain");var z=D.hasClass("system");var E=D.hasClass("funnel");var B=D.data("domain");var y=[];if(!r&&!C&&!E){y.push({text:M.MAKE_PRIMARY_DOMAIN,icon:"fa-star",tag:"make-primary",tooltip:"make_primary_domain"})}if(z){if(r){y.push({text:M.CHANGE_FUNNEL_URL_TITLE,icon:"fa-font",tag:"change-funnel-url",tooltip:"editSystemSubdomain"})}else{y.push({text:M.CHANGE_SYSTEM_SUBDOMAIN,icon:"fa-font",tag:"change-subdomain",tooltip:"editSystemSubdomain"})}}else{y.push({text:M.TOGGLE_DNS,icon:"fa-list",tag:"show-settings",tooltip:"edit_domain"});y.push({text:M.DISCONNECT_DOMAIN,icon:"fa-unlink",tag:"disconnect",tooltip:"unlink_domain"})}Tools.showTooltipOptions(A,y,function(H,G,I,F){switch(F){case"change-funnel-url":(q.changeFunnelUrl||dummy)(D);break;case"make-primary":if(q.funnel){return}Tools.makeWebsiteRequest({action:"makeWebsiteDomainPrimary",data:{domain:B},onOk:function(J){o(D,B)}});break;case"change-subdomain":if(q.funnel){return}D.find(".new-subdomain-wrapper").slideToggle("fast");break;case"show-settings":UITools.showDomainInformation(B,D);break;case"disconnect":Tools.prompt("",M.DELETE_DOMAIN_CONFIRM,function(){Tools.makeWebsiteRequest({action:"unlinkWebsiteDomain",data:{domain:B},onOk:function(J){if(primaryDomain===B){o(s.find(".system"),userDomain)}else{Website.funnels.forEach(function(K){if(K.host===B){K.host=null}})}D.remove();x.show();v.hide();(q.domainDisconnected||dummy)()}})});break}})})},true);return{close:function(v){s.off(".domainSettings");v()}}};var l=function(q){var r=$.extend({},WebsiteSettings.getSettings());q.append(Templates.get("websiteSettingsLanguageTemplate"));var o={rtl:r.rtl||"",websiteLanguage:r.websiteLanguage,dateFormat:r.dateFormat,websiteTimezone:Website.websiteTimezone};var p=Website.websiteTimezoneName;var s=q.find('select[name="websiteLanguage"]');if(platformId===8){s.find('options[value="da"]').prop("value","da_JK")}q.find('input[name="rtl"]').change(function(){o.rtl=this.checked?"rtl":""}).prop("checked",o.rtl==="rtl");var u=q.find(".websiteTimezone");u.text(p).click(function(){var v=$(this);Tools.makeWebsiteRequest({action:"listTimezones",onOk:function(y){var x=$('<select class="mt-15"></select>');var z="";for(var w=0;w<y.data.length;++w){var A=y.data[w];z+='<option value="'+A.id+'">'+A.name+"</option>"}x.append(z);x.change(function(){var B=x.find("option:selected");o.websiteTimezone=B.attr("value");p=B.text();v.text(p);x.remove();v.removeClass("none");x=null});x.val(o.websiteTimezone);v.addClass("none").after(x)}})});var t=Tools.bind(o,[{property:"websiteLanguage"},{property:"dateFormat"}],function(){d(true)},q);return{close:function(v){t.unbind();v()},save:function(v){WebsiteSettings.save(o,function(){r.websiteLanguage=o.websiteLanguage;r.dateFormat=o.dateFormat;r.rtl=o.rtl||"";Website.websiteTimezone=o.websiteTimezone;Website.websiteTimezoneName=p;WebsiteSettings.set(r);if(r.rtl==="rtl"){$(".theme").removeClass("direction-ltr").addClass("direction-rtl")}else{$(".theme").removeClass("direction-rtl").addClass("direction-ltr")}v()})}}};var e=function(o){var p=$.extend({},WebsiteSettings.getSettings());o.append(Templates.get("websiteSettingsCookiesTemplate"));var r=$("#cookiesDisclaimerTextWrapper");p.showCookiesDisclaimer=p.showCookiesDisclaimer&&p.showCookiesDisclaimer==="1";if(p.showCookiesDisclaimer){r.removeClass("none-soft")}p.cookieInfoBtnText=p.cookieInfoBtnText||"Learn More";p.cookieAcceptBtnText=p.cookieAcceptBtnText||M.ACCEPT;var s=Tools.bind(p,[{property:"showCookiesDisclaimer",type:"bool",onChange:function(){r[p.showCookiesDisclaimer?"slideDown":"slideUp"]("fast")}},{property:"cookiesDisclaimerText",parseOptions:{sanitizeStrings:false}},{property:"cookieInfoBtnText"},{property:"cookieAcceptBtnText"}],function(){d(true)},o);var q=o.find(".select-like");q.click(function(){var t=$(this);Website.selectPage({allowEmptyCaption:true,allowFunnelStepPicking:false,selected:{link:p.cookieInfoBtnLink},onSelect:function(u){t.val(LinkPicker.getLinkDisplayText(u.link));p.cookieInfoBtnLink=u.link;d(true)}})}).val(LinkPicker.getLinkDisplayText(p.cookieInfoBtnLink));return{close:function(t){s.unbind();t()},save:function(t){p.cookiesDisclaimerText=Tools.sanitizeUserCode(p.cookiesDisclaimerText.trim());if(!p.cookiesDisclaimerText){p.cookiesDisclaimerText=M.DEFAULT_COOKIE_DISCLAIMER}WebsiteSettings.save({showCookiesDisclaimer:p.showCookiesDisclaimer,cookiesDisclaimerText:p.cookiesDisclaimerText,cookieInfoBtnText:p.cookieInfoBtnText,cookieAcceptBtnText:p.cookieAcceptBtnText,cookieInfoBtnLink:p.cookieInfoBtnLink},function(){p.showCookiesDisclaimer=p.showCookiesDisclaimer?"1":"0";WebsiteSettings.set(p);t()})}}};var m=function(){var q=$.extend({},WebsiteSettings.getSettings());var o=false;var p=(q.customScript||"").trim();if(p.replace(/\n/ig,"").trim()!==""){q.googleAnalytics=(q.googleAnalytics||"")+'\n\n<script type="text/javascript">\n'+p+"\n<\/script>";o=true;q.customScript=""}var s=["customHeaderCode","customCSS","googleAnalytics"];var r=["css","headMarkup","bodyMarkup"];Tools.showInlinePopup({isModal:false,width:1110,customClass:"code-settings-window",markup:Templates.get("codeSettingsMarkup"),action:{onShow:function(u,v){var w={};for(var t=0;t<s.length;++t){v.find('textarea[data-option="'+s[t]+'"]').val(q[s[t]])}if(Hooks.active.hook.activePage.name==="websitePage"){if(Hooks.active.hook.activePage.isEditingPage()){Tools.makeWebsiteRequest({action:"getPageMeta",data:{url:Hooks.active.hook.activePage.getClientPageUrl()},onOk:function(y){v.find("#pageCodeLinks").removeClass("none");var z=(y.data||{}).markup||{};for(var x=0;x<r.length;++x){v.find('textarea[data-option="'+r[x]+'"]').val(z[r[x]]||"")}}})}}v.on("click",".popup-tab-trigger",function(){var y=$(this);var x=y.closest("li");if(x.hasClass("active")){return}v.find(".global-nav .active").removeClass("active");x.addClass("active");var z=y.data("show")||"";if(z){v.find(".popup-tab-content:not(.none)").addClass("none");var A=v.find('.popup-tab-content[data-tab="'+z+'"]').removeClass("none");if(!w[z]){w[z]=Tools.highlight(A.find("textarea"),{mode:A.data("type"),theme:"dark",onChange:function(B){B.getTextArea().value=B.getValue();v.data("modified","yes")}})}}});v.find(".popup-tab-trigger").eq(0).click()},onBeforeHide:function(t,u){if(u.data("modified")==="yes"){CPanel.showUnsavedChangesPrompt(function(){u.data("modified","no");t.close()},dummy);return false}}},buttons:[Button(M.SAVE,Button.CLASS_MIDDLE_BLUE,function(t,u){u.data("modified","no");var w=[];var y=1;var x=function(){--y;if(y===0){t.close()}};var A=null;for(var B=0;B<s.length;++B){var C=s[B];var v=u.find('[data-option="'+C+'"]').val().trim();if(q[C]!==v){if(C==="customCSS"){if(v.indexOf("<style")>-1){v=v.replace(/<style[^>]*>/ig,"").replace(/<\/style>/ig,"").trim()}}v=Tools.sanitizeUserCode(v);A=A||{};A[C]=q[C]=v;w.push(v)}}if(o){A=A||{};A.customScript=""}if(Hooks.active.hook.activePage.name==="websitePage"){if(Hooks.active.hook.activePage.isEditingPage()){var z=false;var D={};for(var B=0;B<r.length;++B){var v=u.find('textarea[data-option="'+r[B]+'"]').val();if(D[r[B]]!==v){v=Tools.sanitizeUserCode(v);z=true;D[r[B]]=v;w.push(v)}}if(z){++y;Website.updatePageMeta(Hooks.active.hook.activePage.getClientPageUrl(),"markup",D,x)}}}if(A){++y;WebsiteSettings.save(A,function(){WebsiteSettings.set(q);x()})}Tools.reviewCustomCode(w);x()}),Button.MIDDLE_CANCEL]})};var c=function(r){Website.appsSettings=Website.appsSettings||{};r.append(Templates.get("websiteSettingsAppsTemplate"));var I=function(L,N){var K={};if(N){K=$.extend({},getById(Website.webhooks,N))}mergeUnique(K,{id:"wh_"+WebPlatform.getRandomString(9).toLowerCase(),target:"",secret:WebPlatform.getRandomString(16),events:[]});var J=[Button(M.SAVE,Button.CLASS_MIDDLE_BLUE,function(O,P){K.events=[];K.target=K.target.trim();P.find('input[type="checkbox"]:checked').each(function(){K.events.push($(this).attr("name"))});if(K.events.length===0){Tools.showError("Select the events you're interested in!");return}if(K.target===""){Tools.showError("Enter your destination URL!");return}if(!K.target.toLowerCase().startsWith("http://")&&!K.target.toLowerCase().startsWith("https://")){K.target="http://"+K.target}Tools.makeWebsiteRequest({action:"saveAppsSettings",method:"post",data:{app:"webhook",data:JSON.stringify(K)},onOk:function(Q){Website.webhooks=Q.data;O.close();L()}})},Button.FLOAT_IGNORE),Button.MIDDLE_CANCEL];if(N){J.push(Button(M.DISCONNECT,Button.CLASS_MIDDLE_GREY,function(O,P){O.close();E("webhook",N)},Button.FLOAT_LEFT))}Tools.showWindow({title:M.SETTINGS,width:500,markup:format(Templates.get("webhookSettingsMarkup"),"secret",K.secret),showCloseButton:true,action:{onShow:function(O,P){O.bindObject("data",K,[{property:"target"}]);K.events.forEach(function(Q){P.find('input[name="'+Q+'"]').prop("checked",true)})}},buttons:J})};var w=function(L){var J=Website.appsSettings.speedy||{username:"",password:""};var K=function(N,O){Tools.makeWebsiteRequest({action:"saveAppsSettings",method:"post",data:{app:"speedy",data:JSON.stringify(J)},onOk:function(P){Website.appsSettings.speedy=J;N.close();O()}})};if(F("speedy")){Tools.showWindow({title:"Speedy "+M.SETTINGS,width:550,markup:Templates.get("speedySettingsMarkup"),showCloseButton:true,action:{onShow:function(P,U){var O=WebPlatform.Fulfillment.Speedy();var R=U.find('select[name="speedyOfficeId"]');var S=U.find(".price-input");S.addClass(Website.storeCurrencyPositionAtLeft?"left-sign":"right-sign").find(".symbol-sign").text(Website.storeCurrencySymbol);var W=Templates.get("checkboxTemplate");var X="";J.services.forEach(function(Y){X+=format(W,"id","service-"+Y.id,"title",Y.name,"checked",Y.enabled?"checked":"")});U.find("#servicesWrapper").append(X);var V="",Q=U.find('select[name="senderClientId"]');J.clients.forEach(function(Y){V+=escapeFormat('<option value="%id%">%address%</option>',"id",Y.id,"address",Y.address)});Q.append(V);$("#speedyAddressWrapper")[J.senderType==="address"?"show":"hide"]();$("#speedyOfficeWrapper")[J.senderType==="address"?"hide":"show"]();$("#officeFixedPriceWrapper")[J.officeUseFixedPrice?"show":"hide"]();$("#addressFixedPriceWrapper")[J.addressUseFixedPrice?"show":"hide"]();if(!J.preview){J.test=false}var N=P.bindObject("data",J,[{property:"active",type:"bool"},{property:"senderName"},{property:"senderPhone"},{property:"senderType",onChange:function(){$("#speedyAddressWrapper")[J.senderType==="address"?"slideDown":"slideUp"]("fast");$("#speedyOfficeWrapper")[J.senderType==="address"?"slideUp":"slideDown"]("fast")}},{property:"senderClientId"},{property:"deliveryPayer"},{property:"singleParcel",type:"bool"},{property:"preview",type:"bool",onChange:function(){if(!J.preview){N.setTest(false)}}},{property:"test",type:"bool",onChange:function(){if(J.test){N.setPreview(true)}}},{property:"insurance",type:"bool"},{property:"fragile",type:"bool"},{property:"documents",type:"bool"},{property:"postalOrder",type:"bool"},{property:"returnsPayer"},{property:"address",type:"bool"},{property:"office",type:"bool"},{property:"addressFreeOver",type:"money"},{property:"addressErrorPrice",type:"money"},{property:"officeFreeOver",type:"money"},{property:"officeErrorPrice",type:"money"},{property:"officeFixedPrice",type:"money"},{property:"officeUseFixedPrice",type:"bool",onChange:function(){$("#officeFixedPriceWrapper")[J.officeUseFixedPrice?"slideDown":"slideUp"]("fast")}},{property:"addressFixedPrice",type:"money"},{property:"addressUseFixedPrice",type:"bool",onChange:function(){$("#addressFixedPriceWrapper")[J.addressUseFixedPrice?"slideDown":"slideUp"]("fast")}}]);O.autocompleteCities(J.speedyCity||"",100,U.find('input[name="speedyCity"]'),function(Y){if(Y.id!==J.speedyCityId){J.speedyCity=Y.name;J.speedyCityId=Y.id;J.speedyOfficeId="";O.loadOffices(100,J.speedyCityId,J.speedyOfficeId,R,dummy)}});R.change(function(){J.speedyOfficeId=+this.value});if(J.speedyCityId){O.loadOffices(100,J.speedyCityId,J.speedyOfficeId,R,dummy)}}},buttons:[Button(M.DISCONNECT,Button.CLASS_MIDDLE_GREY,function(N,O){N.close();E("speedy")},Button.FLOAT_LEFT),Button(M.SAVE,Button.CLASS_MIDDLE_BLUE,function(N,P){if(!J.senderPhone){Tools.showError(M.ENTER_SENDER_PHONE);return}if(J.senderType==="address"&&!J.senderClientId){Tools.showError(M.SPEEDY_SELECT_ORIGIN);return}if(J.senderType!=="address"&&!J.speedyOfficeId){Tools.showError(M.SPEEDY_SELECT_ORIGIN);return}if(!J.office&&!J.address){Tools.showError(M.SPEEDY_ACTIVATE_ORIGIN);return}var Q=P.find("#servicesWrapper");var O=false;J.services.forEach(function(R){R.enabled=Q.find('[name="service-'+R.id+'"]').prop("checked");O=O||R.enabled});if(!O){Tools.showError(M.SPEEDY_SELECT_SERVICE);return}K(N,function(){N.close();w(L)})}),Button.MIDDLE_CANCEL]})}else{Tools.showWindow({title:"Speedy Settings",width:500,markup:Templates.get("speedyConnectMarkup"),showCloseButton:true,action:{onShow:function(N,O){}},buttons:[Button(M.LOGIN,Button.CLASS_MIDDLE_BLUE,function(N,P){var Q=P.find('input[name="username"]').val();var O=P.find('input[name="password"]').val();Tools.makeWebsiteRequest({action:"shippingServiceRequest",method:"post",data:{provider:"speedy",type:"connect",username:Q,password:O},onOk:function(R){var V=R.data;var S=[];var U=[];(V.clients||[]).forEach(function(W){S.push({id:W.clientId,address:W.address.fullAddressString,name:W.clientName,phone:W.phones&&W.phones.length?W.phones[0].number:"",privatePerson:W.privatePerson})});S.sort(function(X,W){var X=X.id;var W=W.id;while(X<100000000000000){X*=10}while(W<100000000000000){W*=10}return X-W});(V.services||[]).forEach(function(W){if(W.cargoType==="PARCEL"&&W.additionalServices&&W.additionalServices.cod&&W.additionalServices.cod.allowance==="ALLOWED"){U.push({id:W.id,name:W.name,enabled:true})}});J={username:Q,password:O,services:U,clients:S,active:true,senderName:"",senderPhone:"",senderType:"address",senderClientId:0,speedyCity:"",speedyCityId:"",speedyOfficeId:0,deliveryPayer:"receiver",singleParcel:true,preview:true,test:true,insurance:false,fragile:false,documents:false,postalOrder:false,returnsPayer:"receiver",address:true,office:true,addressFreeOver:null,addressErrorPrice:7,officeFreeOver:null,officeErrorPrice:6};if(S.length){J.senderName=S[0].name||"";J.senderPhone=S[0].phone||"";J.senderClientId=S[0].id;J.privatePerson=S[0].privatePerson}K(N,function(){L();w(L)})}})})]})}};var y=function(L){var J=Website.emailSettings;var K=[Button(M.SAVE_AND_VERIFY,Button.CLASS_MIDDLE_BLUE,function(N,O){Tools.makeWebsiteRequest({action:"saveAppsSettings",method:"post",data:{app:"email",emailSettings:JSON.stringify(J||{})},onOk:function(P){N.close();Tools.showCornerMessage(10000,M.TEST_EMAIL_SETTINGS_EMAIL_SENT,Tools.TOOLTIP_TYPE_WARNING);Website.emailSettings=J;(L||dummy)()}})},Button.FLOAT_IGNORE),Button.MIDDLE_CANCEL];if(F("email")){K.push(Button(M.DISCONNECT,Button.CLASS_MIDDLE_GREY,function(N,O){N.close();E("email")},Button.FLOAT_LEFT))}Tools.showWindow({title:M.EMAIL_SERVER_SETTINGS,width:500,markup:Templates.get("emailSettingsMarkup"),showCloseButton:true,action:{onShow:function(N,O){N.bindObject("data",J,[{property:"host",field:O.find('[name="smtpHost"]'),type:"string"},{property:"port",field:O.find('[name="smtpPort"]'),type:"int"},{property:"user",field:O.find('[name="smtpUser"]'),type:"string"},{property:"pass",field:O.find('[name="smtpPass"]'),type:"string"},{property:"email",field:O.find('[name="emailFrom"]'),type:"text"},{property:"name",field:O.find('[name="fromName"]'),type:"string"}])}},buttons:K})};var B=function(L){var J=Website.appsSettings.mailchimp||{key:""};var K=[Button(M.SAVE_AND_VERIFY,Button.CLASS_MIDDLE_BLUE,function(N,O){J.key=J.key.trim()||"";Tools.makeWebsiteRequest({action:"saveAppsSettings",method:"post",data:{app:"mailchimp",key:J.key||"",enableDoubleOptIn:J.enableDoubleOptIn===true},onOk:function(P){Website.appsSettings.mailchimp=J;N.close();(L||dummy)()}})},Button.FLOAT_IGNORE),Button.MIDDLE_CANCEL];if(F("mailchimp")){K.push(Button(M.DISCONNECT,Button.CLASS_MIDDLE_GREY,function(N,O){N.close();E("mailchimp")},Button.FLOAT_LEFT))}Tools.showWindow({title:M.MAILCHIMP_SETTINGS,width:500,markup:Templates.get("mailchimpSettingsMarkup"),showCloseButton:true,action:{onShow:function(N,O){N.bindObject("data",J,[{property:"key",field:O.find('[name="mailchimpKey"]'),type:"string"},{property:"enableDoubleOptIn",field:O.find('[name="enableDoubleOptIn"]'),type:"bool"}])}},buttons:K})};var z=function(J){if(F("aweber")){E("aweber")}else{Tools.makeWebsiteRequest({action:"getOAuth2AuthorizationUrl",data:{type:"aweber"},onOk:function(K){var L=K.data;window.location.href=L;return}})}};var D=function(J){if(F("keap")){E("keap")}else{Tools.makeWebsiteRequest({action:"getOAuth2AuthorizationUrl",data:{type:"keap"},onOk:function(K){var L=K.data;window.location.href=L;return}})}};var o=function(L){var J=Website.appsSettings.mailerlite||{key:""};var K=[Button(M.SAVE_AND_VERIFY,Button.CLASS_MIDDLE_BLUE,function(N,O){J.key=J.key.trim()||"";Tools.makeWebsiteRequest({action:"saveAppsSettings",method:"post",data:{app:"mailerlite",key:J.key},onOk:function(P){Website.appsSettings.mailerlite=J;N.close();(L||dummy)()}})},Button.FLOAT_IGNORE),Button.MIDDLE_CANCEL];if(F("mailerlite")){K.push(Button(M.DISCONNECT,Button.CLASS_MIDDLE_GREY,function(N,O){N.close();E("mailerlite")},Button.FLOAT_LEFT))}Tools.showWindow({title:M.MAILERLITE_SETTINGS,width:500,markup:Templates.get("mailerliteSettingsMarkup"),showCloseButton:true,action:{onShow:function(N,O){N.bindObject("data",J,[{property:"key",field:O.find('[name="mailerliteKey"]'),type:"string"}])}},buttons:K})};var v=function(L){var J=Website.appsSettings.moosend||{key:""};var K=[Button(M.SAVE_AND_VERIFY,Button.CLASS_MIDDLE_BLUE,function(N,O){J.key=J.key.trim()||"";Tools.makeWebsiteRequest({action:"saveAppsSettings",method:"post",data:{app:"moosend",key:J.key},onOk:function(P){Website.appsSettings.moosend=J;N.close();(L||dummy)()}})},Button.FLOAT_IGNORE),Button.MIDDLE_CANCEL];if(F("moosend")){K.push(Button(M.DISCONNECT,Button.CLASS_MIDDLE_GREY,function(N,O){N.close();E("moosend")},Button.FLOAT_LEFT))}Tools.showWindow({title:M.MOOSEND_SETTINGS,width:500,markup:Templates.get("moosendSettingsMarkup"),showCloseButton:true,action:{onShow:function(N,O){N.bindObject("data",J,[{property:"key",field:O.find('[name="moosendKey"]'),type:"string"}])}},buttons:K})};var A=function(L){var J=Website.appsSettings.getresponse||{key:""};var K=[Button(M.SAVE_AND_VERIFY,Button.CLASS_MIDDLE_BLUE,function(N,O){J.key=J.key.trim()||"";Tools.makeWebsiteRequest({action:"saveAppsSettings",method:"post",data:{app:"getresponse",key:J.key},onOk:function(P){Website.appsSettings.getresponse=J;N.close();(L||dummy)()}})},Button.FLOAT_IGNORE),Button.MIDDLE_CANCEL];if(F("getresponse")){K.push(Button(M.DISCONNECT,Button.CLASS_MIDDLE_GREY,function(N,O){N.close();E("getresponse")},Button.FLOAT_LEFT))}Tools.showWindow({title:M.GETRESPONSE_SETTINGS,width:500,markup:Templates.get("getresponseSettingsMarkup"),showCloseButton:true,action:{onShow:function(N,O){N.bindObject("data",J,[{property:"key",field:O.find('[name="getresponseKey"]'),type:"string"}])}},buttons:K})};var C=function(J){u("activecampaign",J)};var s=function(J){u("mautive",J)};var u=function(N,L){var J=Website.appsSettings[N]||{key:"",host:""};var K=[Button(M.SAVE_AND_VERIFY,Button.CLASS_MIDDLE_BLUE,function(O,P){J.key=J.key.trim()||"";J.host=J.host.trim().split(".")[0]||"";var Q=J.host.split("://");if(Q.length>1){J.host=Q[1]}Tools.makeWebsiteRequest({action:"saveAppsSettings",method:"post",data:{app:N,key:J.key,host:J.host},onOk:function(R){Website.appsSettings[N]=J;O.close();(L||dummy)()}})},Button.FLOAT_IGNORE),Button.MIDDLE_CANCEL];if(F(N)){K.push(Button(M.DISCONNECT,Button.CLASS_MIDDLE_GREY,function(O,P){O.close();E(N)},Button.FLOAT_LEFT))}Tools.showWindow({title:M.SETTINGS,width:500,markup:Templates.get("activecampaignSettingsMarkup"),showCloseButton:true,action:{onShow:function(O,P){O.bindObject("data",J,[{property:"key",field:P.find('[name="activecampaignKey"]'),type:"string"},{property:"host",field:P.find('[name="activecampaignHost"]'),type:"string"}])}},buttons:K})};var G=function(N){var K=Website.appsSettings.fbpixel||{id:""};var L=[Button(M.SAVE_AND_VERIFY,Button.CLASS_MIDDLE_BLUE,function(O,P){var Q=K.id=K.id.trim();if(Q===""||Q.replace(/\d+/,"")!==""){Tools.showError(M.FB_PX_INVALID_ID);return}Tools.makeWebsiteRequest({action:"saveAppsSettings",method:"post",data:{app:"fbpixel",data:JSON.stringify(K)},onOk:function(R){Website.appsSettings.fbpixel=K;O.close();(N||dummy)()}})},Button.FLOAT_IGNORE),Button.MIDDLE_CANCEL];if(F("fbpixel")){L.push(Button(M.DISCONNECT,Button.CLASS_MIDDLE_GREY,function(O,P){O.close();E("fbpixel")},Button.FLOAT_LEFT))}var J=window.customFbPixelHelpUrl||"https://help.web-repository.com/article/show/129032-add-facebook-pixel-to-website-or-funnel";Tools.showWindow({title:"Facebook Pixel",width:500,markup:format(Templates.get("fbPixelSettingsMarkup"),"capiHelpArticle",J),showCloseButton:true,action:{onShow:function(O,Q){var P=Q.find('[data-role="fb-px-token-wrapper"]');P[K.enabled?"removeClass":"addClass"]("none-soft");O.bindObject("data",K,[{property:"id",field:Q.find('[name="fbpixelKey"]'),type:"string"},{property:"enabled",type:"bool",onChange:function(){P[K.enabled?"slideDown":"slideUp"]("fast")}},{property:"token"},{property:"testCode"}])}},buttons:L})};var p=function(L){var J=Website.appsSettings.whatsapp||{number:"",message:"",buttonPosition:"middle-right"};var K=[Button(M.SAVE_AND_VERIFY,Button.CLASS_MIDDLE_BLUE,function(N,O){Tools.makeWebsiteRequest({action:"saveAppsSettings",method:"post",data:{app:"whatsapp",data:JSON.stringify(J)},onOk:function(P){Website.appsSettings.whatsapp=J;N.close();(L||dummy)()}})},Button.FLOAT_IGNORE),Button.MIDDLE_CANCEL];if(F("whatsapp")){K.push(Button(M.DISCONNECT,Button.CLASS_MIDDLE_GREY,function(N,O){N.close();E("whatsapp")},Button.FLOAT_LEFT))}Tools.showWindow({title:M.SETTINGS,width:500,markup:Templates.get("whatsappSettingsMarkup"),showCloseButton:true,action:{onShow:function(N,O){N.bindObject("data",J,[{property:"number",type:"int",allowNegative:false},{property:"message"},{property:"buttonPosition"}])}},buttons:K})};var H=function(L){var J=Website.appsSettings.clientify||{key:"",code:""};var K=[Button(M.SAVE_AND_VERIFY,Button.CLASS_MIDDLE_BLUE,function(N,O){J.key=(J.key||"").trim();$.ajax({type:"GET",url:"https://api.clientify.net/v1/me/tracking-code-js/",dataType:"json",async:false,success:function(P){J.code=(P.tracking_code_js||"").trim();Tools.makeWebsiteRequest({action:"saveAppsSettings",method:"post",data:{app:"clientify",data:JSON.stringify(J)},onOk:function(Q){Website.appsSettings.clientify=J;N.close();(L||dummy)()}})},error:function(R,P,Q){Log.error(Q);Tools.showError("Wrong API Key!")},beforeSend:function(P){P.setRequestHeader("Authorization","Token "+J.key)}})},Button.FLOAT_IGNORE),Button.MIDDLE_CANCEL];if(F("clientify")){K.push(Button(M.DISCONNECT,Button.CLASS_MIDDLE_GREY,function(N,O){N.close();E("clientify")},Button.FLOAT_LEFT))}Tools.showWindow({title:M.SETTINGS,width:500,markup:Templates.get("clientifySettingsMarkup"),showCloseButton:true,action:{onShow:function(N,O){N.bindObject("data",J,[{property:"key"}])}},buttons:K})};var q=[{type:"mailchimp",typeName:"MailChimp",image:resources+"/images/app-mailchimp.png?v="+resourcesVersion,description:M.MAILCHIMP_DESC,edit:B},{type:"mailerlite",typeName:"MailerLite",image:resources+"/images/mailerlite.png?v="+resourcesVersion,description:M.MAILERLITE_DESC,edit:o},{type:"fbpixel",typeName:"Facebook Pixel",image:resources+"/images/app-fbpixel.png?v="+resourcesVersion,description:M.FB_PX_DESCRIPTION,edit:G,connectedAppDescription:(function(){var J=primaryDomain+"/product_feed";var L='<a class="underline f-left" style="word-break: break-all" target="_blank" href="http://'+J+'">'+J+"</a>";var K=format(M.FACEBOOK_PRODUCT_FEED_DESC||"","url",L);return'<span class="f-left connected-app-desc">'+K+"</span>"})()},{type:"getresponse",typeName:"GetResponse",image:resources+"/images/getresponse.png?v="+resourcesVersion,description:M.GETRESPONSE_DESC,edit:A},{type:"activecampaign",typeName:"ActiveCampaign",image:resources+"/images/activecampaign.png?v="+resourcesVersion,description:M.ACTIVECAMPAIGN_APP_DESC,edit:C},{type:"aweber",typeName:"AWeber",image:resources+"/images/aweber-logo.jpg?v="+resourcesVersion,description:M.AWEBER_DESC,edit:z},{type:"moosend",typeName:"Moosend",image:resources+"/images/moosend.svg?v="+resourcesVersion,description:M.MOOSEND_DESC,edit:v},{type:"webhook",typeName:M.WEBHOOK_LABEL,image:resources+"/images/app-webhook.png?v="+resourcesVersion,description:M.WEBHOOK_DESC_LABEL,edit:I},{type:"email",typeName:"Email Server",image:resources+"/images/app-email.png?v="+resourcesVersion,description:M.EMAIL_SERVER_DESC,edit:y}];if(window.inTestEnvironment||window.keapEnabled){q.unshift({type:"keap",typeName:"Keap / Infusionsoft",image:resources+"/images/keap.png?v="+resourcesVersion,description:"Send contacts from your forms, orders and members to Keap / Infusionsoft",edit:D})}if(userLocale==="bg"||window.speedyEnabled){q.push({type:"speedy",typeName:"Speedy",image:resources+"/images/app-speedy.svg?v="+resourcesVersion,description:M.SPEEDY_DESC,edit:w})}if(window.inTestEnvironment||platformId===85||window.whatsAppEnabled){q.push({type:"whatsapp",typeName:"WhatsApp Button",image:resources+"/images/app-whatsapp.png?v="+resourcesVersion,description:"Adds a floating WhatsApp button to your website",edit:p})}if(window.inTestEnvironment||platformId===2474){q.push({type:"clientify",typeName:"Clientify",image:resources+"/images/clientify.png?v="+resourcesVersion,description:"Connect with the Clientify CRM",edit:H})}if(window.mautiveEnabled===true||window.wlActiveCampaignEnabled===true){q.unshift({type:"mautive",typeName:window.wlActiveCampaignName||"Mautive",image:window.wlActiveCampaignImage||(resources+"/images/mautive.png?v="+resourcesVersion),description:M.ACTIVECAMPAIGN_APP_DESC,edit:s})}var x=function(K){for(var J=0;J<q.length;++J){if(q[J].type===K){return q[J]}}};var F=function(J){switch(J){case"email":return Website.emailSettings&&Website.emailSettings.host;case"mailchimp":return Website.appsSettings&&Website.appsSettings.mailchimp&&Website.appsSettings.mailchimp.key;case"whatsapp":return Website.appsSettings&&Website.appsSettings.whatsapp;case"fbpixel":return Website.appsSettings&&Website.appsSettings.fbpixel;case"getresponse":return Website.appsSettings&&Website.appsSettings.getresponse&&Website.appsSettings.getresponse.key;case"activecampaign":return Website.appsSettings&&Website.appsSettings.activecampaign&&Website.appsSettings.activecampaign.key;case"mailerlite":return Website.appsSettings&&Website.appsSettings.mailerlite&&Website.appsSettings.mailerlite.key;case"aweber":return Website.appsSettings&&Website.appsSettings.aweber&&Website.appsSettings.aweber.accountId;case"moosend":return Website.appsSettings&&Website.appsSettings.moosend&&Website.appsSettings.moosend.key;case"clientify":return Website.appsSettings&&Website.appsSettings.clientify&&Website.appsSettings.clientify.key;case"mautive":return Website.appsSettings&&Website.appsSettings.mautive&&Website.appsSettings.mautive.key;case"speedy":return Website.appsSettings&&Website.appsSettings.speedy&&Website.appsSettings.speedy.username;case"keap":return Website.appsSettings&&Website.appsSettings.keap&&Website.appsSettings.keap.accessToken}return false};var E=function(J,K){Tools.prompt(M.DISCONNECT,M.DEL_CONFIRM,function(){Tools.makeWebsiteRequest({action:"disconnectApp",data:{app:J,id:K},onOk:function(N){if(J==="email"){Website.emailSettings=Website.EMPTY_EMAIL_SETTINGS}else{if(J==="mautive"){M.ACTIVECAMPAIGN_SETTINGS="Autoresponder settings";Website.appsSettings.mautive=null}else{if(J==="webhook"){var L=indexOfId(Website.webhooks,K);if(L>=0){Website.webhooks.splice(L,1)}}else{Website.appsSettings[J]=null}}}t()}})})};var t=function(){var L=r.find('[data-role="apps-list"]').empty();var K=Templates.get("connectedAppMarkup");var J="";var N=null;q.forEach(function(P){if(F(P.type)){var O=P.type==="aweber"?M.DISCONNECT:M.SETTINGS;J+=format(K,"type",P.type,"image",P.image,"id","","name",P.typeName,"btnLabel",O,"desc",P.connectedAppDescription||"")}if(P.type==="webhook"){N=P}});if(Website.webhooks&&Website.webhooks.length>0){Website.webhooks.forEach(function(O){if(!O.id.startsWith("rh_")){J+=format(K,"type",N.type,"image",N.image,"id",O.id,"name","Webhook","btnLabel",M.SETTINGS,"desc","")}})}if(J===""){L.append(Templates.get("noConnectedAppsMarkup"))}else{L.append(J)}};r.on("click",'a[data-role="connect"]',function(){Tools.showWindow({isModal:false,title:M.ADD_NEW_APP,width:650,markup:Templates.get("newAppPopup"),action:{onShow:function(K,L){var O=L.find(".app-list");var N=Templates.get("newAppMarkup");var J="";q.forEach(function(P){if(!F(P.type)){J+=format(N,"type",P.type,"image",P.image,"name",P.typeName,"description",P.description)}});if(J===""){O.append(Templates.get("noAppsAvailableMarkup"))}else{O.append(J)}L.on("click",'a[data-role="connect"]',function(){var P=x($(this).data("type"));K.close();if(P){P.edit(function(){t()})}})}}})}).on("click",'a[data-role="settings"]',function(){var J=$(this);var L=J.data("id");var K=x(J.data("type"));if(K){K.edit(function(){t()},L)}}).on("click","a.reveal-button",function(){var J=$(this);if(J.hasClass("revealed")){Tools.copyToClipboard(Website.apiKey);Tools.showCornerMessage(1000,M.COPIED_TO_CLIPBOARD,Tools.TOOLTIP_TYPE_SUCCESS)}else{J.addClass("revealed").text(Website.apiKey)}});t()};var f=function(){var o=Website.getActiveFunnelStep();if(o!==null&&o.type==="PAGE"){return o.page}var p=Hooks.active.hook.activePage.getAdminPageUrl();if(p.indexOf(Website.virtualPagePrefix+"/blog")===0){return Website.getPageById(Website.BLOG_PAGE_ID)}else{if(p.indexOf(Website.virtualPagePrefix+"/portfolio")===0){return Website.getPageById(Website.PORTFOLIO_PAGE_ID)}else{p=p.substr(Website.pagePrefix.length);if(p.indexOf("/")===0){p=p.substr(1)}if(p===""){return Website.getHomepage()}else{return Website.getPageByUrl(p)}}}};return{show:function(o){Tools.showInlinePopup({isModal:false,title:"",noNav:true,noTitle:true,width:850,markup:format(Templates.get("websiteSettingsPopup"),"title",Website.getActiveSite().type==="FUNNEL"?M.FUNNEL_SETTINGS:M.WEBSITE_SETTINGS),action:{onShow:function(p,s){if(!Website.hasPermission(Permission.DOMAIN)){s.find('[data-show="domains"]').parent().remove()}if(!Website.hasAccessToWebsite){s.find('[data-show="301redirects"]').parent().remove()}$("#themeSettingsBtnSmall").addClass("active");g=s;if(!window.dynamicHeader){s.find('a[data-open="headers"]').parent().removeClass("none")}s.on("click","a[data-open]",function(v){var w=$(this).data("open");var u=function(){switch(w){case"code":m();break;case"seo":var B=f();var A=B.link;var z=B.headerType;var y=Website.getActiveFunnel();var x=Website.getActiveFunnelStep();UITools.showPageSettingsDialog({page:B,tab:1,funnelStepId:x===null?0:x.id,funnelId:y===null?0:y.id,onUpdated:function(C){if((C.link!==A||z!==C.headerType)&&C.id>0){var D=contextPath+Website.pagePrefix+"/"+C.link;CPanel.goToUrl(D,true)}},onSetAsHomepage:function(){}});break;case"files":Tools.showTooltipOptions($(v.target),[{text:M.VIEW_ALL_IMAGES,icon:"fa-image",tag:"images"},{text:M.VIEW_ALL_FILES,icon:"fa-file",tag:"files"}],function(E,D,F,C){p.close(function(){FileManager.selectFile({listImagesOnly:C==="images",onCompleteCallback:null})})});break;case"headers":if(!window.dynamicHeader&&LegacyHeader){LegacyHeader.edit()}break}};if(w==="files"){u()}else{p.close(u)}});var t=null;var r=s.find(".web-settings-content");s.on("click",'a[data-role="save"]',function(){if(t){t.save(function(){d(false);Tools.showCornerMessage(800,M.UPDATED)})}});var q=function(u){var w=s.find('a[data-show="'+u+'"]');if(w.parent().hasClass("active")){return}var v=function(){var x=function(){r.empty();w.closest("ul").find(".active").removeClass("active");w.parent().addClass("active");switch(u){case"general":t=k(r);break;case"domains":t=n(r,null);break;case"language":t=l(r);break;case"cookies":t=e(r);break;case"apps":t=c(r);break;case"personalization":t=h(r);break;case"301redirects":t=b(r);break}};if(t&&t.close){t.close(x)}else{x()}};if(s.data("modified")==="yes"){CPanel.showUnsavedChangesPrompt(function(){d(false);v()},dummy)}else{v()}};s.on("click","a[data-show]",function(){q($(this).data("show"))});q(o?o:"general")},onBeforeHide:function(p,q){if(q.data("modified")==="yes"){CPanel.showUnsavedChangesPrompt(function(){d(false);p.close()},dummy);return false}},onHide:function(){g=null;$("#themeSettingsBtnSmall").removeClass("active")}}})},showDomainSettings:n}})();var Project=(function(){var b=function(h){Tools.showInlinePopup({isModal:false,selectedSlide:window.defaultWebsiteSwitcherTab||0,showCloseButton:window.isMobileView,title:"",noNav:true,noTitle:true,width:Math.min(600,$window.width()-60),markup:Templates.get("switchWebsiteContext"),customClass:"website-switch-dialog",action:{onShow:function(i,o){var x=o.find('[data-type="funnels"]');var y=o.find('[data-type="site-funnels"]');var u=o.find('[data-type="websites"]');var s=[];var l=-1;var m=Website.getActiveSite();var n=Website.getActiveFunnel();var p=o.find(".rounded-back-arrow");var v=[];var z=true;var q=Templates.get("switchWebsiteItem");if(!Website.canAddWebsitesToProject){o.find('[data-role="new-website-wrapper"]').remove()}var r=function(){var B=[];v.forEach(function(C){if(C.type==="FUNNEL"||C.funnels>0){B.push(C)}});x.empty();if(B.length===0){x.append(Templates.get("noFunnelsMessage"))}else{B.forEach(function(E){var H=m.id===E.id;if(E.type==="FUNNEL"){var G=E.name.substring(0,1).toUpperCase();var D=E.domain?E.domain:(E.subdomain+"."+Website.rootDomain);var F=D;var C="//"+D+"?preview=__PREVIEW_ONLY";j(x,"funnel",E.id,"",true,H,E.active,G,E.name,F,C,false)}else{var F=E.funnels+" "+(E.funnels===1?M.FUNNEL:M.FUNNELS);j(x,"funnel-folder",E.id,"",false,H,true,null,E.name||M.WEBSITE,F,null,false)}})}};var k=function(){var B=[];v.forEach(function(C){if(C.type!=="FUNNEL"){B.push(C)}});u.empty();if(B.length===0){u.append(Templates.get("noSitesMessage"))}else{B.forEach(function(E){var G=m.id===E.id;var D=E.domain?E.domain:(E.subdomain+"."+Website.rootDomain);var F=D;var C="//"+D;if(!E.active){C+="?preview=__PREVIEW_ONLY"}j(u,"website",E.id,"",true,G,E.active,null,E.name||M.WEBSITE,F,C,false)})}};var t=function(){var B;if(l>0){B=Website.canAddFunnelsToWebsite}else{B=Website.canAddWebsitesToProject||Website.canAddFunnelsToWebsite}o.find('[data-role="new-funnel-wrapper"]')[B?"removeClass":"addClass"]("none")};var j=function(J,K,E,L,F,D,O,H,C,N,B,I){var P=$(q);var G=P.find('div[data-role="logo"]');if(D){P.addClass("active")}if(!O){P.addClass("paused").find(".paused-item-tooltip").data("tooltip",K==="website"?"pausedWebsiteInfo":"pausedFunnelInfo")}if(I){P.addClass("homepage")}P.find('[data-role="name"]').text(C);P.find('[data-role="subtext"]').text(N);P.data("id",E).data("funnelId",L).data("type",K);if(B){P.find(".preview-icon").data("tooltip",K==="website"?"previewWebsite":"previewFunnel").attr("href",B)}if(H){G.text(H)}else{if(K!=="funnel-folder"){G.remove()}}if(!F){P.find(".funnel-controls").remove()}switch(K){case"funnel":P.addClass("funnel-item-view");break;case"site-funnel":P.addClass("folder-item-view");break;case"website":P.addClass("website-view");break;case"funnel-folder":P.addClass("folder-view");break}J.append(P)};var w=function(D,B,C){B=B.slice();B.sort(function(G,F){if(G.active===F.active){return G.id-F.id}return G.active?-1:1});var E=y.find('[data-role="list"]').empty();B.forEach(function(F){var K=m.id===D.id&&n&&n.id===F.id;var J=F.name.substring(0,1).toUpperCase();F.steps=F.steps||[];var I=F.steps.length+" "+(F.steps.length===1?M.STEP:M.STEPS);var G="//"+D.subdomain+"."+Website.rootDomain+"/"+F.url+"?preview=__PREVIEW_ONLY";var H=C&&C.isFunnel&&C.id===F.id;j(E,"site-funnel",D.id,F.id,true,K,F.active,J,F.name,I,G,H)});p.show();s=B;l=D.id};var A=function(B,C){CPanel.checkIfNeedsSave(function(){if(m.id===B.id){i.close(function(){CPanel.goToUrl(C)})}else{CPanel.redirect("https://"+B.subdomain+"."+window.domain+C)}})};o.on("click",".funnel-inner-wrapper",function(F){var H=$(this);var G=$(F.target);if(G.hasClass("preview-icon")){return}var D=Website.getProjectWebsiteById(H.data("id"));if(D===null){return}var E=H.data("type");if(E==="funnel-folder"){x.fadeOut("fast",function(){if(m.id===D.id){w(D,Website.funnels,Website.homePage);y.fadeIn("fast")}else{CPanel.showLoadingBar("siteFunnels",y,function(){Tools.makeWebsiteRequest({action:"listWebsiteFunnels",data:{website:D.id,subdomain:D.subdomain},onOk:function(I){var J=I.data;w(D,J.funnels||[],J.homepage);y.show();CPanel.hideLoadingBar("siteFunnels")}})})}})}else{if(E==="site-funnel"){var B=H.data("funnelId");var C=getById(s,B);if(C!==null&&m.id===D.id){Funnels.showSteps(C)}else{A(D,"/me/website/"+C.url+"/"+C.steps[0].page.link+"?show=steps")}}else{if(D.type==="FUNNEL"){if(m.id===D.id&&n){Funnels.showSteps(n)}else{A(D,"/me/website?show=steps")}}else{A(D,"/me/website")}}}});o.on("click",".back-arrow",function(){p.hide();y.fadeOut("fast",function(){x.fadeIn("fast");s=[];l=-1;t()})});o.on("click",'a[data-role="createNewFunnel"]',function(){Funnels.showNewFunnelPopup(function(C){var B=function(E,D){Website.addNewFunnel(C,l,E,D,function(F,G){var H="/me/website/"+F.url+"/"+F.steps[0].page.link;if(G.id===Website.id){i.close(function(){CPanel.goToUrl(H)})}else{CPanel.redirect("https://"+G.subdomain+"."+Website.rootDomain+H)}})};if(l&&l>0){B(null,null)}else{if(C>0){UITools.showPersonalizationFieldsPopup({websiteTemplateId:0,funnelTemplateId:C,onSkip:B,onConfirm:function(F,E,D){B(F,D)}})}else{B(null,null)}}})});o.on("click",".more-options",function(B){d(B,i,s)});BindingFactory.addListener(Website,"projectWebsites",function(){v=Website.projectWebsites.slice();v.sort(function(C,B){if(C.active===B.active){return C.id-B.id}return C.active?-1:1});r();k();t();if(z&&h===true&&m.type==="WEBSITE"&&Website.funnels.length>0){x.hide();w(m,Website.funnels,Website.homePage);y.show()}z=false})}}})};var c=function(l,i,h,m,j){var k;if(j){k=!m?M.SITE_ACTIVATE_MSG:M.FUNNEL_ACTIVATE_MSG}else{k=!m?M.SITE_DEACTIVATE_MSG:M.FUNNEL_DEACTIVATE_MSG}Tools.prompt(j?M.MAKE_ACTIVE:M.MAKE_INACTIVE,k,function(){Tools.makeWebsiteRequest({action:"changeActiveStatus",data:{subdomain:i.subdomain,funnelId:h,active:j},onOk:function(n){l[j?"removeClass":"addClass"]("paused")}})})};var g=function(h){CPanel.checkIfNeedsSave(function(){var i=[];Website.projectWebsites.forEach(function(j){if(j.type==="WEBSITE"){i.push(j)}});if(i.length===0){Tools.showError(M.NO_WEBSITES_IN_PROJECT);return}UITools.selectFromList({title:M.SELECT_WEBSITE,items:i,getItemId:function(j){return j.id},getItemText:function(j){return j.name?j.name:(j.subdomain+"."+Website.rootDomain)},onSelect:function(j){if(j===null){return}Tools.prompt(M.MOVE_TO_WEBSITE,M.MOVE_TO_WEBSITE_DESC,function(){Tools.makeWebsiteRequest({action:"moveFunnelToWebsite",data:{fromSubdomain:h.subdomain,toSubdomain:j.subdomain},onOk:function(l){var k=l.data;CPanel.redirect("https://"+j.subdomain+"."+Website.rootDomain+Website.pagePrefix+"/"+k.url+"/"+k.steps[0].page.link)}})})}})})};var e=function(i,h){CPanel.checkIfNeedsSave(function(){Tools.prompt(M.MOVE_TO_PROJECT,M.MOVE_TO_PROJECT_DESC,function(){Tools.makeWebsiteRequest({action:"moveWebsiteFunnelToProject",data:{subdomain:i.subdomain,funnel:h},onOk:function(j){CPanel.redirect("https://"+j.data+"."+Website.rootDomain+Website.pagePrefix)}})})})};var a=function(h){Project.pickProject(true,function(i){i=i||{id:-1};CPanel.checkIfNeedsSave(function(){if(i.id===Website.projectId){Tools.showError(M.WEBSITE_IN_PROJECT)}else{Tools.prompt(M.MOVE_TO_PROJECT,M.MOVE_TO_PROJECT_DESCR,function(){Tools.makeWebsiteRequest({action:"moveToProject",data:{projectId:i.id,siteId:h.id},onOk:function(j){CPanel.redirect("https://"+h.subdomain+"."+Website.rootDomain+Website.pagePrefix)}})})}})})};var f=function(i,h){Tools.prompt(M.CLEAR_STATS_TITLE,M.CLEAR_STATS_MESSAGE,function(){Tools.makeWebsiteRequest({action:"clearFunnelStats",data:{subdomain:i.subdomain,funnelId:h},onOk:function(j){Tools.showCornerMessage(1000,M.UPDATED,Tools.TOOLTIP_TYPE_SUCCESS)}})},dummy,M.YES,M.NO)};var d=function(n,h,j){n.stopPropagation();n.preventDefault();var k=$(n.target);var m=k.closest(".funnel-inner-wrapper");var o=m.data("id");var l=m.data("type");if(l==="funnel-folder"){return}var i=[];i.push({text:M.SHOW_SETTINGS,icon:"fa-cog",tag:"settings"});if(!Website.templateFunnel){i.push({text:M.SHARE,icon:"fa-share-alt",tag:"share"});i.push({text:M.DUPLICATE,icon:"fa-clone",tag:"clone"});i.push({text:M.DELETE,icon:"fa-trash",tag:"delete"})}if(l!=="website"){i.push({text:M.CLEAR_STATS,icon:"fa-eraser",tag:"clear-stats"})}if(!Website.templateWebsite&&!Website.templateFunnel){if(m.hasClass("paused")){i.push({text:M.MAKE_ACTIVE,icon:"fa-eye",tag:"make-active"})}else{i.push({text:M.MAKE_INACTIVE,icon:"fa-eye-slash",tag:"make-inactive"})}if(l==="funnel"){i.push({text:M.MOVE_TO_WEBSITE_IN_PROJECT,icon:"fa-arrow-right",tag:"move-inside-website"})}else{if(l==="site-funnel"&&Website.canAddWebsitesToProject){i.push({text:M.MOVE_OUTSIDE,icon:"fa-arrow-right",tag:"move-outside-website"})}}if(l!=="site-funnel"&&Website.currentUserIsProjectOwner){i.push({text:M.MOVE_TO_ANOTHER_PROJECT,icon:"fa-share",tag:"move-to-project"})}}Tools.showTooltipOptions(k,i,function(u,x,y,B){var z=k.closest(".funnel-inner-wrapper");var r=z.data("id");var v=z.data("funnelId");var p=Website.getProjectWebsiteById(r);var q=v||p.type==="FUNNEL";if(p===null){return}if(B==="make-active"||B==="make-inactive"){var s=B==="make-active";c(z,p,v,q,s)}else{if(B==="share"){UITools.showShareWebsiteDialog(r,q?v||1:0)}else{if(B==="move-inside-website"){g(p)}else{if(B==="move-outside-website"){e(p,v)}else{if(B==="move-to-project"){a(p)}else{if(B==="clear-stats"){f(p,v)}else{if(B==="delete"){var t=Website.getActiveSite();var w=!q?M.DELETE_WEBSITE:M.DELETE_FUNNEL_TITLE;var A=!q?M.DELETE_WEBSITE_DESC:M.DELETE_FUNNEL_MESSAGE;Tools.prompt(w,A,function(){Tools.makeWebsiteRequest({action:"deleteProjectItem",data:{subdomain:p.subdomain,funnelId:v},onOk:function(C){z.slideUp("fast",function(){z.remove();z=null});if(v){var D=Website.getActiveFunnel();if(t.id===p.id){Website.removeFunnelById(v);if(D&&D.id===v){CPanel.setChanged(false);CPanel.goToUrl(Website.pagePrefix)}}}else{if(p.id===t.id&&C.data){CPanel.redirect(C.data)}}}})},dummy,M.YES,M.CANCEL,false,"red-popup")}else{if(B==="clone"){var w=q?M.DUPLICATE_FUNNEL_TITLE:M.DUPLICATE_SITE;var A=q?M.DUPLICATE_FUNNEL_MESSAGE:M.DUPLICATE_SITE_DESC;Tools.prompt(w,A,function(){Tools.makeWebsiteRequest({action:"duplicateProjectItem",data:{subdomain:p.subdomain,funnelId:v},onOk:function(C){h.close(function(){CPanel.setChanged(false);if(v){var D=C.data;var E=Website.pagePrefix+"/"+D.url+"/"+D.steps[0].page.link;if(t.id===p.id){Website.funnels.push(D);CPanel.goToUrl(E)}else{CPanel.redirect("https://"+p.subdomain+"."+Website.rootDomain+E)}}else{CPanel.redirect(C.data)}})}})},dummy,M.YES,M.NO)}else{if(B==="settings"){var t=Website.getActiveSite();h.close(function(){if(v){var C=getById(j,v);if(C===null){return}Funnels.showFunnelSettings(p,C)}else{if(t.id===p.id){Website.settingsUI.show()}else{CPanel.redirect("https://"+p.subdomain+"."+Website.rootDomain+Website.pagePrefix+"?show=settings")}}})}}}}}}}}}})};return{showWebsitesDialog:b,pickProject:function(i,h){Project.listProjects(function(j){UITools.selectFromList({title:M.SELECT_PROJECT,items:j,withAddNewOption:!!i,addNewOptionTitle:M.START_PROJECT,onSelect:h})})},listProjects:function(h){Tools.makeWebsiteRequest({action:"getUserProjects",onOk:function(i){(h||dummy)(i.data)}})}}})();var defaultFunnelsExplainerVideo='<iframe style="width: 100%; height: 100%" src="https://www.youtube.com/embed/bi1-L28LIIQ?rel=0&amp;controls=1&amp;showinfo=0&amp;autoplay=1" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>';var defaultFunnelsExplainerVideoRatio=1.93;var Funnels=(function(){var z=function(U){Website.setFunnel(U);return U};var e=function(V,W,ae){var aa=window.userLocale==="da_JK"?"da":window.userLocale;if(window.userLocale==="zh_JO"){aa="zh"}var ab=null;var X=W.find(".content-wrapper");var Y=W.find(".categories-wrapper ul");var af="";for(var ac=0;ac<Website.funnelTemplates.length;++ac){var ad=Website.funnelTemplates[ac];var U=ad.name||{};if(!window.enableAdvancedWidgets&&(U.en||"").trim()==="White Label Growth"){continue}af+='<li data-idx="'+ac+'"><a>'+escapeHtml(U[aa]||U.en||"-")+"</a></li>"}af+='<li><a data-action="empty" class="highlighted-list-item">'+M.EMPTY_FUNNEL+"</a></li>";Y.html(af);var Z=function(an){var ah=Website.funnelTemplates[an].items;X.empty();for(var ag=0;ag<ah.length;++ag){var ai=ah[ag];var ak=ai.settings||{};var aj=(ak.name||{});aj=aj[aa]||aj.en||"";var am=ak.shortDescription||{};am=am[aa]||am.en||"";var al=$(format(Templates.get("funnelLibraryItemMarkup"),"id",ai.id,"thumb",ai.image,"name",aj,"shortDesc",am));al.data("funnel",ai);al.appendTo(X)}Y.find(".active").removeClass("active");Y.find("li").eq(an).addClass("active");var aj=Website.funnelTemplates[an].name;ab=escapeHtml(aj[aa]||aj.en||"-")};Y.on("click","a",function(){var ah=$(this);var ag=ah.closest("li");if(ag.hasClass("active")){return}var ai=ah.data("action");if(ai==="empty"){ae(-1);V.close();return}Z(ag.data("idx"))});if(Website.funnelTemplates.length){Z(0)}};var k=function(U){Tools.showWindow({isModal:false,width:$window.width()*0.9,height:"90%",customClass:"funnels-popup",markup:Templates.get("funnelsLibraryPopupMarkup"),noNav:true,noTitle:true,withDarkBackground:true,action:{onShow:function(V,W){if(Website.funnelTemplates){e(V,W,U)}else{Tools.makeWebsiteRequest({action:"getFunnelTemplates",onOk:function(X){Website.funnelTemplates=X.data;e(V,W,U)}})}W.on("click",'[data-action="select"]',function(){var X=$(this).closest(".page-wrapper").data("funnel")||{};V.close();U(X.id)});W.on("click",'[data-action="preview"]',function(){var Y=$(this).closest(".page-wrapper").data("funnel")||{};var X=$("#previewButtonSmall");Tools.showFunnelPreviewPopup({funnel:Y,buttonText:M.ADD_FUNNEL,onButtonAction:function(){V.close();U(Y.id)},onShow:function(){X.addClass("active")},onHide:function(){X.removeClass("active");X=null}})})}}})};var I=function(U,W,V,X,Y){X=X||{};Tools.makeWebsiteRequest({action:"updateFunnelSettings",method:"post",data:{id:U.id,name:W,url:V,settings:JSON.stringify(X)},onOk:function(Z){U.name=W;U.url=V;U.settings=X;(Y||dummy)()}})};var w=function(Y,V,U){var X=$.extend({},V.settings||{});var W=["customHeaderCode","customCSS","customBodyCode"];Tools.showWindow({isModal:true,noTitle:true,noNav:true,width:900,height:"85%",customClass:"code-settings-window funnel-settings",markup:Templates.get("funnelSettingsMarkup"),action:{onShow:function(ab,ac){if(Website.hasPermission(Permission.DOMAIN)){var ad=ac.find('[data-tab="domain"]').empty();Website.settingsUI.showDomainSettings(ad,{funnel:V,rootPopup:Y,changeFunnelUrl:function(an){var am=V.url;var al=Website.getActiveFunnel();var ak=Website.getActiveFunnelStep();Tools.promptForInput(M.CHANGE_FUNNEL_URL_TITLE,M.CHANGE_FUNNEL_URL_MESSAGE,V.url,function(ao,ap){ao=Tools.urlFromString(ao);I(V,V.name,ao,V.settings,function(){an.find(".funnel-system-url").text((customDomain?customDomain:userDomain)+"/"+V.url);ap.close();ab.close(function(){Y.close(function(){if(am!==V.url){if(al&&al.id===V.id){var aq=ak.type==="PAGE"?ak.page.link:al.steps[0].page.link;CPanel.goToUrl(Website.pagePrefix+"/"+V.url+"/"+aq+"/a?show=steps",true)}}})})});return false})},domainConnected:function(ak){V.host=ak},domainDisconnected:function(){V.host=null},upgradePlan:function(){Y.close()}})}else{ac.find('a[data-show="domain"]').parent().remove()}var af=ac.find('[data-role="makeHomepage"]');if(Website.isHomepage(V.id,true)){af.remove()}else{af.click(function(){var ak=$(this);Tools.prompt(M.SET_AS_HOMEPAGE,M.SET_AS_HOMEPAGE_CONFIRM,function(){Website.setHomepage(V,true,function(){ak.fadeOut("fast",function(){ak.remove()})})})})}ac.find('[name="funnelName"]').val(V.name);ac.find('[name="useGlobalCode"]').prop("checked",X.useGlobalCode!==false).change(function(){X.useGlobalCode=$(this).prop("checked")});ac.find('[name="showCheckoutButton"]').prop("checked",!!X.showCheckoutButton).change(function(){X.showCheckoutButton=$(this).prop("checked");ac.find("#checkoutButtonTargetWrapper")[X.showCheckoutButton?"slideDown":"slideUp"]("fast")});ac.find("#checkoutButtonTargetWrapper")[X.showCheckoutButton?"show":"hide"]();var ae=ac.find('[name="checkoutButtonTarget"]');ae.click(function(){var ak=$(this);Website.selectPage({allowEmptyCaption:true,allowFunnelStepPicking:true,activeFunnel:V,activeFunnelStep:V.steps[0],selected:{link:X.checkoutButtonTarget},onSelect:function(al){ak.val(LinkPicker.getLinkDisplayText(al.link));X.checkoutButtonTarget=al.link}})}).val(LinkPicker.getLinkDisplayText(X.checkoutButtonTarget)||M.NEXT_FUNNEL_STEP);ac.find('[name="hideProductLinks"]').prop("checked",!!X.hideProductLinks).change(function(){X.hideProductLinks=$(this).prop("checked")});var aj=["favicon","shareImage"];for(var ah=0;ah<aj.length;++ah){var ai=aj[ah];if(X[ai]){var Z=content+convertBaseToTemplateUrl(X[ai],"160x120");var aa=ac.find('[name="'+ai+'"]').val(X[ai]).prev().css({backgroundImage:"url("+Z+")"});aa.find(".add-button").removeClass("add-button").addClass("remove-button")}}ac.on("click",".add-image",function(){var ak=$(this);FileManager.selectFile({onCompleteCallback:function(al,am){ak.find(".add-button").removeClass("add-button").addClass("remove-button");ak.css({backgroundImage:"url("+getThumbnailsFromBase(al,"160x120")+am+")"});ak.next().val(getFileFromBase(al,false)+am)}})});ac.on("click",".remove-button",function(al){al.stopPropagation();al.preventDefault();var ak=$(this).closest(".add-image");ak.css({backgroundImage:"url("+resources+"/images/image-avatar.png)"});ak.next().val("");ak.find(".remove-button").removeClass("remove-button").addClass("add-button")});var ag={};for(var ah=0;ah<W.length;++ah){ac.find('textarea[data-option="'+W[ah]+'"]').val(V.settings[W[ah]]||"")}ac.on("click",".popup-tab-trigger",function(an){var al=$(this);var ak=al.closest("li");if(ak.hasClass("active")){return}ac.find(".global-nav .active").removeClass("active");ak.addClass("active");var am=al.data("show")||"";if(am){ac.find(".popup-tab-content:not(.none)").addClass("none");var ao=ac.find('.popup-tab-content[data-tab="'+am+'"]').removeClass("none");if(!ag[am]&&ao.data("type")){ag[am]=Tools.highlight(ao.find("textarea"),{mode:ao.data("type"),theme:"dark",onChange:function(ap){ap.getTextArea().value=ap.getValue();ac.data("modified","yes")}})}}});ac.find(".popup-tab-trigger").eq(0).click()},onBeforeHide:function(Z,aa){if(aa.data("modified")==="yes"){CPanel.showUnsavedChangesPrompt(function(){aa.data("modified","no");Z.close()},dummy);return false}},onHide:function(Z,aa){WebPlatform.delay(10,U||dummy)}},buttons:[Button(M.SAVE,Button.CLASS_MIDDLE_BLUE,function(aa,ac){var ab=ac.find('[name="funnelName"]').val();for(var Z=0;Z<W.length;++Z){var ad=ac.find('[data-option="'+W[Z]+'"]').val();X[W[Z]]=ad}X.favicon=ac.find('[name="favicon"]').val();X.shareImage=ac.find('[name="shareImage"]').val();I(V,ab,V.url,X,function(){ac.data("modified","no");aa.close()})}),Button.MIDDLE_CANCEL]})};var O=function(V,X){var Y=0,U=0,W=0;X.variants.forEach(function(Z){var aa=V[Z.id]||{};Y+=(aa.sessions||0);U+=(aa.conversions||0);W+=(aa.conversionValue||0)});return{sessions:Y,conversions:U,conversionValue:W}};var h=function(V,Y){V=V||[];Y=Y||[];if(V.length!==Y.length){return true}if(Y.length===0){return true}for(var U=0;U<V.length;++U){var W=V[U];var X=Y[U];if(W.location!==X.location||W.label!==X.label){return true}}return false};var u=function(W,V,X){V.settings=V.settings||{};var Y=V.settings.grouping||[];var U=[];W.find(".grouping-row").each(function(Z,ab){ab=$(ab);var aa=ab.data("label");var Z=$(this).index();U.push({location:Z,label:aa})});V.settings.grouping=U;if(h(Y,U)){I(V,V.name,V.url,V.settings);(X||dummy)()}else{(X||dummy)()}};var G=function(Y,V){var X=Y.find("#funnelStepsList");var W=function(){WebPlatform.delay(50,function(){var aa=[];X.find(".funnel-step-wrapper").each(function(){var ab=$(this);if(!ab.hasClass("grouping-row")){aa.push(ab.data("id"))}});u(X,V);Tools.makeWebsiteRequest({action:"reorderFunnelSteps",data:{funnelId:V.id,newOrder:JSON.stringify(aa)},onOk:function(ab){V=z(ab.data);y(Y,V)}})})};var Z=-1;X.sortable({items:".funnel-sortable-step",handle:".funnel-step-handle",containment:"parent",tolerance:"pointer",axis:"y",start:function(aa,ab){X.height(X.height());Z=ab.item.index()},beforeStop:function(ac,ad){var ab=ad.item.index();if(ab!==Z){var aa=X.children(".funnel-sortable-step:not(.ui-sortable-placeholder):not(.grouping-row)");if(aa.length>0){var ae=R(V,aa.eq(0).children(".funnel-step-wrapper"));if(ae&&ae.type==="POPUP"){Tools.showError(M.ERR_FUNNELS_INVALID_FIRST_STEP);X.height("auto").sortable("cancel")}}}},stop:function(aa,ab){X.height("auto");if(ab.item.index()!==Z){W()}}});var U=0;Y.find("#funnelStepsListOuter").sortable({items:".funnel-step-wrapper.upsell-step",handle:".funnel-step-handle-inner",containment:"parent",tolerance:"pointer",axis:"y",start:function(aa,ab){U=ab.item.index()},stop:function(aa,ab){if(ab.item.index()!==U){W()}}})};var p=function(W){var U=W.find("#funnelStepsList");if(U.hasClass(".ui-sortable")){U.sortable("destroy")}var V=W.find("#funnelStepsListOuter");if(V.hasClass(".ui-sortable")){V.sortable("destroy")}};var y=function(V,U){b(V);S(V,U);N(V,U)};var A=function(V,Y,U){var W=U||V.data("charts")||{};if(W[Y]){try{W[Y].destroy();delete W[Y]}catch(X){Log.error(X)}}};var b=function(V){var W=V.data("charts")||{};for(var U in W){A(V,U,W)}V.data("charts",null)};var v=function(X,ab,U,am,an){var ag=am.length===0?new Date():WebPlatform.ddmmyyStringToDate(am[0].date);var W=new Date();var al=ag.getTime();var Z=Math.ceil((W.getTime()-ag.getTime())/(24*60*60*1000)+1);var aj=[];var ac=[];var Y=10;var af=Z<=Y?1:Math.max(Math.floor(Z/Y),1);for(var ae=0;ae<Z;++ae){var ai="";var ak=new Date(al+ae*24*60*60*1000);aj.push(Tools.dateToShortStr(ak));if((ae%af===0)||ae===(Z-1)){ai=Tools.dateToShortString(ak)}ac.push(ai)}var aa=[];U.forEach(function(av,at){var au=Tools.fillArray([],aj.length,0);for(var ao=0;ao<am.length;++ao){var ar=am[ao];var aq=ar.date;var ap=aj.indexOf(aq);if(ap>-1){au[ap]=Math.round(ar.values[at]*100)/100}}aa.push({label:av.title,fill:false,strokeColor:av.color,pointColor:av.color,fillColor:"rgba(0, 0, 0, 0)",data:au})});var V={labels:ac,datasets:aa,hover:{mode:"nearest",intersect:true}};var ad=new Chart(ab.getContext("2d")).Line(V,{scaleShowHorizontalLines:false,scaleShowVerticalLines:false,pointDotStrokeWidth:2,pointDotRadius:2,bezierCurveTension:0.2,bezierCurve:true,multiTooltipTemplate:"<%= ' ' + value + ' ' + datasetLabel %>"});var ah=X.data("charts");if(!ah){ah={};X.data("charts",ah)}ah[an]=ad};var j=["#f66082","#518de9","#e9ae51","#4fd6de","#8aca87","#df36cd","#c17b00"];var F=function(V,ab,X){var Y=X.find(".funnel-table-body");var aa=X.find(".funnel-table");var Z=X.find(".pagination-wrapper");var W=X.find(".funnel-analytics-summary");Z.on("click","a",function(){var ac=$(this);if(ac.hasClass("active")){return}U(ac.data("page"))});var U=function(ac){Tools.makeWebsiteRequest({action:"getFunnelSalesStats",data:{funnelId:V.id,period:ab,page:ac,type:"orders"},onOk:function(ae){var aj=ae.data;var ah=aj.items||[];var ai=aj.count;var ad=aj.pagesCount;toggleDisplay(aa,ah.length>0);toggleDisplay(Z,ad>1);toggleDisplay(W,ah.length>0);toggleDisplay(X.find(".no-items"),ah.length===0);var ag="";ah.forEach(function(ao){var aq=Tools.localDateTimeStringToDate(ao.time);var al=ao.id;var av=ao.no;var ak=ao.name;var at=ao.email;var an=Tools.dateToShortString(aq,false);var am=Tools.timeToString(aq);var ar=WebPlatform.currToStr(ao.total,Website.storeCurrencySymbol,Website.storeCurrencyPositionAtLeft,Website.storeCurrency);var au=ao.paymentStatus?"paid":"not-paid";var ap=ao.paymentStatus?"Paid":"Not Paid";ag+=escapeFormat(Templates.get("funnelOrdersRowMarkup"),"id",al,"no",av===0?"-":av,"name",ak,"email",at,"date",an,"time",am,"price",ar,"paidclz",au,"paidtitle",ap.toUpperCase())});if(ah.length){W.find('[data-role="count"]').text(ai);W.find('[data-role="percent"]').text("(100%)");Y.empty().append(ag);if(ad>1){var af=$(UITools.renderPaginationMarkup(ac,ad));Z.empty().append(af)}}}})};U(0)};var K=function(U,W,V){b(V);if(U.steps.length===0){return}Tools.makeWebsiteRequest({action:"getFunnelSalesStats",data:{funnelId:U.id,period:W,type:"upsells"},onOk:function(af){var aq=af.data;var Z=aq.products;var ao=aq.upsellStats;var ad=aq.downsellStats;var ak=aq.ordersCount;var al=aq.upsellsCount;var ab=aq.downsellsCount;var ag=0;var ai=0;var aa=function(aw,at){var av=aj[aw.date];if(!av){av={date:aw.date,values:[0,0]};aj[aw.date]=av}var au=at?0:1;if(at){ag+=(aw.conversionValue||0)}else{ai+=(aw.conversionValue||0)}av.values[au]+=(aw.conversionValue||0)};var aj={};ao.forEach(function(at){aa(at,true)});ad.forEach(function(at){aa(at,false)});var Y=[];for(var ar in aj){Y.push(aj[ar])}r(Y);v(V,V.find("canvas")[0],[{title:" in Upsells ",color:"#8aca87"},{title:" in Downsells",color:"#f66082"}],Y,"upsellStats");$("#upsellRevenueLabel").text(WebPlatform.currToStr(ag,Website.storeCurrencySymbol,Website.storeCurrencyPositionAtLeft,Website.storeCurrency));$("#upsellOrdersLabel").text(Tools.calcPercent(al,ak,1)+"%");$("#downsellRevenueLabel").text(WebPlatform.currToStr(ai,Website.storeCurrencySymbol,Website.storeCurrencyPositionAtLeft,Website.storeCurrency));$("#downsellOrdersLabel").text(Tools.calcPercent(ab,ak,1)+"%");var ah="",ac="",an="";Z.forEach(function(aA){var av=aA.id;var aw=(aA.images||[]).length>0?aA.images[0]:null;var au=aA.title;var ay=aA.count;var ax=aA.quantity;var az=WebPlatform.currToStr(aA.total,Website.storeCurrencySymbol,Website.storeCurrencyPositionAtLeft,Website.storeCurrency);var at=resources+"/images/image-avatar.png";if(aw){at=getThumbnailsFromBase(aw.base,"160x120")+aw.name}var aB=escapeFormat(Templates.get("funnelProductsRowMarkup"),"id",av,"src",at,"name",au,"orders",ax,"total",az);if(aA.bump){an+=aB}else{if(aA.saleType==="UPSELL"){ah+=aB}else{ac+=aB}}});var X=V.find('[data-role="upsell-products"]');var am=V.find('[data-role="downsell-products"]');var ae=V.find('[data-role="bump-products"]');var ap=V.find(".no-items");if(ah===""&&ac===""&&an===""){ap.removeClass("none")}else{ap.addClass("none")}if(ah!==""){X.removeClass("none").find(".funnel-table-body").html(ah)}else{X.addClass("none")}if(ac!==""){am.removeClass("none").find(".funnel-table-body").html(ac)}else{am.addClass("none")}if(an!==""){ae.removeClass("none").find(".funnel-table-body").html(an)}else{ae.addClass("none")}}})};var g=function(V,ab,X){var Y=X.find(".funnel-table-body");var aa=X.find(".funnel-table");var Z=X.find(".pagination-wrapper");var W=X.find(".funnel-analytics-summary");Z.on("click","a",function(){var ac=$(this);if(ac.hasClass("active")){return}U(ac.data("page"))});var U=function(ac){Tools.makeWebsiteRequest({action:"getFunnelSalesStats",data:{funnelId:V.id,period:ab,page:ac,type:"products"},onOk:function(ae){var ai=ae.data;var aj=ai.items||[];var ah=ai.count;var ad=ai.pagesCount;toggleDisplay(aa,aj.length>0);toggleDisplay(Z,ad>1);toggleDisplay(W,aj.length>0);toggleDisplay(X.find(".no-items"),aj.length===0);var ag="";aj.forEach(function(an){var ar=an.id;var ap=(an.images||[]).length>0?an.images[0]:null;var ak=an.title;var am=an.count;var ao=an.quantity;var al=WebPlatform.currToStr(an.total,Website.storeCurrencySymbol,Website.storeCurrencyPositionAtLeft,Website.storeCurrency);var aq=resources+"/images/image-avatar.png";if(ap){aq=getThumbnailsFromBase(ap.base,"160x120")+ap.name}ag+=escapeFormat(Templates.get("funnelProductsRowMarkup"),"id",ar,"src",aq,"name",ak,"orders",ao,"total",al)});if(aj.length){W.find('[data-role="count"]').text(ah);W.find('[data-role="percent"]').text("(100%)");Y.empty().append(ag);if(ad>1){var af=$(UITools.renderPaginationMarkup(ac,ad));Z.empty().append(af)}}}})};U(0)};var J=function(V,U,W){b(V);if(U.steps.length===0){return}Tools.makeWebsiteRequest({action:"getFunnelSalesStats",data:{funnelId:U.id,period:W,type:"analytics"},onOk:function(ah){var ab=ah.data.sales;var X=ah.data.subscriptions;var ad={};if(X.all>0){V.closest(".funnels-popup").find('a[data-tab="sales"]').text(M.SALES+" / "+M.SUBSCRIPTIONS)}var ac=0,aa=0,ag=0;ab.forEach(function(aj){var ai=ad[aj.date];if(!ai){ai={date:aj.date,values:[0,0,0]};ad[aj.date]=ai}ai.values[0]+=(aj.conversionValue||0);ai.values[1]+=(aj.conversions||0);ai.values[2]+=(aj.subscriptions||0);ac+=(aj.conversions||0);aa+=(aj.conversionValue||0);ag+=(aj.subscriptions||0)});ab=[];for(var ae in ad){ab.push(ad[ae])}r(ab);var af=[{title:" in Sales",color:"#8aca87"},{title:"Orders",color:"#518de9"}];if(ag>0){af.push({title:" New Subscriptions",color:"#e9ae51"})}v(V,V.find("canvas")[0],af,ab,"orderStats");$("#totalSalesLabel").text(WebPlatform.currToStr(aa,Website.storeCurrencySymbol,Website.storeCurrencyPositionAtLeft,Website.storeCurrency));$("#totalOrdersLabel").text(ac);if(ag>0){$("#totalSubscriptionsLabel").text(ag)}$("#totalSubscriptionsWrapper")[ag>0?"show":"hide"]();$("#allTimeSubscriptionStats")[X.all>0?"show":"hide"]();if(X.all>0){$("#activeSubsLabel").text(X.active);$("#mrrLabel").text(WebPlatform.currToStr(X.mrr,Website.storeCurrencySymbol,Website.storeCurrencyPositionAtLeft,Website.storeCurrency));var Z=X.all-X.active;var Y=Z+" ("+Tools.calcPercent(Z,Z+X.active,1)+"%)";$("#churnLabel").text(Y)}}})};var B=function(Y,X){b(Y);if(X.steps.length===0){return}var V=Y.find('[name="periodSelect"]');var Z=V.val();Y.find(".funnel-analytics-period").text(V.find(":selected").text());var W=[{step:X.steps[0],label:"Visitors"}];X.steps.forEach(function(ab,aa){if(ab.goal){W.push({step:ab,label:" Reached Goal"})}});var U=[];W.forEach(function(aa){aa.step.variants.forEach(function(ab){U.push(ab.id)})});Tools.makeWebsiteRequest({action:"getDetailedStats",data:{funnelId:X.id,period:Z,variations:JSON.stringify(U)},onOk:function(ab){var ag=ab.data;var ah=[];var ad={};W.forEach(function(aj,ai){ah.push({title:aj.label,color:j[ai<j.length?ai:(j.length-1)]});aj.sessions=0;aj.step.variants.forEach(function(ak){(ag[ak.id]||[]).forEach(function(am){var al=ad[am.date];if(!al){al={date:am.date,values:Tools.fillArray([],W.length,0)};ad[am.date]=al}aj.sessions+=(am.sessions||0);al.values[ai]+=(am.sessions||0)})})});ag=[];for(var af in ad){ag.push(ad[af])}r(ag);Y.find("#totalVisitorsLabel").css("color",j[0]).text(W[0].sessions||0);var aa=Y.find("#reachedGoalBox");aa.find(".values-row").remove();var ac='<div class="values-row col20 f-left">             <span class="value" style="color: %color%">%sessions%</span><span class="percent" style="color: %color%"> (%percent%%)</span>           </div>';var ae="";ah.forEach(function(aj,ai){if(ai>0){var ak=Tools.calcPercent(W[ai].sessions||0,W[0].sessions||0,1);ae+=format(ac,"color",aj.color,"sessions",W[ai].sessions||0,"percent",ak)}});aa.append(ae);v(Y,Y.find(".funnel-analytics-graph canvas")[0],ah,ag,"summary")}})};var r=function(U){U.sort(function(Y,W){var X=Y.date.split("/").reverse().join("");var V=W.date.split("/").reverse().join("");return X.localeCompare(V)})};var S=function(X,V){var W=H();var U=0;var Y=X.find(".goal-stats-wrapper");if(V.steps.length===0){Y.hide();X.addClass("funnel-empty")}else{X.removeClass("funnel-empty");Y.show();Y.find(".goal-stats-inner-wrapper").remove();V.steps.forEach(function(ab,Z){var ad=O(W,ab);if(Z===0){U=ad.sessions}if(!ab.goal){return}var ac=Tools.calcPercent(ad.sessions,U,1)+"%";var aa=Tools.calcPercent(ad.conversions,ad.sessions,1)+"%";if(ab.goal){Y.append(format(Templates.get("funnelGoalStatsRow"),"conversionFromAll",ac,"stepConversion",aa,"idx",Z+1))}})}};var D=function(V){if(V.kind==="UPSELL"||V.kind==="DOWNSELL"){return false}for(var U=0;U<V.variants.length;++U){if(V.variants[U].checkout){return true}}};var N=function(Z,W){var aa=Z.find("#funnelStepsList");p(Z);G(Z,W);aa.removeData("chartId");var Y=H();var U=0;aa.empty();var V=Website.getActiveFunnelStep();if(W.steps.length===0){Z.find(".no-items-wrapper").show()}else{Z.find(".no-items-wrapper").hide();var X=null;var ab=0;W.steps.forEach(function(am,ar){var av=V&&V.id===am.id;var aD=[];var ak=[];var ao=false;am.variants.forEach(function(aE){if(aE.archived){ak.push(aE)}else{aD.push(aE);if(aE.checkout){ao=true}}});var ac=am.kind==="UPSELL"||am.kind==="DOWNSELL";if(ao&&ac){ao=false}var aj=ar===W.steps.length-1;var ay=O(Y,am);if(ar===0){U=ay.sessions}var aC=Tools.calcPercent(ay.sessions,U,1)+"%";var at=Tools.calcPercent(ay.conversions,ay.sessions,1)+"%";width=aC;var au=am.name;var ag;if(ac){if(am.kind==="UPSELL"){ag="â†‘"}else{ag="â†“"}}else{ag=++ab}var aB=av?"active":"";if(ao){aB+=" checkout-step"}else{if(ac){aB+=" upsell-step"}}var aA=ac?"-inner":"";var al="",ap="";if(ac){al=am.kind==="UPSELL"?"upsell":"downsell";ap="button-tooltip"}var af=$(format(Templates.get("funnelStepRow"),"funnelStepRowClass",aB,"handle",aA,"name",au,"id",am.id,"tooltipclz",ap,"tooltip",al,"no",ag,"goalClass",am.goal?"is-goal":"","stepConversion",aC));if(ao){X=$('<div class="substeps-wrapper"><a class="add-substep" data-action="add-step" data-step="'+am.id+'">+ <span>'+M.ADD_UPSELL_OR_DOWNSELL+"</span></a></div>")}if((am.kind==="UPSELL"||am.kind==="DOWNSELL")&&X!==null){X.append(af)}else{var an=$('<div class="col20 f-left funnel-sortable-step"></a>');an.append(af);aa.append(an);if(ao){X.insertAfter(af)}else{X=null}}var ax=af.find(".funnel-step-bar");ax.css("width",width);var ai=ao||ac;if(aD.length>1){var ae=Y[aD[0].id]||{};var ad=Y[aD[1].id]||{};var aw=Tools.calcPercent(ae.conversions,ae.sessions,1);var az=Tools.calcPercent(ad.conversions,ad.sessions,1);ax.addClass("ab-funnel-step");var ah=(ai&&ae.conversionValue)?WebPlatform.currToStr(ae.conversionValue,Website.storeCurrencySymbol,Website.storeCurrencyPositionAtLeft,Website.storeCurrency):"";var aq=(ai&&ad.conversionValue)?WebPlatform.currToStr(ad.conversionValue,Website.storeCurrencySymbol,Website.storeCurrencyPositionAtLeft,Website.storeCurrency):"";aClass="ab-left "+(aw>=az?"ab-winning":"ab-losing");bClass="ab-right "+(aw<az?"ab-winning":"ab-losing");ax.append(format(Templates.get("funnelStepABPart"),"id",aD[0].id,"sessions",(ae.sessions||0)+(ah?(" / "+ah):""),"badge","A","traffic",aw+"%","abclass",aClass,"stepConversionClass",aj?"none":""));ax.append(format(Templates.get("funnelStepABPart"),"id",aD[1].id,"sessions",(ad.sessions||0)+(aq?(" / "+aq):""),"badge","B","traffic",az+"%","abclass",bClass,"stepConversionClass",aj?"none":""));ax.append('<a class="ab-settings button-tooltip" data-tooltip="showABSettings"></a>')}else{if(ai&&ay.conversionValue){ax.text(ay.sessions+" / "+WebPlatform.currToStr(ay.conversionValue,Website.storeCurrencySymbol,Website.storeCurrencyPositionAtLeft,Website.storeCurrency))}else{ax.text(ay.sessions)}if(ak.length>0){ax.append('<a class="ab-badge ab-history button-tooltip" data-tooltip="showABHistory"></a>')}if(!aj){ax.append('<a class="step-conversion-badge button-tooltip" data-id="'+aD[0].id+'" data-tooltip="stepConversion">'+at+"</a>")}ax.append('<a class="blue ab-split button-tooltip" data-tooltip="startABTest">'+M.AB_TEST+"</a>")}});(W.settings.grouping||[]).forEach(function(ae){var ad=$(escapeFormat(Templates.get("funnelStepGroupingRow"),"name",ae.label)).data("label",ae.label);var ac=aa.children(".funnel-sortable-step");if(ac.length>ae.location){ac.eq(ae.location).before(ad)}else{aa.append(ad)}})}};var i=function(V,U,X,W){if(!isUndefined(x[X])){W()}else{CPanel.showLoadingBar("statsLoadingBar",V,function(){Tools.makeWebsiteRequest({action:"getFunnelStatsSummary",data:{funnelId:U.id,period:X},onOk:function(Y){var Z=Y.data;z(Z.funnel);x[X]=Z.stats||{};CPanel.hideLoadingBar("statsLoadingBar");W()}})},true)}};var d=function(U,V,Y,X,W){U.close(function(){if(Y.type==="PAGE"){CPanel.goToUrl(Website.pagePrefix+"/"+V.url+"/"+Y.page.link+"/"+X+(W?"?show=widgetsettings":""),true)}else{Hooks.active.hook.activePage.showPopup({id:Y.id,funnelId:V.id,variant:X,showPrimaryWidgetSettings:!!W})}})};var R=function(U,V){var W=V.closest(".funnel-step-wrapper").data("id");return getById(U.steps,W)};var l=function(W,U){W.find(".preview-icon").attr("href","//"+userDomain+"/"+U.url+"?preview=__PREVIEW_ONLY");W.find('[data-type="name"]').text(U.name);var V=(customDomain?customDomain:userDomain);if(Website.getActiveSite().type!=="FUNNEL"){V+="/"+U.url}if(U.host){V=U.host}W.find('[data-type="url"]').text(V)};var q=function(W,V){var X=(W.settings||{}).grouping||[];for(var U=0;U<X.length;++U){if(X[U].location===V){return X[U]}}return null};var m=function(W,U,X){U.settings.grouping=U.settings.grouping||[];if(X){X=q(U,X.location)}var V=X?X.label:"";Tools.promptForInput("Enter group name","Enter name for this group",V,function(Y){Y=Y.trim();if(Y===""){Tools.showError(M.ERR_EMPTY_NAME);return false}if(X){X.label=Y}else{U.settings.grouping.push({location:$("#funnelStepsList").children(".funnel-sortable-step").length,label:Y})}I(U,U.name,U.url,U.settings,function(){y(W,U)})})};var t=function(W,X,V){var U=(V.settings||{}).grouping||[];var Z=X.closest(".grouping-row");if(!Z.length){return}var Y=q(V,Z.index());if(!Y){return}Tools.showTooltipOptions(X,[{text:M.RENAME_LABEL,icon:"fa-pencil",tag:"rename"},{text:M.REMOVE_LABEL,icon:"fa-eraser",tag:"remove"}],function(ac,ab,ad,aa){if(aa==="rename"){m(W,V,Y)}else{if(aa==="remove"){Tools.prompt(M.DEL_CONFIRM,M.REMOVE_LABEL_CONFIRM,function(){for(var ae=0;ae<U.length;++ae){if(U[ae].location===Y.location){U.splice(ae,1);break}}I(V,V.name,V.url,V.settings,function(){y(W,V)})})}}})};var c=function(X,Y,V){var U=Y.closest(".funnels-wrapper");var Z=R(V,Y);var aa=V.steps[V.steps.length-1].id!==Z.id;var W=[];if(aa){W.push({text:Z.goal?M.REMOVE_GOAL:M.SET_AS_GOAL,icon:"fa-star",tag:"goal"})}W.push({text:M.SHOW_SETTINGS,icon:"fa-cog",tag:"settings"});if(Z.kind!=="UPSELL"&&Z.kind!=="DOWNSELL"){W.push({text:M.DUPLICATE,icon:"fa-clone",tag:"duplicate"});W.push({text:M.COPY_TO_ANOTHER_FUNNEL,icon:"fa-clone",tag:"clone"})}W.push({text:M.DELETE,icon:"fa-trash",tag:"trash"});Tools.showTooltipOptions(Y,W,function(af,ai,aj,ak){if(ak==="goal"){Tools.makeWebsiteRequest({action:"updateFunnelStep",data:{funnelId:V.id,stepId:Z.id,name:Z.name,goal:!Z.goal},onOk:function(al){Z.goal=!Z.goal;y(X,V);U.find(".funnel-step-percentage")[Z.goal?"addClass":"removeClass"]("is-goal")}})}else{if(ak==="settings"){var ae=function(al){U.find(".funnel-step-name").text(al)};if(Z.type==="PAGE"){var ah=Z.page.link;var ac=Website.getActiveFunnel();var ag=Website.getActiveFunnelStep();UITools.showPageSettingsDialog({page:Z.page,tab:0,funnelId:V.id,funnelStepId:Z.id,onUpdated:function(al){Z.page=al;Z.name=al.name;ae(al.name);if(al.link!==ah&&ac&&ag&&ac.id===V.id&&ag.id===Z.id){CPanel.setChanged(false);CPanel.goToUrl(Website.pagePrefix+"/"+V.url+"/"+al.link+"/a",true)}}})}else{Tools.promptForInput(M.CHANGE_STEP_NAME,M.ENTER_NAME_FOR_POPUP_STEP,Z.name,function(al){Tools.makeWebsiteRequest({action:"updateFunnelStep",data:{funnelId:V.id,stepId:Z.id,name:al,goal:Z.goal},onOk:function(am){Z.name=al;ae(al)}})})}}else{if(ak==="duplicate"){Tools.prompt(M.DUPLICATE_FUNNEL_STEP_TITLE,M.DUPLICATE_FUNNEL_STEP_MESSAGE,function(){Tools.makeWebsiteRequest({action:"duplicateFunnelStep",data:{id:V.id,stepId:Z.id},onOk:function(al){V=z(al.data);y(X,V)}})},dummy,M.YES,M.NO)}else{if(ak==="clone"){Tools.prompt(M.DUPLICATE_FUNNEL_STEP_TITLE,M.DUPLICATE_FUNNEL_STEP_MESSAGE,function(){UITools.selectExistingFunnel(function(am,al){Tools.makeWebsiteRequest({action:"duplicateFunnelStep",data:{id:V.id,stepId:Z.id,toSiteId:am,toFunnelId:al},onOk:function(an){var ap=an.data;var ao=Website.getActiveSite();if(ao.id===am){if(al===V.id){V=z(ap);y(X,V)}else{Website.setFunnel(ap)}Tools.showCornerMessage(3000,M.UPDATED,Tools.TOOLTIP_TYPE_SUCCESS)}else{a.close(function(){var aq="//"+Website.getProjectWebsiteById(am).subdomain+"."+Website.rootDomain+Website.pagePrefix+"/"+ap.url+"/"+ap.steps[0].page.link+"?show=steps";CPanel.redirect(aq)})}}})})},dummy,M.YES,M.NO)}else{if(ak==="trash"){if(Z.kind!=="UPSELL"&&Z.kind!=="DOWNSELL"){var ab=indexOfId(V.steps,Z.id)+1;if(ab<V.steps.length){var ad=V.steps[ab];if(ad.kind==="UPSELL"||ad.kind==="DOWNSELL"){Tools.showError("This step has upsells. You need to remove them first");return}}}Tools.prompt(M.DELETE_FUNNEL_STEP_TITLE,M.DELETE_FUNNEL_STEP_MESSAGE,function(){Tools.makeWebsiteRequest({action:"deleteFunnelStep",data:{funnelId:V.id,stepId:Z.id},onOk:function(am){var al=Website.getActiveFunnelStep();V=z(am.data);var an=U.closest(".funnel-step-wrapper");if(an.parent().hasClass("funnel-sortable-step")){an.parent().remove()}else{an.remove()}u(X.find("#funnelStepsList"),V,function(){y(X,V)});if(al&&al.id===Z.id){CPanel.goToUrl(Website.pagePrefix)}}})},dummy,M.YES,M.NO)}}}}}})};var o=function(V,Y){Y.html(Templates.get("singleFunnelSteps"));var X=Website.getActiveSite();if(!(X.type==="FUNNEL"?X.active:V.active)){Y.find(".warning-wrapper").removeClass("none")}var W=Y;var U=Y.find('[name="periodSelect"]');U.val(L);U.change(function(){L=$(this).val();i(Y,V,L,function(){y(Y,V)})}).val(L).change();Y.on("click",".funnel-step-name",function(){var ad=$(this);var ac=R(V,ad);var aa=0;for(var Z=0;Z<ac.variants.length;++Z){var ab=ac.variants[Z];if(!ab.archived){++aa}}if(aa>1){Tools.showTooltipOptions(ad,[{text:M.EDIT_A,icon:"fa-pencil"},{text:M.EDIT_B,icon:"fa-pencil"}],function(af,ae,ag){d(a,V,ac,ae===0?"a":"b")})}else{d(a,V,ac,"a")}}).on("click",".ab-part",function(ab){var Z=$(this).closest("div");var aa=R(V,Z);d(a,V,aa,Z.hasClass("ab-left")?"a":"b")}).on("click",".more-options",function(aa){var Z=$(aa.target);if(Z.hasClass("group-options")){t(W,Z,V)}else{c(W,Z,V)}}).on("click",".ab-history",function(aa){var Z=R(V,$(this));Tools.showWindow({isModal:false,showNextTo:$(aa.target),width:450,customClass:"funnels-popup",markup:Templates.get("funnelABHistoryMarkup"),noNav:true,action:{onShow:function(ac,ae){var ah="";var ad=H();var ag=null;Z.variants.forEach(function(ak){if(ak.archived){var ao=Tools.dateToShortString(new Date(ak.createdOn),true,true);var aj=Tools.dateToShortString(new Date(ak.archivedOn),true,true);var an=ad[ak.id]||{};var al=Tools.calcPercent(an.conversions,an.sessions,1)+"%";var am=(an.sessions||0)+" "+(an.sessions===1?M.VISITOR:M.VISITORS);ah+=format(Templates.get("funnelStepABHistoryRow"),"percent",al,"startDate",ao,"endDate",aj,"visitors",am)}else{if(ag===null){ag=ak}}});var ab=ag===null?null:ad[ag.id]||{};var ai=ag===null?"-":Tools.calcPercent(ab.conversions,ab.sessions,1)+"%";var af=ag===null?"-":(ab.sessions||0)+" "+(ab.sessions===1?M.VISITOR:M.VISITORS);ae.find(".funnel-step-number").text(ai);ae.find(".winner-visitors").text(af);ae.find(".ab-history-items").append(ah)}},buttons:[]})}).on("click",".ab-settings",function(aa){var Z=R(V,$(this));Tools.showWindow({isModal:false,showNextTo:$(aa.target),width:550,customClass:"funnels-popup",markup:Templates.get("funnelActiveABSettingsMarkup"),noNav:true,action:{onShow:function(ab,ae){var ai=null;var at=null;for(var aj=0;aj<Z.variants.length;++aj){var ag=Z.variants[aj];if(!ag.archived){if(ai===null){ai=ag}else{at=ag;break}}}var ar=H();var am=O(ar,Z);ae.find(".total-visitors-label").text(am.sessions);var ad=ar[ai.id]||{};var ac=ar[at.id]||{};var ak=Tools.calcPercent(ad.conversions,ad.sessions,1);var ao=Tools.calcPercent(ac.conversions,ac.sessions,1);var af=(ad.sessions||0)+" "+(ad.sessions===1?M.VISITOR:M.VISITORS);var al=(ac.sessions||0)+" "+(ac.sessions===1?M.VISITOR:M.VISITORS);var an=(ak>=ao?"winner":"");var ah=(ak<ao?"winner":"");var aq=format(Templates.get("funnelStepABManualWinnerRow"),"id",ai.id,"letter","A","rowClass",an,"percent",ak+"%","visitors",af);var ap=format(Templates.get("funnelStepABManualWinnerRow"),"id",at.id,"letter","B","rowClass",ah,"percent",ao+"%","visitors",al);ae.find(".ab-manual-wrapper").on("click",".winner-select-btn",function(au){Tools.prompt(M.SELECT_AB_WINNER_TITTLE,M.SELECT_AB_WINNER_MESSAGE,function(){var av=$(au.target).closest(".ab-step").data("id");Tools.makeWebsiteRequest({action:"funnelSelectABWinner",data:{id:V.id,stepId:Z.id,variantId:av},onOk:function(aw){ab.close();V=z(aw.data);y(W,V);var ax=Website.getActiveFunnelStep();if(ax&&ax.id===Z.id){CPanel.goToUrl(Website.pagePrefix+"/"+V.url+"/"+Z.page.link,true)}}})})}).append(aq+ap);ae.find(".addon-select").click(function(){var av=$(this);if(av.hasClass("selected")){return}var au=av.index();av.parent().find(".selected").removeClass("selected");av.addClass("selected");ae.find(".ab-automatic-wrapper")[au===0?"removeClass":"addClass"]("none");ae.find(".ab-manual-wrapper")[au===1?"removeClass":"addClass"]("none")}).eq(Z.abWinnerSelectionType==="AUTOMATIC"?0:1).click();ae.find('[name="abThreshold"]').val(Z.abThreshold)}},buttons:[Button(M.SAVE,Button.CLASS_MIDDLE_BLUE,function(ad,ae){var ac=ae.find(".addon-select.selected").index(),af=ac===0?"AUTOMATIC":"MANUAL",ab=ac===0?WebPlatform.parse(ae.find('[name="abThreshold"]').val(),5000,false):0;Tools.makeWebsiteRequest({action:"setFunnelStepABSettings",data:{type:af,threshold:ab,id:V.id,stepId:Z.id},onOk:function(ag){Z.abWinnerSelectionType=af;Z.abThreshold=ab;ad.close()}})}),Button.MIDDLE_CANCEL]})}).on("click",".ab-split",function(aa){var Z=R(V,$(this));Tools.showWindow({isModal:false,showNextTo:$(aa.target),width:380,customClass:"funnels-popup",markup:Templates.get("funnelABSettingsMarkup"),noNav:true,noTitle:true,action:{onShow:function(ac,ae){var ad=ae.find(".duplicate-page"),ag=ae.find(".page"),ab=Z.type==="PAGE";ad.find("h3").text(ab?M.DUPLICATE_FUNNEL_PAGE:M.DUPLICATE_FUNNEL_POPUP);ag.find("h3").text(ab?M.NEW_FUNNEL_PAGE:M.NEW_FUNNEL_POPUP);var af=function(ah){Tools.makeWebsiteRequest({action:"addFunnelStepVariation",data:{funnelId:V.id,stepId:Z.id,template:ah},onOk:function(ai){V=z(ai.data);y(W,V)}})};ad.click(function(){ac.close();af("clone")});ag.click(function(){ac.close();if(ab){UITools.showNewPagePopup({funnel:true,selectTemplateOnly:true},function(ah){af(ah)})}else{UITools.showNewPopupDialog(function(ah,ai){af(ah);ai()})}})}},buttons:[]})}).on("click",'[data-action="add-step"]',function(ac){var aa=$(this);var ab=0;if(aa.hasClass("add-substep")){ab=aa.data("step")||0}var Z=function(){if(ab){var ag=null;for(var ae=indexOfId(V.steps,ab)+1;ae<V.steps.length;++ae){var af=V.steps[ae];if(af.kind==="UPSELL"||af.kind==="DOWNSELL"){ag=af}else{break}}if(ag){d(a,V,ag,"a",true)}}else{var af=V.steps[V.steps.length-1];d(a,V,af,"a",D(af))}};var ad=function(){UITools.showNewPagePopup({funnel:true,showUpsells:ab>0},function(af,ae){af.funnelId=V.id;af.toCheckoutStepId=ab;Website.addPage(af,function(ag){V=z(ag);y(W,V);Z();ae()})})};if(V.steps&&V.steps.length>0){Tools.showWindow({isModal:false,showNextTo:$(ac.target),width:520,customClass:"funnels-popup",markup:Templates.get("funnelAddStepMarkup"),noNav:true,noTitle:true,action:{onShow:function(ae,af){af.find(".popup").click(function(){ae.close();UITools.showNewPopupDialog({showUpsells:ab>0,onPopupSelected:function(ag){Tools.makeWebsiteRequest({action:"addFunnelPopupStep",data:{clone:ag,funnelId:V.id,toCheckoutStepId:ab},onOk:function(ah){V=z(ah.data);y(W,V);Z()}})}})});af.find(".page").click(function(){ae.close();ad()});af.find(".funnel-section").click(function(){ae.close();m(W,V,null)})}},buttons:[]})}else{ad()}}).on("click",".step-conversion-badge",function(){var Z=$(this);var ab=$("#funnelStepsList");var af=Z.data("id");var ae=Z.closest(".funnel-step-wrapper");var ad=ab.data("chartId");var aa=function(){ab.data("chartId",af);var ah=$('<div class="chart-box funnel-step-chart-box col20 f-left none-soft"><canvas class="col20"></canvas></div>');ae.append(ah);Z.addClass("active");var ai=R(V,ae);var ag=[af];if(!Z.closest(".funnel-step-bar").hasClass("ab-funnel-step")){ag=[];ai.variants.forEach(function(aj){ag.push(aj.id)})}Tools.makeWebsiteRequest({action:"getDetailedStats",data:{funnelId:V.id,period:L,variations:JSON.stringify(ag)},onOk:function(aj){ah.slideDown("fast",function(){ae.addClass("row-with-stats");var am=aj.data;var am=aj.data;var ak={};for(var al in am){am[al].forEach(function(ao){var an=ak[ao.date];if(!an){an={date:ao.date,values:[0,0]};ak[ao.date]=an}an.values[0]+=(ao.sessions||0);an.values[1]+=(ao.conversions||0)})}am=[];for(var al in ak){am.push(ak[al])}r(am);v(W,ah.find("canvas")[0],[{title:"Visitors",color:j[0]},{title:"Conversions",color:j[1]}],am,af)})}})};if(ad){var ac=ab.find(".chart-box");if(ac.length){ac.slideUp("fast",function(){A(W,ad);ac.remove();ab.find(".step-conversion-badge.active").removeClass("active");ab.find(".row-with-stats").removeClass("row-with-stats");ab.data("chartId",null);if(ad!==af){aa()}})}}else{aa()}});return{hide:function(Z){b(Y);p(Y);Y.off("click");Z()}}};var Q=function(V,W){W.html(Templates.get("singleFunnelAnalytics"));var U=W.find('[name="periodSelect"]');U.change(function(){L=$(this).val();i(W,V,L,function(){B(W,V)})}).val(L).change();return{hide:function(X){b(W);X()}}};var n=function(V,W){W.html(Templates.get("singleFunnelSales"));var U=W.find('[name="periodSelect"]');U.change(function(){L=$(this).val();i(W,V,L,function(){J(W,V,L)})}).val(L).change();return{hide:function(X){b(W);X()}}};var E=function(V,W){W.html(Templates.get("singleFunnelOrders"));var U=W.find('[name="periodSelect"]');U.change(function(){L=$(this).val();i(W,V,L,function(){F(V,L,W)})}).val(L).change();return{hide:function(X){X()}}};var f=function(V,W){W.html(Templates.get("singleFunnelProducts"));var U=W.find('[name="periodSelect"]');U.change(function(){L=$(this).val();i(W,V,L,function(){g(V,L,W)})}).val(L).change();W.find(".create-product-funnel").click(function(){a.close();CPanel.goToUrl(Website.virtualPagePrefix+"/store/products")});return{hide:function(X){X()}}};var s=function(V,W){W.html(Templates.get("singleFunnelUpsells"));var U=W.find('[name="periodSelect"]');U.change(function(){L=$(this).val();i(W,V,L,function(){K(V,L,W)})}).val(L).change();return{hide:function(X){X()}}};var C=function(U,V){V.html(Templates.get("singleFunnelAbandonCart"));return{hide:function(W){W()}}};var x={};var L="all-time";var a=null;var H=function(){return x[L]||{}};var P=function(W,V){var U=null;Tools.showInlinePopup({isModal:false,width:1100,customClass:"funnels-popup",markup:Templates.get("singleFunnelMarkup"),noNav:true,action:{onBeforeHide:function(X,Y,Z){if(U!==null){U.hide(Z);U=null;return false}},onShow:function(X,aa){a=X;var ac=aa.find('[data-role="tabs"]');var Y=ac.find("a[data-tab]");var ab=aa.find('[data-role="tab-content"]');var Z=function(ae){var ad=function(){ac.find(".active").removeClass("active");Y.filter('[data-tab="'+ae+'"]').closest("li").addClass("active");switch(ae){case"steps":U=o(W,ab);break;case"analytics":U=Q(W,ab);break;case"sales":U=n(W,ab);break;case"orders":U=E(W,ab);break;case"products":U=f(W,ab);break;case"upsells":U=s(W,ab);break;case"abandoned":U=C(W,ab);break}};if(U){U.hide(ad)}else{ad()}};$("#funnels").addClass("active");aa.on("click",'a[data-role="showOrders"]',function(){X.close();CPanel.goToUrl(Website.virtualPagePrefix+"/store/orders")}).on("click",'a[data-role="shareFunnel"]',function(ad){UITools.showShareWebsiteDialog(websiteId,W.id)}).on("click",".back-arrow",function(){X.close(function(){Project.showWebsitesDialog(true)})}).on("click",".copy-funnel-url",function(){var ad=$(this).closest(".funnel-url-copy").find('[data-type="url"]').text();Tools.copyToClipboard(ad);Tools.showCornerMessage(1000,ad+" "+M.COPIED_TO_CLIPBOARD,Tools.TOOLTIP_TYPE_SUCCESS)});$("#settingsTrigger").click(function(){if(Website.getActiveSite().type==="FUNNEL"){X.close(function(){Website.settingsUI.show()})}else{w(X,W,function(){l(aa,W)})}});Y.click(function(){var ad=$(this);if(ad.hasClass("active")){return}Z(ad.data("tab"))});Z("steps");l(aa,W);if(V){w(X,W,function(){l(aa,W)})}},onHide:function(){x={};L="all-time";a=null;$("#funnels").removeClass("active")}}})};return{startABSplitTest:function(U,W,X){var V=0;W.variants.forEach(function(Y){if(!Y.archived){++V}});if(V>1){Tools.showError("This step has active A/B test already!");return}Tools.makeWebsiteRequest({action:"addFunnelStepVariation",data:{funnelId:U.id,stepId:W.id,template:"clone"},onOk:function(Y){U=z(Y.data);(X||dummy)(U,W)}})},edit:function(){var U=Website.getActiveFunnel();if(U){P(U)}else{Project.showWebsitesDialog(true)}},showSteps:function(U){P(U)},showNewFunnelPopup:k,showFunnelSettings:function(W,U){var X=Website.getActiveSite();var V=Website.getActiveFunnel();var Y=Website.pagePrefix+"/"+U.url+"/"+U.steps[0].page.link;if(X.id===W.id){if(X.type==="FUNNEL"){Website.settingsUI.show()}else{if(V&&V.id===U.id){P(U,true)}else{CPanel.goToUrl(Y+"?show=funnel-settings",true)}}}else{CPanel.redirect("https://"+W.subdomain+"."+Website.rootDomain+Y+"?show=funnel-settings")}},isCheckoutStep:D}})();var Base=function(){};Base.extend=function(b,e){var f=Base.prototype.extend;Base._prototyping=true;var d=new this();f.call(d,b);d.base=function(){};delete Base._prototyping;var c=d.constructor;var a=d.constructor=function(){if(!Base._prototyping){if(this._constructing||this.constructor==a){this._constructing=true;c.apply(this,arguments);delete this._constructing}else{if(arguments[0]!==null){return(arguments[0].extend||f).call(arguments[0],d)}}}};a.ancestor=this;a.extend=this.extend;a.forEach=this.forEach;a.implement=this.implement;a.prototype=d;a.toString=this.toString;a.valueOf=function(g){return(g=="object")?a:c.valueOf()};f.call(a,e);if(typeof a.init=="function"){a.init()}return a};Base.prototype={extend:function(b,h){if(arguments.length>1){var e=this[b];if(e&&(typeof h=="function")&&(!e.valueOf||e.valueOf()!=h.valueOf())&&/\bbase\b/.test(h)){var a=h.valueOf();h=function(){var k=this.base||Base.prototype.base;this.base=e;var i=a.apply(this,arguments);this.base=k;return i};h.valueOf=function(i){return(i=="object")?h:a};h.toString=Base.toString}this[b]=h}else{if(b){var g=Base.prototype.extend;if(!Base._prototyping&&typeof this!="function"){g=this.extend||g}var d={toSource:null};var f=["constructor","toString","valueOf"];var c=Base._prototyping?0:1;while(j=f[c++]){if(b[j]!=d[j]){g.call(this,j,b[j])}}for(var j in b){if(!d[j]){g.call(this,j,b[j])}}}}return this}};Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(a,d,c){for(var b in a){if(this.prototype[b]===undefined){d.call(c,a[b],b,a)}}},implement:function(){for(var a=0;a<arguments.length;a++){if(typeof arguments[a]=="function"){arguments[a](this.prototype)}else{this.prototype.extend(arguments[a])}}return this},toString:function(){return String(this.valueOf())}});var FlipClock;(function(a){FlipClock=function(c,d,b){if(d instanceof Object&&d instanceof Date===false){b=d;d=0}return new FlipClock.Factory(c,d,b)};FlipClock.Lang={};FlipClock.Base=Base.extend({buildDate:"2014-12-12",version:"0.7.7",constructor:function(b,c){if(typeof b!=="object"){b={}}if(typeof c!=="object"){c={}}this.setOptions(a.extend(true,{},b,c))},callback:function(d){if(typeof d==="function"){var c=[];for(var b=1;b<=arguments.length;b++){if(arguments[b]){c.push(arguments[b])}}d.apply(this,c)}},log:function(b){if(window.console&&console.log){console.log(b)}},getOption:function(b){if(this[b]){return this[b]}return false},getOptions:function(){return this},setOption:function(b,c){this[b]=c},setOptions:function(b){for(var c in b){if(typeof b[c]!=="undefined"){this.setOption(c,b[c])}}}})}(jQuery));(function(a){FlipClock.Face=FlipClock.Base.extend({autoStart:true,dividers:[],factory:false,lists:[],constructor:function(b,c){this.dividers=[];this.lists=[];this.base(c);this.factory=b},build:function(){if(this.autoStart){this.start()}},createDivider:function(c,e,f){if(typeof e=="boolean"||!e){f=e;e=c}var g=['<span class="flex-1 justify-center center-vertically '+this.factory.classes.dot+' top" style="font-size: '+this.factory.size/2+"px; color: "+(this.factory.bgColor==="transparent"?this.factory.color:this.factory.bgColor)+';">&bull;</span>','<span class="flex-1 justify-center center-vertically '+this.factory.classes.dot+' bottom" style="font-size: '+this.factory.size/2+"px; color: "+(this.factory.bgColor==="transparent"?this.factory.color:this.factory.bgColor)+';">&bull;</span>'].join("");if(f){g=""}c=this.factory.localize(c);var d=['<span class="'+this.factory.classes.divider+" "+(e?e:"").toLowerCase()+' flex flex-col" style="height: '+(this.factory.size+10)+'px;">','<span class="'+this.factory.classes.label+'" style="font-size: '+this.factory.labelSize+"px; color: "+this.factory.labelColor+'">'+(c?c:"")+"</span>",g,"</span>"];var b=a(d.join(""));this.dividers.push(b);return b},createList:function(d,b){if(typeof d==="object"){b=d;d=0}var c=new FlipClock.List(this.factory,d,b);this.lists.push(c);return c},reset:function(){this.factory.time=new FlipClock.Time(this.factory,this.factory.original?Math.round(this.factory.original):0,{minimumDigits:this.factory.minimumDigits});this.flip(this.factory.original,false)},appendDigitToClock:function(b){b.$el.append(false)},addDigit:function(c){var b=this.createList(c,{classes:{active:this.factory.classes.active,before:this.factory.classes.before,flip:this.factory.classes.flip}});this.appendDigitToClock(b)},start:function(){},stop:function(){},autoIncrement:function(){if(!this.factory.countdown){this.increment()}else{this.decrement()}},increment:function(){this.factory.time.addSecond()},decrement:function(){if(this.factory.time.getTimeSeconds()==0){this.factory.stop()}else{this.factory.time.subSecond()}},flip:function(d,c){var b=this;a.each(d,function(e,g){var f=b.lists[e];if(f){if(!c&&g!=f.digit){f.play()}f.select(g)}else{b.addDigit(g)}})}})}(jQuery));(function(a){FlipClock.Factory=FlipClock.Base.extend({animationRate:1000,autoStart:true,callbacks:{destroy:false,create:false,init:false,interval:false,start:false,stop:false,reset:false},color:"#ffffff",bgColor:"#333333",labelColor:"#333333",labelSize:14,size:70,classes:{active:"flip-clock-active",before:"flip-clock-before",divider:"flip-clock-divider",dot:"flip-clock-dot",label:"flip-clock-label",flip:"flip",play:"play",wrapper:"flip-clock-wrapper"},clockFace:"HourlyCounter",countdown:false,defaultClockFace:"HourlyCounter",defaultLanguage:"english",$el:false,face:true,lang:false,language:"english",minimumDigits:0,original:false,running:false,time:false,timer:false,$wrapper:false,constructor:function(c,d,b){if(!b){b={}}this.lists=[];this.running=false;this.base(b);this.$el=a(c).addClass(this.classes.wrapper);this.$wrapper=this.$el;this.original=(d instanceof Date)?d:(d?Math.round(d):0);this.time=new FlipClock.Time(this,this.original,{minimumDigits:this.minimumDigits,animationRate:this.animationRate});this.timer=new FlipClock.Timer(this,b);this.loadLanguage(this.language);this.loadClockFace(this.clockFace,b);if(this.autoStart){this.start()}},loadClockFace:function(d,c){var e,f="Face",b=false;d=d.ucfirst()+f;if(this.face.stop){this.stop();b=true}this.$el.html("");this.time.minimumDigits=this.minimumDigits;if(FlipClock[d]){e=new FlipClock[d](this,c)}else{e=new FlipClock[this.defaultClockFace+f](this,c)}e.build();this.face=e;if(b){this.start()}return this.face},loadLanguage:function(b){var c;if(FlipClock.Lang[b.ucfirst()]){c=FlipClock.Lang[b.ucfirst()]}else{if(FlipClock.Lang[b]){c=FlipClock.Lang[b]}else{c=FlipClock.Lang[this.defaultLanguage]}}return this.lang=c},localize:function(b,d){var e=this.lang;if(!b){return null}var c=b.toLowerCase();if(typeof d=="object"){e=d}if(e&&e[c]){return e[c]}return b},start:function(c){var b=this;if(!b.running&&(!b.countdown||b.countdown&&b.time.time>0)){b.face.start(b.time);b.timer.start(function(){b.flip();if(typeof c==="function"){c()}})}else{b.log("Trying to start timer when countdown already at 0")}},stop:function(c){this.face.stop();this.timer.stop(c);for(var b in this.lists){if(this.lists.hasOwnProperty(b)){this.lists[b].stop()}}},reset:function(b){this.timer.reset(b);this.face.reset()},setTime:function(b){this.time.time=b;this.flip(true)},getTime:function(b){return this.time},setCountdown:function(c){var b=this.running;this.countdown=c?true:false;if(b){this.stop();this.start()}},flip:function(b){this.face.flip(false,b)}})}(jQuery));(function(a){FlipClock.List=FlipClock.Base.extend({digit:0,classes:{active:"flip-clock-active",before:"flip-clock-before",flip:"flip"},factory:false,$el:false,$obj:false,items:[],lastDigit:0,constructor:function(b,d,c){this.factory=b;this.digit=d;this.lastDigit=d;this.$el=this.createList();this.$obj=this.$el;if(d>0){this.select(d)}this.factory.$el.append(this.$el)},select:function(c){if(typeof c==="undefined"){c=this.digit}else{this.digit=c}if(this.digit!=this.lastDigit){var b=this.$el.find("."+this.classes.before).removeClass(this.classes.before);this.$el.find("."+this.classes.active).removeClass(this.classes.active).addClass(this.classes.before);this.appendListItem(this.classes.active,this.digit);b.remove();this.lastDigit=this.digit}},play:function(){this.$el.addClass(this.factory.classes.play)},stop:function(){var b=this;setTimeout(function(){b.$el.removeClass(b.factory.classes.play)},this.factory.timer.interval)},createListItem:function(c,d){var b=this.factory.size<40?"border-radius: 3px;":"";return['<li class="'+(c?c:"")+'" style="line-height: '+(this.factory.size+10)+'px;">','<a href="javascript: void(0);">','<div class="up">','<div class="shadow"></div>','<div class="inn" style="color: '+this.factory.color+"; background-color: "+this.factory.bgColor+"; font-size: "+this.factory.size+"px; "+b+'">'+(d?d:"")+"</div>","</div>",'<div class="down">','<div class="shadow"></div>','<div class="inn" style="color: '+this.factory.color+"; background-color: "+this.factory.bgColor+"; font-size: "+this.factory.size+"px;"+b+'">'+(d?d:"")+"</div>","</div>","</a>","</li>"].join("")},appendListItem:function(c,d){var b=this.createListItem(c,d);this.$el.append(b)},createList:function(){var c=this.getPrevDigit()?this.getPrevDigit():this.digit;var b=a(['<ul class="'+this.classes.flip+" "+(this.factory.running?this.factory.classes.play:"")+'" style="width: '+this.factory.size*0.8+"px; height: "+(this.factory.size+10)+'px;">',this.createListItem(this.classes.before,c),this.createListItem(this.classes.active,this.digit),"</ul>"].join(""));return b},getNextDigit:function(){return this.digit==9?0:this.digit+1},getPrevDigit:function(){return this.digit==0?9:this.digit-1}})}(jQuery));(function(a){String.prototype.ucfirst=function(){return this.substr(0,1).toUpperCase()+this.substr(1)};a.fn.FlipClock=function(c,b){return new FlipClock(a(this),c,b)};a.fn.flipClock=function(c,b){return a.fn.FlipClock(c,b)}}(jQuery));(function(a){FlipClock.Time=FlipClock.Base.extend({time:0,factory:false,minimumDigits:0,constructor:function(b,d,c){if(typeof c!="object"){c={}}if(!c.minimumDigits){c.minimumDigits=b.minimumDigits}this.base(c);this.factory=b;if(d){this.time=d}},convertDigitsToArray:function(d){var c=[];d=d.toString();for(var b=0;b<d.length;b++){if(d[b].match(/^\d*$/g)){c.push(d[b])}}return c},digit:function(b){var d=this.toString();var c=d.length;if(d[c-b]){return d[c-b]}return false},digitize:function(d){var c=[];a.each(d,function(f,g){g=g.toString();if(g.length==1){g="0"+g}for(var e=0;e<g.length;e++){c.push(g.charAt(e))}});if(c.length>this.minimumDigits){this.minimumDigits=c.length}if(this.minimumDigits>c.length){for(var b=c.length;b<this.minimumDigits;b++){c.unshift("0")}}return c},getDateObject:function(){if(this.time instanceof Date){return this.time}return new Date((new Date()).getTime()+this.getTimeSeconds()*1000)},getDayCounter:function(b){var c=[this.getDays(),this.getHours(true),this.getMinutes(true)];if(b){c.push(this.getSeconds(true))}return this.digitize(c)},getDays:function(b){var c=this.getTimeSeconds()/60/60/24;if(b){c=c%7}return Math.floor(c)},getHourCounter:function(){var b=this.digitize([this.getHours(),this.getMinutes(true),this.getSeconds(true)]);return b},getHourly:function(){return this.getHourCounter()},getHours:function(c){var b=this.getTimeSeconds()/60/60;if(c){b=b%24}return Math.floor(b)},getMilitaryTime:function(c,b){if(typeof b==="undefined"){b=true}if(!c){c=this.getDateObject()}var d=[c.getHours(),c.getMinutes()];if(b===true){d.push(c.getSeconds())}return this.digitize(d)},getMinutes:function(c){var b=this.getTimeSeconds()/60;if(c){b=b%60}return Math.floor(b)},getMinuteCounter:function(){var b=this.digitize([this.getMinutes(),this.getSeconds(true)]);return b},getTimeSeconds:function(b){if(!b){b=new Date()}if(this.time instanceof Date){if(this.factory.countdown){return Math.max(this.time.getTime()/1000-b.getTime()/1000,0)}else{return b.getTime()/1000-this.time.getTime()/1000}}else{return this.time}},getTime:function(d,c){if(typeof c==="undefined"){c=true}if(!d){d=this.getDateObject()}console.log(d);var b=d.getHours();var e=b>12?"PM":"AM";var f=[b>12?b-12:(b===0?12:b),d.getMinutes()];if(c===true){f.push(d.getSeconds())}return this.digitize(f)},getSeconds:function(b){var c=this.getTimeSeconds();if(b){if(c==60){c=0}else{c=c%60}}return Math.ceil(c)},getWeeks:function(b){var c=this.getTimeSeconds()/60/60/24/7;if(b){c=c%52}return Math.floor(c)},removeLeadingZeros:function(c,e){var d=0;var b=[];a.each(e,function(f,g){if(f<c){d+=parseInt(e[f],10)}else{b.push(e[f])}});if(d===0){return b}return e},addSeconds:function(b){if(this.time instanceof Date){this.time.setSeconds(this.time.getSeconds()+b)}else{this.time+=b}},addSecond:function(){this.addSeconds(1)},subSeconds:function(b){if(this.time instanceof Date){this.time.setSeconds(this.time.getSeconds()-b)}else{this.time-=b}},subSecond:function(){this.subSeconds(1)},toString:function(){return this.getTimeSeconds().toString()}})}(jQuery));(function(a){FlipClock.Timer=FlipClock.Base.extend({callbacks:{destroy:false,create:false,init:false,interval:false,start:false,stop:false,reset:false},count:0,factory:false,interval:1000,animationRate:1000,constructor:function(b,c){this.base(c);this.factory=b;this.callback(this.callbacks.init);this.callback(this.callbacks.create)},getElapsed:function(){return this.count*this.interval},getElapsedTime:function(){return new Date(this.time+this.getElapsed())},reset:function(b){clearInterval(this.timer);this.count=0;this._setInterval(b);this.callback(this.callbacks.reset)},start:function(b){this.factory.running=true;this._createTimer(b);this.callback(this.callbacks.start)},stop:function(b){this.factory.running=false;this._clearInterval(b);this.callback(this.callbacks.stop);this.callback(b)},_clearInterval:function(){clearInterval(this.timer)},_createTimer:function(b){this._setInterval(b)},_destroyTimer:function(b){this._clearInterval();this.timer=false;this.callback(b);this.callback(this.callbacks.destroy)},_interval:function(b){this.callback(this.callbacks.interval);this.callback(b);this.count++},_setInterval:function(c){var b=this;b._interval(c);b.timer=setInterval(function(){b._interval(c)},this.interval)}})}(jQuery));(function(a){FlipClock.TwentyFourHourClockFace=FlipClock.Face.extend({constructor:function(b,c){this.base(b,c)},build:function(d){var c=this;var b=this.factory.$el.find("ul");if(!this.factory.time.time){this.factory.original=new Date();this.factory.time=new FlipClock.Time(this.factory,this.factory.original)}var d=d?d:this.factory.time.getMilitaryTime(false,this.showSeconds);if(d.length>b.length){a.each(d,function(e,f){c.createList(f)})}this.createDivider();this.createDivider();a(this.dividers[0]).insertBefore(this.lists[this.lists.length-2].$el);a(this.dividers[1]).insertBefore(this.lists[this.lists.length-4].$el);this.base()},flip:function(c,b){this.autoIncrement();c=c?c:this.factory.time.getMilitaryTime(false,this.showSeconds);this.base(c,b)}})}(jQuery));(function(a){FlipClock.CounterFace=FlipClock.Face.extend({shouldAutoIncrement:false,constructor:function(b,c){if(typeof c!="object"){c={}}b.autoStart=c.autoStart?true:false;if(c.autoStart){this.shouldAutoIncrement=true}b.increment=function(){b.countdown=false;b.setTime(b.getTime().getTimeSeconds()+1)};b.decrement=function(){b.countdown=true;var d=b.getTime().getTimeSeconds();if(d>0){b.setTime(d-1)}};b.setValue=function(d){b.setTime(d)};b.setCounter=function(d){b.setTime(d)};this.base(b,c)},build:function(){var c=this;var b=this.factory.$el.find("ul");var d=this.factory.getTime().digitize([this.factory.getTime().time]);if(d.length>b.length){a.each(d,function(e,g){var f=c.createList(g);f.select(g)})}a.each(this.lists,function(e,f){f.play()});this.base()},flip:function(c,b){if(this.shouldAutoIncrement){this.autoIncrement()}if(!c){c=this.factory.getTime().digitize([this.factory.getTime().time])}this.base(c,b)},reset:function(){this.factory.time=new FlipClock.Time(this.factory,this.factory.original?Math.round(this.factory.original):0);this.flip()}})}(jQuery));(function(a){FlipClock.DailyCounterFace=FlipClock.Face.extend({showSeconds:true,constructor:function(b,c){this.base(b,c)},build:function(e){var d=this;var c=this.factory.$el.find("ul");var f=0;e=e?e:this.factory.time.getDayCounter(this.showSeconds);if(e.length>c.length){a.each(e,function(g,h){d.createList(h)})}var b=function(k,l,h){var j=k.find(".flip-clock-label").detach();k.insertBefore(l);var i=a('<div class="flip-part f-left flex flex-col"></div>');var m=a('<div class="digit-part flex-1"></div>');var g=a('<div class="label-part flex-1"></div>');i.insertBefore(l);m.append(l);m.append(h);g.append(j);i.append(m);i.append(g)};if(this.showSeconds){b(a(this.createDivider("Seconds")),this.lists[this.lists.length-2].$el,this.lists[this.lists.length-1].$el)}else{f=2}b(a(this.createDivider("Minutes")),this.lists[this.lists.length-4+f].$el,this.lists[this.lists.length-4+f+1].$el);b(a(this.createDivider("Hours")),this.lists[this.lists.length-6+f].$el,this.lists[this.lists.length-6+f+1].$el);b(a(this.createDivider("Days",true)),this.lists[0].$el,this.lists[1].$el);this.base()},flip:function(c,b){if(!c){c=this.factory.time.getDayCounter(this.showSeconds)}this.autoIncrement();this.base(c,b)}})}(jQuery));(function(a){FlipClock.HourlyCounterFace=FlipClock.Face.extend({constructor:function(b,c){this.base(b,c)},build:function(d,h){var f=this;var e=this.factory.$el.find("ul");h=h?h:this.factory.time.getHourCounter();if(h.length>e.length){a.each(h,function(j,k){f.createList(k)})}var c=function(m,n){var l=m.find(".flip-clock-label").detach();m.insertBefore(n[0]);var k=a('<div class="flip-part f-left flex flex-col"></div>');var o=a('<div class="digit-part flex-1"></div>');var j=a('<div class="label-part flex-1"></div>');k.insertBefore(n[0]);for(var i=0;i<n.length;++i){o.append(n[i])}j.append(l);k.append(o);k.append(j)};c(a(this.createDivider("Seconds")),[this.lists[this.lists.length-2].$el,this.lists[this.lists.length-1].$el]);c(a(this.createDivider("Minutes")),[this.lists[this.lists.length-4].$el,this.lists[this.lists.length-3].$el]);if(!d){var g=[];for(var b=0;b<this.lists.length-4;++b){g.push(this.lists[b].$el)}c(a(this.createDivider("Hours",true)),g)}this.base()},flip:function(c,b){if(!c){c=this.factory.time.getHourCounter()}this.autoIncrement();this.base(c,b)},appendDigitToClock:function(b){this.base(b);this.dividers[0].insertAfter(this.dividers[0].next())}})}(jQuery));(function(a){FlipClock.MinuteCounterFace=FlipClock.HourlyCounterFace.extend({clearExcessDigits:false,constructor:function(b,c){this.base(b,c)},build:function(){this.base(true,this.factory.time.getMinuteCounter())},flip:function(c,b){if(!c){c=this.factory.time.getMinuteCounter()}this.base(c,b)}})}(jQuery));(function(a){FlipClock.TwelveHourClockFace=FlipClock.TwentyFourHourClockFace.extend({meridium:false,meridiumText:"AM",build:function(){var b=this;var c=this.factory.time.getTime(false,this.showSeconds);this.base(c);this.meridiumText=this.getMeridium();this.meridium=a(['<ul class="flip-clock-meridium">',"<li>",'<a href="#">'+this.meridiumText+"</a>","</li>","</ul>"].join(""));this.meridium.insertAfter(this.lists[this.lists.length-1].$el)},flip:function(c,b){if(this.meridiumText!=this.getMeridium()){this.meridiumText=this.getMeridium();this.meridium.find("a").html(this.meridiumText)}this.base(this.factory.time.getTime(false,this.showSeconds),b)},getMeridium:function(){return new Date().getHours()>=12?"PM":"AM"},isPM:function(){return this.getMeridium()=="PM"?true:false},isAM:function(){return this.getMeridium()=="AM"?true:false}})}(jQuery));(function(a){FlipClock.Lang.Arabic={years:"Ø³Ù†ÙˆØ§Øª",months:"Ø´Ù‡ÙˆØ±",days:"Ø£ÙŠØ§Ù…",hours:"Ø³Ø§Ø¹Ø§Øª",minutes:"Ø¯Ù‚Ø§Ø¦Ù‚",seconds:"Ø«ÙˆØ§Ù†ÙŠ"};FlipClock.Lang.ar=FlipClock.Lang.Arabic;FlipClock.Lang["ar-ar"]=FlipClock.Lang.Arabic;FlipClock.Lang.arabic=FlipClock.Lang.Arabic}(jQuery));(function(a){FlipClock.Lang.Danish={years:"Ã…r",months:"MÃ¥neder",days:"Dage",hours:"Timer",minutes:"Minutter",seconds:"Sekunder"};FlipClock.Lang.da=FlipClock.Lang.Danish;FlipClock.Lang["da-dk"]=FlipClock.Lang.Danish;FlipClock.Lang.danish=FlipClock.Lang.Danish}(jQuery));(function(a){FlipClock.Lang.German={years:"Jahre",months:"Monate",days:"Tage",hours:"Stunden",minutes:"Minuten",seconds:"Sekunden"};FlipClock.Lang.de=FlipClock.Lang.German;FlipClock.Lang["de-de"]=FlipClock.Lang.German;FlipClock.Lang.german=FlipClock.Lang.German}(jQuery));(function(a){FlipClock.Lang.English={years:"Years",months:"Months",days:"Days",hours:"Hours",minutes:"Minutes",seconds:"Seconds"};FlipClock.Lang.en=FlipClock.Lang.English;FlipClock.Lang["en-us"]=FlipClock.Lang.English;FlipClock.Lang.english=FlipClock.Lang.English}(jQuery));(function(a){FlipClock.Lang.Spanish={years:"AÃ±os",months:"Meses",days:"DÃ­as",hours:"Horas",minutes:"Minutos",seconds:"Segundos"};FlipClock.Lang.es=FlipClock.Lang.Spanish;FlipClock.Lang["es-es"]=FlipClock.Lang.Spanish;FlipClock.Lang.spanish=FlipClock.Lang.Spanish}(jQuery));(function(a){FlipClock.Lang.Finnish={years:"Vuotta",months:"Kuukautta",days:"PÃ¤ivÃ¤Ã¤",hours:"Tuntia",minutes:"Minuuttia",seconds:"Sekuntia"};FlipClock.Lang.fi=FlipClock.Lang.Finnish;FlipClock.Lang["fi-fi"]=FlipClock.Lang.Finnish;FlipClock.Lang.finnish=FlipClock.Lang.Finnish}(jQuery));(function(a){FlipClock.Lang.French={years:"Ans",months:"Mois",days:"Jours",hours:"Heures",minutes:"Minutes",seconds:"Secondes"};FlipClock.Lang.fr=FlipClock.Lang.French;FlipClock.Lang["fr-ca"]=FlipClock.Lang.French;FlipClock.Lang.french=FlipClock.Lang.French}(jQuery));(function(a){FlipClock.Lang.Italian={years:"Anni",months:"Mesi",days:"Giorni",hours:"Ore",minutes:"Minuti",seconds:"Secondi"};FlipClock.Lang.it=FlipClock.Lang.Italian;FlipClock.Lang["it-it"]=FlipClock.Lang.Italian;FlipClock.Lang.italian=FlipClock.Lang.Italian}(jQuery));(function(a){FlipClock.Lang.Latvian={years:"Gadi",months:"MÄ“neÅ¡i",days:"Dienas",hours:"Stundas",minutes:"MinÅ«tes",seconds:"Sekundes"};FlipClock.Lang.lv=FlipClock.Lang.Latvian;FlipClock.Lang["lv-lv"]=FlipClock.Lang.Latvian;FlipClock.Lang.latvian=FlipClock.Lang.Latvian}(jQuery));(function(a){FlipClock.Lang.Dutch={years:"Jaren",months:"Maanden",days:"Dagen",hours:"Uren",minutes:"Minuten",seconds:"Seconden"};FlipClock.Lang.nl=FlipClock.Lang.Dutch;FlipClock.Lang["nl-be"]=FlipClock.Lang.Dutch;FlipClock.Lang.dutch=FlipClock.Lang.Dutch}(jQuery));(function(a){FlipClock.Lang.Norwegian={years:"Ã…r",months:"MÃ¥neder",days:"Dager",hours:"Timer",minutes:"Minutter",seconds:"Sekunder"};FlipClock.Lang.no=FlipClock.Lang.Norwegian;FlipClock.Lang.nb=FlipClock.Lang.Norwegian;FlipClock.Lang["no-nb"]=FlipClock.Lang.Norwegian;FlipClock.Lang.norwegian=FlipClock.Lang.Norwegian}(jQuery));(function(a){FlipClock.Lang.Portuguese={years:"Anos",months:"Meses",days:"Dias",hours:"Horas",minutes:"Minutos",seconds:"Segundos"};FlipClock.Lang.pt=FlipClock.Lang.Portuguese;FlipClock.Lang["pt-br"]=FlipClock.Lang.Portuguese;FlipClock.Lang.portuguese=FlipClock.Lang.Portuguese}(jQuery));(function(a){FlipClock.Lang.Russian={years:"Ð»ÐµÑ‚",months:"Ð¼ÐµÑÑÑ†ÐµÐ²",days:"Ð´Ð½ÐµÐ¹",hours:"Ñ‡Ð°ÑÐ¾Ð²",minutes:"Ð¼Ð¸Ð½ÑƒÑ‚",seconds:"ÑÐµÐºÑƒÐ½Ð´"};FlipClock.Lang.ru=FlipClock.Lang.Russian;FlipClock.Lang["ru-ru"]=FlipClock.Lang.Russian;FlipClock.Lang.russian=FlipClock.Lang.Russian}(jQuery));(function(a){FlipClock.Lang.Swedish={years:"Ã…r",months:"MÃ¥nader",days:"Dagar",hours:"Timmar",minutes:"Minuter",seconds:"Sekunder"};FlipClock.Lang.sv=FlipClock.Lang.Swedish;FlipClock.Lang["sv-se"]=FlipClock.Lang.Swedish;FlipClock.Lang.swedish=FlipClock.Lang.Swedish}(jQuery));(function(a){FlipClock.Lang.Chinese={years:"å¹´",months:"æœˆ",days:"æ—¥",hours:"æ—¶",minutes:"åˆ†",seconds:"ç§’"};FlipClock.Lang.zh=FlipClock.Lang.Chinese;FlipClock.Lang["zh-cn"]=FlipClock.Lang.Chinese;FlipClock.Lang.chinese=FlipClock.Lang.Chinese}(jQuery));(function(b){function a(d,c,e){return(d>c)&&(d<(c+e))}b.widget("mjs.nestedSortable",b.extend({},b.ui.sortable.prototype,{options:{doNotClear:false,expandOnHover:700,isAllowed:function(e,c,d){return true},isTree:false,listType:"ol",maxLevels:0,protectRoot:false,rootID:null,rtl:false,startCollapsed:false,tabSize:20,branchClass:"mjs-nestedSortable-branch",collapsedClass:"mjs-nestedSortable-collapsed",disableNestingClass:"mjs-nestedSortable-no-nesting",errorClass:"mjs-nestedSortable-error",expandedClass:"mjs-nestedSortable-expanded",hoveringClass:"mjs-nestedSortable-hovering",leafClass:"mjs-nestedSortable-leaf",disabledClass:"mjs-nestedSortable-disabled"},_create:function(){this.element.data("ui-sortable",this.element.data("mjs-nestedSortable"));if(!this.element.is(this.options.listType)){throw new Error("nestedSortable: Please check that the listType option is set to your actual list type")}if(this.options.isTree&&this.options.expandOnHover){this.options.tolerance="intersect"}b.ui.sortable.prototype._create.apply(this,arguments);if(this.options.isTree){var c=this;b(this.items).each(function(){var d=this.item;if(d.children(c.options.listType).length){d.addClass(c.options.branchClass);if(!d.hasClass(c.options.collapsedClass)&&(!d.hasClass(c.options.expandedClass))){if(c.options.startCollapsed){d.addClass(c.options.collapsedClass)}else{d.addClass(c.options.expandedClass)}}}else{d.addClass(c.options.leafClass)}})}},_destroy:function(){this.element.removeData("mjs-nestedSortable").removeData("ui-sortable");return b.ui.sortable.prototype._destroy.apply(this,arguments)},_mouseDrag:function(p){var q,s,u,g,l=this.options,d=false;this.position=this._generatePosition(p);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-p.pageY<l.scrollSensitivity){this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop+l.scrollSpeed}else{if(p.pageY-this.overflowOffset.top<l.scrollSensitivity){this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop-l.scrollSpeed}}if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-p.pageX<l.scrollSensitivity){this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft+l.scrollSpeed}else{if(p.pageX-this.overflowOffset.left<l.scrollSensitivity){this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft-l.scrollSpeed}}}else{if(p.pageY-b(document).scrollTop()<l.scrollSensitivity){d=b(document).scrollTop(b(document).scrollTop()-l.scrollSpeed)}else{if(b(window).height()-(p.pageY-b(document).scrollTop())<l.scrollSensitivity){d=b(document).scrollTop(b(document).scrollTop()+l.scrollSpeed)}}if(p.pageX-b(document).scrollLeft()<l.scrollSensitivity){d=b(document).scrollLeft(b(document).scrollLeft()-l.scrollSpeed)}else{if(b(window).width()-(p.pageX-b(document).scrollLeft())<l.scrollSensitivity){d=b(document).scrollLeft(b(document).scrollLeft()+l.scrollSpeed)}}}if(d!==false&&b.ui.ddmanager&&!l.dropBehaviour){b.ui.ddmanager.prepareOffsets(this,p)}}this.positionAbs=this._convertPositionTo("absolute");var h=this.placeholder.offset().top;if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px"}this.hovering=this.hovering?this.hovering:null;this.mouseentered=this.mouseentered?this.mouseentered:false;var j=(this.placeholder[0].parentNode.parentNode&&b(this.placeholder[0].parentNode.parentNode).closest(".ui-sortable").length)?b(this.placeholder[0].parentNode.parentNode):null,c=this._getLevel(this.placeholder),t=this._getChildLevels(this.helper);var e=document.createElement(l.listType);for(q=this.items.length-1;q>=0;q--){s=this.items[q];u=s.item[0];g=this._intersectsWithPointer(s);if(!g){continue}if(s.instance!==this.currentContainer){continue}if(u.className.indexOf(l.disabledClass)!==-1){if(g===2){var n=this.items[q+1];if(n&&n.item[0].className.indexOf(l.disabledClass)!==-1){continue}}else{if(g===1){var m=this.items[q-1];if(m&&m.item[0].className.indexOf(l.disabledClass)!==-1){continue}}}}if(u!==this.currentItem[0]&&this.placeholder[g===1?"next":"prev"]()[0]!==u&&!b.contains(this.placeholder[0],u)&&(this.options.type==="semi-dynamic"?!b.contains(this.element[0],u):true)){if(!this.mouseentered){b(u).mouseenter();this.mouseentered=true}if(l.isTree&&b(u).hasClass(l.collapsedClass)&&l.expandOnHover){if(!this.hovering){b(u).addClass(l.hoveringClass);var k=this;this.hovering=window.setTimeout(function(){b(u).removeClass(l.collapsedClass).addClass(l.expandedClass);k.refreshPositions();k._trigger("expand",p,k._uiHash())},l.expandOnHover)}}this.direction=g==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(s)){b(u).mouseleave();this.mouseentered=false;b(u).removeClass(l.hoveringClass);this.hovering&&window.clearTimeout(this.hovering);this.hovering=null;if(l.protectRoot&&!(this.currentItem[0].parentNode==this.element[0]&&u.parentNode!=this.element[0])){if(this.currentItem[0].parentNode!=this.element[0]&&u.parentNode==this.element[0]){if(!b(u).children(l.listType).length){u.appendChild(e);l.isTree&&b(u).removeClass(l.leafClass).addClass(l.branchClass+" "+l.expandedClass)}var v=this.direction==="down"?b(u).prev().children(l.listType):b(u).children(l.listType);if(v[0]!==undefined){this._rearrange(p,null,v)}}else{this._rearrange(p,s)}}else{if(!l.protectRoot){this._rearrange(p,s)}}}else{break}this._clearEmpty(u);this._trigger("change",p,this._uiHash());break}}var r=this.placeholder[0].previousSibling?b(this.placeholder[0].previousSibling):null;if(r!=null){while(r[0].nodeName.toLowerCase()!="li"||r[0].className.indexOf(l.disabledClass)!==-1||r[0]==this.currentItem[0]||r[0]==this.helper[0]){if(r[0].previousSibling){r=b(r[0].previousSibling)}else{r=null;break}}}var f=this.placeholder[0].nextSibling?b(this.placeholder[0].nextSibling):null;if(f!=null){while(f[0].nodeName.toLowerCase()!="li"||f[0].className.indexOf(l.disabledClass)!==-1||f[0]==this.currentItem[0]||f[0]==this.helper[0]){if(f[0].nextSibling){f=b(f[0].nextSibling)}else{f=null;break}}}this.beyondMaxLevels=0;if(j!=null&&f==null&&!(l.protectRoot&&j[0].parentNode==this.element[0])&&(l.rtl&&(this.positionAbs.left+this.helper.outerWidth()>j.offset().left+j.outerWidth())||!l.rtl&&(this.positionAbs.left<j.offset().left))){j.after(this.placeholder[0]);if(l.isTree&&j.children(l.listItem).children("li:visible:not(.ui-sortable-helper)").length<1){j.removeClass(this.options.branchClass+" "+this.options.expandedClass).addClass(this.options.leafClass)}this._clearEmpty(j[0]);this._trigger("change",p,this._uiHash())}else{if(r!=null&&!r.hasClass(l.disableNestingClass)&&(r.children(l.listType).length&&r.children(l.listType).is(":visible")||!r.children(l.listType).length)&&!(l.protectRoot&&this.currentItem[0].parentNode==this.element[0])&&(l.rtl&&(this.positionAbs.left+this.helper.outerWidth()<r.offset().left+r.outerWidth()-l.tabSize)||!l.rtl&&(this.positionAbs.left>r.offset().left+l.tabSize))){this._isAllowed(r,c,c+t+1);if(!r.children(l.listType).length){r[0].appendChild(e);l.isTree&&r.removeClass(l.leafClass).addClass(l.branchClass+" "+l.expandedClass)}if(h&&(h<=r.offset().top)){r.children(l.listType).prepend(this.placeholder)}else{r.children(l.listType)[0].appendChild(this.placeholder[0])}this._trigger("change",p,this._uiHash())}else{this._isAllowed(j,c,c+t)}}this._contactContainers(p);if(b.ui.ddmanager){b.ui.ddmanager.drag(this,p)}this._trigger("sort",p,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(e,f){if(this.beyondMaxLevels){this.placeholder.removeClass(this.options.errorClass);if(this.domPosition.prev){b(this.domPosition.prev).after(this.placeholder)}else{b(this.domPosition.parent).prepend(this.placeholder)}this._trigger("revert",e,this._uiHash())}b("."+this.options.hoveringClass).mouseleave().removeClass(this.options.hoveringClass);this.mouseentered=false;this.hovering&&window.clearTimeout(this.hovering);this.hovering=null;b.ui.sortable.prototype._mouseStop.apply(this,arguments);var c=b(this.domPosition.parent).parent().attr("id");var d=this.domPosition.prev?b(this.domPosition.prev).next().index():0;if(!(c==this._uiHash().item.parent().parent().attr("id")&&d==this._uiHash().item.index())){this._trigger("relocate",e,this._uiHash())}},_intersectsWithSides:function(f){var g=this.options.isTree?0.8:0.5;var d=a(this.positionAbs.top+this.offset.click.top,f.top+(f.height*g),f.height),i=a(this.positionAbs.top+this.offset.click.top,f.top-(f.height*g),f.height),e=a(this.positionAbs.left+this.offset.click.left,f.left+(f.width/2),f.width),c=this._getDragVerticalDirection(),h=this._getDragHorizontalDirection();if(this.floating&&h){return((h=="right"&&e)||(h=="left"&&!e))}else{return c&&((c=="down"&&d)||(c=="up"&&i))}},_contactContainers:function(c){if(this.options.protectRoot&&this.currentItem[0].parentNode==this.element[0]){return}b.ui.sortable.prototype._contactContainers.apply(this,arguments)},_clear:function(e,f){b.ui.sortable.prototype._clear.apply(this,arguments);for(var c=this.items.length-1;c>=0;c--){var d=this.items[c].item[0];this._clearEmpty(d)}},serialize:function(d){var f=b.extend({},this.options,d),c=this._getItemsAsjQuery(f&&f.connected),e=[];b(c).each(function(){var h=(b(f.item||this).attr(f.attribute||"id")||"").match(f.expression||(/(.+)[-=_](.+)/)),g=(b(f.item||this).parent(f.listType).parent(f.items).attr(f.attribute||"id")||"").match(f.expression||(/(.+)[-=_](.+)/));if(h){e.push(((f.key||h[1])+"["+(f.key&&f.expression?h[1]:h[2])+"]")+"="+(g?(f.key&&f.expression?g[1]:g[2]):f.rootID))}});if(!e.length&&f.key){e.push(f.key+"=")}return e.join("&")},toHierarchy:function(f){var g=b.extend({},this.options,f),d=g.startDepthCount||0,e=[];b(this.element).children(g.items).each(function(){var h=c(this);e.push(h)});return e;function c(i){var j=(b(i).attr(g.attribute||"id")||"").match(g.expression||(/(.+)[-=_](.+)/));if(j){var h={id:j[2]};if(b(i).children(g.listType).children(g.items).length>0){h.children=[];b(i).children(g.listType).children(g.items).each(function(){var k=c(this);h.children.push(k)})}return h}}},toArray:function(e){var h=b.extend({},this.options,e),c=h.startDepthCount||0,d=[],f=1;if(!h.excludeRoot){d.push({item_id:h.rootID,parent_id:null,depth:c,left:f,right:(b(h.items,this.element).length+1)*2});f++}b(this.element).children(h.items).each(function(){f=g(this,c+1,f)});d=d.sort(function(j,i){return(j.left-i.left)});return d;function g(l,n,m){var k=m+1,o,j;if(b(l).children(h.listType).children(h.items).length>0){n++;b(l).children(h.listType).children(h.items).each(function(){k=g(b(this),n,k)});n--}o=(b(l).attr(h.attribute||"id")).match(h.expression||(/(.+)[-=_](.+)/));if(n===c+1){j=h.rootID}else{var i=(b(l).parent(h.listType).parent(h.items).attr(h.attribute||"id")).match(h.expression||(/(.+)[-=_](.+)/));j=i[2]}if(o){d.push({item_id:o[2],parent_id:j,depth:n,left:m,right:k})}m=k+1;return m}},_clearEmpty:function(c){var e=this.options;var d=b(c).children(e.listType);if(d.length&&!d.children().length&&!e.doNotClear){e.isTree&&b(c).removeClass(e.branchClass+" "+e.expandedClass).addClass(e.leafClass);d.remove()}else{if(e.isTree&&d.length&&d.children().length&&d.is(":visible")){b(c).removeClass(e.leafClass).addClass(e.branchClass+" "+e.expandedClass)}else{if(e.isTree&&d.length&&d.children().length&&!d.is(":visible")){b(c).removeClass(e.leafClass).addClass(e.branchClass+" "+e.collapsedClass)}}}},_getLevel:function(c){var e=1;if(this.options.listType){var d=c.closest(this.options.listType);while(d&&d.length>0&&!d.is(".ui-sortable")){e++;d=d.parent().closest(this.options.listType)}}return e},_getChildLevels:function(e,g){var d=this,f=this.options,c=0;g=g||0;b(e).children(f.listType).children(f.items).each(function(h,i){c=Math.max(d._getChildLevels(i,g+1),c)});return g?c+1:c},_isAllowed:function(c,g,e){var f=this.options,d=this.placeholder.closest(".ui-sortable").nestedSortable("option","maxLevels");if(!f.isAllowed(this.placeholder,c,this.currentItem)){this.placeholder.addClass(f.errorClass);if(d<e&&d!=0){this.beyondMaxLevels=e-d}else{this.beyondMaxLevels=1}}else{if(d<e&&d!=0){this.placeholder.addClass(f.errorClass);this.beyondMaxLevels=e-d}else{this.placeholder.removeClass(f.errorClass);this.beyondMaxLevels=0}}}}));b.mjs.nestedSortable.prototype.options=b.extend({},b.ui.sortable.prototype.options,b.mjs.nestedSortable.prototype.options)})(jQuery);var UITools={showEmptyCanvasMessage:function(a){a.clearRect(0,0,a.canvas.width,a.canvas.height);a.textAlign="center";a.textBaseline="middle";var b=new Image();b.onload=function(){var c=a.canvas;var h=c.width/b.width;var e=c.height/b.height;var d=Math.min(h,e);d=Math.min(1,d);var g=(c.width-b.width*d)/2;var f=(c.height-b.height*d)/2;a.clearRect(0,0,c.width,c.height);a.drawImage(b,0,0,b.width,b.height,g,f,b.width*d,b.height*d)};b.src=resources+"/images/no-data.png?v=2"},loadStylesheet:function(g,i){var f=dummy;var b=0;if(i){f=function(){if(--b<=0){Tools.delay(500,function(){$window.resize()});CPanel.hideLoadingBar(i);CPanel.triggerViewportChange()}}}var k=(window.inTestEnvironment?"":".min")+".css?v="+resourcesVersion;var h=resources+"/t/"+Website.templateName+"/css/trunk"+k;var a=resources+"/t/"+Website.templateName+"/css/trunk-1024"+k;var m=resources+"/t/"+Website.templateName+"/css/trunk-768"+k;var l=resources+"/t/"+Website.templateName+"/css/trunk-480"+k;var d=$("#style-480");var c=$("#style-768");var j=$("#style-1024");var e=$("#style-main");if(e.length===0){++b;e=$('<link rel="stylesheet" id="style-main" type="text/css" href='+h+" />");e.one("load",f);$head.append(e)}else{e[0].disabled=false}if(j.length===0){++b;j=$('<link rel="stylesheet" id="style-1024" type="text/css" href='+a+" disabled />");j.one("load",f);$head.append(j);++b;c=$('<link rel="stylesheet" id="style-768" type="text/css" href='+m+" disabled />");c.one("load",f);$head.append(c)}if(d.length===0){++b;d=$('<link rel="stylesheet" id="style-480" type="text/css" href='+l+" disabled />");d.one("load",f);$head.append(d)}if(g==="desktop"){j[0].disabled=true;c[0].disabled=true;d[0].disabled=true}else{if(g==="tablet"){j[0].disabled=false;c[0].disabled=false;d[0].disabled=true}else{j[0].disabled=false;c[0].disabled=false;d[0].disabled=false}}if(b===0){f()}},changeViewport:function(b,c,a){if(b===c.hook.currentView){return}var d=function(g){if(g){c.hook.currentView=b;a(c)}else{var f=b||"desktop";var e=c.hook.contentWrapper.width();if(e<1024&&f==="desktop"){CPanel.showError(M.ERR_DESKTOP_VIEW);return}else{if(e<840&&f==="tablet"){CPanel.showError(M.ERR_TABLET_VIEW);return}}if(c.hook.currentView!==f){$window.scrollTop(0);CPanel.showLoadingBar("stylesheetChangeLoadingBar",$("#website"),function(){c.hook.loadStylesheet(b,"stylesheetChangeLoadingBar")},true)}}};if(b==="desktop"||c.hook.currentView==="desktop"){CPanel.checkIfNeedsSave(d)}else{d(false)}},showNewPagePopup:function(a,c){a=a||{};var b=function(e){var d=[];Tools.showWindow({isModal:true,title:M.ADD_NEW_PAGE,icon:Popup.ICON_ADD,width:495,markup:Templates.get("addPageDialogMarkup"),action:{onShow:function(g,h){if(a.funnel){$("#addPageGroupWrapper").hide()}var k=h.find('select[name="dpSelect"]').empty();var n="";if(e.type==="predefined"){n+='<option value="predefined|'+e.id+'">'+e.category+" "+M.TEMPLATE+"</option>"}else{var f=false;for(var m=0;m<Website.pageGroups.length;++m){var r=Website.pageGroups[m];for(var q=0;q<r.pages.length;++q){var o=r.pages[q];if(!f){n+='<optgroup label="'+M.MY_PAGES+'">';f=true}n+='<option value="page|'+o.id+'">'+o.name+"</option>"}}if(f){n+="</optgroup>"}n+='<optgroup label="'+M.OTHER_PAGES+'">';n+='<option value="other|-1"'+(e.type==="empty"?" selected":"")+">"+M.BLANK_PAGE+"</option>";n+="</optgroup>"}k.append(n);if(a.funnel){$("#addPageGroupWrapper").hide()}else{var j=h.find('select[name="grSelect"]').empty();for(var m=0;m<Website.pageGroups.length;++m){var r=Website.pageGroups[m];$("<option />").html(r.name).val(r.id).appendTo(j)}}var l=h.find('input[name="pageUrl"]');h.find('input[name="pageName"]').keyup(function(){l.val(Tools.urlFromString(this.value.trim(),true))});l.blur(function(){var i=l.val().trim();l.val(Tools.urlFromString(i,false,false))});var p=h.find('[name="pageAccess"]');p.change(function(){var i=$(this).val();if(i==="password"){h.find(".pageMembers").slideUp("fast");h.find(".pagePassword").slideDown("fast")}else{if(i==="members"){h.find(".pagePassword").slideUp("fast");h.find(".pageMembers").slideDown("fast")}else{h.find(".pagePassword").slideUp("fast");h.find(".pageMembers").slideUp("fast")}}});h.find(".pageMembers").find("a").click(function(){Tools.chooseMultiple({title:M.SELECT_MEMBER_GROUPS,message:M.SELECT_MEMBER_GROUPS_DESC,noItemsMessage:M.NO_MEMBER_GROUPS,items:Website.memberGroups,selectedItems:d,isModal:true,getItemId:function(i){return i.id},getItemText:function(i){return i.name},onSelect:function(i){d=i}})});Tools.installSEOTitleLengthChecker(h.find('input[name="pageTitle"]'));Tools.installSEODescriptionLengthChecker(h.find('textarea[name="description"]'))}},buttons:[Button(M.ADD,Button.CLASS_MIDDLE_BLUE,function(h,i){var f=i.find('input[name="pageName"]').val();var g=i.find('input[name="pageUrl"]').val();var l=i.find('select[name="dpSelect"]').val();var p=parse(i.find('select[name="grSelect"]').val(),-1);var m=i.find('input[name="pageTitle"]').val();var q=i.find('textarea[name="description"]').val();var o=i.find('[name="isPublic"]').is(":checked");var j=i.find('[name="useSecondaryHeader"]').is(":checked")?1:0;var k=i.find('[name="pageAccess"]').val();var n=i.find('[name="pagePassword"]').val();if(f===""||g===""){CPanel.showError(M.ERR_EMPTY_NAME_URL);return}var r=null;if(l.startsWith("predefined|")){r={footer:{visible:!!WebPlatform.hideNewTemplatePageFooter}}}c({name:f,url:g,page:l,group:p,title:m,description:q,isPublic:o,headerType:j,securityType:k,password:n,selectedGroups:d,meta:r},function(){h.close()})}),Button.MIDDLE_CANCEL]})};Tools.showWindow({isModal:false,title:"",width:$window.width()*0.9,height:"90%",withDarkBackground:true,showCloseButton:true,customClass:"new-page-templates-popup",markup:Templates.get("addPageTemplates"),action:{onShow:function(f,g){var m=window.userLocale==="da_JK"?"da":userLocale;if(window.userLocale==="zh_JO"){m="zh"}var n=null;var i=g.find(".content-wrapper");var k=g.find(".categories-wrapper ul");var j=-1;var q="";for(var o=0;o<Website.pageTemplates.length;++o){var p=Website.pageTemplates[o];var e=p.name||{};var h=(e.en||"").trim()==="White Label Growth";var d=(e.en||"").toLowerCase().indexOf("upsell")>-1;if(!window.enableAdvancedWidgets&&h||!a.showUpsells&&d){continue}q+='<li data-idx="'+o+'"><a>'+escapeHtml(e[m]||e.en||"-")+"</a></li>";if(j<0){j=o}if(a.showUpsells&&d){j=o}}if(!a.selectTemplateOnly){q+='<li><a data-action="existing" class="highlighted-list-item">'+M.EXISTING_PAGE+"</a></li>"}q+='<li><a data-action="empty" class="highlighted-list-item">'+M.EMPTY_PAGE+"</a></li>";k.html(q);var l=function(v){var t="";var s=Website.pageTemplates[v].items;for(var r=0;r<s.length;++r){t+=format(Templates.get("pageTemplateItemMarkup"),"id",s[r].id,"thumb",s[r].image)}i.html(t);k.find(".active").removeClass("active");k.find('li[data-idx="'+v+'"]').addClass("active");var u=Website.pageTemplates[v].name;n=escapeHtml(u[m]||u.en||"-")};k.on("click","a",function(){var s=$(this);var r=s.closest("li");if(r.hasClass("active")){return}var t=s.data("action");if(t==="empty"||t==="existing"){if(a.selectTemplateOnly){c("other|-1",dummy)}else{b({type:t})}f.close();return}l(r.data("idx"))});if(j>-1){l(j)}i.on("click","a, .page-thumb",function(){var r=$(this);var s=r.data("action");var t=r.closest(".page-wrapper").data("id");if(s==="select"){f.close();if(a.selectTemplateOnly){c("predefined|"+t,dummy)}else{b({type:"predefined",id:t,category:n})}}else{Tools.showWebsitePreviewPopup({url:"//"+userDomain+"/_preview?type=page&id="+t,buttonText:M.SELECT,onButtonAction:function(){f.close();if(a.selectTemplateOnly){c("predefined|"+t,dummy)}else{b({type:"predefined",id:t,category:n})}}})}})}}})},showNewPopupDialog:function(a){var b;if(isFunction(a)){b=a;a={}}else{a=a||{};b=a.onPopupSelected||dummy}Tools.showWindow({isModal:false,title:"",width:$window.width()*0.9,height:"90%",withDarkBackground:true,showCloseButton:true,customClass:"new-page-templates-popup new-popup-templates-popup",markup:Templates.get("addPopupTemplates"),action:{onShow:function(c,d){Website.getTemplatePopups(function(n){var k=window.userLocale==="da_JK"?"da":userLocale;if(window.userLocale==="zh_JO"){k="zh"}var g=d.find(".popup-templates-inner-wrapper");var i=d.find(".categories-wrapper ul");var o="";var h=0;for(var l=0;l<n.length;++l){var m=n[l];var f=m.name||{};var e=(f.en||"").toLowerCase().indexOf("upsell")>-1;if(!a.showUpsells&&e){continue}o+='<li data-idx="'+l+'"><a>'+escapeHtml(f[k]||f.en||"-")+"</a></li>";if(a.showUpsells&&e){h=l}}o+='<li><a data-action="empty" class="highlighted-list-item">'+M.EMPTY_POPUP+"</a></li>";i.html(o);var j=function(s){if(n.length<=s){return}var r=["","",""];var t=n[s].items;for(var p=0;p<t.length;++p){r[p%3]+=format(Templates.get("popupTemplateItemMarkup"),"id",t[p].id,"thumb",t[p].image)}var q="";r.forEach(function(u){q+='<div class="vertical-column">'+u+"</div>"});g.html(q);i.find(".active").removeClass("active");i.find('li[data-idx="'+s+'"]').addClass("active")};i.on("click","a",function(){var q=$(this);var p=q.closest("li");if(p.hasClass("active")){return}var r=q.data("action");if(r==="empty"){c.close();b("-1");return}j(p.data("idx"))});j(h);g.on("click",".page-thumb",function(){var p=$(this);var q=p.closest(".page-wrapper").data("id");c.close();b(q)})})}}})},showNewBlockDialog:function(a){Tools.showWindow({isModal:false,noTitle:true,width:$window.width()*0.9,height:"90%",withDarkBackground:true,showCloseButton:true,customClass:"new-page-templates-popup new-popup-templates-popup",markup:Templates.get("addBlockDialogMarkup"),action:{onShow:function(b,c){Website.getTemplateBlocks(function(e){var i=window.userLocale==="da_JK"?"da":userLocale;if(window.userLocale==="zh_JO"){i="zh"}var f=c.find(".popup-templates-inner-wrapper");var g=c.find(".categories-wrapper ul");var l="";for(var j=0;j<e.length;++j){var k=e[j];var d=k.name||{};l+="<li><a>"+escapeHtml(d[i]||d.en||"-")+"</a></li>"}l+='<li><a data-action="empty" class="highlighted-list-item">'+M.EMPTY_BLOCK+"</a></li>";g.html(l);var h=function(p){if(e.length<=p){return}var o=["","",""];var q=e[p].items;for(var m=0;m<q.length;++m){o[m%3]+=format(Templates.get("blockTemplateItemMarkup"),"id",q[m].id,"thumb",q[m].image)}var n="";o.forEach(function(r){n+='<div class="vertical-column">'+r+"</div>"});f.html(n);g.find(".active").removeClass("active");g.find("li").eq(p).addClass("active")};g.on("click","a",function(){var n=$(this);var m=n.closest("li");if(m.hasClass("active")){return}var o=n.data("action");if(o==="empty"){b.close();a("-1");return}h(m.index())});h(0);f.on("click",".page-thumb",function(){var m=$(this);var n=m.closest(".page-wrapper").data("id");b.close();a(n)})})}}})},showPageSettingsDialog:function(j){var f=[],b=!!j.funnelId,e=j.page,d=e.security===null?"public":!isUndefined(e.security.passwordHash)?"password":"members",c=e.security!==null&&!isUndefined(e.security.passwordHash)?"__MASKED__":"",a=[],i=null;if(e.security!==null&&$.isArray(e.security.memberGroups)){for(var g=0;g<e.security.memberGroups.length;++g){var h=Website.getMemberGroupById(e.security.memberGroups[g]);if(h!==null){a.push(h)}}}if(!b&&!Website.isHomepage(e.id,false)){f.push(Button(M.SET_AS_HOMEPAGE,Button.CLASS_MIDDLE_BLUE,function(k,l){Tools.prompt(M.SET_AS_HOMEPAGE,M.SET_AS_HOMEPAGE_CONFIRM,function(){Website.setHomepage(e,false,function(){(j.onSetAsHomepage||dummy)();$("#setHomePageButton").fadeOut("fast")})})},Button.FLOAT_LEFT,"setHomePageButton"))}f.push(Button(M.SAVE,Button.CLASS_MIDDLE_BLUE,function(m,n){var k=n.find('input[name="pageName"]').val(),l=n.find('input[name="pageUrl"]').val(),q=n.find('input[name="pageTitle"]').val(),t=n.find('select[name="grSelect"]').val(),u=n.find('textarea[name="description"]').val(),o=n.find('[name="useSecondaryHeader"]').is(":checked")?1:0,s=n.find('[name="isPublic"]').is(":checked"),p=n.find('[name="pageAccess"]').val(),r=n.find('[name="pagePassword"]').val();if(q===""||l===""){CPanel.showError(M.ERR_EMPTY_NAME_URL);return}Website.updatePage({page:e,pageId:e.id,name:k,link:l,title:q,group:t,description:u,isPublic:s,headerType:o,securityType:p,securityPassword:r,securityGroups:a,meta:i,funnelId:j.funnelId,funnelStepId:j.funnelStepId,onSuccess:function(v,w){(j.onUpdated||dummy)(v,w);m.close()}})}));f.push(Button.MIDDLE_CANCEL);Tools.showWindow({isModal:true,title:M.EDIT_PAGE_TITLE,icon:Popup.ICON_EDIT,width:495,selectedSlide:j.tab||0,markup:Templates.get("editPageDialogMarkup"),action:{onShow:function(k,l){if(!b){Tools.makeWebsiteRequest({action:"getPageMeta",data:{url:"/"+e.link},onOk:function(t){$("#shareImageWrapper").removeClass("none");i=t.data||{};var u=l.find(".add-image");l.on("click",".add-image",function(){var v=$(this);FileManager.selectFile({onCompleteCallback:function(w,x){v.find(".add-button").removeClass("add-button").addClass("remove-button");v.css({backgroundImage:"url("+getThumbnailsFromBase(w,"160x120")+x+")"});i.share={base:w,image:x}}})});l.on("click",".remove-button",function(w){w.stopPropagation();w.preventDefault();var v=$(this).closest(".add-image");v.css({backgroundImage:"url("+resources+"/images/image-avatar.png)"});i.share=null;v.find(".remove-button").removeClass("remove-button").addClass("add-button")});if(i.share){u.css({backgroundImage:"url("+getThumbnailsFromBase(i.share.base,"160x120")+i.share.image+")"});u.find(".add-button").removeClass("add-button").addClass("remove-button")}}})}var n=l.find('input[name="pageUrl"]');var q=l.find('input[name="pageName"]');var s=l.find('input[name="isPublic"]');var m=l.find('select[name="grSelect"]').empty();q.val(Tools.unescape(e.name));n.val(Tools.unescape(e.link));s.prop("checked",e.isPublic);if(b){m.hide()}else{for(var o=0;o<Website.pageGroups.length;++o){var r=Website.pageGroups[o];$("<option />").html(r.name).val(r.id).appendTo(m)}var r=Website.getGroupByPageId(e.id);if(r!==null){m.val(r.id)}if(e.id>0){m.closest(".page-group-wrapper").removeClass("none")}}n.blur(function(){var t=n.val().trim();n.val(Tools.urlFromString(t,false,false))});Tools.installSEOTitleLengthChecker(l.find('input[name="pageTitle"]').val(Tools.unescape(e.title)));Tools.installSEODescriptionLengthChecker(l.find('textarea[name="description"]').val(Tools.unescape(e.description)));l.find('[name="useSecondaryHeader"]').prop("checked",e.headerType!==0);l.find('[name="pagePassword"]').val(c);var p=l.find('[name="pageAccess"]');p.val(d).change(function(){var t=$(this).val();if(t==="password"){l.find(".pageMembers").slideUp("fast");l.find(".pagePassword").slideDown("fast")}else{if(t==="members"){l.find(".pagePassword").slideUp("fast");l.find(".pageMembers").slideDown("fast")}else{l.find(".pagePassword").slideUp("fast");l.find(".pageMembers").slideUp("fast")}}}).change();l.find(".pageMembers").find("a").click(function(){Tools.chooseMultiple({title:M.SELECT_MEMBER_GROUPS,message:M.SELECT_MEMBER_GROUPS_DESC,noItemsMessage:M.NO_MEMBER_GROUPS,items:Website.memberGroups,selectedItems:a,getItemId:function(t){return t.id},getItemText:function(t){return t.name},isModal:true,onSelect:function(t){a=t}})})}},buttons:f})},connectThirdPartyDomain:function(c,a,b){c=$.trim(c.toLowerCase().replace(/((http:\/\/)|(https:\/\/)|(ftp:\/\/))?(www\.)?/ig,""));c=c.split("/")[0];if(c.length>500){c=c.substr(0,500)}if(c===""||c.indexOf(".")<1){Tools.showError(M.ERR_INVALID_DOMAIN);return}Tools.makeWebsiteRequest({action:"addWebsiteDomain",data:{domain:c,funnelId:a},onOk:function(d){(b||dummy)(c)}})},showDomainInformation:function(d,b){var c=b.find('[data-role="information"]');if(c.is(":visible")){c.slideUp("fast")}else{var a=function(f,e){if(e){b.removeClass("not-verified").addClass("verified")}else{b.removeClass("verified").addClass("not-verified")}b.find(".domain-message").html(e?M.DOMAIN_OK_MESSAGE:M.DOMAIN_ERROR_MESSAGE);CPanel.hideLoadingBar(f)};c.slideDown("fast");CPanel.showLoadingBar(d,b,function(){var e=new Date().getTime();Tools.makeWebsiteRequest({action:"verifyDomain",data:{domain:d,r:e},onOk:function(f){a(d,f.data)},onNotOk:function(f){a(d,false)}})},true)}},showPopupVideo:function(d,e){if(!d){return}e=e||1.59838380897;var a=0.7*$window.height();var c=a*e;var b=0.9*$window.width();if(b<c){c=b;a=c/e}Tools.showWindow({title:"",width:c,height:a,overflowY:"hidden",markup:format(Templates.get("videoStructure"),"videosource",d),customClass:"video-modal",action:{onShow:function(f,g){g.find(".cpanel-popup-content").css({maxHeight:"none",height:"100%"});g.find(".cpanel-popup-title").hide();g.find(".cpanel-popup-nav").hide()},onHide:function(){}}})},renderPaginationMarkup:function(c,b){var a="<ul>";if(c>0){if(c>1){a+='<li><a data-page="'+(c-1)+'"><i class="fa fa-angle-left"></i></a></li>'}a+='<li><a data-page="'+(c-1)+'">'+(c)+"</a></li>"}a+='<li><a class="active" data-page="'+(c)+'">'+(c+1)+"</a></li>";if((c+1)<b){a+='<li><a data-page="'+(c+1)+'">'+(c+2)+"</a></li>";if((c+2)<b){a+='<li><a data-page="'+(c+1)+'"><i class="fa fa-angle-right"></i></a></li>'}}a+="</ul>";return a},selectExistingFunnel:function(a){Tools.showWindow({isModal:false,title:M.FUNNEL_SELECT_TITLE,width:450,markup:Templates.get("movePageToFunnelWindow"),action:{onShow:function(c,d){var b=d.find("select");Tools.makeWebsiteRequest({action:"listFunnels",onOk:function(f){var e=f.data;var g="";e.forEach(function(j){var i=j.first;var h=j.second;if(i.type==="FUNNEL"){g+='<option value="'+i.id+'|0">'+i.name+"</option>"}else{g+='<optgroup label="'+M.WEBSITE+" - "+i.name+'">';h.forEach(function(m){var l=m.first;var k=m.second;g+='<option value="'+i.id+"|"+l+'">'+escapeHtml(k)+"</option>"});g+="</optgroup>"}});b.empty().append(g)}})}},buttons:[Button(M.MOVE,Button.CLASS_MIDDLE_BLUE,function(c,d){var e=d.find("select").val().trim();c.close();if(e!==""){var g=e.split("|");var f=WebPlatform.parse(g[0]);var b=WebPlatform.parse(g[1]);(a||dummy)(f,b)}}),Button.MIDDLE_CANCEL]})},getShadowValue:function(a){if(!a){return""}if(a.type==="none"){return""}return"box-shadow: "+a.x+"px "+a.y+"px "+a.blur+"px "+a.spread+"px "+GlobalStyling.getColorFromClass(a.colorClass,a.color)+" "+a.type+";"},selectShadow:function(c,b,a){c=c||{type:"none"};Tools.showWindow({isModal:false,title:M.SHADOW,width:450,markup:'         <div class="popup-widget-wrapper">           <div class="input-wrapper">             <h5>'+M.SHADOW_TYPE+'</h5>             <select class="button-size-select" name="type">               <option value="none">'+M.NO_SHADOW+'</option>               <option value="">'+M.OUTER_SHADOW+'</option>               <option value="inset">'+M.INNER_SHADOW+'</option>             </select>           </div>           <div class="col20 f-left" id="settingsWrapper">             <div class="popup-input-wrapper">               <div class="input-wrapper color-pick-wrap-widgets">                 <div class="color-pick-wrap">                   <div></div>                   <input type="text" value="" class="colorpicker-selected" name="color">                 </div>                 <div class="info">                   <h5>'+M.SHADOW_COLOR+'</h5>                 </div>               </div>             </div>             <div class="popup-input-wrapper input-slider-wrapper" >               <h5 class="inline">'+M.HORIZONTAL_OFFSET+'</h5>              <div id="xSlider"></div>               <input type="text" readonly="readonly" class="slider-val">             </div>             <div class="popup-input-wrapper input-slider-wrapper" >               <h5 class="inline">'+M.VERTICAL_OFFSET+'</h5>              <div id="ySlider"></div>               <input type="text" readonly="readonly" class="slider-val">             </div>             <div class="popup-input-wrapper input-slider-wrapper" >               <h5 class="inline">'+M.BLUR_RADIUS+'</h5>              <div id="blurSlider"></div>               <input type="text" readonly="readonly" class="slider-val">             </div>             <div class="popup-input-wrapper input-slider-wrapper mb-15" >               <h5 class="inline">'+M.SPREAD_RADIUS+'</h5>              <div id="spreadSlider"></div>               <input type="text" readonly="readonly" class="slider-val">             </div>           </div>         </div>',action:{onShow:function(f,i){mergeUnique(c,{x:0,y:0,blur:25,spread:0,color:"rgba(170, 170, 170, 0.25)",colorClass:""});if(["none","","inset"].indexOf(c.type)===-1){c.type="none"}var e=function(){i.find("#settingsWrapper")[c.type==="none"?"addClass":"removeClass"]("none")};var h=function(){return c.type==="none"?"none":(c.x+"px "+c.y+"px "+c.blur+"px "+c.spread+"px "+GlobalStyling.getColorFromClass(c.colorClass,c.color)+" "+c.type)};var k=function(){var l=h();b.css("box-shadow",l);a(c.type==="none"?{type:"none"}:c,l)};var d=i.find('[name="color"]');var j=GlobalStyling.getColorFromClass(c.colorClass,c.color);var g=Tools.addColorPicker(j,d.prev(),d,function(l,m){c.color=l;c.colorClass=m;k()});f.bindObject("data",c,[{property:"type"}],function(){e();k()});Tools.addSlider({min:-60,max:60,step:1,value:c.x||0,updatedViewSuffix:"px",element:$("#xSlider"),onChange:function(l){c.x=l;k()}});Tools.addSlider({min:-60,max:60,step:1,value:c.y||0,updatedViewSuffix:"px",element:$("#ySlider"),onChange:function(l){c.y=l;k()}});Tools.addSlider({min:0,max:200,step:1,value:c.blur||20,updatedViewSuffix:"px",element:$("#blurSlider"),onChange:function(l){c.blur=l;k()}});Tools.addSlider({min:-50,max:50,step:1,value:c.spread||0,updatedViewSuffix:"px",element:$("#spreadSlider"),onChange:function(l){c.spread=l;k()}});e()}}})},selectFromList:function(a){Tools.showWindow({isModal:false,title:a.title||M.SELECT,withAddNewOption:false,addNewOptionTitle:M.ADD_NEW,noNav:true,width:500,markup:Templates.get("selectFromListMarkup"),action:{onShow:function(b,f){var h=f.find('[data-role="list"]');var e="";var d=a.items||[];var g=a.getItemId||function(i){return i.id||""};var c=a.getItemText||function(i){return i.name||""};if(a.withAddNewOption){e+='<div class="col20 f-left t-center mb-15"><a data-role="new" class="middle-button blue with-icon inline-block f-none">'+a.addNewOptionTitle+"</a></div>";f.on("click",'a[data-role="new"]',function(){b.close();b=null;(a.onSelect||dummy)(null)})}d.forEach(function(i){e+=escapeFormat(Templates.get("selectFromListItemMarkup"),"id",g(i),"name",c(i))});h.append(e);f.on("click",'[data-role="row"]',function(){var k=$(this).data("id");b.close();for(var i=0;i<d.length;++i){var j=d[i];if(g(j)==k){(a.onSelect||dummy)(d[i]);break}}b=null})}}})},createAutoResizableLazyLoadingTable:function(c){if(!c.scrollBody){return}var a=c.scrollBody;var b=$.debounce(50,function(){var f=a.height();var g=a[0].scrollHeight;var e=a[0].scrollTop;if((g-(e+f))<71){(c.atBottom||dummy)()}});a.scroll(b);if(c.disableResize!==true){var d=$.debounce(50,function(){var f=(c.calcHorizontalScrollHeight?c.calcHorizontalScrollHeight(c.scrollBody):0);var e=a[0].getBoundingClientRect();a.css("height",Math.max($window.height()-e.top-2-f,300))});$document.on(CPanel.VIEWPORT_CHANGE_EVENT+".lazyloadingtable",d);d()}return{refresh:b}},destroyAutoResizableLazyLoadingTable:function(a){$document.off(".lazyloadingtable");a.find("tbody").off(".lazyloadingtable")},showOrderDetails:function(c,b){var d=c.data("id");var a=c.parent().find(".order-summary-wrapper");if(c.hasClass("visible")){a.slideUp("fast")}else{Tools.makeWebsiteRequest({action:"getOrderDetails",data:{id:d},onOk:function(l){var t=l.data;var f=$(Templates.get("storeOrderInfoRow"));var e=Templates.get("storeOrderInfoItemRow");if(t.status==="CANCELED"){f.find('[data-action="orderActions"]').remove()}var j=t.hasShipping?Tools.addrToStr(t.customerName,t.shippingAddress):"";var r=Tools.addrToStr(t.customerName,t.billingAddress);var k="";if(t.paymentType==="cod"){k+=M.PAYMENT_COD}else{if(t.paymentType==="bank"){k+=M.PAYMENT_BANK}else{if(t.paymentType==="stripe"){k+=M.PAYMENT_STRIPE}else{if(t.paymentType==="braintree"){k+=M.PAYMENT_BRAINTREE}else{if(t.paymentType==="2checkout"){k+=M.PAYMENT_2CHECKOUT}else{if(t.paymentType==="paypal"){k+=M.PAYMENT_PAYPAL}else{if(t.paymentType==="no-payment"){k+=""}else{k+=t.paymentType}}}}}}}k+=(t.paymentType==="no-payment"?"":": ")+"<b>"+Tools.currencyToStrWithSymbol(t.total)+"</b><br />";if(t.transactionId){k+=M.TRANSACTION_ID+": <b>"+t.transactionId+"</b><br />"}for(var u=0;u<t.preShippingTaxes.length;++u){var s=t.preShippingTaxes[u];k+=escapeFormat(s.name);if(k.type===0){k+="("+s.amount+"%)"}k+=": "+Tools.currencyToStrWithSymbol(s.total)+"<br />"}if(t.hasShipping&&t.shipping){k+=M.SHIPPING_COST+" - "+escapeFormat(t.shipping.name)+": "+Tools.currencyToStrWithSymbol(t.shipping.cost)+"<br />"}for(var u=0;u<t.postShippingTaxes.length;++u){var s=t.postShippingTaxes[u];k+=escapeFormat(s.name);if(k.type===0){k+="("+s.amount+"%)"}k+=": "+Tools.currencyToStrWithSymbol(s.total)+"<br />"}if(j===""){f.find(".order-shipping-info-wrapper").remove()}else{f.find(".order-shipping-info-wrapper").find("span").html(j)}if(t.additionalFields&&t.additionalFields.length){t.additionalFields.forEach(function(i){if(i.name){var x=i.field||M.FILE;r+="<br /> "+x+': <a href="'+i.value+'" target="_blank">'+i.name+"</a>"}else{var x=i.field||M.ADDITIONAL_INFO;r+="<br /> "+x+": "+i.value}})}f.find(".order-billing-info-wrapper").find("span").html(r);f.find(".order-payment-info-wrapper").find("span").html(k);var m="";for(var q=0;q<t.items.length;++q){var w=t.items[q];var o="";if(w.variation!==null){for(var u=0;u<w.variation.length;++u){if(u>0){o+=", "}o+=w.variation[u].value}}if(w.additions){for(var u=0;u<w.additions.length;++u){if(o!==""){o+=", "}o+=WebPlatform.escapeHtml(w.additions[u].name)+": "+WebPlatform.escapeHtml(w.additions[u].value)}}if(o===""){o="-"}var h=resources+"/images/image-avatar.png";if(w.images&&w.images.length>0){h=getThumbnailsFromBase(w.images[0].base,"72x50",true)+w.images[0].name}var v='<img src="'+h+'" alt="">';var p=w.sku===null||w.sku.trim()===""?"-":w.sku;if(w.title===null){w.title=o||"";o=""}m+=format(escapeFormat(e,"sku",p,"name",w.title,"variations",o,"quantity",w.quantity,"price",Tools.currencyToStrWithSymbol(w.price)),"thumb",v)}if(t.discount!==null){var g=t.discountValue===null?"-":Tools.currencyToStrWithSymbol(-t.discountValue);var n=M.DISCOUNT_VALUE+" "+t.discount.name+" ("+t.discount.code+")";m+=escapeFormat(e,"sku","-","name",n,"variations","-","quantity","-","price",g,"thumb"," ")}f.find(".ordered-products-wrapper").append(m);a.data("order",t).empty().append(f).slideDown("fast");if(!b){a.find('a[data-action="orderActions"]').remove()}}})}c.toggleClass("visible")},switchProject:function(){Project.listProjects(function(b){var a=0;b.forEach(function(c){if(c.id===currentProjectId){a=c.status==="ACTIVE"?0:c.status==="TRIAL"?1:2}});Tools.showWindow({isModal:false,withDarkBackground:true,showCloseButton:true,title:"",noNav:true,noTitle:true,selectedSlide:a,width:500,markup:Templates.get("switchProjectContextMarkup"),action:{onShow:function(c,f){var g=f.find('[data-type="active"]');var e=f.find('[data-type="trial"]');var d=f.find('[data-type="expired"]');b.forEach(function(k){var i=k.status;var h=i==="ACTIVE"?g:i==="TRIAL"?e:d;var j=$(escapeFormat(Templates.get("switchProjectContextItemMarkup"),"id",k.id,"clz",k.id===currentProjectId?"active":"","name",k.name));if(!k.isOwner){j.find(".more-options").remove()}h.append(j)});f.on("click",".project-view",function(){var h=$(this).data("id");Tools.makeWebsiteRequest({action:"goToProject",data:{id:h},onOk:function(i){window.location.href="https://"+i.data+"/me/dashboard";WebPlatform.delay(10,function(){CPanel.disableUI(true)})}})});f.on("click",".more-options",function(j){j.stopPropagation();j.preventDefault();var i=$(this);var l=i.closest("[data-id]");var k=getById(b,l.data("id"));if(!k){return}if(!k.isOwner){return}var h=[];if(k.isOwner){h.push({text:M.RENAME_PROJECT,icon:"fa-pencil",tag:"rename"});h.push({text:M.DELETE,icon:"fa-trash",tag:"delete"})}else{h.push({text:M.LEAVE_PROJECT,icon:"fa-sign-out",tag:"leave"})}Tools.showTooltipOptions(i,h,function(o,n,p,m){if(m==="rename"){Tools.promptForInput(M.RENAME_PROJECT,M.RENAME_PROJECT_MESSAGE,k.name,function(q){Tools.makeWebsiteRequest({action:"renameProject",method:"post",data:{id:k.id,name:q},onOk:function(r){k.name=q;if(k.id===currentProjectId){Website.projectName=q}l.find('[data-role="name"]').text(q)}})})}else{if(m==="delete"){Tools.prompt(M.DELETE_PROJECT,M.DELETE_PROJECT_MESSAGE,function(){Tools.makeWebsiteRequest({action:"deleteProject",data:{id:k.id},onOk:function(q){if(k.id===currentProjectId){CPanel.redirect(q.data)}else{l.slideUp("fast")}}})},dummy,M.YES,M.CANCEL,false,"red-popup")}else{if(m==="leave"){Tools.prompt(M.LEAVE_PROJECT,M.LEAVE_PROJECT_MESSAGE,function(){Tools.makeWebsiteRequest({action:"leaveProject",data:{id:k.id},onOk:function(q){if(k.id===currentProjectId){CPanel.redirect(q.data)}else{l.slideUp("fast")}}})},dummy,M.YES,M.CANCEL,false,"red-popup")}}}})})}}})})},pickTags:function(c,a,e){var d=c.find(".tags-wrapper");var b=[];Website.crmTags.forEach(function(f){b.push(f.label)});a.forEach(function(f){d.append($("<li></li>").text(f))});d.tagit({caseSensitive:false,allowDuplicates:false,allowSpaces:true,showAutocompleteOnFocus:true,autocomplete:{position:{collision:"flip"},source:function(k,i){var h=Website.crmTags||[];var g=[];var j=k.term.toLowerCase();var l=true;h.forEach(function(n){var m=n.label.toLowerCase();if(m===j){l=false}if(m.indexOf(j)===0){g.push(n.label)}});if(l){g.unshift(k.term)}var f=[];g.forEach(function(m){if(a.indexOf(m)<0){f.push(m)}});i(f)}},animate:false,deleteOnly:true,readOnly:false,placeholderText:M.ADD_TAGS_PLACEHOLDER,singleFieldDelimiter:null,afterTagRemoved:function(g,h){var f=a.indexOf(h.tagLabel);if(f>-1){a.splice(f,1)}e()},afterTagAdded:function(g,h){if(a.indexOf(h.tagLabel)>-1){return}a.push(h.tagLabel);e();var f=-1;Website.crmTags.forEach(function(j,i){if(j.label===h.tagLabel){f=i}});if(f<0){Website.saveTag(-1,h.tagLabel)}}});c.find("#addTags").prop("checked",a.length>0).change(function(){toggleDisplay(d,this.checked,true);if(!this.checked){a.splice(0,a.length)}e()});toggleDisplay(d,a.length>0,true)},showPersonalizationFieldsPopup:function(a){a=a||{};a.onSkip=a.onSkip||dummy;if(!window.promptForBrandDetailsOnNewSite){a.onSkip();return}Tools.makeWebsiteRequest({action:"getTemplatePersonalizationFields",data:{theme:a.websiteTemplateId||-1,funnelId:a.funnelTemplateId||-1},onOk:function(c){var b=c.data||[];var d=a.funnelTemplateId&&a.funnelTemplateId>0;if(d&&b.length===0){a.onSkip();return}Tools.showWindow({isModal:true,noTitle:true,width:1050,customClass:"dynamic-data-popup",markup:Templates.get("initialPersonalizationValuesTemplate"),noNav:true,action:{onShow:function(e,h){var l="",g=[],j=null;var o='<label class="flex-none"><h5>%name%</h5><input type="text" class="tag-field" placeholder="%placeholder%" name="%tag%" /></label>';var p="";if(b.length===0){h.addClass("no-personalization-fields")}b.forEach(function(q){p+=escapeFormat(o,"name",q.name,"placeholder",q.description,"tag",q.tag)});h.find(".dynamic-content-inner").prepend(p);var f=h.find('input[name="mainColor"]');var k=GlobalStyling.getColorFromClass("primary","rgb(82, 206, 202)");Tools.addColorPicker(k,f.prev(),f,function(q,r){l=q});h.find('[data-role="logo"]')[d?"addClass":"removeClass"]("none");var m=function(r,s,u,t){i.empty();if(r==="image"){var q="url("+resources+"/images/image-avatar.png)";if(s){q="url("+getThumbnailsFromBase(u,"160x120")+s+")"}i.html('<div class="logo-preview-image" style="background-image: '+q+';"></div>')}else{i.html(t)}};var i=h.find(".logo-preview");i.click(function(){n(j,function(q){j=q;m(j.type,j.image,j.imageBase,j.text)})});m("image","","","");h.on("click",'a[data-role="skip"]',function(){e.close();a.onSkip()}).on("click",'a[data-role="continue"]',function(){e.close();g=[];h.find(".tag-field").each(function(){var q=$(this);g.push({name:q.attr("name"),value:q.val()})});(a.onConfirm||dummy)(l,j,g)});var n=function(s,q){var u=$(this);s=s||{};var r=s.type||"image";var t=s.image||"";var w=s.imageBase||"";var v=s.text||'<span style="font-size: 42px;">LOGO</span>';Tools.showWindow({title:M.EDIT_YOUR_LOGO,overflowX:"visible",overflowY:"visible",width:400,markup:'      <div class="logo-settings-wrapper popup-widget-wrapper">         <div class="checkbox-wrapper">           <input id="useImgLogoInput" name="logoType" value="image" class="css-checkbox modify" type="radio">           <label for="useImgLogoInput" class="css-label">'+M.IMG_LOGO+"<p>"+M.USE_IMG_LOGO+'</p></label>         </div>         <div class="checkbox-wrapper">           <input id="useTextLogoInput" name="logoType" value="text" class="css-checkbox modify" type="radio">           <label for="useTextLogoInput" class="css-label">'+M.TEXT_LOGO+"<p>"+M.USE_TEXT_LOGO+'</p></label>         </div>         <a class="add-image transition-all f-left none-soft" style="height:120px;">           <span class="add-button transition-all"></span>         </a>         <div class="col20 f-left none-soft" id="textLogoToggle">           <span>'+M.EDIT_YOUR_TEXT_LOGO+'</span>           <div class="input-wrapper">             <div class="text-editor-wrapper">               <textarea name="textLogo"></textarea>             </div>           </div>         </div>       </div>',action:{onShow:function(z,B){var A=B.find('[name="logoType"]'),D=B.find(".add-image"),x=$("#textLogoToggle");A.filter('[value="'+r+'"]').prop("checked",true);var E=B.find(".add-image").click(function(){var F=$(this);FileManager.selectFile({onCompleteCallback:function(G,H){F.css({backgroundImage:"url("+getThumbnailsFromBase(G,"160x120")+H+")"});t=H;w=G}})});if(t){E.css("backgroundImage","url("+getThumbnailsFromBase(w,"160x120")+t+")")}var y=B.find("textarea");y.val(v||"");Tools.addTextEditor({element:y,hasPersonalizationTags:true,isMinimalistic:true,containment:B,callbackHandler:function(F){if(F==="change"){v=Tools.getTextEditorValue(y)}}});var C=function(){D[r==="image"?"show":"hide"]();x[r==="text"?"show":"hide"]();$("#maxLogoHeightWrapper")[r==="image"?"show":"hide"]()};A.change(function(){r=$(this).val();C()});C()}},buttons:[Button(M.SUBMIT,Button.CLASS_MIDDLE_BLUE,function(x,y){q({type:r,image:t,imageBase:w,text:v});x.close()}),Button(M.CANCEL,Button.CLASS_MIDDLE_GREY,function(x,y){x.close()})]})}}}})}})},showTestWindow:function(d){var b=$("#test-"+d);if(b.length===0){return}var a=b.data("buttons")===true;var c=a?[Button(M.SAVE,Button.CLASS_MIDDLE_BLUE,function(e,f){}),Button.MIDDLE_CANCEL]:[];Tools.showWindow({isModal:true,title:"Test",icon:Popup.ICON_ADD,noNav:!a,noTitle:b.data("title")===false,width:b.data("width"),markup:b.html(),action:{onShow:function(e,f){if(b.data("execute")){window[(b.data("execute")||"dummy")](e,f)}}},buttons:c})},getGradientString:function(a){if(a&&a.enabled){var c=GlobalStyling.getColorFromClass(a.startColorClass,a.startColor);var b=GlobalStyling.getColorFromClass(a.endColorClass,a.endColor);if(a.type==="radial"){return"radial-gradient(circle, "+c+" 0%, "+b+" 100%)"}else{return"linear-gradient("+a.angle+"deg, "+b+" 0%, "+c+" 100%)"}}return""},bindGradientControls:function(c,b,a){b=mergeUnique(b||{},{enabled:false,angle:27,startColor:"",startColorClass:"primary",endColor:"",endColorClass:"secondary1",type:"linear"});var d=c.find('[data-role="gradient-wrapper"]');d[b.enabled?"show":"hide"]();c.find('input[name="enabled"]').prop("checked",b.enabled).change(function(){b.enabled=this.checked;d[b.enabled?"slideDown":"slideUp"]("fast");a()});c.find('[data-role="edit"]').click(function(){Tools.showWindow({isModal:false,title:M.GRADIENT_SETTINGS,width:400,forceAtRight:false,markup:Templates.get("gradientEditMarkup"),action:{onShow:function(e,h){var i=h.find('[name="startColor"]');var g=h.find('[name="endColor"]');var j=GlobalStyling.getColorFromClass(b.startColorClass,b.startColor);var f=GlobalStyling.getColorFromClass(b.endColorClass,b.endColor);Tools.addColorPicker(j,i.prev(),i,function(k,l){b.startColor=k;b.startColorClass=l;a()});Tools.addColorPicker(f,g.prev(),g,function(k,l){b.endColor=k;b.endColorClass=l;a()});Tools.addSlider({min:0,max:360,step:1,value:b.angle||0,updatedViewSuffix:String.fromCharCode(176),element:$("#gradientAngleSlider"),onChange:function(k){b.angle=k;a()}});e.bindObject("data",b,[{property:"type",onChange:function(){h.find(".input-slider-wrapper")[b.type==="linear"?"slideDown":"slideUp"]("fast")}}],a);h.find(".input-slider-wrapper")[b.type==="linear"?"show":"hide"]()}}})})},editProperty:function(c,d){if(c){c=Object.assign({},c)}else{c={id:0}}var a=null;var b=[Button(M.SAVE_PROPERTY,Button.CLASS_MIDDLE_BLUE,function(f,g){c=a.getData();if(c.type==="LIST"){if(c.value===null){c.value=[]}else{for(var e=0;e<c.value.length;++e){c.value[e]=c.value[e].trim();if(c.value[e].length===0){c.value.splice(e--,1)}}}}else{c.value=null}Tools.makeWebsiteRequest({action:"saveProperty",method:"post",data:{data:JSON.stringify(c)},onOk:function(h){var i=h.data;if(c.id===0){Website.crmProperties.push(i)}else{Website.crmProperties[indexOfId(Website.crmProperties,c.id)]=i}d(i);f.close()}})}),Button.MIDDLE_CANCEL];if(c.id!==0){b.push(Button(M.DELETE_PROPERTY,Button.CLASS_MIDDLE_RED,function(e,f){Tools.prompt(M.DELETE,M.DEL_CONFIRM,function(){Tools.makeWebsiteRequest({action:"deleteProperty",data:{id:c.id},onOk:function(){Website.crmProperties.splice(indexOfId(Website.crmProperties,c.id),1);d(c);e.close()}})})},Button.FLOAT_LEFT))}Tools.showWindow({isModal:true,title:M.CRM_PROPERTY,width:550,forceAtRight:false,action:{onShow:function(e,f){a=WebComponents.CRM.Property(e.getContentArea(),c);e.bindComponent(a)}},buttons:b})},selectMarketingProperty:function(a,b){Tools.showWindow({isModal:false,withDarkBackground:true,showCloseButton:true,title:M.SELECT_PROPERTY,width:450,noNav:true,customClass:"add-member-dialog",forceAtRight:false,action:{onShow:function(c,d){c.bindComponent(WebComponents.Marketing.pickProperty(c.getContentArea(),a,function(e){c.close();b(e)}))}}})},showShareWebsiteDialog:function(d,h){var f=!!h;var h=h||1;var e=(h+d)^7;var g=f?"f":"w";var c=encodeURIComponent(btoa(d+"|"+e+"|"+h+"|"+g).replace(/=/g,"")).replace(/%/g,"-");var b="https://"+domain+"/cc/"+c;var i=f?M.SHARE_FUNNEL_TITLE:M.SHARE_WEBSITE_TITLE;var j=f?M.SHARE_FUNNEL_DESC:M.SHARE_WEBSITE_DESC;var a=f?M.SHARE_FUNNEL_WITH_AFFILIATE_DESC:M.SHARE_WEBSITE_WITH_AFFILIATE_DESC;Tools.showWindow({isModal:false,width:580,customClass:"funnels-popup",markup:format(Templates.get("funnelsShareMarkup"),"primarylink",b,"title",i,"desc",j,"aff_desc",a),noNav:true,action:{onShow:function(k,l){var m=l.find('[data-role="affiliate-links"]');Tools.makeWebsiteRequest({action:"getAffiliateLinks",onOk:function(n){var p=n.data||[];if(p.length>0){m.removeClass("none");var o="";p.forEach(function(q){o+='<option value="'+q.url+'">'+q.url+"</option>"});m.find("select").append(o).change(function(){var s=this.value;var q="https://"+domain+"/"+s+"?cc="+c;var r=m.find(".share-link");r.find("span").text(q);r.data("link",q)}).change()}}});l.on("click",".copy-link",function(n){Tools.copyToClipboard($(n.target).closest(".share-link").data("link"));Tools.showCornerMessage(1000,M.COPIED_TO_CLIPBOARD,Tools.TOOLTIP_TYPE_SUCCESS)})}},buttons:[]})},createNewCrmTag:function(a){Tools.promptForInput(M.CREATE_NEW_TAG,M.ENTER_TAG_VALUE,"",function(b){b=b.trim();var c=false;Website.crmTags.forEach(function(d){if(d.label===b.trim()){c=true}});if(c){Tools.showError(M.TAG_EXISTING);return}Website.saveTag(-1,b,a)})},selectTags:function(a,c,e){var b=null;var d=Button(M.ADD_NEW_TAG,Button.CLASS_MIDDLE_BLUE+" additional-popup-button with-icon",function(f,g){UITools.createNewCrmTag(function(h){b.addItem(h,true)})},Button.FLOAT_LEFT);b=Tools.chooseMultiple({title:M.TAGS,message:M.SELECT_TAGS_STEP,noItemsMessage:M.NO_TAGS_SELECTED,items:Website.crmTags,selectedItems:a||[],isModal:true,additionalButton:d,allowEmptySelection:e===true,getItemId:function(f){return f.id},getItemText:function(f){return f.label},onSelect:c})},createNewMarketingList:function(a){Tools.promptForInput(M.ADD_LIST,M.DESCRIBE_LIST,"",function(b){b=b.trim();Tools.makeWebsiteRequest({action:"setMarketingLists",data:{isNew:true,data:JSON.stringify({name:b})},onOk:function(d){var c=d.data||[];if(c.length>0){a(c[c.length-1],c)}}})})},selectMarketingLists:function(a,e,d){var c=null;var b=Button(M.ADD_LIST,Button.CLASS_MIDDLE_BLUE+" additional-popup-button with-icon",function(f,g){UITools.createNewMarketingList(function(h){a.push(h);c.addItem(h,true)})},Button.FLOAT_LEFT);c=Tools.chooseMultiple({title:M.SELECT_LISTS2,message:M.SELECT_LISTS,noItemsMessage:M.NO_AVAILABLE_LISTS,items:a,selectedItems:e||[],isModal:true,additionalButton:b,getItemId:function(f){return f.id},getItemText:function(f){return f.name},onSelect:d})}};WebPlatform.Fulfillment=WebPlatform.Fulfillment||{};WebPlatform.Fulfillment.Speedy=function(){var k;var b={};var e={};var g={};var c={};var f=function(n,s,r,o,p){var m=function(u){var t="";u.forEach(function(w){var v=w.name;if(w.address&&w.address.localAddressString){v+=" - "+w.address.localAddressString}t+=escapeFormat('<option value="%id%">%address%</option>',"id",w.id,"address",v)});o.empty().append(t).val(r);(p||dummy)()};var q=b[""+n+"|"+s];if(isUndefined(q)){Tools.makeWebsiteRequest({action:"shippingServiceRequest",method:"post",data:{provider:"speedy",type:"location",locationType:"office",country:n||100,site:s},onOk:function(t){var u=t.data||[];b[""+n+"|"+s]=u;m(u)}})}else{m(q)}};var i=function(m,o,p,n){p.val(m||"");p.attr("autocomplete","no").autocomplete({highlightClass:"ui-autocomplete-match",delay:100,minLength:1,autoFocus:true,source:function(s,q){var r=s.term.trim();var t=e[""+o+"|"+r];if(isUndefined(t)){Tools.makeWebsiteRequest({action:"shippingServiceRequest",method:"post",data:{provider:"speedy",type:"location",locationType:"site",country:o||100,name:r},onOk:function(u){var v=u.data;v.forEach(function(x){var w="";if(x.type){w=x.type+" "}w+=x.name;if(x.postCode){w+=", "+x.postCode}if(x.region){w+=", "+x.region}x.value=w});e[""+o+"|"+r]=v;q(v)}})}else{q(t)}},select:function(q,r){p.val(r.item.name);(n||dummy)(r.item);return false}})};var h=function(o,t,s,n,r){if(s===0||t===0){return[]}var p=o==="street"?"street":"complex";var m=o==="street"?g:c;var q=""+t+"|"+s+"|"+n;if(isUndefined(m[q])){Tools.makeWebsiteRequest({action:"shippingServiceRequest",method:"post",data:{provider:"speedy",type:"location",locationType:p,country:t||100,site:s||0,name:n},onOk:function(v){var u=[];(v.data||[]).forEach(function(w){u.push({id:w.id,name:w.name,value:w.name})});m[q]=u;r(u)}})}else{r(m[q])}};var d=function(o,m,p,r,s,n,q){s.val(m||"");s.attr("autocomplete","no").autocomplete({highlightClass:"ui-autocomplete-match",delay:100,minLength:1,autoFocus:true,source:function(v,t){var u=v.term.trim();var w=r();h(o,p,w,u,function(x){t(x)})},select:function(t,u){s.val(u.item.name);(n||dummy)(u.item);return false},change:function(t,u){q(s.val())}})};var a=function(m){Tools.showWindow({title:M.SHIPMENT_INFORMATION,width:400,hideNav:true,isModal:false,showCloseButton:true,withDarkBackground:true,markup:Templates.get("speedyWaybillDetailsMarkup"),action:{onShow:function(n,q){var r=(((m.extra||{}).speedy||{}).waybill||{});var p=q.find('[data-role="no"]');var s=q.find('[data-role="price"]');var o=q.find('[data-role="deliveryDate"]');p.find('[data-role="value"]').text(r.id||"---");if(r.price){s.find('[data-role="value"]').text(Tools.currencyToStrWithSymbol(r.price))}else{s.hide()}if(r.pickupDate){o.find('[data-role="value"]').text(WebPlatform.yyyymmddDateToStrWithMonth(r.pickupDate))}else{o.hide()}q.find('[data-role="print"]').attr("href","/me/download?type=printWaybill&data="+m.id)}},buttons:[]})};var l=function(m){Tools.showWindow({title:M.SHIPMENT_INFORMATION,width:Math.min($window.width()-50,750),height:"95vh",isModal:true,hideNav:true,markup:Templates.get("speedyFulfillmentSettingsMarkup"),action:{onShow:function(q,F){var R=(Website.appsSettings||{}).speedy||{};var B=((m.shipping||{}).extra||{}).speedy||{};var w=(m.extra||{}).speedy||{};var v=m.shippingAddress||{};var G=m.paymentType==="cod";var U=(R.deliveryPayer||"receiver")==="receiver"?m.subTotal:m.total;var A=m.subTotal;var P=0;var C=0;var p=B.serviceId||0;var u=B.officeId||0;var W=w.countryId||100;var I=w.siteId||0;var n=m.shipping.kind==="speedy-office"?"office":"address";var D=F.find('[data-role="actualPrice"]');var Q=F.find('[data-role="priceError"]');F.find('[data-role="cod-sign"]').text(Website.storeCurrencySymbol);F.find('[data-role="cod-wrapper"]').addClass(Website.storeCurrencyPositionAtLeft?"left-sign":"right-sign");var o=v.address;if(v.address2){o+=", "+v.address2}F.find('[data-role="client-addr"]').text(" "+o+" ");m.items.forEach(function(X){if(X.type==="PHYSICAL"){C+=(Math.max(X.weight||0,0.1)*X.quantity);++P}});if(R.singleParcel){P=1}var t="";var x="";var z=null;var r=(R.services||[]);var L=false;r.forEach(function(X){if(X.enabled){t+='<option value="'+X.id+'">'+X.name+"</option>";x+='<option value="'+X.id+'">'+X.name+"</option>";if(X.id===p){L=true}}});if(!L&&r.length>0){p=r[0].id}z=p;var V={id:m.id,senderName:R.senderName||"",privatePerson:R.privatePerson!==false,senderPhone:R.senderPhone||"",senderType:R.senderType||"address",senderClientId:R.senderClientId||"",senderCity:R.speedyCity||"",senderCityId:R.speedyCityId||0,senderOfficeId:R.speedyOfficeId||0,receiverName:m.customerName,receiverPhone:v.phone||"",receiverCity:v.city,receiverCountryId:W,receiverCityId:I,receiverZip:v.zipCode,receiverType:n,receiverOfficeId:u,receiverStreet:"",receiverStreetId:"",receiverStreetNo:"",receiverQuarter:"",receiverQuarterId:"",receiverBlock:"",receiverEntr:"",receiverFloor:"",receiverApt:"",receiverNote:"",payerType:R.deliveryPayer||"receiver",service:p,parcels:P,weight:C,orderNote:"",insurance:!!R.insurance,cod:G,codValue:U,insuranceValue:A,preview:!!R.preview,test:!!R.test,fragile:!!R.fragile,documents:!!R.documents,returnPayer:R.returnsPayer||"receiver",returnService:z,provider:"speedy",pickupDate:null};if(!V.preview){V.test=false}var N=F.find('[data-role="send"]').click(function(){if(N.hasClass("disabled")){return}Tools.prompt(M.SEND_ORDER,M.SEND_ORDER_CONFIRM,function(){V.type="fulfill";Tools.makeWebsiteRequest({action:"shippingServiceRequest",method:"post",data:V,onOk:function(X){m.extra=m.extra||{};m.extra.speedy=m.extra.speedy||{};m.extra.speedy.waybill=X.data;q.close();a(m)}})})});var y=$.debounce(250,function(){V.type="calculatePrice";D.text("...");Q.addClass("none");Tools.makeWebsiteRequest({action:"shippingServiceRequest",method:"post",data:V,onOk:function(Y){var X=Y.data;if(X.error){D.text("--");Q.removeClass("none").text(X.error);N.addClass("disabled")}else{D.text(Tools.currencyToStrWithSymbol(X.price));Q.addClass("none");N.removeClass("disabled")}}})});F.find('[data-role="clientPrice"]').text(Tools.currencyToStrWithSymbol(m.shipping.cost));F.find('[data-role="insurance"]').text(Tools.currencyToStrWithSymbol(A));var S=F.find('select[name="service"]');var E=F.find('select[name="returnService"]');S.append(t);E.append(x);var K="",H=F.find('select[name="senderClientId"]');(R.clients||[]).forEach(function(X){K+=escapeFormat('<option value="%id%">%address%</option>',"id",X.id,"address",X.address)});H.append(K);$("#speedyAddressWrapper")[V.senderType==="address"?"show":"hide"]();$("#speedyOfficeWrapper")[V.senderType==="address"?"hide":"show"]();$("#receiverAddressWrapper")[V.receiverType==="address"?"show":"hide"]();$("#receiverOfficeWrapper")[V.receiverType==="address"?"hide":"show"]();toggleDisplay($("#codValueWrapper"),V.cod,false);var J=q.bindObject("data",V,[{property:"senderName"},{property:"senderPhone"},{property:"senderType",onChange:function(){$("#speedyAddressWrapper")[V.senderType==="address"?"slideDown":"slideUp"]("fast");$("#speedyOfficeWrapper")[V.senderType==="address"?"slideUp":"slideDown"]("fast")}},{property:"senderClientId"},{property:"receiverName"},{property:"receiverPhone"},{property:"receiverZip"},{property:"receiverType",onChange:function(){$("#receiverAddressWrapper")[V.receiverType==="address"?"slideDown":"slideUp"]("fast");$("#receiverOfficeWrapper")[V.receiverType==="address"?"slideUp":"slideDown"]("fast")}},{property:"receiverStreetNo"},{property:"receiverBlock"},{property:"receiverEntr"},{property:"receiverFloor"},{property:"receiverApt"},{property:"receiverNote"},{property:"payerType"},{property:"service"},{property:"parcels"},{property:"weight"},{property:"pickupDate",type:"date",parseOptions:{allowEmpty:false,defaultValue:new Date().getTime()}},{property:"orderNote"},{property:"insurance",type:"bool"},{property:"cod",type:"bool",onChange:function(){toggleDisplay($("#codValueWrapper"),V.cod,false)}},{property:"codValue"},{property:"preview",type:"bool",onChange:function(){if(!V.preview){J.setTest(false)}}},{property:"test",type:"bool",onChange:function(){if(V.test){J.setPreview(true)}}},{property:"fragile",type:"bool"},{property:"documents",type:"bool"},{property:"returnPayer"},{property:"returnService"}],function(X){switch(X.property){case"senderName":case"senderPhone":case"receiverName":case"receiverPhone":case"receiverEntr":case"receiverFloor":case"receiverApt":case"receiverNote":case"orderNote":return}y()});var O=F.find('select[name="senderOfficeId"]');i(V.senderCity||"",100,F.find('input[name="senderCity"]'),function(X){if(X.id!==V.senderCityId){V.senderCity=X.name;V.senderCityId=X.id;V.senderOfficeId="";f(100,V.senderCityId,V.senderOfficeId,O,y)}});O.change(function(){V.senderOfficeId=+this.value;y()});var s=F.find('select[name="receiverOfficeId"]');i(V.receiverCity||"",W,F.find('input[name="receiverCity"]'),function(X){J.setReceiverZip(X.postCode);V.receiverCity=X.name;V.receiverCityId=X.id;V.receiverOfficeId="";f(V.receiverCountryId,V.receiverCityId,V.receiverOfficeId,s,y)});s.change(function(){V.receiverOfficeId=+this.value;y()});d("street",V.receiverStreet||"",W,function(){return V.receiverCityId},F.find('input[name="receiverStreet"]'),function(X){V.receiverStreet=X.name;V.receiverStreetId=X.id;y()},function(X){if(X!==V.receiverStreet){V.receiverStreetId="";V.receiverStreet=X;y()}});d("complex",V.receiverQuarter||"",W,function(){return V.receiverCityId},F.find('input[name="receiverQuarter"]'),function(X){V.receiverQuarter=X.name;V.receiverQuarterId=X.id;y()},function(X){if(X.trim()!==V.receiverQuarter){V.receiverQuarterId="";V.receiverQuarter=X;y()}});if(V.senderCityId||V.receiverCityId){if(V.senderCityId){f(100,V.senderCityId,V.senderOfficeId,O,function(){if(V.receiverCityId){f(V.receiverCountryId,V.receiverCityId,V.receiverOfficeId,s,y)}})}else{f(V.receiverCountryId,V.receiverCityId,V.receiverOfficeId,s,y)}}else{y()}}},buttons:[]})};var j=function(){};return{_init:function(){k=this;j();delete this._init;return this},fulfillOrder:l,showWaybillDetails:a,autocompleteCities:i,loadOffices:f}._init()};var BookingCommon={getDataById:function(c,b){if(!b||!c){return null}for(var a=0;a<b.length;a++){if(b[a].id===parseInt(c)){return b[a]}}return null},getDataByProperty:function(d,c,b){if(!b||!c){return null}for(var a=0;a<b.length;a++){if(b[a][d]===c){return b[a]}}return null},getRandomInt:function(){return Math.round(Math.random()*100000)},getNextId:function(b){if(!b||b.length===0){return BookingCommon.getRandomInt()}var a=[];var c=BookingCommon.getRandomInt();b.forEach(function(d){a.push(d.id)});while(a.indexOf(c)!==-1){c=BookingCommon.getRandomInt()}return c},compareDates:function(e,c,d){c=(c==null)?new Date():c;d=(d==null)?true:d;if(!d){var b=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0);var a=new Date(c.getFullYear(),c.getMonth(),c.getDate(),0,0,0,0);return BookingCommon.compareDates(b,a)}if(e.getTime()>c.getTime()){return 1}if(e.getTime()<c.getTime()){return 2}return 0},_setupImageSelector:function(c,b){var a=b.find("#backgroundSelectImageHolder");if(c.image){Tools.setImage(a,c.image,"160x120",c.imageBase)}b.find(".add-image").click(function(){FileManager.selectFile({listImagesOnly:true,onCompleteCallback:function(d,e){Tools.setImage(a,e,"160x120",d)}})})},showOperatorPopup:function(e,f,c,b){f=(f==null)?{}:f;b=(b==null)?false:b;f=mergeUnique(f,{name:"",email:"",description:"",id:-1,color:"#4eb3ea"});if(f.id<0&&Website.bookingOperatorsLimit<999&&Website.bookingOperators.length>=Website.bookingOperatorsLimit){Tools.showWindow({markup:format(Templates.get("warningPopup"),"title",M.NOT_ENOUGH_OPERATORS,"message",M.NOT_ENOUGH_OPERATORS_DESC,"button",M.UPGRADE),width:500,noNav:true,noTitle:true,action:{onShow:function(j,k){k.on("click",'a[data-role="continue"]',function(){j.close();CPanel.goToUrl("/me/settings/billing")})}}});return}var g=[Button(M.SAVE,Button.CLASS_MIDDLE_BLUE,function(j,k){i(e,k,function(){j.close()})}),Button.MIDDLE_CLOSE];if(b&&f.id!==-1){g.push(Button(M.DELETE,Button.CLASS_MIDDLE_RED,function(j,k){Tools.prompt(M.DELETE,M.DELETE_OPERATOR_CONFIRM,function(){d(function(){j.close()})})},Button.FLOAT_LEFT))}var i=function(k,n,o){if(f.name.trim()===""||f.email.trim()===""){Tools.showError(M.OPERATOR_MISSING_NAME_EMAIL);return}if(f.id===-1){var l=BookingCommon.getDataByProperty("email",f.email,k);if(l!==null){Tools.showError(M.OPERATOR_EMAIL_DUPLICATE);return}}var m=n.find("#backgroundSelectImageHolder");f.image=m.data("image");f.imageBase=m.data("imageBase");var j=false;if(f.id===-1){f.id=BookingCommon.getNextId(k);j=true}Tools.makeWebsiteRequest({action:"setBookingOperators",method:"post",data:{data:JSON.stringify(f),"new":j},onOk:function(p){k=(p!=null&&p.data!=null)?p.data:[];Website.bookingOperators=k;if(typeof o!=="undefined"){o()}if(typeof c!=="undefined"){c(k)}}})};var d=function(j){Tools.makeWebsiteRequest({action:"deleteBookingOperators",method:"post",data:{id:f.id},onOk:function(k){e=(k!=null&&k.data!=null)?k.data:[];Website.bookingOperators=e;if(typeof j!=="undefined"){j()}if(typeof c!=="undefined"){c(e)}}})};var a=function(k,l){var m,j;Tools.makeWebsiteRequest({action:"googleCalendarList",data:{id:k.id},onOk:function(n){Tools.showWindow({isModal:false,width:500,title:M.CHANGE_GOOGLE_SETTINGS,markup:Templates.get("bookingGoogleSettings"),action:{onShow:function(o,p){m=p.find(".calendar-select");m.empty();j=p.find(".calendar-busy-select");j.empty();n.data.forEach(function(r){if(r.access==="writer"||r.access==="owner"){m.append("<option value='"+r.value+"'>"+r.name+"</option>")}var q=(k.freeBusyCalendars||["primary"]).indexOf(r.value)!==-1;j.append("<div class='checkbox-wrapper col20 mt-5 f-left'><input id='"+r.value+"' type='checkbox' class='css-checkbox' value='"+r.value+"' "+(q?"checked='checked'":"")+" /><label for='"+r.value+"' class='css-label'>"+r.name+"</label></div>")});m.val(!!k.calendarId?k.calendarId:"primary")},onHide:function(){if(!!k.token){var o=m.val();k.calendarId=o!=="primary"?o:null;k.calendarIdName=o!=="primary"?m.find(":selected").text():null;k.freeBusyCalendars=[];k.freeBusyCalendarNames=[];$.each(j.find("input:checked"),function(){k.freeBusyCalendars.push($(this).val());k.freeBusyCalendarNames.push($(this).siblings("label").text())});if(k.freeBusyCalendars.length===0||(k.freeBusyCalendars.length===1&&k.freeBusyCalendars[0]==="primary")){k.freeBusyCalendars=null;k.freeBusyCalendarNames=null}}else{k.calendarId=null;k.calendarIdName=null;k.freeBusyCalendars=null;k.freeBusyCalendarNames=null}l()}}})}})};var h=function(j){j.find(".selected-calendar-settings").text(f.calendarIdName!=null?f.calendarIdName:"Primary");j.find(".busy-calendar-settings").text(f.freeBusyCalendarNames!=null?f.freeBusyCalendarNames.join(", "):"Primary")};Tools.showWindow({isModal:false,width:500,title:f.id<0?M.NEW_OPERATOR:M.SETTINGS,markup:Templates.get("bookingNewOperator"),buttons:g,action:{onShow:function(j,l){BookingCommon._setupImageSelector(f,l);var m=l.find('[data-role="link-google"]');var n=l.find('[data-role="unlink-google"]');toggleDisplay(l.find(".connected-calendar-wrapper"),!!f.token,false);if(f.token){m.hide();n.show();h(l);if(f.connectedEmail){l.find(".connected-email").text(f.connectedEmail)}l.find(".edit-calendar-settings").on("click",function(){a(f,function(){h(l)})});n.on("click",function(){f.token=null;f.calendarId=null;f.calendarIdName=null;f.freeBusyCalendars=null;f.freeBusyCalendarNames=null;i(e,l,function(){j.close()})})}else{n.hide();m.show();m.on("click",function(){i(e,l,function(){var o=function(){Tools.makeWebsiteRequest({action:"getOAuth2AuthorizationUrl",data:{type:"googleCalendar",email:f.email},onOk:function(p){j.close();window.location.href=p.data}})};if(window.googleAppValid||true){o()}else{Tools.showWindow({markup:format(Templates.get("warningPopup"),"title",M.WARNING,"message",M.OAUTH_DESC,"button",M.CONTINUE),width:500,noNav:true,noTitle:true,action:{onShow:function(p,q){q.on("click",'a[data-role="continue"]',function(){p.close();o()})}}})}})})}var k=l.find(".color-pick-wrap div");k.css("background-color",f.color?f.color:"#ffffff");k.click(function(o){var p=f.color?f.color:Tools.colorFromString(f.name);Tools.pickColor(p,o.currentTarget,function(q){k.css("background-color",q);f.color=q==="rgba(255, 255, 255, 1)"?null:q})});j.bindObject("data",f,[{property:"name"},{property:"description"},{property:"email",type:"email"}],function(o){if(!f.color&&o.property==="name"){f.color=Tools.colorFromString(f.name);k.css("background-color",f.color)}})}}})},showServicesPopup:function(i,f,e,a){f=(f==null)?{}:f;a=(a==null)?false:a;var b;f=mergeUnique(f,{name:"",description:"",type:"one-on-one",maxAttendees:0,id:-1});if(f.id<0&&Website.bookingServicesLimit<999&&Website.bookingServices.length>=Website.bookingServicesLimit){Tools.showWindow({markup:format(Templates.get("warningPopup"),"title",M.NOT_ENOUGH_SERVICES,"message",M.NOT_ENOUGH_SERVICES_DESC,"button",M.UPGRADE),width:500,noNav:true,noTitle:true,action:{onShow:function(j,k){k.on("click",'a[data-role="continue"]',function(){j.close();CPanel.goToUrl("/me/settings/billing")})}}});return}var g=function(k,j){Tools.makeWebsiteRequest({action:"getBookings",method:"get",onOk:function(l){var m=true;l.data.forEach(function(n){if(!n.autoAssign){return}n.operators.forEach(function(o){if(o.services.length===0){return}if(o.services.indexOf(k)!==-1){m=false;return true}});if(m){return true}});j(m)}})};var c=function(l){var k=function(){Tools.makeWebsiteRequest({action:"setBookingServices",method:"post",data:{data:JSON.stringify(f),"new":j},onOk:function(m){if(typeof l!=="undefined"){l((m!=null&&m.data!=null)?m.data:[])}}})};var j=false;if(f.id===-1){f.id=BookingCommon.getNextId(i);j=true}if(f.type==="group"&&f.maxAttendees<2){f.type="one-on-one"}if(f.type==="one-on-one"){f.maxAttendees=0}if(f.type==="group"&&!j){g(f.id,function(m){if(!m){Tools.showError("You cannot use group services with auto assign bookings.");return}k()});return}k()};var d=function(k,j){Tools.makeWebsiteRequest({action:"deleteBookingServices",method:"post",data:{id:k},onOk:function(l){if(typeof j!=="undefined"){j(l)}}})};var h=[Button(M.SAVE,Button.CLASS_MIDDLE_BLUE,function(j,l){if(f.name.trim()===""){Tools.showError(M.MISSING_SERVICE_NAME);return}var k=l.find("#backgroundSelectImageHolder");f=Object.assign(f,{duration:Math.max(b.get()||30,1),image:k.data("image"),imageBase:k.data("imageBase")});c(function(m){Website.bookingServices=m;e(m);j.close()})}),Button.MIDDLE_CLOSE];if(a&&f.id!==-1){h.push(Button(M.DELETE,Button.CLASS_MIDDLE_RED,function(j,k){Tools.prompt(M.DELETE,M.DELETE_SERVICE_CONFIRM,function(){d(f.id,function(l){Website.bookingServices=l.data;e(l.data)})});j.close()},Button.FLOAT_LEFT))}Tools.showWindow({isModal:true,width:500,title:f.id<0?M.NEW_SERVICE:M.SETTINGS,markup:Templates.get("bookingNewService"),buttons:h,action:{onShow:function(j,l){b=l.find(".service-duration").boxSelect({});if(f.id!==-1){b.set(f.duration)}BookingCommon._setupImageSelector(f,l);var m=l.find(".service-type-section");(f.type==="group")?m.show():m.hide();var k=f.tags||[];UITools.pickTags(l,k,function(){f.tags=k});j.bindObject("data",f,[{property:"name"},{property:"description"},{property:"type"},{property:"maxAttendees",type:"number"}],function(n){if(n.property==="type"){(f.type==="group")?m.show():m.hide()}})}}})},boxSelect:function(c){var b=this;var d=false;var a=c.dataType||"int";this.on("click",".duration-item",function(){var f=$(this);var e=f.parent();e.find(".duration-item").removeClass("active");f.addClass("active").trigger("itemChange");d=true});this.get=function(){var f=this.find(".duration-item.active");var e=f.data("role");if(e==="custom"){var g=f.find("input").val()||f.data("role");return a==="int"?parseInt(g):g}return a==="int"?parseInt(e):e};this.set=function(f){this.find(".duration-item").removeClass("active");var e=this.find('.duration-item[data-role="'+f+'"]');if(e.length>0){e.addClass("active");return}var g=this.find('.duration-item[data-role="custom"]');if(g.length>0){g.addClass("active");g.find("input").val(f);return}this.find(".duration-item:first").addClass("active")};this.reset=function(){d=false;this.find(".duration-item").removeClass("active");this.find(".duration-item:first").addClass("active");b.trigger("itemChange")};this.hasChange=function(){return d};if(typeof c.onChange!=="undefined"){this.on("itemChange",c.onChange);this.find(".duration-item input").on("change",c.onChange)}return this},scheduledEvents:function(n){n=(n==null)?{}:n;var m=this;var g=n.data||[];var a=Templates.get("bookingScheduledEventWrapper");var h=Templates.get("bookingCustomerInfo");var f;this.set=function(o,p){p=(p==null)?false:p;if(!p){this.clear()}g=o||[];k(p)};this.clear=function(){m.empty()};this.setBookings=function(o){f=o};var b=function(o){var p=BookingCommon.parseDateString(o);return p.getFullYear()+p.getMonth()+p.getDate()};var d=function(q){var p=q.split(":");var o=p[0]>=12?"PM":"AM";p[0]=parseInt(p[0])%12||12;p[1]=("0"+p[1]).slice(-2);return p.join(":")+o};var c=function(q,o){var p=WebsiteSettings.getDateFormat()==="uk";return !p?(d(q.time)+" - "+d(o.time)):(q.time+" - "+o.time)};var l=function(p,o){return !!o&&p.eventId===o.eventId&&p.operatorId===o.operatorId&&p.start.date===o.start.date&&p.start.time===o.start.time&&p.end.date===o.end.date&&p.end.time===o.end.time};var e=function(q,o,r){if(r){var p=parseInt(!!o.data("count")?o.data("count"):0)+1;o.text(p+" "+M.GROUP_BOOKED);o.data("count",p);return}if(q.name){o.text(q.name);if(q.email){o.append($("<span> ("+q.email+")</span>"))}}else{o.text(q.formAnswers[0].value)}};var i=function(t,o,p,s,q){var r=(t.type!=="file")?escapeHtml(t.value):'<a href="'+t.value+'" class="underline" target="_blank">'+escapeHtml(t.name)+"</a>";if(!!p){p.append('<th class="flex-1">'+escapeHtml(t.field)+"</th>")}if((q===0||q===1)&&s.contactId&&t.type!=="file"){r='<a href="/me/crm/contact/'+s.contactId+'" class="underline" rel="tab">'+r+"</a>"}o.append('<td class="flex-1">'+r+"</td>")};var j=function(x,v,u){if(u){v.find(".group-table").show();var w=v.find("table");var t=w.find("thead");var q=w.find("tbody");var p=$('<tr class="flex flex-row align-center" data-id="'+x.id+'"></tr>');var s=$('<tr class="flex flex-row align-center"></tr>');var r=0;x.formAnswers.forEach(function(y){i(y,p,t.children().length===0?s:null,x,r++)});q.append(p);if(t.children().length===0){t.append(s)}return}var o=v.find(".event-form-answers");$.each(x.formAnswers,function(y,C){var z=escapeHtml(C.field);var B=escapeHtml(C.value);if(C.type==="file"){B='<a href="'+C.value+'" class="underline" target="_blank">'+escapeHtml(C.name)+"</a>"}var A=format(h,"label",z,"value",B);o.append(A)})};var k=function(){if(g.length===0){m.append(Templates.get("bookingNoDataRow"));return}var H=Templates.get("bookingScheduledEvent");var y;var o;var D=null;var F=null;var C=null;var G=$(m).children(":last-child");if(G.length>0){y=G;D=y.data("date");o=y.find(".booked-items-wrapper")}for(var A=0;A<g.length;A++){var s=g[A];if(D!==b(s.start.date)){D=b(s.start.date);if(y){m.append(y)}var B=new Date();var J=BookingCommon.parseDateString(s.start.date);var E;E=J.toDateString();if(BookingCommon.compareDates(B,J,false)===0){E+=" ("+M.TODAY+")"}y=$(escapeFormat(a,"date",E));y.data("date",D);o=y.find(".booked-items-wrapper")}var z=BookingCommon.parseDateString(s.end.date);var p=s.end.time.split(":");z.setHours(p[0],p[1],0,0);var v=BookingCommon.getDataById(s.operatorId,Website.bookingOperators);var u=BookingCommon.compareDates(z)===2?"passed":"";var t=$(escapeFormat(H,"id",s.id,"time",c(s.start,s.end),"eventName",s.eventData.name,"class",u));var q=t.find(".more-info");var r=t.find(".client");var x=l(s,g[A+1]);if(F!=null&&l(s,F)){e(s,C.find(".client"),true);j(s,C,true);continue}e(s,r,x);if(s.eventData.location&&s.eventData.location.trim()!==""){q.append(escapeFormat(h,"label",M.LOCATION,"value",s.eventData.location))}if(s.serviceId!==-1){var I=BookingCommon.getDataById(s.serviceId,Website.bookingServices);if(I!==null){q.append(escapeFormat(h,"label",M.SERVICE,"value",I.name))}}if(v){q.append(escapeFormat(h,"label",M.OPERATOR,"value",v.name));if(v.color){var w=t.find(".color-pick-wrap div");w.css("background-color",v.color);w.show()}}j(s,t,x);t.on("click",".booked-event-header",function(){var N=$(this).closest(".booked-event");var L=N.find(".booked-event-info");var K=N.find(".middle-button.bordered-button");N.toggleClass("open");if(L.css("display")==="none"){K.text(M.HIDE_DETAILS);L.fadeIn("fast")}else{K.text(M.SHOW_DETAILS);L.fadeOut("fast")}});o.append(t);F=s;C=t}if(y){m.append(y)}};m.clear();k();return this},toUTCDateString:function(a,b){b=(b==null)?true:b;return a.getFullYear()+"-"+("0"+(a.getMonth()+1)).slice(-2)+"-"+("0"+a.getDate()).slice(-2)+(b?"T00:00:00.000Z":"")},parseDateString:function(a){var b=a.split("-");return new Date(parseInt(b[0]),parseInt(b[1])-1,parseInt(b[2]))},initCalendar:function(a){return a.datepicker({dateFormat:WebsiteSettings.getDateFormat()==="us"?"mm/dd/yy":"dd/mm/yy",monthNamesShort:[M.JAN,M.FEB,M.MAR,M.APR,M.MAY_SHORT,M.JUN,M.JUL,M.AUG,M.SEP,M.OCT,M.NOV,M.DEC],monthNames:[M.JANUARY,M.FEBRUARY,M.MARCH,M.APRIL,M.MAY,M.JUNE,M.JULY,M.AUGUST,M.SEPTEMBER,M.OCTOBER,M.NOVEMBER,M.DECEMBER]})},cancelBooking:function(e,f){var d=[];var c=$(e.currentTarget).closest(".booked-event");var a=c.find(".scrollable-table table tbody tr");for(var b=0;b<a.length;b++){d.push($(a[b]).data("id"))}Tools.prompt(M.CANCEL_SCHEDULED,M.CONFIRM_SCHEDULED,function(){var g=c.data("id");Tools.makeWebsiteRequest({action:"cancelBooking",method:"post",data:{id:g,ids:JSON.stringify(d)},onOk:function(){Tools.showAutohideMessage(5000,"Event deleted");f()}})})}};WebPlatform.Widgets.Booking=function(E){if(!E.container||!E.container.length||E.container[0].offsetParent===null){return null}var j={};var al=[];var ak,ag,r;var W,v,c;var R=E.container;var aa=R.find(".booking-datepicker");var ae=R.find(".time-select");var Z=R.find(".calendar-section");var a=R.find(".form-section");var n=R.find(".confirmation-section");var l=R.find(".selected-date-label");var P=R.find(".selected-time-label");var ab=R.find(".service-section");var X=R.find(".operator-section");var I=R.find(".selected-service-name");var z=R.find(".selected-operator-name");var o=R.find(".submit-button");var h,m;var f,q;var t,O;var af=false;var g=0;var ad=function(){ak=E.booking||null;if(ak===null){return}if(!!E.preview){ak.name=encodeURIComponent(ak.name);ak.location=encodeURIComponent(ak.location);ak.description=encodeURIComponent(ak.description)}var ao=function(){var aq=[];var ap=[];(ak.operators||[]).forEach(function(ar){aq.push(ar.id);if(ar.services&&ar.services.length){Array.prototype.push.apply(ap,ar.services)}});WebPlatform.makeClientWebsiteRequest({action:"getBookingOperatorsAndServices",data:{operators:JSON.stringify(aq),services:JSON.stringify(ap)},onOk:function(ar){var at=ar.data;ag=at.operators;r=at.services;if((ag||[]).length===0){R.find('[data-role="no-operators"]').removeClass("none");return}G()}})};if(window.ClientTools){var an=2;ClientTools.requestResource(resources+"/scripts/jquery-ui.min.js?v="+resourcesVersion,resources+"/styles/jquery-ui.min.css?v="+resourcesVersion,function(){return !!$.datepicker},function(){--an;if(an===0){ao()}});ClientTools.requestResource(resources+"/scripts/external/jstz.js",null,function(){return !!window.jstz},function(){--an;if(an===0){ao()}})}else{ao()}};var ac=function(an){if(t){an();return}WebPlatform.makeClientWebsiteRequest({action:"listTimezones",onOk:function(ao){if(!ao.data){return}t=ao.data;an()}})};var aj=function(ap){var at=[WebPlatform.Phrases["label.jan"],WebPlatform.Phrases["label.feb"],WebPlatform.Phrases["label.mar"],WebPlatform.Phrases["label.apr"],WebPlatform.Phrases["label.may_short"],WebPlatform.Phrases["label.jun"],WebPlatform.Phrases["label.jul"],WebPlatform.Phrases["label.aug"],WebPlatform.Phrases["label.sep"],WebPlatform.Phrases["label.oct"],WebPlatform.Phrases["label.nov"],WebPlatform.Phrases["label.dec"]];var au=[WebPlatform.Phrases["label.sunday_short"],WebPlatform.Phrases["label.monday_short"],WebPlatform.Phrases["label.tuesday_short"],WebPlatform.Phrases["label.wednesday_short"],WebPlatform.Phrases["label.thursday_short"],WebPlatform.Phrases["label.friday_short"],WebPlatform.Phrases["label.saturday_short"]];var ar=ap.getDate();var ao=ap.getMonth();var aq=ap.getFullYear();var an=ap.getDay();return au[an]+", "+at[ao]+" "+ar+" "+aq};var i=function(an,ao){return'<li><a data-action="selectService" data-id="%id%">'+(an?'<span class="service-img" style="background-image: url(%img%);"></span><div>':"<div>")+'<span class="option-title">%title%</span><span class="option-desc">%duration%</span>'+(ao?'<span class="option-desc">%description%</span>':"")+"</div></a></li>"};var s=function(an,ao){return'<li><a data-action="selectOperator" data-id="%id%">'+(an?'<span class="operator-img" style="background-image: url(%img%);"></span><div>':"<div>")+'<span class="option-title">%title%</span>'+(ao?'<span class="option-desc">%description%</span>':"")+"</div></a></li>"};var J=function(ap,ao){for(var an=0;an<ao.length;an++){if(ao[an].id===parseInt(ap)){return ao[an]}}return null};var e=function(ao,ap){if(W&&v){var an=new Date(ao,ap-1,1);ah(an,"onChangeMonth",null,false)}};var D=function(){var an=aa.datepicker("getDate");V(j[d(an)],an);l.text(aj(an));S()};var H=function(an,ao){ao=(ao!=null)?ao:true;return an.getFullYear()+"-"+("0"+(an.getMonth()+1)).slice(-2)+"-"+("0"+an.getDate()).slice(-2)+(ao?"T00:00:00.000Z":"")};var B=function(ap){var ar=ap.split(":");var an=parseInt(ar[0]);var aq=parseInt(ar[1]);var ao=an>=12?"PM":"AM";an=an%12||12;an=("0"+an).slice(-2);aq=("0"+aq).slice(-2);return an+":"+aq+" "+ao};var d=function(an){return W+"-"+v+"_"+an.getFullYear()+"-"+an.getMonth()};var x=function(){if(v!==-1){return J(v,r).duration}if(ak.autoAssign){return ak.operators[0].duration}return J(W,ak.operators).duration};var N=function(av,au){var at=WebPlatform.dateFormat==="dd/mm/yy";var ap=av.split(" ");var ar=ap[0].split(":");var ao=parseInt(ar[0]);var aq=parseInt(ar[1]);var an=ap[1];aq=parseInt(aq)+au;if(aq>=60){ao=Math.floor(aq/60)+ao;aq%=60;if(!at&&(ao===12||(ao>12&&parseInt(ar[0])<12))){an=(an==="AM")?"PM":"AM"}}if(!at&&ao>12){ao%=12}return av+" - "+("0"+ao).slice(-2)+":"+("0"+aq).slice(-2)+" "+(!at?an:"")};var w=function(an){for(var ao in an){if(an.hasOwnProperty(ao)){return false}}return JSON.stringify(an)===JSON.stringify({})};var b=function(){ac(function(){var ao=R.find(".timezone-popup");var an=ao.find(".tz-select");an.empty();var ap;t.forEach(function(aq){ap=(O===aq.id)?"class='selected'":"";an.append("<li "+ap+' data-id="'+aq.id+'">'+aq.name+"</option>")});WebPlatform.Popups.showSimplePopup(ao.html(),500,function(ar,au){R.find(".timezone-popup").show();var aq=au.find(".tz-select");aq.find(".selected")[0].scrollIntoView();aq.on("click","li",function(){O=$(this).data("id");R.find('span[data-role="current-timezone"]').text($(this).text());j={};ah(aa.datepicker("getDate"));ar.close()});var at=au.find("[name='tz-search']");at.focus();at.on("keyup",function(){var av=at.val();y(av,aq)})})})};var y=$.debounce(250,function(ap,an){var ao=an.find("li");ao.removeClass("none");$.each(ao,function(aq,ar){var at=$(ar);if(at.text().toLowerCase().indexOf(ap.toLowerCase())===-1){at.addClass("none")}})});var am=function(){var an=R.find('span[data-role="current-timezone"]');try{var ap=new Date().toString().split(" ").splice(5);var ar=ap.splice(0,1)[0]||"";if(ar){ar=" ("+ar.substr(0,ar.length-2)+":"+ar.substr(-2)+")"}var ao=((ap.join(" ")||"").replace(/[()]/g,""))||"Times in";an.text(ao+ar)}catch(aq){Log.error(aq);var at=window.jstz?jstz.determine().name():"Times in GMT";an.text(at)}};var G=function(){ak.name=decodeURIComponent(ak.name);ak.description=!!ak.description?WebPlatform.escapeHtml(decodeURIComponent(ak.description)):"";ak.location=!!ak.location?decodeURIComponent(ak.location):"";R.find(".booking-name-label").text(ak.name);R.find(".book-description").html(ak.description.replace(/\n/g,"<br />"));if(window.ClientTools){var an=R.find(".widget-form");ClientTools.setupFormFields(an);var ao=an.find(".recaptcha-target");af=ao.length>0;if(af){ClientTools.setupRecaptcha({ui:ao,button:o})}}aa.datepicker({firstDay:window.weekStartsAtMonday?1:0,minDate:new Date(),maxDate:"+15m",onSelect:D,onChangeMonthYear:e,beforeShowDay:function(ap){if(al.indexOf(H(ap,false))!==-1){return[true,""]}return[false,""]},monthNames:[WebPlatform.Phrases["label.january"],WebPlatform.Phrases["label.february"],WebPlatform.Phrases["label.march"],WebPlatform.Phrases["label.april"],WebPlatform.Phrases["label.may"],WebPlatform.Phrases["label.june"],WebPlatform.Phrases["label.july"],WebPlatform.Phrases["label.august"],WebPlatform.Phrases["label.september"],WebPlatform.Phrases["label.october"],WebPlatform.Phrases["label.november"],WebPlatform.Phrases["label.december"]],dayNamesMin:[WebPlatform.Phrases["label.sunday_min"],WebPlatform.Phrases["label.monday_min"],WebPlatform.Phrases["label.tuesday_min"],WebPlatform.Phrases["label.wednesday_min"],WebPlatform.Phrases["label.thursday_min"],WebPlatform.Phrases["label.friday_min"],WebPlatform.Phrases["label.saturday_min"]]});if(ak.location===""){R.find(".event-location").hide()}else{R.find(".event-location").show();R.find(".location").text(ak.location)}if(ak.autoAssign){R.find(".operator").hide()}l.text(aj(aa.datepicker("getDate")));ae.on("click","li",function(){var ap=$(this);ae.find("li").removeClass("active");ap.addClass("active");c=ap.data("time");P.text(N(ap[0].childNodes[0].nodeValue,x()));L();p()});am();R.find(".back-button").click(K);R.find(".change-timezone").click(b);R.find('[data-role="hide-time"]').click(L);O=window.jstz?jstz.determine().name():"UTC";if(E.startWith==="service"){f=[ab,X,Z,a,n];k();return}f=[X,ab,Z,a,n];ai()};var S=function(){Z.addClass("date-selected")};var L=function(){Z.removeClass("date-selected")};var K=function(){L();var an=f.indexOf(q);if(an===-1){f.unshift((E.startWith==="service"?ab:X),q);an=f.indexOf(q)}q.addClass("none");q=f[an-1];q.removeClass("none");A()};var A=function(){var ao=f.indexOf(q)+1;var an=f.length-1;var ap=R.find(".form-progress-wrapper");ap.find("span").text(ao+" of "+an);ap.find(".success-bar").css("width",(ao/an*100)+"%")};var k=function(){var av={};if(ak.autoAssign||E.startWith==="service"){for(var au=0;au<ak.operators.length;au++){for(var ar=0;ar<ak.operators[au].services.length;ar++){if(!av[ak.operators[au].services[ar]]){var ap=ak.operators[au].services[ar];var ao=J(ap,r);if(ao){av[ap]=ao}}}}}else{var aq=J(W,ak.operators);for(var au=0;au<aq.services.length;au++){if(!av[aq.services[au]]){var ap=aq.services[au];var ao=J(ap,r);if(ao){av[ap]=ao}}}}m=Object.keys(av).length;if(m<=1){var an=f.indexOf(ab);if(an!==-1){f.splice(an,1)}if(m===1){C(Object.keys(av)[0])}else{if(m===0){C(-1)}}A();return}var at=ab.find('ul[data-role="service-select"]');at.empty();ab.removeClass("none");q=ab;if(f[0]===q){ab.find(".back-button").hide()}$.each(av,function(ay,aw){var ax=aw.image?getThumbnailsFromBase(aw.imageBase,"160x120")+aw.image:"";at.append(WebPlatform.escapeFormat(i(!!ax,!!aw.description),"id",ay,"title",aw.name,"duration",aw.duration+" min","img",ax,"description",aw.description))});at.on("click",'a[data-action="selectService"]',function(){var aw=$(this);aw.parent("li").siblings("li").find("a").removeClass("active");aw.addClass("active");C(aw.data("id"))});A()};var C=function(ao){ab.addClass("none");v=parseInt(ao);g=0;if(v!==-1){var an=J(v,r);I.text(an.name)}else{I.text(ak.name)}if(E.startWith==="service"){ai();return}ah()};var ai=function(){if(ak.autoAssign){var an=f.indexOf(X);if(an!==-1){f.splice(an,1)}u(-1);A();return}var aq={};if(E.startWith==="service"){for(var ao=0;ao<ak.operators.length;ao++){if((v>0&&ak.operators[ao].services.indexOf(v)!==-1)||(v===-1&&ak.operators[ao].services.length===0)){var ar=ak.operators[ao].id;if(!aq[ar]){aq[ar]=J(ar,ag)}}}}else{for(var ao=0;ao<ak.operators.length;ao++){if(!aq[ak.operators[ao].id]){var ar=ak.operators[ao].id;aq[ak.operators[ao].id]=J(ar,ag)}}}h=Object.keys(aq).length;var ap=X.find('ul[data-role="operator-select"]');ap.empty();if(h>1){X.removeClass("none");q=X;if(f[0]===q){X.find(".back-button").hide()}$.each(aq,function(av,au){if(au==null){return}var at=au.image?getThumbnailsFromBase(au.imageBase,"160x120")+au.image:"";ap.append(WebPlatform.escapeFormat(s(!!at,!!au.description),"id",av,"title",au.name,"description",au.description||"","img",at))});ap.on("click",'a[data-action="selectOperator"]',function(){var at=$(this);at.parent("li").siblings("li").find("a").removeClass("active");at.addClass("active");u(at.data("id"))})}else{var an=f.indexOf(X);if(an!==-1){f.splice(an,1)}u(Object.keys(aq)[0])}A()};var u=function(ao){X.addClass("none");W=parseInt(ao);g=0;if(!ak.autoAssign){var an=J(W,ag);if(an==null){return}z.text(an.name)}if(E.startWith==="service"){ah();return}k()};var ah=function(ao,ap,at,an){an=isUndefined(an)?true:an;ao=ao||new Date();at=at||dummy;Z.removeClass("none");q=Z;if(f[0]===q){Z.find(".back-button").hide()}var ar=d(ao);if(!j.hasOwnProperty(ar)){var aq={bookingId:ak.id,operatorId:W,serviceId:v,startDate:H(ao,false),endDate:H(new Date(ao.getFullYear(),ao.getMonth()+1,0),false),timeZone:O};WebPlatform.makeClientWebsiteRequest({action:"getAvailableDates",data:{data:JSON.stringify(aq)},onOk:function(au){j[ar]=au.data;F(j[ar]);ao=U(j[ar],ao,w(au.data),ap);if(!ap&&w(au.data)){ah(ao,ap,at,an)}V(j[ar],ao);at()}})}else{F(j[ar]);ao=U(j[ar],ao,an);V(j[ar],ao);at()}A()};var F=function(an){al=Object.keys(an);aa.datepicker("refresh")};var U=function(ar,av,au,ao){if(ao==="onChangeMonth"){return av}var an=[];for(var ap in ar){if(ar.hasOwnProperty(ap)){an.push(ap)}}if(!au&&an.length===0){return av}var aw;if(an.length===0){if(++g%6===0){aa.datepicker("setDate",av);l.text(aj(av));return av}if(av.getMonth()===11){return new Date(av.getFullYear()+1,0,1)}return new Date(av.getFullYear(),av.getMonth()+1,1)}an.sort();for(var at=0;at<an.length;at++){aw=new Date(av.getTime());var aq=an[at].split("-");aw.setFullYear(aq[0]);aw.setMonth(parseInt(aq[1])-1);aw.setDate(aq[2]);if(aw.getMonth()===av.getMonth()){aa.datepicker("setDate",aw);l.text(aj(aw));break}}return aw};var V=function(ap,an){if(an==null){return}ae.empty();var ao=WebPlatform.dateFormat==="dd/mm/yy";$.each(ap[H(an,false)],function(aq,au){var at=ao?au.time:B(au.time);var ar=!!au.data?"<span>"+au.data+" "+WebPlatform.Phrases["label.slots_left"]+"</span>":"";ae.append("<li data-time='"+au.time+"'>"+at+ar+"</li>")})};var p=function(){var an=[];if(!W){an.push("Please select operator.")}if(!v){an.push("Please select service.")}if(!aa.datepicker("getDate")){an.push("Please select date.")}if(!c){an.push("Please select time.")}if(an.length>0){WebPlatform.showClientError(an.join("<br>"),5000);return}Z.addClass("none");a.removeClass("none");q=a;o.off("click");o.click(function(){Q()});A()};var Y=function(){if(af&&window.ClientTools){ClientTools.resetRecaptcha(R,o)}};var Q=function(){if(o.hasClass("disabled")){return}var au=n.find(".call-to-action.button");au.addClass("none");if(ak.confirmation.title||!!ak.confirmation.buttonText){var aq=ak.confirmation;if(!!aq.title){n.find(".confirmation-title").text(aq.title)}if(!!aq.description){n.find(".confirmation-description").html(WebPlatform.escapeHtml(aq.description).replace(/\n/g,"<br />"))}if(aq.buttonLink){au.removeClass("none");au.attr("href",aq.buttonLink);au.find(".cta-text").text(aq.buttonText)}}var an=R.find(".widget-form .form-field").not('[data-type="section"]');var ap=ClientTools.readFormFields(an);if(ap.hasErrors){return}var ao=H(aa.datepicker("getDate"),false);var ar={id:ak.id,operatorId:W,serviceId:v,date:ao,time:c,timeZone:O};var av=R.find('input[name="formid"]').val();var at={action:"reserveBooking",method:"post",data:{data:JSON.stringify(ar),values:ap.values,form:av},onOk:function(ax){WebPlatform.Events.trigger(R,WebPlatform.Events.FORM_SUBMITTED,{formId:av,values:ap.values,uid:ax.uid});R.find(".field-with-error").removeClass("field-with-error");if(ax.data&&ax.data.errors){var az=ax.data.errors;Y();if(az==="existing"){ClientTools.showMessageBox(WebPlatform.Phrases["label.contact_booked_error"],Z,"before",true,10000);return}if(az==="notice"){ClientTools.showMessageBox(WebPlatform.Phrases["label.booking_notice_error"],Z,"before",true,10000);return}if(az==="booked"){ClientTools.showMessageBox(WebPlatform.Phrases["label.already_booked_time_error"],Z,"before",true,10000);K();return}for(var aw=0;aw<az.length;++aw){if(az[aw]){an.eq(aw).addClass("field-invalid")}}return}a.addClass("none");WebPlatform.lastFormParams=params="name="+encodeURIComponent(ak.name)+"&desc="+encodeURIComponent(ak.description)+"&date="+encodeURIComponent(ar.date)+"&time="+encodeURIComponent(ar.time);if(ak.confirmation&&ak.confirmation.link){var ay=ak.confirmation.link.toLowerCase().trim().indexOf("javascript:")!==0;if(ay){window.location.href=ak.confirmation.link+(ak.confirmation.link.indexOf("?")<0?"?":"&")+params}else{window.location.href=ak.confirmation.link}return}if(ak.confirmation&&Object.keys(ak.confirmation).length===0){n.find(".call-to-action.button").hide()}R.find(".call-to-action2").click(function(){WebPlatform.makeClientWebsiteRequest({action:"getBookingIcs",method:"get",data:{id:ax.data.id,timeZone:O},onOk:function(aA){var aB=document.createElement("a");aB.download="event.ics";var aC=new Blob([aA.data],{type:"text/plain;charset=UTF-8",encoding:"UTF-8"});aB.href=window.URL.createObjectURL(aC);aB.click()}})});n.removeClass("none")},onNotOk:function(aw){Y();ClientTools.showMessageBox(aw.message,o,"after",true,10000)}};if(ap.file){WebPlatform.makeClientWebsiteRequestWithFile(at,ap.file)}else{WebPlatform.makeClientWebsiteRequest(at)}};return{_init:function(){ad();delete this._init;return this}}._init()};var CSVContactsImporter=function(){var n=-1;var h=",";var o;var b=function(r,q){if(!isUndefined(r)){n=r}o=q||dummy;Tools.showWindow({noTitle:true,isModal:true,width:500,markup:Templates.get("importContactsWelcome"),action:{onShow:function(s,t){t.find(".big-button.blue").click(function(){if(!t.find("#agree").is(":checked")){Tools.showError(M.IMPORT_AGREE_ERROR);return}var u=t.find('[name="csv"]');u.on("change",function(w){if(u.length===0||u[0].files.length===0||u[0].files[0].size===0){Tools.showError(M.EMPTY_CSV);return}var v=u[0].files[0];if(!(v.name||"").toLowerCase().endsWith(".csv")){Tools.showError("Please select a CSV file");return}l(v);s.close()});u.trigger("click")})}}})};var l=function(r){var q;var v;var t;var s=[Button(M.NEXT,Button.CLASS_MIDDLE_BLUE,function(x,y){var w=d(y);var A=g(w);var z=q.is(":checked");if(A.indexOf("email")===-1){Tools.showError(M.MISSING_EMAIL_FIELD);return}if(A.indexOf("")!==-1){Tools.prompt(M.WARNING,M.NON_MAPPED_CHECK,function(){e(w,r,z,function(){x.close();o()})})}else{e(w,r,z,function(){x.close();o()})}}),Button.MIDDLE_CLOSE];var u=function(x,A){var w=Math.min(x.length,3);var B=[];for(var z=0;z<w;z++){B.push(x[z])}var y=new Blob(B).size/w;return Math.round(A.size/y)};Tools.showWindow({noTitle:true,isModal:true,width:850,buttons:s,markup:Templates.get("importContactsMain"),action:{onShow:function(x,y){var z=y.find(".button-wrapper");q=y.find("#includeHeader");z.hide();var w=new FileReader();w.onload=function(){v=w.result;var B=i(v,y,q.is(":checked"));z.show()};var A=r.slice(0,5*1024);w.readAsText(A);q.on("change",function(){var C=q.is(":checked");var D=d(y);var B=i(v,y,C);k(y,D);if(!C){y.find("th.title").hide();y.find("td.title").hide()}else{y.find("th.title").show();y.find("td.title").show()}})}}})};var i=function(s,r,u){var y=Templates.get("importContactsRow");var z=s.split(/[\n\r]+/g);h=j(z)||",";var t=z[0].split(h);var w=f(s,h);if(u){w.splice(0,1)}if(w.length>3){w=w.slice(0,3)}var x=c();var q=r.find("tbody");var v=0;q.empty();t.forEach(function(C){if(C===""){return}if(p(C)){C=C.replace(/"/g,"")}var E=a(C,x);var D=$(escapeFormat(y,"field",C));var A=D.find("select");A.prop("name",v);A.append(E.template);A.on("change",function(){var F=$(this).parents("tr");F.find('[data-role="status-icon"]').removeClass("none")});var B="";w.forEach(function(F){B+=(F[v]||"-")+"<br />"});++v;D.find(".sample").append(B);if(E.autoSelected){D.find('[data-role="status-icon"]').removeClass("none")}q.append(D)});return z};var e=function(q,r,s,u){var t={hasHeader:s,fields:JSON.stringify(q),separator:h,listId:n};Tools.makeWebsiteRequestWithFile({action:"importContacts",method:"post",data:t,onOk:function(v){Website.activeImports=Website.activeImports||[];Website.activeImports.push("CONTACTS");WebComponents.State().set(Website);Tools.showWindow({noNav:true,noTitle:true,width:500,withDarkBackground:true,isModal:false,showCloseButton:true,markup:format(Templates.get("confirmationMessage"),"message",M.IMPORT_IN_PROGRESS)});u()}},r)};var d=function(s){var r=s.find("select");var q={};$.each(r,function(u,t){var v=t.name;q[v]=$(t).val()});return q};var k=function(q,r){$.each(r,function(t,u){var s=q.find('select[name="'+t+'"]');s.val(u);if(u!==""){s.parents("tr").find('[data-role="status-icon"]').removeClass("none")}})};var g=function(r){var q=[];$.each(r,function(s,t){q.push(t)});return q};var c=function(){var q=$.extend(true,[],Website.crmProperties);q.push({name:"tags",label:M.TAGS});q.push({name:"create_member",label:M.CREATE_MEMBER});q.push({name:"member_password",label:M.MEMBER_PASSWORD});q.push({name:"member_groups",label:M.MEMBER_GROUPS});q.unshift({name:"",label:M.SELECT_PROPERTY},{name:"skip",label:M.SKIP});return q};var a=function(v,s){if(v===""){return}var r=function(w){return w.toLowerCase().trim().replace(/([^a-z])/g,"")};var u={name:["fullname","firstname"],address:["addr"],companyname:["company"],membergroups:["groups","group","membergroup"],createmember:["member","newmember","ismember","makemember","registered","register","isregistered","isregister"],tags:["tag"]};v=r(v);var t="";var q=false;s.forEach(function(z){var x=r(z.name);var w=r(z.label);var y=v===x||v===w;if(!y){y=(u[x]||u[w]||[]).indexOf(v)>-1}q=q||y;t+='<option value="'+z.name+'"'+(y?' selected="selected"':"")+">"+z.label+"</option>"});return{template:t,autoSelected:q}};var p=function(q){return m(q,'"')||m(q,"'")};var m=function(q,r){var t=false;if(q[0]!==r){return false}if(q[q.length-1]!==r){return false}for(var s=1;s<q.length-1;s++){if(q[s]===r){t=!t}else{if(t){return false}}}return !t};var j=function(r){if(r.length===0){return null}var u=/[,;|\t]/g;var w=[];r.forEach(function(y){w=w.concat((y||"").match(u))});if(w.length===0){return null}var x={};var q=w[0],v=1;for(var s=0;s<w.length;s++){var t=w[s];if(x[t]==null){x[t]=1}else{x[t]++}if(x[t]>v){q=t;v=x[t]}}return q};function f(u,w){w=w||",";var v=new RegExp(("(\\"+w+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+w+"\\r\\n]*))"),"gi");var r=[[]];var t=null;while(t=v.exec(u)){var q=t[1];if(q.length&&q!==w){r.push([])}var s;if(t[2]){s=t[2].replace(new RegExp('""',"g"),'"')}else{s=t[3]}r[r.length-1].push(s)}return r}return{start:b}};
